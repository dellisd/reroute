/*! For license information please see web.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.web=e():t.web=e()}(this,(function(){return(()=>{var __webpack_modules__={439:(t,e,n)=>{"use strict";n.d(e,{Z:()=>mt});var i=n(7796),r=n.n(i),o=n(1051),s=n.n(o),a=n(2629),u=n.n(a),l=new URL(n(4669),n.b),c=new URL(n(8941),n.b),h=new URL(n(5105),n.b),p=new URL(n(6137),n.b),_=new URL(n(7052),n.b),f=new URL(n(1690),n.b),d=new URL(n(4862),n.b),m=new URL(n(3121),n.b),y=new URL(n(3954),n.b),v=new URL(n(3947),n.b),g=new URL(n(9633),n.b),w=new URL(n(5440),n.b),b=new URL(n(4425),n.b),x=new URL(n(6352),n.b),$=new URL(n(9813),n.b),C=new URL(n(5834),n.b),E=new URL(n(1570),n.b),A=new URL(n(583),n.b),k=new URL(n(662),n.b),S=new URL(n(1546),n.b),T=new URL(n(8684),n.b),I=new URL(n(854),n.b),O=new URL(n(2380),n.b),z=new URL(n(8299),n.b),M=new URL(n(3239),n.b),D=new URL(n(2905),n.b),R=new URL(n(9479),n.b),P=new URL(n(1918),n.b),j=new URL(n(9504),n.b),N=new URL(n(4350),n.b),L=s()(r()),q=u()(l),B=u()(c),F=u()(h),U=u()(p),H=u()(_),V=u()(f),Y=u()(d),W=u()(m),G=u()(y),Z=u()(v),K=u()(g),X=u()(w),J=u()(b),Q=u()(x),tt=u()($),et=u()(C),nt=u()(E),it=u()(A),rt=u()(k),ot=u()(S),st=u()(T),at=u()(I),ut=u()(O),lt=u()(z),ct=u()(M),ht=u()(D),pt=u()(R),_t=u()(P),ft=u()(j),dt=u()(N);L.push([t.id,".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer;overflow:hidden}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("+q+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("+B+")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("+F+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("+U+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("+H+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("+V+")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("+Y+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("+W+")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("+G+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("+Z+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("+K+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("+X+")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("+J+")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("+Q+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("+tt+")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("+et+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("+nt+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("+it+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("+rt+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("+ot+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("+st+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("+at+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("+ut+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("+it+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("+rt+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("+ot+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("+st+")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("+lt+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("+ct+")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("+ht+")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("+pt+")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("+_t+")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("+ft+");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("+dt+")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("+ft+')}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:"";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;justify-content:center;text-align:center;position:absolute;display:flex;align-items:center;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);opacity:0;pointer-events:none;transition:opacity .75s ease-in-out;transition-delay:1s}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}',"",{version:3,sources:["webpack://./../../node_modules/mapbox-gl/dist/mapbox-gl.css"],names:[],mappings:"AAAA,cAAc,wDAAwD,CAAC,eAAe,CAAC,iBAAiB,CAAC,yCAAyC,CAAC,iBAAiB,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,UAAU,CAAC,WAAW,CAAC,iBAAiB,uBAAuB,CAAC,kGAAkG,WAAW,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,uEAAuE,cAAc,CAAC,gHAAgH,eAAe,CAAC,6HAA6H,wBAAwB,CAAC,uHAAuH,uBAAuB,CAAC,6KAA6K,iBAAiB,CAAC,wGAAwG,iBAAiB,CAAC,mBAAmB,CAAC,SAAS,CAAC,wBAAwB,KAAK,CAAC,MAAM,CAAC,yBAAyB,KAAK,CAAC,OAAO,CAAC,2BAA2B,QAAQ,CAAC,MAAM,CAAC,4BAA4B,OAAO,CAAC,QAAQ,CAAC,eAAe,UAAU,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,uCAAuC,oBAAoB,CAAC,UAAU,CAAC,wCAAwC,oBAAoB,CAAC,WAAW,CAAC,0CAA0C,oBAAoB,CAAC,UAAU,CAAC,2CAA2C,oBAAoB,CAAC,WAAW,CAAC,qBAAqB,iBAAiB,CAAC,eAAe,CAAC,iCAAiC,mCAAmC,CAAC,kCAAkC,iCAAiC,+BAA+B,CAAC,CAAC,4BAA4B,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,cAAc,CAAC,eAAe,CAAC,mCAAmC,yBAAyB,CAAC,0CAA0C,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,2BAA2B,CAAC,uBAAuB,CAAC,kCAAkC,oBAAoB,4BAA4B,CAAC,mCAAmC,+BAA+B,CAAC,CAAC,qEAAqE,8BAA8B,CAAC,+BAA+B,kBAAkB,CAAC,mDAAmD,WAAW,CAAC,2CAA2C,gCAAgC,CAAC,gDAAgD,8BAA8B,CAAC,sDAAsD,eAAe,CAAC,8CAA8C,yBAAyB,CAAC,6CAA6C,yBAAyB,CAAC,6CAA6C,qBAAqB,CAAC,iEAAiE,wDAA+Q,CAAC,gEAAgE,wDAAiX,CAAC,kCAAkC,iEAAiE,wDAA+Q,CAAC,gEAAgE,wDAAiX,CAAC,CAAC,0CAA0C,iEAAiE,wDAA+Q,CAAC,gEAAgE,wDAAiX,CAAC,CAAC,mEAAmE,wDAA2c,CAAC,+DAA+D,wDAAoc,CAAC,kCAAkC,mEAAmE,wDAA2c,CAAC,+DAA+D,wDAAkd,CAAC,CAAC,0CAA0C,mEAAmE,yDAA2c,CAAC,+DAA+D,yDAAkd,CAAC,CAAC,gEAAgE,yDAA4Q,CAAC,kCAAkC,gEAAgE,yDAA4Q,CAAC,CAAC,0CAA0C,gEAAgE,yDAA4Q,CAAC,CAAC,kEAAkE,yDAA2f,CAAC,2EAA2E,yDAAuf,CAAC,iGAAiG,yDAA8f,CAAC,uGAAuG,yDAA8f,CAAC,qGAAqG,yDAA6gB,CAAC,2GAA2G,yDAA6gB,CAAC,kGAAkG,0CAA0C,CAAC,kCAAkC,kEAAkE,yDAA2f,CAAC,2EAA2E,yDAAuf,CAAC,iGAAiG,yDAA8f,CAAC,uGAAuG,yDAA8f,CAAC,qGAAqG,yDAA6gB,CAAC,2GAA2G,yDAA6gB,CAAC,CAAC,0CAA0C,kEAAkE,yDAA2f,CAAC,2EAA2E,yDAAuf,CAAC,CAAC,yBAAyB,GAAG,sBAAsB,CAAC,GAAG,uBAAuB,CAAC,CAAC,qBAAqB,UAAU,CAAC,WAAW,CAAC,oBAAoB,CAAC,aAAa,CAAC,2BAA2B,CAAC,cAAc,CAAC,eAAe,CAAC,yDAAwoG,CAAC,sCAAsC,UAAU,CAAC,kCAAkC,qBAAqB,4BAA4B,CAAC,yDAAooG,CAAC,CAAC,0CAA0C,qBAAqB,yDAAkpG,CAAC,CAAC,oCAAoC,aAAa,CAAC,mCAAmC,CAAC,QAAQ,CAAC,cAAc,uCAAuC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,4CAA4C,wBAAwB,CAAC,kBAAkB,CAAC,2IAA2I,wBAAwB,CAAC,kBAAkB,CAAC,mEAAmE,YAAY,CAAC,6BAA6B,YAAY,CAAC,cAAc,CAAC,iBAAiB,CAAC,yDAAqS,CAAC,mCAAmC,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,6GAA6G,MAAM,CAAC,4IAA4I,aAAa,CAAC,yEAAyE,gCAAgC,CAAC,yEAAyE,QAAQ,CAAC,OAAO,CAAC,sEAAsE,KAAK,CAAC,OAAO,CAAC,qEAAqE,KAAK,CAAC,MAAM,CAAC,wEAAwE,QAAQ,CAAC,MAAM,CAAC,CAAC,6CAA6C,6CAA6C,yDAAmT,CAAC,CAAC,qDAAqD,6CAA6C,yDAAqS,CAAC,CAAC,wBAAwB,qBAAqB,CAAC,oBAAoB,CAAC,8BAA8B,aAAa,CAAC,yBAAyB,CAAC,0CAA0C,eAAe,CAAC,eAAe,CAAC,uBAAuB,YAAY,CAAC,qBAAqB,oCAAoC,CAAC,cAAc,CAAC,qBAAqB,CAAC,eAAe,CAAC,aAAa,CAAC,UAAU,CAAC,qBAAqB,CAAC,gBAAgB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,4FAA4F,qBAAqB,CAAC,qGAAqG,6BAA6B,CAAC,4BAA4B,kBAAkB,CAAC,6BAA6B,0BAA0B,CAAC,oBAAoB,OAAO,CAAC,QAAQ,CAAC,6BAA6B,CAAC,SAAS,CAAC,+CAA+C,iBAAiB,CAAC,eAAe,CAAC,wBAAwB,CAAC,oDAAoD,qBAAqB,CAAC,eAAe,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qDAAqD,mBAAmB,CAAC,eAAe,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,kDAAkD,iBAAiB,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,uDAAuD,qBAAqB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,wDAAwD,mBAAmB,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,gDAAgD,iBAAiB,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,iDAAiD,iBAAiB,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,6BAA6B,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,cAAc,CAAC,4BAA4B,CAAC,mCAAmC,gCAAgC,CAAC,wBAAwB,iBAAiB,CAAC,eAAe,CAAC,iBAAiB,CAAC,mCAAmC,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,wDAAwD,wBAAwB,CAAC,yDAAyD,yBAAyB,CAAC,2DAA2D,2BAA2B,CAAC,4DAA4D,4BAA4B,CAAC,8BAA8B,YAAY,CAAC,gCAAgC,mBAAmB,CAAC,gBAAgB,CAAC,kDAAkD,YAAY,CAAC,mDAAmD,YAAY,CAAC,iBAAiB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,sBAAsB,CAAC,+DAA+D,wBAAwB,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,mCAAmC,UAAU,CAAC,iBAAiB,CAAC,sDAAsD,CAAC,kCAAkC,iBAAiB,CAAC,qBAAqB,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAqB,CAAC,kCAAkC,CAAC,qEAAqE,OAAO,CAAC,QAAQ,CAAC,uJAAuJ,UAAU,CAAC,iCAAiC,CAAC,iBAAiB,CAAC,4EAA4E,mCAAmC,CAAC,yCAAyC,CAAC,2EAA2E,oCAAoC,CAAC,6CAA6C,CAAC,4CAA4C,GAAG,kBAAkB,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,SAAS,CAAC,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC,kCAAkC,qBAAqB,CAAC,wCAAwC,YAAY,CAAC,wCAAwC,oCAAoC,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,+GAA+G,gBAAgB,CAAC,kBAAkB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,yBAAyB,CAAC,UAAU,CAAC,aAAa,oBAAoB,YAAY,CAAC,CAAC,0DAA0D,UAAU,CAAC,gFAAgF,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC,yBAAyB,CAAC,SAAS,CAAC,mBAAmB,CAAC,mCAAmC,CAAC,mBAAmB,CAAC,oEAAoE,SAAS,CAAC,kCAAkC,CAAC,iMAAiM,wBAAwB",sourcesContent:[".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer;overflow:hidden}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='0.9' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23000'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:\"\";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;justify-content:center;text-align:center;position:absolute;display:flex;align-items:center;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);opacity:0;pointer-events:none;transition:opacity .75s ease-in-out;transition-delay:1s}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}"],sourceRoot:""}]);const mt=L},2135:(t,e,n)=>{"use strict";function i(t,e,n){function i(t){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,e&&e.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return void 0===n&&(n=Error),i.prototype=Object.create(n.prototype),i.prototype.name=t,i.prototype.constructor=i,i}n.r(e),n.d(e,{ArithmeticException:()=>a,ChronoField:()=>T,ChronoLocalDate:()=>Y,ChronoLocalDateTime:()=>le,ChronoUnit:()=>A,ChronoZonedDateTime:()=>ie,Clock:()=>fe,DateTimeException:()=>r,DateTimeFormatter:()=>Wt,DateTimeFormatterBuilder:()=>Ft,DateTimeParseException:()=>o,DayOfWeek:()=>P,DecimalStyle:()=>vt,Duration:()=>C,IllegalArgumentException:()=>u,IllegalStateException:()=>l,Instant:()=>_e,IsoChronology:()=>ee,IsoFields:()=>rt,LocalDate:()=>ue,LocalDateTime:()=>ce,LocalTime:()=>he,Month:()=>j,MonthDay:()=>Gt,NullPointerException:()=>c,OffsetDateTime:()=>oe,OffsetTime:()=>ne,Period:()=>L,ResolverStyle:()=>F,SignStyle:()=>gt,Temporal:()=>H,TemporalAccessor:()=>O,TemporalAdjuster:()=>U,TemporalAdjusters:()=>Xt,TemporalAmount:()=>x,TemporalField:()=>k,TemporalQueries:()=>I,TemporalQuery:()=>z,TemporalUnit:()=>$,TextStyle:()=>wt,UnsupportedTemporalTypeException:()=>s,ValueRange:()=>S,Year:()=>Kt,YearConstants:()=>E,YearMonth:()=>Zt,ZoneId:()=>G,ZoneOffset:()=>Q,ZoneOffsetTransition:()=>ve,ZoneRegion:()=>Pt,ZoneRules:()=>Z,ZoneRulesProvider:()=>Rt,ZonedDateTime:()=>re,_:()=>Ie,convert:()=>Ee,nativeJs:()=>ke,use:()=>ze});var r=i("DateTimeException",(function(t,e){void 0===e&&(e=null);var n=t||this.name;null!==e&&e instanceof Error&&(n+="\n-------\nCaused by: "+e.stack+"\n-------\n"),this.message=n})),o=i("DateTimeParseException",(function(t,e,n,i){void 0===e&&(e=""),void 0===n&&(n=0),void 0===i&&(i=null);var r=t||this.name;r+=": "+e+", at index: "+n,null!==i&&i instanceof Error&&(r+="\n-------\nCaused by: "+i.stack+"\n-------\n"),this.message=r,this.parsedString=function(){return e},this.errorIndex=function(){return n}})),s=i("UnsupportedTemporalTypeException",null,r),a=i("ArithmeticException"),u=i("IllegalArgumentException"),l=i("IllegalStateException"),c=i("NullPointerException");function h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e,n){if(!t)throw n?new n(e):new Error(e)}function f(t,e){if(null==t)throw new c(e+" must not be null");return t}function d(t,e,n){if(!(t instanceof e))throw new u(n+" must be an instance of "+(e.name?e.name:e)+(t&&t.constructor&&t.constructor.name?", but is "+t.constructor.name:""));return t}function m(t){throw new TypeError('abstract method "'+t+'" is not implemented')}var y=Object.freeze({__proto__:null,assert:_,requireNonNull:f,requireInstance:d,abstractMethodFail:m}),v=9007199254740991,g=-9007199254740991,w=function(){function t(){}return t.intDiv=function(e,n){var i=e/n;return i=t.roundDown(i),t.safeZero(i)},t.intMod=function(e,n){var i=e-t.intDiv(e,n)*n;return i=t.roundDown(i),t.safeZero(i)},t.roundDown=function(t){return t<0?Math.ceil(t):Math.floor(t)},t.floorDiv=function(e,n){var i=Math.floor(e/n);return t.safeZero(i)},t.floorMod=function(e,n){var i=e-t.floorDiv(e,n)*n;return t.safeZero(i)},t.safeAdd=function(e,n){if(t.verifyInt(e),t.verifyInt(n),0===e)return t.safeZero(n);if(0===n)return t.safeZero(e);var i=t.safeToInt(e+n);if(i===e||i===n)throw new a("Invalid addition beyond MAX_SAFE_INTEGER!");return i},t.safeSubtract=function(e,n){return t.verifyInt(e),t.verifyInt(n),0===e&&0===n?0:0===e?t.safeZero(-1*n):0===n?t.safeZero(e):t.safeToInt(e-n)},t.safeMultiply=function(e,n){if(t.verifyInt(e),t.verifyInt(n),1===e)return t.safeZero(n);if(1===n)return t.safeZero(e);if(0===e||0===n)return 0;var i=t.safeToInt(e*n);if(i/n!==e||e===g&&-1===n||n===g&&-1===e)throw new a("Multiplication overflows: "+e+" * "+n);return i},t.parseInt=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e){var n=parseInt(e);return t.safeToInt(n)})),t.safeToInt=function(e){return t.verifyInt(e),t.safeZero(e)},t.verifyInt=function(t){if(null==t)throw new a("Invalid value: '"+t+"', using null or undefined as argument");if(isNaN(t))throw new a("Invalid int value, using NaN as argument");if(t%1!=0)throw new a("Invalid value: '"+t+"' is a float");if(t>v||t<g)throw new a("Calculation overflows an int: "+t)},t.safeZero=function(t){return 0===t?0:+t},t.compareNumbers=function(t,e){return t<e?-1:t>e?1:0},t.smi=function(t){return t>>>1&1073741824|3221225471&t},t.hash=function(e){if(e!=e||e===1/0)return 0;for(var n=e;e>4294967295;)n^=e/=4294967295;return t.smi(n)},t.hashCode=function(){for(var e=17,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];for(var o=0,s=i;o<s.length;o++){var a=s[o];e=(e<<5)-e+t.hash(a)}return t.hash(e)},t}();w.MAX_SAFE_INTEGER=v,w.MIN_SAFE_INTEGER=g;var b=function(){function t(t){this._name=t}var e=t.prototype;return e.equals=function(t){return this===t},e.toString=function(){return this._name},e.toJSON=function(){return this.toString()},t}(),x=function(){function t(){}var e=t.prototype;return e.get=function(t){m("get")},e.units=function(){m("units")},e.addTo=function(t){m("addTo")},e.subtractFrom=function(t){m("subtractFrom")},t}(),$=function(){function t(){}var e=t.prototype;return e.duration=function(){m("duration")},e.isDurationEstimated=function(){m("isDurationEstimated")},e.isDateBased=function(){m("isDateBased")},e.isTimeBased=function(){m("isTimeBased")},e.isSupportedBy=function(t){m("isSupportedBy")},e.addTo=function(t,e){m("addTo")},e.between=function(t,e){m("between")},t}(),C=function(t){function e(e,n){var i;return(i=t.call(this)||this)._seconds=w.safeToInt(e),i._nanos=w.safeToInt(n),i}h(e,t),e.ofDays=function(t){return e._create(w.safeMultiply(t,he.SECONDS_PER_DAY),0)},e.ofHours=function(t){return e._create(w.safeMultiply(t,he.SECONDS_PER_HOUR),0)},e.ofMinutes=function(t){return e._create(w.safeMultiply(t,he.SECONDS_PER_MINUTE),0)},e.ofSeconds=function(t,n){void 0===n&&(n=0);var i=w.safeAdd(t,w.floorDiv(n,he.NANOS_PER_SECOND)),r=w.floorMod(n,he.NANOS_PER_SECOND);return e._create(i,r)},e.ofMillis=function(t){var n=w.intDiv(t,1e3),i=w.intMod(t,1e3);return i<0&&(i+=1e3,n--),e._create(n,1e6*i)},e.ofNanos=function(t){var e=w.intDiv(t,he.NANOS_PER_SECOND),n=w.intMod(t,he.NANOS_PER_SECOND);return n<0&&(n+=he.NANOS_PER_SECOND,e--),this._create(e,n)},e.of=function(t,n){return e.ZERO.plus(t,n)},e.from=function(t){f(t,"amount"),d(t,x);var n=e.ZERO;return t.units().forEach((function(e){n=n.plus(t.get(e),e)})),n},e.between=function(t,e){f(t,"startInclusive"),f(e,"endExclusive");var n=t.until(e,A.SECONDS),i=0;if(t.isSupported(T.NANO_OF_SECOND)&&e.isSupported(T.NANO_OF_SECOND))try{var r=t.getLong(T.NANO_OF_SECOND);if(i=e.getLong(T.NANO_OF_SECOND)-r,n>0&&i<0)i+=he.NANOS_PER_SECOND;else if(n<0&&i>0)i-=he.NANOS_PER_SECOND;else if(0===n&&0!==i){var o=e.with(T.NANO_OF_SECOND,r);n=t.until(o,A.SECONDS)}}catch(t){}return this.ofSeconds(n,i)},e.parse=function(t){f(t,"text");var n=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i").exec(t);if(null!==n&&"T"===n[3]==0){var i="-"===n[1],r=n[2],s=n[4],a=n[5],u=n[6],l=n[7];if(null!=r||null!=s||null!=a||null!=u){var c=e._parseNumber(t,r,he.SECONDS_PER_DAY,"days"),h=e._parseNumber(t,s,he.SECONDS_PER_HOUR,"hours"),p=e._parseNumber(t,a,he.SECONDS_PER_MINUTE,"minutes"),_=e._parseNumber(t,u,1,"seconds"),d=null!=u&&"-"===u.charAt(0),m=e._parseFraction(t,l,d?-1:1);try{return e._create(i,c,h,p,_,m)}catch(e){throw new o("Text cannot be parsed to a Duration: overflow",t,0,e)}}}throw new o("Text cannot be parsed to a Duration",t,0)},e._parseNumber=function(t,e,n,i){if(null==e)return 0;try{return"+"===e[0]&&(e=e.substring(1)),w.safeMultiply(parseFloat(e),n)}catch(e){throw new o("Text cannot be parsed to a Duration: "+i,t,0,e)}},e._parseFraction=function(t,e,n){return null==e||0===e.length?0:(e=(e+"000000000").substring(0,9),parseFloat(e)*n)},e._create=function(){return arguments.length<=2?e._createSecondsNanos(arguments[0],arguments[1]):e._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},e._createNegateDaysHoursMinutesSecondsNanos=function(t,n,i,r,o,s){var a=w.safeAdd(n,w.safeAdd(i,w.safeAdd(r,o)));return t?e.ofSeconds(a,s).negated():e.ofSeconds(a,s)},e._createSecondsNanos=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=0),0===t&&0===n?e.ZERO:new e(t,n)};var n=e.prototype;return n.get=function(t){if(t===A.SECONDS)return this._seconds;if(t===A.NANOS)return this._nanos;throw new s("Unsupported unit: "+t)},n.units=function(){return[A.SECONDS,A.NANOS]},n.isZero=function(){return 0===this._seconds&&0===this._nanos},n.isNegative=function(){return this._seconds<0},n.seconds=function(){return this._seconds},n.nano=function(){return this._nanos},n.withSeconds=function(t){return e._create(t,this._nanos)},n.withNanos=function(t){return T.NANO_OF_SECOND.checkValidIntValue(t),e._create(this._seconds,t)},n.plusDuration=function(t){return f(t,"duration"),this.plus(t.seconds(),t.nano())},n.plus=function(t,e){return 1===arguments.length?this.plusDuration(t):2===arguments.length&&e instanceof $?this.plusAmountUnit(t,e):this.plusSecondsNanos(t,e)},n.plusAmountUnit=function(t,e){if(f(t,"amountToAdd"),f(e,"unit"),e===A.DAYS)return this.plusSecondsNanos(w.safeMultiply(t,he.SECONDS_PER_DAY),0);if(e.isDurationEstimated())throw new s("Unit must not have an estimated duration");if(0===t)return this;if(e instanceof A){switch(e){case A.NANOS:return this.plusNanos(t);case A.MICROS:return this.plusSecondsNanos(1e3*w.intDiv(t,1e9),1e3*w.intMod(t,1e9));case A.MILLIS:return this.plusMillis(t);case A.SECONDS:return this.plusSeconds(t)}return this.plusSecondsNanos(w.safeMultiply(e.duration().seconds(),t),0)}var n=e.duration().multipliedBy(t);return this.plusSecondsNanos(n.seconds(),n.nano())},n.plusDays=function(t){return this.plusSecondsNanos(w.safeMultiply(t,he.SECONDS_PER_DAY),0)},n.plusHours=function(t){return this.plusSecondsNanos(w.safeMultiply(t,he.SECONDS_PER_HOUR),0)},n.plusMinutes=function(t){return this.plusSecondsNanos(w.safeMultiply(t,he.SECONDS_PER_MINUTE),0)},n.plusSeconds=function(t){return this.plusSecondsNanos(t,0)},n.plusMillis=function(t){return this.plusSecondsNanos(w.intDiv(t,1e3),1e6*w.intMod(t,1e3))},n.plusNanos=function(t){return this.plusSecondsNanos(0,t)},n.plusSecondsNanos=function(t,n){if(f(t,"secondsToAdd"),f(n,"nanosToAdd"),0===t&&0===n)return this;var i=w.safeAdd(this._seconds,t);i=w.safeAdd(i,w.intDiv(n,he.NANOS_PER_SECOND)),n=w.intMod(n,he.NANOS_PER_SECOND);var r=w.safeAdd(this._nanos,n);return e.ofSeconds(i,r)},n.minus=function(t,e){return 1===arguments.length?this.minusDuration(t):this.minusAmountUnit(t,e)},n.minusDuration=function(t){f(t,"duration");var e=t.seconds(),n=t.nano();return e===g?this.plus(v,-n):this.plus(-e,-n)},n.minusAmountUnit=function(t,e){return f(t,"amountToSubtract"),f(e,"unit"),t===g?this.plusAmountUnit(v,e):this.plusAmountUnit(-t,e)},n.minusDays=function(t){return t===g?this.plusDays(v):this.plusDays(-t)},n.minusHours=function(t){return t===g?this.plusHours(v):this.plusHours(-t)},n.minusMinutes=function(t){return t===g?this.plusMinutes(v):this.plusMinutes(-t)},n.minusSeconds=function(t){return t===g?this.plusSeconds(v):this.plusSeconds(-t)},n.minusMillis=function(t){return t===g?this.plusMillis(v):this.plusMillis(-t)},n.minusNanos=function(t){return t===g?this.plusNanos(v):this.plusNanos(-t)},n.multipliedBy=function(t){if(0===t)return e.ZERO;if(1===t)return this;var n=w.safeMultiply(this._seconds,t),i=w.safeMultiply(this._nanos,t);return n+=w.intDiv(i,he.NANOS_PER_SECOND),i=w.intMod(i,he.NANOS_PER_SECOND),e.ofSeconds(n,i)},n.dividedBy=function(t){if(0===t)throw new a("Cannot divide by zero");if(1===t)return this;var n=w.intDiv(this._seconds,t),i=w.roundDown((this._seconds/t-n)*he.NANOS_PER_SECOND),r=w.intDiv(this._nanos,t);return r=i+r,e.ofSeconds(n,r)},n.negated=function(){return this.multipliedBy(-1)},n.abs=function(){return this.isNegative()?this.negated():this},n.addTo=function(t){return f(t,"temporal"),0!==this._seconds&&(t=t.plus(this._seconds,A.SECONDS)),0!==this._nanos&&(t=t.plus(this._nanos,A.NANOS)),t},n.subtractFrom=function(t){return f(t,"temporal"),0!==this._seconds&&(t=t.minus(this._seconds,A.SECONDS)),0!==this._nanos&&(t=t.minus(this._nanos,A.NANOS)),t},n.toDays=function(){return w.intDiv(this._seconds,he.SECONDS_PER_DAY)},n.toHours=function(){return w.intDiv(this._seconds,he.SECONDS_PER_HOUR)},n.toMinutes=function(){return w.intDiv(this._seconds,he.SECONDS_PER_MINUTE)},n.toMillis=function(){var t=Math.round(w.safeMultiply(this._seconds,1e3));return w.safeAdd(t,w.intDiv(this._nanos,1e6))},n.toNanos=function(){var t=w.safeMultiply(this._seconds,he.NANOS_PER_SECOND);return w.safeAdd(t,this._nanos)},n.compareTo=function(t){f(t,"otherDuration"),d(t,e,"otherDuration");var n=w.compareNumbers(this._seconds,t.seconds());return 0!==n?n:this._nanos-t.nano()},n.equals=function(t){return this===t||t instanceof e&&this.seconds()===t.seconds()&&this.nano()===t.nano()},n.toString=function(){if(this===e.ZERO)return"PT0S";var t,n=w.intDiv(this._seconds,he.SECONDS_PER_HOUR),i=w.intDiv(w.intMod(this._seconds,he.SECONDS_PER_HOUR),he.SECONDS_PER_MINUTE),r=w.intMod(this._seconds,he.SECONDS_PER_MINUTE),o="PT";if(0!==n&&(o+=n+"H"),0!==i&&(o+=i+"M"),0===r&&0===this._nanos&&o.length>2)return o;if(r<0&&this._nanos>0?o+=-1===r?"-0":r+1:o+=r,this._nanos>0)for(o+=".",o+=t=(t=r<0?""+(2*he.NANOS_PER_SECOND-this._nanos):""+(he.NANOS_PER_SECOND+this._nanos)).slice(1,t.length);"0"===o.charAt(o.length-1);)o=o.slice(0,o.length-1);return o+"S"},n.toJSON=function(){return this.toString()},e}(x),E=function(){},A=function(t){function e(e,n){var i;return(i=t.call(this)||this)._name=e,i._duration=n,i}h(e,t);var n=e.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return this.isDateBased()||this===e.FOREVER},n.isDateBased=function(){return this.compareTo(e.DAYS)>=0&&this!==e.FOREVER},n.isTimeBased=function(){return this.compareTo(e.DAYS)<0},n.isSupportedBy=function(t){if(this===e.FOREVER)return!1;try{return t.plus(1,this),!0}catch(e){try{return t.plus(-1,this),!0}catch(t){return!1}}},n.addTo=function(t,e){return t.plus(e,this)},n.between=function(t,e){return t.until(e,this)},n.toString=function(){return this._name},n.compareTo=function(t){return this.duration().compareTo(t.duration())},e}($),k=function(){function t(){}var e=t.prototype;return e.isDateBased=function(){m("isDateBased")},e.isTimeBased=function(){m("isTimeBased")},e.baseUnit=function(){m("baseUnit")},e.rangeUnit=function(){m("rangeUnit")},e.range=function(){m("range")},e.rangeRefinedBy=function(t){m("rangeRefinedBy")},e.getFrom=function(t){m("getFrom")},e.adjustInto=function(t,e){m("adjustInto")},e.isSupportedBy=function(t){m("isSupportedBy")},e.displayName=function(){m("displayName")},e.equals=function(t){m("equals")},e.name=function(){m("name")},t}(),S=function(){function t(t,e,n,i){_(!(t>e),"Smallest minimum value '"+t+"' must be less than largest minimum value '"+e+"'",u),_(!(n>i),"Smallest maximum value '"+n+"' must be less than largest maximum value '"+i+"'",u),_(!(e>i),"Minimum value '"+e+"' must be less than maximum value '"+i+"'",u),this._minSmallest=t,this._minLargest=e,this._maxLargest=i,this._maxSmallest=n}var e=t.prototype;return e.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},e.minimum=function(){return this._minSmallest},e.largestMinimum=function(){return this._minLargest},e.maximum=function(){return this._maxLargest},e.smallestMaximum=function(){return this._maxSmallest},e.isValidValue=function(t){return this.minimum()<=t&&t<=this.maximum()},e.checkValidValue=function(t,e){return this.isValidValue(t)?t:_(!1,null!=e?"Invalid value for "+e+" (valid values "+this.toString()+"): "+t:"Invalid value (valid values "+this.toString()+"): "+t,r)},e.checkValidIntValue=function(t,e){if(!1===this.isValidIntValue(t))throw new r("Invalid int value for "+e+": "+t);return t},e.isValidIntValue=function(t){return this.isIntValue()&&this.isValidValue(t)},e.isIntValue=function(){return this.minimum()>=w.MIN_SAFE_INTEGER&&this.maximum()<=w.MAX_SAFE_INTEGER},e.equals=function(e){return e===this||e instanceof t&&this._minSmallest===e._minSmallest&&this._minLargest===e._minLargest&&this._maxSmallest===e._maxSmallest&&this._maxLargest===e._maxLargest},e.hashCode=function(){return w.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},e.toString=function(){var t=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return(t+=" - ")+(this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():""))},t.of=function(){return 2===arguments.length?new t(arguments[0],arguments[0],arguments[1],arguments[1]):3===arguments.length?new t(arguments[0],arguments[0],arguments[1],arguments[2]):4===arguments.length?new t(arguments[0],arguments[1],arguments[2],arguments[3]):_(!1,"Invalid number of arguments "+arguments.length,u)},t}(),T=function(t){function e(e,n,i,r){var o;return(o=t.call(this)||this)._name=e,o._baseUnit=n,o._rangeUnit=i,o._range=r,o}h(e,t),e.byName=function(t){for(var n in e)if(e[n]&&e[n]instanceof e&&e[n].name()===t)return e[n]};var n=e.prototype;return n.name=function(){return this._name},n.baseUnit=function(){return this._baseUnit},n.rangeUnit=function(){return this._rangeUnit},n.range=function(){return this._range},n.displayName=function(){return this.toString()},n.checkValidValue=function(t){return this.range().checkValidValue(t,this)},n.checkValidIntValue=function(t){return this.range().checkValidIntValue(t,this)},n.isDateBased=function(){return this===e.DAY_OF_WEEK||this===e.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===e.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===e.DAY_OF_MONTH||this===e.DAY_OF_YEAR||this===e.EPOCH_DAY||this===e.ALIGNED_WEEK_OF_MONTH||this===e.ALIGNED_WEEK_OF_YEAR||this===e.MONTH_OF_YEAR||this===e.YEAR_OF_ERA||this===e.YEAR||this===e.ERA},n.isTimeBased=function(){return this===e.NANO_OF_SECOND||this===e.NANO_OF_DAY||this===e.MICRO_OF_SECOND||this===e.MICRO_OF_DAY||this===e.MILLI_OF_SECOND||this===e.MILLI_OF_DAY||this===e.SECOND_OF_MINUTE||this===e.SECOND_OF_DAY||this===e.MINUTE_OF_HOUR||this===e.MINUTE_OF_DAY||this===e.HOUR_OF_AMPM||this===e.CLOCK_HOUR_OF_AMPM||this===e.HOUR_OF_DAY||this===e.CLOCK_HOUR_OF_DAY||this===e.AMPM_OF_DAY},n.rangeRefinedBy=function(t){return t.range(this)},n.getFrom=function(t){return t.getLong(this)},n.toString=function(){return this.name()},n.equals=function(t){return this===t},n.adjustInto=function(t,e){return t.with(this,e)},n.isSupportedBy=function(t){return t.isSupported(this)},e}(k),I=function(){function t(){}return t.zoneId=function(){return t.ZONE_ID},t.chronology=function(){return t.CHRONO},t.precision=function(){return t.PRECISION},t.zone=function(){return t.ZONE},t.offset=function(){return t.OFFSET},t.localDate=function(){return t.LOCAL_DATE},t.localTime=function(){return t.LOCAL_TIME},t}(),O=function(){function t(){}var e=t.prototype;return e.query=function(t){return t===I.zoneId()||t===I.chronology()||t===I.precision()?null:t.queryFrom(this)},e.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},e.range=function(t){if(t instanceof T){if(this.isSupported(t))return t.range();throw new s("Unsupported field: "+t)}return t.rangeRefinedBy(this)},t}(),z=function(t){function e(){return t.apply(this,arguments)||this}return h(e,t),e.prototype.queryFrom=function(t){m("queryFrom")},e}(b);function M(t,e){var n=function(t){function e(){return t.apply(this,arguments)||this}return h(e,t),e}(z);return n.prototype.queryFrom=e,new n(t)}var D,R,P=function(t){function e(e,n){var i;return(i=t.call(this)||this)._ordinal=e,i._name=n,i}h(e,t);var n=e.prototype;return n.ordinal=function(){return this._ordinal},n.name=function(){return this._name},e.values=function(){return D.slice()},e.valueOf=function(t){for(var n=0;n<D.length&&D[n].name()!==t;n++);return e.of(n+1)},e.of=function(t){if(t<1||t>7)throw new r("Invalid value for DayOfWeek: "+t);return D[t-1]},e.from=function(t){if(_(null!=t,"temporal",c),t instanceof e)return t;try{return e.of(t.get(T.DAY_OF_WEEK))}catch(e){throw e instanceof r?new r("Unable to obtain DayOfWeek from TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""),e):e}},n.value=function(){return this._ordinal+1},n.displayName=function(t,e){throw new u("Pattern using (localized) text not implemented yet!")},n.isSupported=function(t){return t instanceof T?t===T.DAY_OF_WEEK:null!=t&&t.isSupportedBy(this)},n.range=function(t){if(t===T.DAY_OF_WEEK)return t.range();if(t instanceof T)throw new s("Unsupported field: "+t);return t.rangeRefinedBy(this)},n.get=function(t){return t===T.DAY_OF_WEEK?this.value():this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(t===T.DAY_OF_WEEK)return this.value();if(t instanceof T)throw new s("Unsupported field: "+t);return t.getFrom(this)},n.plus=function(t){var e=w.floorMod(t,7);return D[w.floorMod(this._ordinal+(e+7),7)]},n.minus=function(t){return this.plus(-1*w.floorMod(t,7))},n.query=function(t){return t===I.precision()?A.DAYS:t===I.localDate()||t===I.localTime()||t===I.chronology()||t===I.zone()||t===I.zoneId()||t===I.offset()?null:(_(null!=t,"query",c),t.queryFrom(this))},n.adjustInto=function(t){return f(t,"temporal"),t.with(T.DAY_OF_WEEK,this.value())},n.equals=function(t){return this===t},n.toString=function(){return this._name},n.compareTo=function(t){return f(t,"other"),d(t,e,"other"),this._ordinal-t._ordinal},n.toJSON=function(){return this.toString()},e}(O),j=function(t){function e(e,n){var i;return(i=t.call(this)||this)._value=w.safeToInt(e),i._name=n,i}h(e,t);var n=e.prototype;return n.value=function(){return this._value},n.ordinal=function(){return this._value-1},n.name=function(){return this._name},n.displayName=function(t,e){throw new u("Pattern using (localized) text not implemented yet!")},n.isSupported=function(t){return null!==t&&(t instanceof T?t===T.MONTH_OF_YEAR:null!=t&&t.isSupportedBy(this))},n.get=function(t){return t===T.MONTH_OF_YEAR?this.value():this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(t===T.MONTH_OF_YEAR)return this.value();if(t instanceof T)throw new s("Unsupported field: "+t);return t.getFrom(this)},n.plus=function(t){var n=w.intMod(t,12)+12,i=w.intMod(this.value()+n,12);return i=0===i?12:i,e.of(i)},n.minus=function(t){return this.plus(-1*w.intMod(t,12))},n.length=function(t){switch(this){case e.FEBRUARY:return t?29:28;case e.APRIL:case e.JUNE:case e.SEPTEMBER:case e.NOVEMBER:return 30;default:return 31}},n.minLength=function(){switch(this){case e.FEBRUARY:return 28;case e.APRIL:case e.JUNE:case e.SEPTEMBER:case e.NOVEMBER:return 30;default:return 31}},n.maxLength=function(){switch(this){case e.FEBRUARY:return 29;case e.APRIL:case e.JUNE:case e.SEPTEMBER:case e.NOVEMBER:return 30;default:return 31}},n.firstDayOfYear=function(t){var n=t?1:0;switch(this){case e.JANUARY:return 1;case e.FEBRUARY:return 32;case e.MARCH:return 60+n;case e.APRIL:return 91+n;case e.MAY:return 121+n;case e.JUNE:return 152+n;case e.JULY:return 182+n;case e.AUGUST:return 213+n;case e.SEPTEMBER:return 244+n;case e.OCTOBER:return 274+n;case e.NOVEMBER:return 305+n;case e.DECEMBER:default:return 335+n}},n.firstMonthOfQuarter=function(){switch(this){case e.JANUARY:case e.FEBRUARY:case e.MARCH:return e.JANUARY;case e.APRIL:case e.MAY:case e.JUNE:return e.APRIL;case e.JULY:case e.AUGUST:case e.SEPTEMBER:return e.JULY;case e.OCTOBER:case e.NOVEMBER:case e.DECEMBER:default:return e.OCTOBER}},n.query=function(e){return _(null!=e,"query() parameter must not be null",r),e===I.chronology()?ee.INSTANCE:e===I.precision()?A.MONTHS:t.prototype.query.call(this,e)},n.toString=function(){switch(this){case e.JANUARY:return"JANUARY";case e.FEBRUARY:return"FEBRUARY";case e.MARCH:return"MARCH";case e.APRIL:return"APRIL";case e.MAY:return"MAY";case e.JUNE:return"JUNE";case e.JULY:return"JULY";case e.AUGUST:return"AUGUST";case e.SEPTEMBER:return"SEPTEMBER";case e.OCTOBER:return"OCTOBER";case e.NOVEMBER:return"NOVEMBER";case e.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},n.toJSON=function(){return this.toString()},n.adjustInto=function(t){return t.with(T.MONTH_OF_YEAR,this.value())},n.compareTo=function(t){return f(t,"other"),d(t,e,"other"),this._value-t._value},n.equals=function(t){return this===t},e.valueOf=function(t){for(var n=0;n<R.length&&R[n].name()!==t;n++);return e.of(n+1)},e.values=function(){return R.slice()},e.of=function(t){return(t<1||t>12)&&_(!1,"Invalid value for MonthOfYear: "+t,r),R[t-1]},e.from=function(t){if(t instanceof e)return t;try{return e.of(t.get(T.MONTH_OF_YEAR))}catch(e){throw new r("Unable to obtain Month from TemporalAccessor: "+t+" of type "+(t&&null!=t.constructor?t.constructor.name:""),e)}},e}(O),N=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,L=function(t){function e(n,i,r){var o;o=t.call(this)||this;var s=w.safeToInt(n),a=w.safeToInt(i),u=w.safeToInt(r);return 0===s&&0===a&&0===u?(e.ZERO||(o._years=s,o._months=a,o._days=u,e.ZERO=p(o)),e.ZERO||p(o)):(o._years=s,o._months=a,o._days=u,o)}h(e,t),e.ofYears=function(t){return e.create(t,0,0)},e.ofMonths=function(t){return e.create(0,t,0)},e.ofWeeks=function(t){return e.create(0,0,w.safeMultiply(t,7))},e.ofDays=function(t){return e.create(0,0,t)},e.of=function(t,n,i){return e.create(t,n,i)},e.from=function(t){if(t instanceof e)return t;f(t,"amount");for(var n=0,i=0,o=0,s=t.units(),a=0;a<s.length;a++){var u=s[a],l=t.get(u);if(u===A.YEARS)n=w.safeToInt(l);else if(u===A.MONTHS)i=w.safeToInt(l);else{if(u!==A.DAYS)throw new r("Unit must be Years, Months or Days, but was "+u);o=w.safeToInt(l)}}return e.create(n,i,o)},e.between=function(t,e){return f(t,"startDate"),f(e,"endDate"),d(t,ue,"startDate"),d(e,ue,"endDate"),t.until(e)},e.parse=function(t){f(t,"text");try{return e._parse(t)}catch(e){throw e instanceof a?new o("Text cannot be parsed to a Period",t,0,e):e}},e._parse=function(t){var n=N.exec(t);if(null!=n){var i="-"===n[1]?-1:1,r=n[2],s=n[3],a=n[4],u=n[5];if(null!=r||null!=s||null!=a||null!=u){var l=e._parseNumber(t,r,i),c=e._parseNumber(t,s,i),h=e._parseNumber(t,a,i),p=e._parseNumber(t,u,i);return p=w.safeAdd(p,w.safeMultiply(h,7)),e.create(l,c,p)}}throw new o("Text cannot be parsed to a Period",t,0)},e._parseNumber=function(t,e,n){if(null==e)return 0;var i=w.parseInt(e);return w.safeMultiply(i,n)},e.create=function(t,n,i){return new e(t,n,i)};var n=e.prototype;return n.units=function(){return[A.YEARS,A.MONTHS,A.DAYS]},n.chronology=function(){return ee.INSTANCE},n.get=function(t){if(t===A.YEARS)return this._years;if(t===A.MONTHS)return this._months;if(t===A.DAYS)return this._days;throw new s("Unsupported unit: "+t)},n.isZero=function(){return this===e.ZERO},n.isNegative=function(){return this._years<0||this._months<0||this._days<0},n.years=function(){return this._years},n.months=function(){return this._months},n.days=function(){return this._days},n.withYears=function(t){return t===this._years?this:e.create(t,this._months,this._days)},n.withMonths=function(t){return t===this._months?this:e.create(this._years,t,this._days)},n.withDays=function(t){return t===this._days?this:e.create(this._years,this._months,t)},n.plus=function(t){var n=e.from(t);return e.create(w.safeAdd(this._years,n._years),w.safeAdd(this._months,n._months),w.safeAdd(this._days,n._days))},n.plusYears=function(t){return 0===t?this:e.create(w.safeToInt(w.safeAdd(this._years,t)),this._months,this._days)},n.plusMonths=function(t){return 0===t?this:e.create(this._years,w.safeToInt(w.safeAdd(this._months,t)),this._days)},n.plusDays=function(t){return 0===t?this:e.create(this._years,this._months,w.safeToInt(w.safeAdd(this._days,t)))},n.minus=function(t){var n=e.from(t);return e.create(w.safeSubtract(this._years,n._years),w.safeSubtract(this._months,n._months),w.safeSubtract(this._days,n._days))},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.multipliedBy=function(t){return this===e.ZERO||1===t?this:e.create(w.safeMultiply(this._years,t),w.safeMultiply(this._months,t),w.safeMultiply(this._days,t))},n.negated=function(){return this.multipliedBy(-1)},n.normalized=function(){var t=this.toTotalMonths(),n=w.intDiv(t,12),i=w.intMod(t,12);return n===this._years&&i===this._months?this:e.create(w.safeToInt(n),i,this._days)},n.toTotalMonths=function(){return 12*this._years+this._months},n.addTo=function(t){return f(t,"temporal"),0!==this._years?t=0!==this._months?t.plus(this.toTotalMonths(),A.MONTHS):t.plus(this._years,A.YEARS):0!==this._months&&(t=t.plus(this._months,A.MONTHS)),0!==this._days&&(t=t.plus(this._days,A.DAYS)),t},n.subtractFrom=function(t){return f(t,"temporal"),0!==this._years?t=0!==this._months?t.minus(this.toTotalMonths(),A.MONTHS):t.minus(this._years,A.YEARS):0!==this._months&&(t=t.minus(this._months,A.MONTHS)),0!==this._days&&(t=t.minus(this._days,A.DAYS)),t},n.equals=function(t){if(this===t)return!0;if(t instanceof e){var n=t;return this._years===n._years&&this._months===n._months&&this._days===n._days}return!1},n.hashCode=function(){return w.hashCode(this._years,this._months,this._days)},n.toString=function(){if(this===e.ZERO)return"P0D";var t="P";return 0!==this._years&&(t+=this._years+"Y"),0!==this._months&&(t+=this._months+"M"),0!==this._days&&(t+=this._days+"D"),t},n.toJSON=function(){return this.toString()},e}(x),q=function(){function t(t){this._index=t,this._errorIndex=-1}var e=t.prototype;return e.getIndex=function(){return this._index},e.setIndex=function(t){this._index=t},e.getErrorIndex=function(){return this._errorIndex},e.setErrorIndex=function(t){this._errorIndex=t},t}(),B=function(){function t(){this._map={}}var e=t.prototype;return e.putAll=function(t){for(var e in t._map)this._map[e]=t._map[e];return this},e.containsKey=function(t){return this._map.hasOwnProperty(t.name())&&void 0!==this.get(t)},e.get=function(t){return this._map[t.name()]},e.put=function(t,e){return this.set(t,e)},e.set=function(t,e){return this._map[t.name()]=e,this},e.retainAll=function(t){for(var e={},n=0;n<t.length;n++){var i=t[n].name();e[i]=this._map[i]}return this._map=e,this},e.remove=function(t){var e=t.name(),n=this._map[e];return this._map[e]=void 0,n},e.keySet=function(){return this._map},e.clear=function(){this._map={}},t}(),F=function(t){function e(){return t.apply(this,arguments)||this}return h(e,t),e}(b);F.STRICT=new F("STRICT"),F.SMART=new F("SMART"),F.LENIENT=new F("LENIENT");var U=function(){function t(){}return t.prototype.adjustInto=function(t){m("adjustInto")},t}(),H=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.isSupported=function(t){m("isSupported")},n.minus=function(t,e){return arguments.length<2?this.minusAmount(t):this.minusAmountUnit(t,e)},n.minusAmount=function(t){m("minusAmount")},n.minusAmountUnit=function(t,e){m("minusAmountUnit")},n.plus=function(t,e){return arguments.length<2?this.plusAmount(t):this.plusAmountUnit(t,e)},n.plusAmount=function(t){m("plusAmount")},n.plusAmountUnit=function(t,e){m("plusAmountUnit")},n.until=function(t,e){m("until")},n.with=function(t,e){return arguments.length<2?this.withAdjuster(t):this.withFieldValue(t,e)},n.withAdjuster=function(t){m("withAdjuster")},n.withFieldValue=function(t,e){m("withFieldValue")},e}(O),V=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.withAdjuster=function(t){return f(t,"adjuster"),d(t,U,"adjuster"),t.adjustInto(this)},n.plusAmount=function(t){return f(t,"amount"),d(t,x,"amount"),t.addTo(this)},n.minusAmount=function(t){return f(t,"amount"),d(t,x,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return f(t,"amountToSubtract"),f(e,"unit"),d(e,$,"unit"),t===g?this.plusAmountUnit(v,e).plusAmountUnit(1,e):this.plusAmount(-t,e)},e}(H),Y=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.isSupported=function(t){return t instanceof T||t instanceof A?t.isDateBased():null!=t&&t.isSupportedBy(this)},n.query=function(e){return e===I.chronology()?this.chronology():e===I.precision()?A.DAYS:e===I.localDate()?ue.ofEpochDay(this.toEpochDay()):e===I.localTime()||e===I.zone()||e===I.zoneId()||e===I.offset()?null:t.prototype.query.call(this,e)},n.adjustInto=function(t){return t.with(T.EPOCH_DAY,this.toEpochDay())},n.format=function(t){return f(t,"formatter"),d(t,Wt,"formatter"),t.format(this)},e}(V),W=function(){function t(){}return t.startsWith=function(t,e){return 0===t.indexOf(e)},t.hashCode=function(t){var e=t.length;if(0===e)return 0;for(var n=0,i=0;i<e;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return w.smi(n)},t}(),G=function(){function t(){}t.systemDefault=function(){throw new r("not supported operation")},t.getAvailableZoneIds=function(){throw new r("not supported operation")},t.of=function(t){throw new r("not supported operation"+t)},t.ofOffset=function(t,e){throw new r("not supported operation"+t+e)},t.from=function(t){throw new r("not supported operation"+t)};var e=t.prototype;return e.id=function(){m("ZoneId.id")},e.rules=function(){m("ZoneId.rules")},e.normalized=function(){var t=this.rules();return t.isFixedOffset()?t.offset(_e.EPOCH):this},e.equals=function(e){return this===e||e instanceof t&&this.id()===e.id()},e.hashCode=function(){return W.hashCode(this.id())},e.toString=function(){return this.id()},e.toJSON=function(){return this.toString()},t}(),Z=function(){function t(){}t.of=function(t){return f(t,"offset"),new K(t)};var e=t.prototype;return e.isFixedOffset=function(){m("ZoneRules.isFixedOffset")},e.offset=function(t){return t instanceof _e?this.offsetOfInstant(t):this.offsetOfLocalDateTime(t)},e.offsetOfInstant=function(t){m("ZoneRules.offsetInstant")},e.offsetOfEpochMilli=function(t){m("ZoneRules.offsetOfEpochMilli")},e.offsetOfLocalDateTime=function(t){m("ZoneRules.offsetLocalDateTime")},e.validOffsets=function(t){m("ZoneRules.validOffsets")},e.transition=function(t){m("ZoneRules.transition")},e.standardOffset=function(t){m("ZoneRules.standardOffset")},e.daylightSavings=function(t){m("ZoneRules.daylightSavings")},e.isDaylightSavings=function(t){m("ZoneRules.isDaylightSavings")},e.isValidOffset=function(t,e){m("ZoneRules.isValidOffset")},e.nextTransition=function(t){m("ZoneRules.nextTransition")},e.previousTransition=function(t){m("ZoneRules.previousTransition")},e.transitions=function(){m("ZoneRules.transitions")},e.transitionRules=function(){m("ZoneRules.transitionRules")},e.toString=function(){m("ZoneRules.toString")},e.toJSON=function(){return this.toString()},t}(),K=function(t){function e(e){var n;return(n=t.call(this)||this)._offset=e,n}h(e,t);var n=e.prototype;return n.isFixedOffset=function(){return!0},n.offsetOfInstant=function(){return this._offset},n.offsetOfEpochMilli=function(){return this._offset},n.offsetOfLocalDateTime=function(){return this._offset},n.validOffsets=function(){return[this._offset]},n.transition=function(){return null},n.standardOffset=function(){return this._offset},n.daylightSavings=function(){return C.ZERO},n.isDaylightSavings=function(){return!1},n.isValidOffset=function(t,e){return this._offset.equals(e)},n.nextTransition=function(){return null},n.previousTransition=function(){return null},n.transitions=function(){return[]},n.transitionRules=function(){return[]},n.equals=function(t){return this===t||t instanceof e&&this._offset.equals(t._offset)},n.toString=function(){return"FixedRules:"+this._offset.toString()},e}(Z),X={},J={},Q=function(t){function e(n){var i;return i=t.call(this)||this,e._validateTotalSeconds(n),i._totalSeconds=w.safeToInt(n),i._rules=Z.of(p(i)),i._id=e._buildId(n),i}h(e,t);var n=e.prototype;return n.totalSeconds=function(){return this._totalSeconds},n.id=function(){return this._id},e._buildId=function(t){if(0===t)return"Z";var e=Math.abs(t),n=w.intDiv(e,he.SECONDS_PER_HOUR),i=w.intMod(w.intDiv(e,he.SECONDS_PER_MINUTE),he.MINUTES_PER_HOUR),r=(t<0?"-":"+")+(n<10?"0":"")+n+(i<10?":0":":")+i,o=w.intMod(e,he.SECONDS_PER_MINUTE);return 0!==o&&(r+=(o<10?":0":":")+o),r},e._validateTotalSeconds=function(t){if(Math.abs(t)>e.MAX_SECONDS)throw new r("Zone offset not in valid range: -18:00 to +18:00")},e._validate=function(t,e,n){if(t<-18||t>18)throw new r("Zone offset hours not in valid range: value "+t+" is not in the range -18 to 18");if(t>0){if(e<0||n<0)throw new r("Zone offset minutes and seconds must be positive because hours is positive")}else if(t<0){if(e>0||n>0)throw new r("Zone offset minutes and seconds must be negative because hours is negative")}else if(e>0&&n<0||e<0&&n>0)throw new r("Zone offset minutes and seconds must have the same sign");if(Math.abs(e)>59)throw new r("Zone offset minutes not in valid range: abs(value) "+Math.abs(e)+" is not in the range 0 to 59");if(Math.abs(n)>59)throw new r("Zone offset seconds not in valid range: abs(value) "+Math.abs(n)+" is not in the range 0 to 59");if(18===Math.abs(t)&&(Math.abs(e)>0||Math.abs(n)>0))throw new r("Zone offset not in valid range: -18:00 to +18:00")},e.of=function(t){f(t,"offsetId");var n,i,o,s=J[t];if(null!=s)return s;switch(t.length){case 2:t=t[0]+"0"+t[1];case 3:n=e._parseNumber(t,1,!1),i=0,o=0;break;case 5:n=e._parseNumber(t,1,!1),i=e._parseNumber(t,3,!1),o=0;break;case 6:n=e._parseNumber(t,1,!1),i=e._parseNumber(t,4,!0),o=0;break;case 7:n=e._parseNumber(t,1,!1),i=e._parseNumber(t,3,!1),o=e._parseNumber(t,5,!1);break;case 9:n=e._parseNumber(t,1,!1),i=e._parseNumber(t,4,!0),o=e._parseNumber(t,7,!0);break;default:throw new r("Invalid ID for ZoneOffset, invalid format: "+t)}var a=t[0];if("+"!==a&&"-"!==a)throw new r("Invalid ID for ZoneOffset, plus/minus not found when expected: "+t);return"-"===a?e.ofHoursMinutesSeconds(-n,-i,-o):e.ofHoursMinutesSeconds(n,i,o)},e._parseNumber=function(t,e,n){if(n&&":"!==t[e-1])throw new r("Invalid ID for ZoneOffset, colon not found when expected: "+t);var i=t[e],o=t[e+1];if(i<"0"||i>"9"||o<"0"||o>"9")throw new r("Invalid ID for ZoneOffset, non numeric characters found: "+t);return 10*(i.charCodeAt(0)-48)+(o.charCodeAt(0)-48)},e.ofHours=function(t){return e.ofHoursMinutesSeconds(t,0,0)},e.ofHoursMinutes=function(t,n){return e.ofHoursMinutesSeconds(t,n,0)},e.ofHoursMinutesSeconds=function(t,n,i){e._validate(t,n,i);var r=t*he.SECONDS_PER_HOUR+n*he.SECONDS_PER_MINUTE+i;return e.ofTotalSeconds(r)},e.ofTotalMinutes=function(t){var n=t*he.SECONDS_PER_MINUTE;return e.ofTotalSeconds(n)},e.ofTotalSeconds=function(t){if(t%(15*he.SECONDS_PER_MINUTE)==0){var n=t,i=X[n];return null==i&&(i=new e(t),X[n]=i,J[i.id()]=i),i}return new e(t)},n.rules=function(){return this._rules},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t===T.OFFSET_SECONDS)return this._totalSeconds;if(t instanceof T)throw new r("Unsupported field: "+t);return t.getFrom(this)},n.query=function(t){return f(t,"query"),t===I.offset()||t===I.zone()?this:t===I.localDate()||t===I.localTime()||t===I.precision()||t===I.chronology()||t===I.zoneId()?null:t.queryFrom(this)},n.adjustInto=function(t){return t.with(T.OFFSET_SECONDS,this._totalSeconds)},n.compareTo=function(t){return f(t,"other"),t._totalSeconds-this._totalSeconds},n.equals=function(t){return this===t||t instanceof e&&this._totalSeconds===t._totalSeconds},n.hashCode=function(){return this._totalSeconds},n.toString=function(){return this._id},e}(G),tt=function(t){function e(){var e;return(e=t.call(this)||this).fieldValues=new B,e.chrono=null,e.zone=null,e.date=null,e.time=null,e.leapSecond=!1,e.excessDays=null,e}h(e,t),e.create=function(t,n){var i=new e;return i._addFieldValue(t,n),i};var n=e.prototype;return n.getFieldValue0=function(t){return this.fieldValues.get(t)},n._addFieldValue=function(t,e){f(t,"field");var n=this.getFieldValue0(t);if(null!=n&&n!==e)throw new r("Conflict found: "+t+" "+n+" differs from "+t+" "+e+": "+this);return this._putFieldValue0(t,e)},n._putFieldValue0=function(t,e){return this.fieldValues.put(t,e),this},n.resolve=function(t,e){return null!=e&&this.fieldValues.retainAll(e),this._mergeDate(t),this._mergeTime(t),this._resolveTimeInferZeroes(t),null!=this.excessDays&&!1===this.excessDays.isZero()&&null!=this.date&&null!=this.time&&(this.date=this.date.plus(this.excessDays),this.excessDays=L.ZERO),this._resolveInstant(),this},n._mergeDate=function(t){this._checkDate(ee.INSTANCE.resolveDate(this.fieldValues,t))},n._checkDate=function(t){if(null!=t)for(var e in this._addObject(t),this.fieldValues.keySet()){var n=T.byName(e);if(n&&void 0!==this.fieldValues.get(n)&&n.isDateBased()){var i=void 0;try{i=t.getLong(n)}catch(t){if(t instanceof r)continue;throw t}var o=this.fieldValues.get(n);if(i!==o)throw new r("Conflict found: Field "+n+" "+i+" differs from "+n+" "+o+" derived from "+t)}}},n._mergeTime=function(t){if(this.fieldValues.containsKey(T.CLOCK_HOUR_OF_DAY)){var e=this.fieldValues.remove(T.CLOCK_HOUR_OF_DAY);t!==F.LENIENT&&(t===F.SMART&&0===e||T.CLOCK_HOUR_OF_DAY.checkValidValue(e)),this._addFieldValue(T.HOUR_OF_DAY,24===e?0:e)}if(this.fieldValues.containsKey(T.CLOCK_HOUR_OF_AMPM)){var n=this.fieldValues.remove(T.CLOCK_HOUR_OF_AMPM);t!==F.LENIENT&&(t===F.SMART&&0===n||T.CLOCK_HOUR_OF_AMPM.checkValidValue(n)),this._addFieldValue(T.HOUR_OF_AMPM,12===n?0:n)}if(t!==F.LENIENT&&(this.fieldValues.containsKey(T.AMPM_OF_DAY)&&T.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(T.AMPM_OF_DAY)),this.fieldValues.containsKey(T.HOUR_OF_AMPM)&&T.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(T.HOUR_OF_AMPM))),this.fieldValues.containsKey(T.AMPM_OF_DAY)&&this.fieldValues.containsKey(T.HOUR_OF_AMPM)){var i=this.fieldValues.remove(T.AMPM_OF_DAY),r=this.fieldValues.remove(T.HOUR_OF_AMPM);this._addFieldValue(T.HOUR_OF_DAY,12*i+r)}if(this.fieldValues.containsKey(T.NANO_OF_DAY)){var o=this.fieldValues.remove(T.NANO_OF_DAY);t!==F.LENIENT&&T.NANO_OF_DAY.checkValidValue(o),this._addFieldValue(T.SECOND_OF_DAY,w.intDiv(o,1e9)),this._addFieldValue(T.NANO_OF_SECOND,w.intMod(o,1e9))}if(this.fieldValues.containsKey(T.MICRO_OF_DAY)){var s=this.fieldValues.remove(T.MICRO_OF_DAY);t!==F.LENIENT&&T.MICRO_OF_DAY.checkValidValue(s),this._addFieldValue(T.SECOND_OF_DAY,w.intDiv(s,1e6)),this._addFieldValue(T.MICRO_OF_SECOND,w.intMod(s,1e6))}if(this.fieldValues.containsKey(T.MILLI_OF_DAY)){var a=this.fieldValues.remove(T.MILLI_OF_DAY);t!==F.LENIENT&&T.MILLI_OF_DAY.checkValidValue(a),this._addFieldValue(T.SECOND_OF_DAY,w.intDiv(a,1e3)),this._addFieldValue(T.MILLI_OF_SECOND,w.intMod(a,1e3))}if(this.fieldValues.containsKey(T.SECOND_OF_DAY)){var u=this.fieldValues.remove(T.SECOND_OF_DAY);t!==F.LENIENT&&T.SECOND_OF_DAY.checkValidValue(u),this._addFieldValue(T.HOUR_OF_DAY,w.intDiv(u,3600)),this._addFieldValue(T.MINUTE_OF_HOUR,w.intMod(w.intDiv(u,60),60)),this._addFieldValue(T.SECOND_OF_MINUTE,w.intMod(u,60))}if(this.fieldValues.containsKey(T.MINUTE_OF_DAY)){var l=this.fieldValues.remove(T.MINUTE_OF_DAY);t!==F.LENIENT&&T.MINUTE_OF_DAY.checkValidValue(l),this._addFieldValue(T.HOUR_OF_DAY,w.intDiv(l,60)),this._addFieldValue(T.MINUTE_OF_HOUR,w.intMod(l,60))}if(t!==F.LENIENT&&(this.fieldValues.containsKey(T.MILLI_OF_SECOND)&&T.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(T.MILLI_OF_SECOND)),this.fieldValues.containsKey(T.MICRO_OF_SECOND)&&T.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(T.MICRO_OF_SECOND))),this.fieldValues.containsKey(T.MILLI_OF_SECOND)&&this.fieldValues.containsKey(T.MICRO_OF_SECOND)){var c=this.fieldValues.remove(T.MILLI_OF_SECOND),h=this.fieldValues.get(T.MICRO_OF_SECOND);this._putFieldValue0(T.MICRO_OF_SECOND,1e3*c+w.intMod(h,1e3))}if(this.fieldValues.containsKey(T.MICRO_OF_SECOND)&&this.fieldValues.containsKey(T.NANO_OF_SECOND)){var p=this.fieldValues.get(T.NANO_OF_SECOND);this._putFieldValue0(T.MICRO_OF_SECOND,w.intDiv(p,1e3)),this.fieldValues.remove(T.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(T.MILLI_OF_SECOND)&&this.fieldValues.containsKey(T.NANO_OF_SECOND)){var _=this.fieldValues.get(T.NANO_OF_SECOND);this._putFieldValue0(T.MILLI_OF_SECOND,w.intDiv(_,1e6)),this.fieldValues.remove(T.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(T.MICRO_OF_SECOND)){var f=this.fieldValues.remove(T.MICRO_OF_SECOND);this._putFieldValue0(T.NANO_OF_SECOND,1e3*f)}else if(this.fieldValues.containsKey(T.MILLI_OF_SECOND)){var d=this.fieldValues.remove(T.MILLI_OF_SECOND);this._putFieldValue0(T.NANO_OF_SECOND,1e6*d)}},n._resolveTimeInferZeroes=function(t){var e=this.fieldValues.get(T.HOUR_OF_DAY),n=this.fieldValues.get(T.MINUTE_OF_HOUR),i=this.fieldValues.get(T.SECOND_OF_MINUTE),r=this.fieldValues.get(T.NANO_OF_SECOND);if(null!=e&&(null!=n||null==i&&null==r)&&(null==n||null!=i||null==r)){if(t!==F.LENIENT){if(null!=e){t!==F.SMART||24!==e||null!=n&&0!==n||null!=i&&0!==i||null!=r&&0!==r||(e=0,this.excessDays=L.ofDays(1));var o=T.HOUR_OF_DAY.checkValidIntValue(e);if(null!=n){var s=T.MINUTE_OF_HOUR.checkValidIntValue(n);if(null!=i){var a=T.SECOND_OF_MINUTE.checkValidIntValue(i);if(null!=r){var u=T.NANO_OF_SECOND.checkValidIntValue(r);this._addObject(he.of(o,s,a,u))}else this._addObject(he.of(o,s,a))}else null==r&&this._addObject(he.of(o,s))}else null==i&&null==r&&this._addObject(he.of(o,0))}}else if(null!=e){var l=e;if(null!=n)if(null!=i){null==r&&(r=0);var c=w.safeMultiply(l,36e11);c=w.safeAdd(c,w.safeMultiply(n,6e10)),c=w.safeAdd(c,w.safeMultiply(i,1e9)),c=w.safeAdd(c,r);var h=w.floorDiv(c,864e11),p=w.floorMod(c,864e11);this._addObject(he.ofNanoOfDay(p)),this.excessDays=L.ofDays(h)}else{var _=w.safeMultiply(l,3600);_=w.safeAdd(_,w.safeMultiply(n,60));var f=w.floorDiv(_,86400),d=w.floorMod(_,86400);this._addObject(he.ofSecondOfDay(d)),this.excessDays=L.ofDays(f)}else{var m=w.safeToInt(w.floorDiv(l,24));l=w.floorMod(l,24),this._addObject(he.of(l,0)),this.excessDays=L.ofDays(m)}}this.fieldValues.remove(T.HOUR_OF_DAY),this.fieldValues.remove(T.MINUTE_OF_HOUR),this.fieldValues.remove(T.SECOND_OF_MINUTE),this.fieldValues.remove(T.NANO_OF_SECOND)}},n._addObject=function(t){t instanceof Y?this.date=t:t instanceof he&&(this.time=t)},n._resolveInstant=function(){if(null!=this.date&&null!=this.time){var t=this.fieldValues.get(T.OFFSET_SECONDS);if(null!=t){var e=Q.ofTotalSeconds(t),n=this.date.atTime(this.time).atZone(e).getLong(T.INSTANT_SECONDS);this.fieldValues.put(T.INSTANT_SECONDS,n)}else if(null!=this.zone){var i=this.date.atTime(this.time).atZone(this.zone).getLong(T.INSTANT_SECONDS);this.fieldValues.put(T.INSTANT_SECONDS,i)}}},n.build=function(t){return t.queryFrom(this)},n.isSupported=function(t){return null!=t&&(this.fieldValues.containsKey(t)&&void 0!==this.fieldValues.get(t)||null!=this.date&&this.date.isSupported(t)||null!=this.time&&this.time.isSupported(t))},n.getLong=function(t){f(t,"field");var e=this.getFieldValue0(t);if(null==e){if(null!=this.date&&this.date.isSupported(t))return this.date.getLong(t);if(null!=this.time&&this.time.isSupported(t))return this.time.getLong(t);throw new r("Field not found: "+t)}return e},n.query=function(t){return t===I.zoneId()?this.zone:t===I.chronology()?this.chrono:t===I.localDate()?null!=this.date?ue.from(this.date):null:t===I.localTime()?this.time:t===I.zone()||t===I.offset()?t.queryFrom(this):t===I.precision()?null:t.queryFrom(this)},e}(O),et=function(){function t(){if(1===arguments.length){if(arguments[0]instanceof t)return void this._constructorSelf.apply(this,arguments);this._constructorFormatter.apply(this,arguments)}else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new nt(this)]}var e=t.prototype;return e._constructorParam=function(t,e,n){this._locale=t,this._symbols=e,this._overrideChronology=n},e._constructorFormatter=function(t){this._locale=t.locale(),this._symbols=t.decimalStyle(),this._overrideChronology=t.chronology()},e._constructorSelf=function(t){this._locale=t._locale,this._symbols=t._symbols,this._overrideChronology=t._overrideChronology,this._overrideZone=t._overrideZone,this._caseSensitive=t._caseSensitive,this._strict=t._strict,this._parsed=[new nt(this)]},e.copy=function(){return new t(this)},e.symbols=function(){return this._symbols},e.isStrict=function(){return this._strict},e.setStrict=function(t){this._strict=t},e.locale=function(){return this._locale},e.setLocale=function(t){this._locale=t},e.startOptional=function(){this._parsed.push(this.currentParsed().copy())},e.endOptional=function(t){t?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},e.isCaseSensitive=function(){return this._caseSensitive},e.setCaseSensitive=function(t){this._caseSensitive=t},e.subSequenceEquals=function(t,e,n,i,r){if(e+r>t.length||i+r>n.length)return!1;this.isCaseSensitive()||(t=t.toLowerCase(),n=n.toLowerCase());for(var o=0;o<r;o++)if(t[e+o]!==n[i+o])return!1;return!0},e.charEquals=function(t,e){return this.isCaseSensitive()?t===e:this.charEqualsIgnoreCase(t,e)},e.charEqualsIgnoreCase=function(t,e){return t===e||t.toLowerCase()===e.toLowerCase()},e.setParsedField=function(t,e,n,i){var r=this.currentParsed().fieldValues,o=r.get(t);return r.set(t,e),null!=o&&o!==e?~n:i},e.setParsedZone=function(t){f(t,"zone"),this.currentParsed().zone=t},e.getParsed=function(t){return this.currentParsed().fieldValues.get(t)},e.toParsed=function(){return this.currentParsed()},e.currentParsed=function(){return this._parsed[this._parsed.length-1]},e.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},e.getEffectiveChronology=function(){var t=this.currentParsed().chrono;return null==t&&null==(t=this._overrideChronology)&&(t=ee.INSTANCE),t},t}(),nt=function(t){function e(e){var n;return(n=t.call(this)||this).chrono=null,n.zone=null,n.fieldValues=new B,n.leapSecond=!1,n.dateTimeParseContext=e,n}h(e,t);var n=e.prototype;return n.copy=function(){var t=new e;return t.chrono=this.chrono,t.zone=this.zone,t.fieldValues.putAll(this.fieldValues),t.leapSecond=this.leapSecond,t.dateTimeParseContext=this.dateTimeParseContext,t},n.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},n.isSupported=function(t){return this.fieldValues.containsKey(t)},n.get=function(t){var e=this.fieldValues.get(t);return _(null!=e),e},n.query=function(e){return e===I.chronology()?this.chrono:e===I.zoneId()||e===I.zone()?this.zone:t.prototype.query.call(this,e)},n.toBuilder=function(){var t=new tt;return t.fieldValues.putAll(this.fieldValues),t.chrono=this.dateTimeParseContext.getEffectiveChronology(),null!=this.zone?t.zone=this.zone:t.zone=this.overrideZone,t.leapSecond=this.leapSecond,t.excessDays=this.excessDays,t},e}(H),it=function(){function t(e,n,i){2===arguments.length&&arguments[1]instanceof Wt?(this._temporal=t.adjust(e,n),this._locale=n.locale(),this._symbols=n.decimalStyle()):(this._temporal=e,this._locale=n,this._symbols=i),this._optional=0}t.adjust=function(t,e){return t};var e=t.prototype;return e.symbols=function(){return this._symbols},e.startOptional=function(){this._optional++},e.endOptional=function(){this._optional--},e.getValueQuery=function(t){var e=this._temporal.query(t);if(null==e&&0===this._optional)throw new r("Unable to extract value: "+this._temporal);return e},e.getValue=function(t){try{return this._temporal.getLong(t)}catch(t){if(t instanceof r&&this._optional>0)return null;throw t}},e.temporal=function(){return this._temporal},e.locale=function(){return this._locale},e.setDateTime=function(t){this._temporal=t},e.setLocale=function(t){this._locale=t},t}(),rt={},ot=[0,90,181,273,0,91,182,274],st=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n._isIso=function(){return!0},e._getWeekRangeByLocalDate=function(t){var n=e._getWeekBasedYear(t);return S.of(1,e._getWeekRangeByYear(n))},e._getWeekRangeByYear=function(t){var e=ue.of(t,1,1);return e.dayOfWeek()===P.THURSDAY||e.dayOfWeek()===P.WEDNESDAY&&e.isLeapYear()?53:52},e._getWeek=function(t){var n=t.dayOfWeek().ordinal(),i=t.dayOfYear()-1,r=i+(3-n),o=r-7*w.intDiv(r,7)-3;if(o<-3&&(o+=7),i<o)return e._getWeekRangeByLocalDate(t.withDayOfYear(180).minusYears(1)).maximum();var s=w.intDiv(i-o,7)+1;return 53===s&&!1===(-3===o||-2===o&&t.isLeapYear())&&(s=1),s},e._getWeekBasedYear=function(t){var e=t.year(),n=t.dayOfYear();if(n<=3)n-t.dayOfWeek().ordinal()<-2&&e--;else if(n>=363){var i=t.dayOfWeek().ordinal();(n=n-363-(t.isLeapYear()?1:0))-i>=0&&e++}return e},n.displayName=function(){return this.toString()},n.resolve=function(){return null},n.name=function(){return this.toString()},e}(k),at=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.toString=function(){return"DayOfQuarter"},n.baseUnit=function(){return A.DAYS},n.rangeUnit=function(){return yt},n.range=function(){return S.of(1,90,92)},n.isSupportedBy=function(t){return t.isSupported(T.DAY_OF_YEAR)&&t.isSupported(T.MONTH_OF_YEAR)&&t.isSupported(T.YEAR)&&this._isIso(t)},n.rangeRefinedBy=function(t){if(!1===t.isSupported(this))throw new s("Unsupported field: DayOfQuarter");var e=t.getLong(_t);if(1===e){var n=t.getLong(T.YEAR);return ee.isLeapYear(n)?S.of(1,91):S.of(1,90)}return 2===e?S.of(1,91):3===e||4===e?S.of(1,92):this.range()},n.getFrom=function(t){if(!1===t.isSupported(this))throw new s("Unsupported field: DayOfQuarter");var e=t.get(T.DAY_OF_YEAR),n=t.get(T.MONTH_OF_YEAR),i=t.getLong(T.YEAR);return e-ot[w.intDiv(n-1,3)+(ee.isLeapYear(i)?4:0)]},n.adjustInto=function(t,e){var n=this.getFrom(t);return this.range().checkValidValue(e,this),t.with(T.DAY_OF_YEAR,t.getLong(T.DAY_OF_YEAR)+(e-n))},n.resolve=function(t,e,n){var i=t.get(T.YEAR),r=t.get(_t);if(null==i||null==r)return null;var o,s=T.YEAR.checkValidIntValue(i),a=t.get(pt);if(n===F.LENIENT){var u=r;o=(o=(o=ue.of(s,1,1)).plusMonths(w.safeMultiply(w.safeSubtract(u,1),3))).plusDays(w.safeSubtract(a,1))}else{var l=_t.range().checkValidIntValue(r,_t);if(n===F.STRICT){var c=92;1===l?c=ee.isLeapYear(s)?91:90:2===l&&(c=91),S.of(1,c).checkValidValue(a,this)}else this.range().checkValidValue(a,this);o=ue.of(s,3*(l-1)+1,1).plusDays(a-1)}return t.remove(this),t.remove(T.YEAR),t.remove(_t),o},e}(st),ut=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.toString=function(){return"QuarterOfYear"},n.baseUnit=function(){return yt},n.rangeUnit=function(){return A.YEARS},n.range=function(){return S.of(1,4)},n.isSupportedBy=function(t){return t.isSupported(T.MONTH_OF_YEAR)&&this._isIso(t)},n.rangeRefinedBy=function(t){return this.range()},n.getFrom=function(t){if(!1===t.isSupported(this))throw new s("Unsupported field: QuarterOfYear");var e=t.getLong(T.MONTH_OF_YEAR);return w.intDiv(e+2,3)},n.adjustInto=function(t,e){var n=this.getFrom(t);return this.range().checkValidValue(e,this),t.with(T.MONTH_OF_YEAR,t.getLong(T.MONTH_OF_YEAR)+3*(e-n))},e}(st),lt=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.toString=function(){return"WeekOfWeekBasedYear"},n.baseUnit=function(){return A.WEEKS},n.rangeUnit=function(){return mt},n.range=function(){return S.of(1,52,53)},n.isSupportedBy=function(t){return t.isSupported(T.EPOCH_DAY)&&this._isIso(t)},n.rangeRefinedBy=function(t){if(!1===t.isSupported(this))throw new s("Unsupported field: WeekOfWeekBasedYear");return st._getWeekRangeByLocalDate(ue.from(t))},n.getFrom=function(t){if(!1===t.isSupported(this))throw new s("Unsupported field: WeekOfWeekBasedYear");return st._getWeek(ue.from(t))},n.adjustInto=function(t,e){return this.range().checkValidValue(e,this),t.plus(w.safeSubtract(e,this.getFrom(t)),A.WEEKS)},n.resolve=function(t,e,n){var i=t.get(dt),r=t.get(T.DAY_OF_WEEK);if(null==i||null==r)return null;var o,s=dt.range().checkValidIntValue(i,dt),a=t.get(ft);if(n===F.LENIENT){var u=r,l=0;u>7?(l=w.intDiv(u-1,7),u=w.intMod(u-1,7)+1):u<1&&(l=w.intDiv(u,7)-1,u=w.intMod(u,7)+7),o=ue.of(s,1,4).plusWeeks(a-1).plusWeeks(l).with(T.DAY_OF_WEEK,u)}else{var c=T.DAY_OF_WEEK.checkValidIntValue(r);if(n===F.STRICT){var h=ue.of(s,1,4);st._getWeekRangeByLocalDate(h).checkValidValue(a,this)}else this.range().checkValidValue(a,this);o=ue.of(s,1,4).plusWeeks(a-1).with(T.DAY_OF_WEEK,c)}return t.remove(this),t.remove(dt),t.remove(T.DAY_OF_WEEK),o},n.displayName=function(){return"Week"},e}(st),ct=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.toString=function(){return"WeekBasedYear"},n.baseUnit=function(){return mt},n.rangeUnit=function(){return A.FOREVER},n.range=function(){return T.YEAR.range()},n.isSupportedBy=function(t){return t.isSupported(T.EPOCH_DAY)&&this._isIso(t)},n.rangeRefinedBy=function(t){return T.YEAR.range()},n.getFrom=function(t){if(!1===t.isSupported(this))throw new s("Unsupported field: WeekBasedYear");return st._getWeekBasedYear(ue.from(t))},n.adjustInto=function(t,e){if(!1===this.isSupportedBy(t))throw new s("Unsupported field: WeekBasedYear");var n=this.range().checkValidIntValue(e,dt),i=ue.from(t),r=i.get(T.DAY_OF_WEEK),o=st._getWeek(i);53===o&&52===st._getWeekRangeByYear(n)&&(o=52);var a=ue.of(n,1,4),u=r-a.get(T.DAY_OF_WEEK)+7*(o-1);return a=a.plusDays(u),t.with(a)},e}(st),ht=function(t){function e(e,n){var i;return(i=t.call(this)||this)._name=e,i._duration=n,i}h(e,t);var n=e.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return!0},n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n.isSupportedBy=function(t){return t.isSupported(T.EPOCH_DAY)},n.addTo=function(t,e){switch(this){case mt:var n=w.safeAdd(t.get(dt),e);return t.with(dt,n);case yt:return t.plus(w.intDiv(e,256),A.YEARS).plus(3*w.intMod(e,256),A.MONTHS);default:throw new l("Unreachable")}},n.between=function(t,e){switch(this){case mt:return w.safeSubtract(e.getLong(dt),t.getLong(dt));case yt:return w.intDiv(t.until(e,A.MONTHS),3);default:throw new l("Unreachable")}},n.toString=function(){return name},e}($),pt=null,_t=null,ft=null,dt=null,mt=null,yt=null,vt=function(){function t(t,e,n,i){this._zeroDigit=t,this._zeroDigitCharCode=t.charCodeAt(0),this._positiveSign=e,this._negativeSign=n,this._decimalSeparator=i}var e=t.prototype;return e.positiveSign=function(){return this._positiveSign},e.withPositiveSign=function(e){return e===this._positiveSign?this:new t(this._zeroDigit,e,this._negativeSign,this._decimalSeparator)},e.negativeSign=function(){return this._negativeSign},e.withNegativeSign=function(e){return e===this._negativeSign?this:new t(this._zeroDigit,this._positiveSign,e,this._decimalSeparator)},e.zeroDigit=function(){return this._zeroDigit},e.withZeroDigit=function(e){return e===this._zeroDigit?this:new t(e,this._positiveSign,this._negativeSign,this._decimalSeparator)},e.decimalSeparator=function(){return this._decimalSeparator},e.withDecimalSeparator=function(e){return e===this._decimalSeparator?this:new t(this._zeroDigit,this._positiveSign,this._negativeSign,e)},e.convertToDigit=function(t){var e=t.charCodeAt(0)-this._zeroDigitCharCode;return e>=0&&e<=9?e:-1},e.convertNumberToI18N=function(t){if("0"===this._zeroDigit)return t;for(var e=this._zeroDigitCharCode-"0".charCodeAt(0),n="",i=0;i<t.length;i++)n+=String.fromCharCode(t.charCodeAt(i)+e);return n},e.equals=function(e){return this===e||e instanceof t&&this._zeroDigit===e._zeroDigit&&this._positiveSign===e._positiveSign&&this._negativeSign===e._negativeSign&&this._decimalSeparator===e._decimalSeparator},e.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},e.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},t.of=function(){throw new Error("not yet supported")},t.availableLocales=function(){throw new Error("not yet supported")},t}();vt.STANDARD=new vt("0","+","-",".");var gt=function(t){function e(){return t.apply(this,arguments)||this}return h(e,t),e.prototype.parse=function(t,n,i){switch(this){case e.NORMAL:return!t||!n;case e.ALWAYS:case e.EXCEEDS_PAD:return!0;default:return!n&&!i}},e}(b);gt.NORMAL=new gt("NORMAL"),gt.NEVER=new gt("NEVER"),gt.ALWAYS=new gt("ALWAYS"),gt.EXCEEDS_PAD=new gt("EXCEEDS_PAD"),gt.NOT_NEGATIVE=new gt("NOT_NEGATIVE");var wt=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.isStandalone=function(){switch(this){case e.FULL_STANDALONE:case e.SHORT_STANDALONE:case e.NARROW_STANDALONE:return!0;default:return!1}},n.asStandalone=function(){switch(this){case e.FULL:return e.FULL_STANDALONE;case e.SHORT:return e.SHORT_STANDALONE;case e.NARROW:return e.NARROW_STANDALONE;default:return this}},n.asNormal=function(){switch(this){case e.FULL_STANDALONE:return e.FULL;case e.SHORT_STANDALONE:return e.SHORT;case e.NARROW_STANDALONE:return e.NARROW;default:return this}},e}(b);wt.FULL=new wt("FULL"),wt.FULL_STANDALONE=new wt("FULL_STANDALONE"),wt.SHORT=new wt("SHORT"),wt.SHORT_STANDALONE=new wt("SHORT_STANDALONE"),wt.NARROW=new wt("NARROW"),wt.NARROW_STANDALONE=new wt("NARROW_STANDALONE");var bt=function(){function t(t){if(t.length>1)throw new u('invalid literal, too long: "'+t+'"');this._literal=t}var e=t.prototype;return e.print=function(t,e){return e.append(this._literal),!0},e.parse=function(t,e,n){if(n===e.length)return~n;var i=e.charAt(n);return!1===t.charEquals(this._literal,i)?~n:n+this._literal.length},e.toString=function(){return"'"===this._literal?"''":"'"+this._literal+"'"},t}(),xt=function(){function t(t,e){this._printerParsers=t,this._optional=e}var e=t.prototype;return e.withOptional=function(e){return e===this._optional?this:new t(this._printerParsers,e)},e.print=function(t,e){var n=e.length();this._optional&&t.startOptional();try{for(var i=0;i<this._printerParsers.length;i++)if(!1===this._printerParsers[i].print(t,e))return e.setLength(n),!0}finally{this._optional&&t.endOptional()}return!0},e.parse=function(t,e,n){if(this._optional){t.startOptional();for(var i=n,r=0;r<this._printerParsers.length;r++)if((i=this._printerParsers[r].parse(t,e,i))<0)return t.endOptional(!1),n;return t.endOptional(!0),i}for(var o=0;o<this._printerParsers.length&&!((n=this._printerParsers[o].parse(t,e,n))<0);o++);return n},e.toString=function(){var t="";if(null!=this._printerParsers){t+=this._optional?"[":"(";for(var e=0;e<this._printerParsers.length;e++)t+=this._printerParsers[e].toString();t+=this._optional?"]":")"}return t},t}(),$t=function(){function t(t,e,n,i){if(f(t,"field"),!1===t.range().isFixed())throw new u("Field must have a fixed set of values: "+t);if(e<0||e>9)throw new u("Minimum width must be from 0 to 9 inclusive but was "+e);if(n<1||n>9)throw new u("Maximum width must be from 1 to 9 inclusive but was "+n);if(n<e)throw new u("Maximum width must exceed or equal the minimum width but "+n+" < "+e);this.field=t,this.minWidth=e,this.maxWidth=n,this.decimalPoint=i}var e=t.prototype;return e.print=function(t,e){var n=t.getValue(this.field);if(null===n)return!1;var i=t.symbols();if(0===n){if(this.minWidth>0){this.decimalPoint&&e.append(i.decimalSeparator());for(var r=0;r<this.minWidth;r++)e.append(i.zeroDigit())}}else{var o=this.convertToFraction(n,i.zeroDigit()),s=Math.min(Math.max(o.length,this.minWidth),this.maxWidth);if(1*(o=o.substr(0,s))>0)for(;o.length>this.minWidth&&"0"===o[o.length-1];)o=o.substr(0,o.length-1);var a=o;a=i.convertNumberToI18N(a),this.decimalPoint&&e.append(i.decimalSeparator()),e.append(a)}return!0},e.parse=function(t,e,n){var i=t.isStrict()?this.minWidth:0,r=t.isStrict()?this.maxWidth:9,o=e.length;if(n===o)return i>0?~n:n;if(this.decimalPoint){if(e[n]!==t.symbols().decimalSeparator())return i>0?~n:n;n++}var s=n+i;if(s>o)return~n;for(var a=Math.min(n+r,o),u=0,l=n;l<a;){var c=e.charAt(l++),h=t.symbols().convertToDigit(c);if(h<0){if(l<s)return~n;l--;break}u=10*u+h}var p=l-n,_=Math.pow(10,p),f=this.convertFromFraction(u,_);return t.setParsedField(this.field,f,n,l)},e.convertToFraction=function(t,e){var n=this.field.range();n.checkValidValue(t,this.field);for(var i=n.minimum(),r=n.maximum()-i+1,o=t-i,s=""+w.intDiv(1e9*o,r);s.length<9;)s=e+s;return s},e.convertFromFraction=function(t,e){var n=this.field.range(),i=n.minimum(),r=n.maximum()-i+1;return w.intDiv(t*r,e)},e.toString=function(){var t=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+t+")"},t}(),Ct=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],Et=function(){function t(t,e,n,i,r){void 0===r&&(r=0),this._field=t,this._minWidth=e,this._maxWidth=n,this._signStyle=i,this._subsequentWidth=r}var e=t.prototype;return e.field=function(){return this._field},e.minWidth=function(){return this._minWidth},e.maxWidth=function(){return this._maxWidth},e.signStyle=function(){return this._signStyle},e.withFixedWidth=function(){return-1===this._subsequentWidth?this:new t(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},e.withSubsequentWidth=function(e){return new t(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+e)},e._isFixedWidth=function(){return-1===this._subsequentWidth||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===gt.NOT_NEGATIVE},e.print=function(t,e){var n=t.getValue(this._field);if(null==n)return!1;var i=this._getValue(t,n),o=t.symbols(),s=""+Math.abs(i);if(s.length>this._maxWidth)throw new r("Field "+this._field+" cannot be printed as the value "+i+" exceeds the maximum print width of "+this._maxWidth);if(s=o.convertNumberToI18N(s),i>=0)switch(this._signStyle){case gt.EXCEEDS_PAD:this._minWidth<15&&i>=Ct[this._minWidth]&&e.append(o.positiveSign());break;case gt.ALWAYS:e.append(o.positiveSign())}else switch(this._signStyle){case gt.NORMAL:case gt.EXCEEDS_PAD:case gt.ALWAYS:e.append(o.negativeSign());break;case gt.NOT_NEGATIVE:throw new r("Field "+this._field+" cannot be printed as the value "+i+" cannot be negative according to the SignStyle")}for(var a=0;a<this._minWidth-s.length;a++)e.append(o.zeroDigit());return e.append(s),!0},e.parse=function(t,e,n){var i=e.length;if(n===i)return~n;_(n>=0&&n<i);var r=e.charAt(n),o=!1,s=!1;if(r===t.symbols().positiveSign()){if(!1===this._signStyle.parse(!0,t.isStrict(),this._minWidth===this._maxWidth))return~n;s=!0,n++}else if(r===t.symbols().negativeSign()){if(!1===this._signStyle.parse(!1,t.isStrict(),this._minWidth===this._maxWidth))return~n;o=!0,n++}else if(this._signStyle===gt.ALWAYS&&t.isStrict())return~n;var u=t.isStrict()||this._isFixedWidth()?this._minWidth:1,l=n+u;if(l>i)return~n;for(var c=(t.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),h=0,p=n,f=0;f<2;f++){for(var d=Math.min(p+c,i);p<d;){var m=e.charAt(p++),y=t.symbols().convertToDigit(m);if(y<0){if(--p<l)return~n;break}if(p-n>15)throw new a("number text exceeds length");h=10*h+y}if(!(this._subsequentWidth>0&&0===f))break;var v=p-n;c=Math.max(u,v-this._subsequentWidth),p=n,h=0}if(o){if(0===h&&t.isStrict())return~(n-1);0!==h&&(h=-h)}else if(this._signStyle===gt.EXCEEDS_PAD&&t.isStrict()){var g=p-n;if(s){if(g<=this._minWidth)return~(n-1)}else if(g>this._minWidth)return~n}return this._setValue(t,h,n,p)},e._getValue=function(t,e){return e},e._setValue=function(t,e,n,i){return t.setParsedField(this._field,e,n,i)},e.toString=function(){return 1===this._minWidth&&15===this._maxWidth&&this._signStyle===gt.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===gt.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},t}(),At=function(t){function e(e,n,i,o,s){var a;if(a=t.call(this,e,n,i,gt.NOT_NEGATIVE)||this,n<1||n>10)throw new u("The width must be from 1 to 10 inclusive but was "+n);if(i<1||i>10)throw new u("The maxWidth must be from 1 to 10 inclusive but was "+i);if(i<n)throw new u("The maxWidth must be greater than the width");if(null===s){if(!1===e.range().isValidValue(o))throw new u("The base value must be within the range of the field");if(o+Ct[n]>w.MAX_SAFE_INTEGER)throw new r("Unable to add printer-parser as the range exceeds the capacity of an int")}return a._baseValue=o,a._baseDate=s,a}h(e,t);var n=e.prototype;return n._getValue=function(t,e){var n=Math.abs(e),i=this._baseValue;return null!==this._baseDate&&(t.temporal(),i=ee.INSTANCE.date(this._baseDate).get(this._field)),e>=i&&e<i+Ct[this._minWidth]?n%Ct[this._minWidth]:n%Ct[this._maxWidth]},n._setValue=function(t,e,n,i){var r=this._baseValue;if(null!=this._baseDate&&(r=t.getEffectiveChronology().date(this._baseDate).get(this._field)),i-n===this._minWidth&&e>=0){var o=Ct[this._minWidth],s=r-r%o;(e=r>0?s+e:s-e)<r&&(e+=o)}return t.setParsedField(this._field,e,n,i)},n.withFixedWidth=function(){return-1===this._subsequentWidth?this:new e(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,-1)},n.withSubsequentWidth=function(t){return new e(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+t)},n.isFixedWidth=function(e){return!1!==e.isStrict()&&t.prototype.isFixedWidth.call(this,e)},n.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(null!=this._baseDate?this._baseDate:this._baseValue)+")"},e}(Et),kt=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],St=function(){function t(t,e){f(t,"noOffsetText"),f(e,"pattern"),this.noOffsetText=t,this.type=this._checkPattern(e)}var e=t.prototype;return e._checkPattern=function(t){for(var e=0;e<kt.length;e++)if(kt[e]===t)return e;throw new u("Invalid zone offset pattern: "+t)},e.print=function(t,e){var n=t.getValue(T.OFFSET_SECONDS);if(null==n)return!1;var i=w.safeToInt(n);if(0===i)e.append(this.noOffsetText);else{var r=Math.abs(w.intMod(w.intDiv(i,3600),100)),o=Math.abs(w.intMod(w.intDiv(i,60),60)),s=Math.abs(w.intMod(i,60)),a=e.length(),u=r;e.append(i<0?"-":"+").appendChar(w.intDiv(r,10)+"0").appendChar(w.intMod(r,10)+"0"),(this.type>=3||this.type>=1&&o>0)&&(e.append(this.type%2==0?":":"").appendChar(w.intDiv(o,10)+"0").appendChar(o%10+"0"),u+=o,(this.type>=7||this.type>=5&&s>0)&&(e.append(this.type%2==0?":":"").appendChar(w.intDiv(s,10)+"0").appendChar(s%10+"0"),u+=s)),0===u&&(e.setLength(a),e.append(this.noOffsetText))}return!0},e.parse=function(t,e,n){var i=e.length,r=this.noOffsetText.length;if(0===r){if(n===i)return t.setParsedField(T.OFFSET_SECONDS,0,n,n)}else{if(n===i)return~n;if(t.subSequenceEquals(e,n,this.noOffsetText,0,r))return t.setParsedField(T.OFFSET_SECONDS,0,n,n+r)}var o=e[n];if("+"===o||"-"===o){var s="-"===o?-1:1,a=[0,0,0,0];if(a[0]=n+1,!1===(this._parseNumber(a,1,e,!0)||this._parseNumber(a,2,e,this.type>=3)||this._parseNumber(a,3,e,!1))){var u=w.safeZero(s*(3600*a[1]+60*a[2]+a[3]));return t.setParsedField(T.OFFSET_SECONDS,u,n,a[0])}}return 0===r?t.setParsedField(T.OFFSET_SECONDS,0,n,n+r):~n},e._parseNumber=function(t,e,n,i){if((this.type+3)/2<e)return!1;var r=t[0];if(this.type%2==0&&e>1){if(r+1>n.length||":"!==n[r])return i;r++}if(r+2>n.length)return i;var o=n[r++],s=n[r++];if(o<"0"||o>"9"||s<"0"||s>"9")return i;var a=10*(o.charCodeAt(0)-48)+(s.charCodeAt(0)-48);return a<0||a>59?i:(t[e]=a,t[0]=r,!1)},e.toString=function(){var t=this.noOffsetText.replace("'","''");return"Offset("+kt[this.type]+",'"+t+"')"},t}();St.INSTANCE_ID=new St("Z","+HH:MM:ss"),St.PATTERNS=kt;var Tt=function(){function t(t,e,n){this._printerParser=t,this._padWidth=e,this._padChar=n}var e=t.prototype;return e.print=function(t,e){var n=e.length();if(!1===this._printerParser.print(t,e))return!1;var i=e.length()-n;if(i>this._padWidth)throw new r("Cannot print as output of "+i+" characters exceeds pad width of "+this._padWidth);for(var o=0;o<this._padWidth-i;o++)e.insert(n,this._padChar);return!0},e.parse=function(t,e,n){var i=t.isStrict(),r=t.isCaseSensitive();if(_(!(n>e.length)),_(n>=0),n===e.length)return~n;var o=n+this._padWidth;if(o>e.length){if(i)return~n;o=e.length}for(var s=n;s<o&&(r?e[s]===this._padChar:t.charEquals(e[s],this._padChar));)s++;e=e.substring(0,o);var a=this._printerParser.parse(t,e,s);return a!==o&&i?~(n+s):a},e.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(" "===this._padChar?")":",'"+this._padChar+"')")},t}(),It=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.print=function(){return!0},n.parse=function(t,n,i){switch(this){case e.SENSITIVE:t.setCaseSensitive(!0);break;case e.INSENSITIVE:t.setCaseSensitive(!1);break;case e.STRICT:t.setStrict(!0);break;case e.LENIENT:t.setStrict(!1)}return i},n.toString=function(){switch(this){case e.SENSITIVE:return"ParseCaseSensitive(true)";case e.INSENSITIVE:return"ParseCaseSensitive(false)";case e.STRICT:return"ParseStrict(true)";case e.LENIENT:return"ParseStrict(false)"}},e}(b);It.SENSITIVE=new It("SENSITIVE"),It.INSENSITIVE=new It("INSENSITIVE"),It.STRICT=new It("STRICT"),It.LENIENT=new It("LENIENT");var Ot,zt,Mt,Dt=function(){function t(t){this._literal=t}var e=t.prototype;return e.print=function(t,e){return e.append(this._literal),!0},e.parse=function(t,e,n){return _(!(n>e.length||n<0)),!1===t.subSequenceEquals(e,n,this._literal,0,this._literal.length)?~n:n+this._literal.length},e.toString=function(){return"'"+this._literal.replace("'","''")+"'"},t}(),Rt=function(){function t(){}return t.getRules=function(t){throw new r("unsupported ZoneId:"+t)},t.getAvailableZoneIds=function(){return[]},t}(),Pt=function(t){function e(e,n){var i;return(i=t.call(this)||this)._id=e,i._rules=n,i}h(e,t),e.ofId=function(t){return new e(t,Rt.getRules(t))};var n=e.prototype;return n.id=function(){return this._id},n.rules=function(){return this._rules},e}(G),jt=function(){function t(t,e){this.query=t,this.description=e}var e=t.prototype;return e.print=function(t,e){var n=t.getValueQuery(this.query);return null!=n&&(e.append(n.id()),!0)},e.parse=function(t,e,n){var i=e.length;if(n>i)return~n;if(n===i)return~n;var r=e.charAt(n);if("+"===r||"-"===r){var o=t.copy(),s=St.INSTANCE_ID.parse(o,e,n);if(s<0)return s;var a=o.getParsed(T.OFFSET_SECONDS),u=Q.ofTotalSeconds(a);return t.setParsedZone(u),s}if(i>=n+2){var l=e.charAt(n+1);if(t.charEquals(r,"U")&&t.charEquals(l,"T"))return i>=n+3&&t.charEquals(e.charAt(n+2),"C")?this._parsePrefixedOffset(t,e,n,n+3):this._parsePrefixedOffset(t,e,n,n+2);if(t.charEquals(r,"G")&&i>=n+3&&t.charEquals(l,"M")&&t.charEquals(e.charAt(n+2),"T"))return this._parsePrefixedOffset(t,e,n,n+3)}if("SYSTEM"===e.substr(n,6))return t.setParsedZone(G.systemDefault()),n+6;if(t.charEquals(r,"Z"))return t.setParsedZone(Q.UTC),n+1;var c=Rt.getAvailableZoneIds();qt.size!==c.length&&(qt=Nt.createTreeMap(c));for(var h=i-n,p=qt.treeMap,_=null,f=0;null!=p;){var d=e.substr(n,Math.min(p.length,h));null!=(p=p.get(d))&&p.isLeaf&&(_=d,f=p.length)}return null!=_?(t.setParsedZone(Pt.ofId(_)),n+f):~n},e._parsePrefixedOffset=function(t,e,n,i){var r=e.substring(n,i).toUpperCase(),o=t.copy();if(i<e.length&&t.charEquals(e.charAt(i),"Z"))return t.setParsedZone(G.ofOffset(r,Q.UTC)),i;var s=St.INSTANCE_ID.parse(o,e,i);if(s<0)return t.setParsedZone(G.ofOffset(r,Q.UTC)),i;var a=o.getParsed(T.OFFSET_SECONDS),u=Q.ofTotalSeconds(a);return t.setParsedZone(G.ofOffset(r,u)),s},e.toString=function(){return this.description},t}(),Nt=function(){function t(t,e){this.size=t,this.treeMap=e}return t.createTreeMap=function(e){for(var n=e.sort((function(t,e){return t.length-e.length})),i=new Lt(n[0].length,!1),r=0;r<n.length;r++)i.add(n[r]);return new t(n.length,i)},t}(),Lt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.length=t,this.isLeaf=e,this._treeMap={}}var e=t.prototype;return e.add=function(e){var n=e.length;if(n===this.length)this._treeMap[e]=new t(n,!0);else if(n>this.length){var i=e.substr(0,this.length),r=this._treeMap[i];null==r&&(r=new t(n,!1),this._treeMap[i]=r),r.add(e)}},e.get=function(t){return this._treeMap[t]},t}(),qt=new Nt([]),Bt=15,Ft=function(){function t(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}t._of=function(e,n){f(e,"parent"),f(n,"optional");var i=new t;return i._parent=e,i._optional=n,i};var e=t.prototype;return e.parseCaseSensitive=function(){return this._appendInternalPrinterParser(It.SENSITIVE),this},e.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(It.INSENSITIVE),this},e.parseStrict=function(){return this._appendInternalPrinterParser(It.STRICT),this},e.parseLenient=function(){return this._appendInternalPrinterParser(It.LENIENT),this},e.appendValue=function(){return 1===arguments.length?this._appendValue1.apply(this,arguments):2===arguments.length?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},e._appendValue1=function(t){return f(t),this._appendValuePrinterParser(new Et(t,1,Bt,gt.NORMAL)),this},e._appendValue2=function(t,e){if(f(t),e<1||e>Bt)throw new u("The width must be from 1 to 15 inclusive but was "+e);var n=new Et(t,e,e,gt.NOT_NEGATIVE);return this._appendValuePrinterParser(n),this},e._appendValue4=function(t,e,n,i){if(f(t),f(i),e===n&&i===gt.NOT_NEGATIVE)return this._appendValue2(t,n);if(e<1||e>Bt)throw new u("The minimum width must be from 1 to 15 inclusive but was "+e);if(n<1||n>Bt)throw new u("The minimum width must be from 1 to 15 inclusive but was "+n);if(n<e)throw new u("The maximum width must exceed or equal the minimum width but "+n+" < "+e);var r=new Et(t,e,n,i);return this._appendValuePrinterParser(r),this},e.appendValueReduced=function(){return 4===arguments.length&&arguments[3]instanceof Y?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},e._appendValueReducedFieldWidthMaxWidthBaseValue=function(t,e,n,i){f(t,"field");var r=new At(t,e,n,i,null);return this._appendValuePrinterParser(r),this},e._appendValueReducedFieldWidthMaxWidthBaseDate=function(t,e,n,i){f(t,"field"),f(i,"baseDate"),d(i,Y,"baseDate");var r=new At(t,e,n,0,i);return this._appendValuePrinterParser(r),this},e._appendValuePrinterParser=function(t){if(_(null!=t),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof Et){var e=this._active._valueParserIndex,n=this._active._printerParsers[e];t.minWidth()===t.maxWidth()&&t.signStyle()===gt.NOT_NEGATIVE?(n=n.withSubsequentWidth(t.maxWidth()),this._appendInternal(t.withFixedWidth()),this._active._valueParserIndex=e):(n=n.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(t)),this._active._printerParsers[e]=n}else this._active._valueParserIndex=this._appendInternal(t);return this},e.appendFraction=function(t,e,n,i){return this._appendInternal(new $t(t,e,n,i)),this},e.appendInstant=function(t){if(void 0===t&&(t=-2),t<-2||t>9)throw new u("Invalid fractional digits: "+t);return this._appendInternal(new Vt(t)),this},e.appendOffsetId=function(){return this._appendInternal(St.INSTANCE_ID),this},e.appendOffset=function(t,e){return this._appendInternalPrinterParser(new St(e,t)),this},e.appendZoneId=function(){return this._appendInternal(new jt(I.zoneId(),"ZoneId()")),this},e.appendPattern=function(t){return f(t,"pattern"),this._parsePattern(t),this},e.appendZoneText=function(){throw new u("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},e.appendText=function(){throw new u("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},e.appendLocalizedOffset=function(){throw new u("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},e.appendWeekField=function(){throw new u("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},e._parsePattern=function(t){for(var e={G:T.ERA,y:T.YEAR_OF_ERA,u:T.YEAR,Q:rt.QUARTER_OF_YEAR,q:rt.QUARTER_OF_YEAR,M:T.MONTH_OF_YEAR,L:T.MONTH_OF_YEAR,D:T.DAY_OF_YEAR,d:T.DAY_OF_MONTH,F:T.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:T.DAY_OF_WEEK,c:T.DAY_OF_WEEK,e:T.DAY_OF_WEEK,a:T.AMPM_OF_DAY,H:T.HOUR_OF_DAY,k:T.CLOCK_HOUR_OF_DAY,K:T.HOUR_OF_AMPM,h:T.CLOCK_HOUR_OF_AMPM,m:T.MINUTE_OF_HOUR,s:T.SECOND_OF_MINUTE,S:T.NANO_OF_SECOND,A:T.MILLI_OF_DAY,n:T.NANO_OF_SECOND,N:T.NANO_OF_DAY},n=0;n<t.length;n++){var i=t.charAt(n);if(i>="A"&&i<="Z"||i>="a"&&i<="z"){for(var r=n++;n<t.length&&t.charAt(n)===i;n++);var o=n-r;if("p"===i){var s=0;if(n<t.length&&((i=t.charAt(n))>="A"&&i<="Z"||i>="a"&&i<="z")){for(s=o,r=n++;n<t.length&&t.charAt(n)===i;n++);o=n-r}if(0===s)throw new u("Pad letter 'p' must be followed by valid pad pattern: "+t);this.padNext(s)}var a=e[i];if(null!=a)this._parseField(i,o,a);else if("z"===i){if(o>4)throw new u("Too many pattern letters: "+i);4===o?this.appendZoneText(wt.FULL):this.appendZoneText(wt.SHORT)}else if("V"===i){if(2!==o)throw new u("Pattern letter count must be 2: "+i);this.appendZoneId()}else if("Z"===i)if(o<4)this.appendOffset("+HHMM","+0000");else if(4===o)this.appendLocalizedOffset(wt.FULL);else{if(5!==o)throw new u("Too many pattern letters: "+i);this.appendOffset("+HH:MM:ss","Z")}else if("O"===i)if(1===o)this.appendLocalizedOffset(wt.SHORT);else{if(4!==o)throw new u("Pattern letter count must be 1 or 4: "+i);this.appendLocalizedOffset(wt.FULL)}else if("X"===i){if(o>5)throw new u("Too many pattern letters: "+i);this.appendOffset(St.PATTERNS[o+(1===o?0:1)],"Z")}else if("x"===i){if(o>5)throw new u("Too many pattern letters: "+i);var l=1===o?"+00":o%2==0?"+0000":"+00:00";this.appendOffset(St.PATTERNS[o+(1===o?0:1)],l)}else if("W"===i){if(o>1)throw new u("Too many pattern letters: "+i);this.appendWeekField("W",o)}else if("w"===i){if(o>2)throw new u("Too many pattern letters: "+i);this.appendWeekField("w",o)}else{if("Y"!==i)throw new u("Unknown pattern letter: "+i);this.appendWeekField("Y",o)}n--}else if("'"===i){for(var c=n++;n<t.length;n++)if("'"===t.charAt(n)){if(!(n+1<t.length&&"'"===t.charAt(n+1)))break;n++}if(n>=t.length)throw new u("Pattern ends with an incomplete string literal: "+t);var h=t.substring(c+1,n);0===h.length?this.appendLiteral("'"):this.appendLiteral(h.replace("''","'"))}else if("["===i)this.optionalStart();else if("]"===i){if(null===this._active._parent)throw new u("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if("{"===i||"}"===i||"#"===i)throw new u("Pattern includes reserved character: '"+i+"'");this.appendLiteral(i)}}},e._parseField=function(t,e,n){switch(t){case"u":case"y":2===e?this.appendValueReduced(n,2,2,At.BASE_DATE):e<4?this.appendValue(n,e,Bt,gt.NORMAL):this.appendValue(n,e,Bt,gt.EXCEEDS_PAD);break;case"M":case"Q":switch(e){case 1:this.appendValue(n);break;case 2:this.appendValue(n,2);break;case 3:this.appendText(n,wt.SHORT);break;case 4:this.appendText(n,wt.FULL);break;case 5:this.appendText(n,wt.NARROW);break;default:throw new u("Too many pattern letters: "+t)}break;case"L":case"q":switch(e){case 1:this.appendValue(n);break;case 2:this.appendValue(n,2);break;case 3:this.appendText(n,wt.SHORT_STANDALONE);break;case 4:this.appendText(n,wt.FULL_STANDALONE);break;case 5:this.appendText(n,wt.NARROW_STANDALONE);break;default:throw new u("Too many pattern letters: "+t)}break;case"e":switch(e){case 1:case 2:this.appendWeekField("e",e);break;case 3:this.appendText(n,wt.SHORT);break;case 4:this.appendText(n,wt.FULL);break;case 5:this.appendText(n,wt.NARROW);break;default:throw new u("Too many pattern letters: "+t)}break;case"c":switch(e){case 1:this.appendWeekField("c",e);break;case 2:throw new u("Invalid number of pattern letters: "+t);case 3:this.appendText(n,wt.SHORT_STANDALONE);break;case 4:this.appendText(n,wt.FULL_STANDALONE);break;case 5:this.appendText(n,wt.NARROW_STANDALONE);break;default:throw new u("Too many pattern letters: "+t)}break;case"a":if(1!==e)throw new u("Too many pattern letters: "+t);this.appendText(n,wt.SHORT);break;case"E":case"G":switch(e){case 1:case 2:case 3:this.appendText(n,wt.SHORT);break;case 4:this.appendText(n,wt.FULL);break;case 5:this.appendText(n,wt.NARROW);break;default:throw new u("Too many pattern letters: "+t)}break;case"S":this.appendFraction(T.NANO_OF_SECOND,e,e,!1);break;case"F":if(1!==e)throw new u("Too many pattern letters: "+t);this.appendValue(n);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(1===e)this.appendValue(n);else{if(2!==e)throw new u("Too many pattern letters: "+t);this.appendValue(n,e)}break;case"D":if(1===e)this.appendValue(n);else{if(!(e<=3))throw new u("Too many pattern letters: "+t);this.appendValue(n,e)}break;default:1===e?this.appendValue(n):this.appendValue(n,e)}},e.padNext=function(){return 1===arguments.length?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},e._padNext1=function(t){return this._padNext2(t," ")},e._padNext2=function(t,e){if(t<1)throw new u("The pad width must be at least one but was "+t);return this._active._padNextWidth=t,this._active._padNextChar=e,this._active._valueParserIndex=-1,this},e.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=t._of(this._active,!0),this},e.optionalEnd=function(){if(null==this._active._parent)throw new l("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var t=new xt(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(t)}else this._active=this._active._parent;return this},e._appendInternal=function(t){return _(null!=t),this._active._padNextWidth>0&&(null!=t&&(t=new Tt(t,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(t),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},e.appendLiteral=function(t){return _(null!=t),t.length>0&&(1===t.length?this._appendInternalPrinterParser(new bt(t.charAt(0))):this._appendInternalPrinterParser(new Dt(t))),this},e._appendInternalPrinterParser=function(t){return _(null!=t),this._active._padNextWidth>0&&(null!=t&&(t=new Tt(t,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(t),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},e.append=function(t){return f(t,"formatter"),this._appendInternal(t._toPrinterParser(!1)),this},e.toFormatter=function(t){for(void 0===t&&(t=F.SMART);null!=this._active._parent;)this.optionalEnd();var e=new xt(this._printerParsers,!1);return new Wt(e,null,vt.STANDARD,t,null,null,null)},t}(),Ut=31556952e4,Ht=62167219200,Vt=function(){function t(t){this.fractionalDigits=t}var e=t.prototype;return e.print=function(t,e){var n=t.getValue(T.INSTANT_SECONDS),i=0;if(t.temporal().isSupported(T.NANO_OF_SECOND)&&(i=t.temporal().getLong(T.NANO_OF_SECOND)),null==n)return!1;var r=n,o=T.NANO_OF_SECOND.checkValidIntValue(i);if(r>=-62167219200){var s=r-Ut+Ht,a=w.floorDiv(s,Ut)+1,u=w.floorMod(s,Ut),l=ce.ofEpochSecond(u-Ht,0,Q.UTC);a>0&&e.append("+").append(a),e.append(l),0===l.second()&&e.append(":00")}else{var c=r+Ht,h=w.intDiv(c,Ut),p=w.intMod(c,Ut),_=ce.ofEpochSecond(p-Ht,0,Q.UTC),f=e.length();e.append(_),0===_.second()&&e.append(":00"),h<0&&(-1e4===_.year()?e.replace(f,f+2,""+(h-1)):0===p?e.insert(f,h):e.insert(f+1,Math.abs(h)))}if(-2===this.fractionalDigits)0!==o&&(e.append("."),0===w.intMod(o,1e6)?e.append((""+(w.intDiv(o,1e6)+1e3)).substring(1)):0===w.intMod(o,1e3)?e.append((""+(w.intDiv(o,1e3)+1e6)).substring(1)):e.append((""+(o+1e9)).substring(1)));else if(this.fractionalDigits>0||-1===this.fractionalDigits&&o>0){e.append(".");for(var d=1e8,m=0;-1===this.fractionalDigits&&o>0||m<this.fractionalDigits;m++){var y=w.intDiv(o,d);e.append(y),o-=y*d,d=w.intDiv(d,10)}}return e.append("Z"),!0},e.parse=function(t,e,n){var i=t.copy(),r=this.fractionalDigits<0?0:this.fractionalDigits,o=this.fractionalDigits<0?9:this.fractionalDigits,s=(new Ft).append(Wt.ISO_LOCAL_DATE).appendLiteral("T").appendValue(T.HOUR_OF_DAY,2).appendLiteral(":").appendValue(T.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(T.SECOND_OF_MINUTE,2).appendFraction(T.NANO_OF_SECOND,r,o,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1).parse(i,e,n);if(s<0)return s;var a,u=i.getParsed(T.YEAR),l=i.getParsed(T.MONTH_OF_YEAR),c=i.getParsed(T.DAY_OF_MONTH),h=i.getParsed(T.HOUR_OF_DAY),p=i.getParsed(T.MINUTE_OF_HOUR),_=i.getParsed(T.SECOND_OF_MINUTE),f=i.getParsed(T.NANO_OF_SECOND),d=null!=_?_:0,m=null!=f?f:0,y=w.intMod(u,1e4),v=0;24===h&&0===p&&0===d&&0===m?(h=0,v=1):23===h&&59===p&&60===d&&(t.setParsedLeapSecond(),d=59);try{a=ce.of(y,l,c,h,p,d,0).plusDays(v).toEpochSecond(Q.UTC),a+=w.safeMultiply(w.intDiv(u,1e4),Ut)}catch(t){return~n}var g=s;return g=t.setParsedField(T.INSTANT_SECONDS,a,n,g),t.setParsedField(T.NANO_OF_SECOND,m,n,g)},e.toString=function(){return"Instant()"},t}(),Yt=function(){function t(){this._str=""}var e=t.prototype;return e.append=function(t){return this._str+=t,this},e.appendChar=function(t){return this._str+=t[0],this},e.insert=function(t,e){return this._str=this._str.slice(0,t)+e+this._str.slice(t),this},e.replace=function(t,e,n){return this._str=this._str.slice(0,t)+n+this._str.slice(e),this},e.length=function(){return this._str.length},e.setLength=function(t){return this._str=this._str.slice(0,t),this},e.toString=function(){return this._str},t}(),Wt=function(){function t(t,e,n,i,r,o,s){void 0===o&&(o=ee.INSTANCE),_(null!=t),_(null!=n),_(null!=i),this._printerParser=t,this._locale=e,this._decimalStyle=n,this._resolverStyle=i,this._resolverFields=r,this._chrono=o,this._zone=s}t.parsedExcessDays=function(){return t.PARSED_EXCESS_DAYS},t.parsedLeapSecond=function(){return t.PARSED_LEAP_SECOND},t.ofPattern=function(t){return(new Ft).appendPattern(t).toFormatter()};var e=t.prototype;return e.locale=function(){return this._locale},e.decimalStyle=function(){return this._decimalStyle},e.chronology=function(){return this._chrono},e.withChronology=function(e){return null!=this._chrono&&this._chrono.equals(e)?this:new t(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,e,this._zone)},e.withLocale=function(){return this},e.withResolverStyle=function(e){return f(e,"resolverStyle"),e.equals(this._resolverStyle)?this:new t(this._printerParser,this._locale,this._decimalStyle,e,this._resolverFields,this._chrono,this._zone)},e.format=function(t){var e=new Yt(32);return this._formatTo(t,e),e.toString()},e._formatTo=function(t,e){f(t,"temporal"),f(e,"appendable");var n=new it(t,this);this._printerParser.print(n,e)},e.parse=function(t,e){return 1===arguments.length?this.parse1(t):this.parse2(t,e)},e.parse1=function(t){f(t,"text");try{return this._parseToBuilder(t,null).resolve(this._resolverStyle,this._resolverFields)}catch(e){throw e instanceof o?e:this._createError(t,e)}},e.parse2=function(t,e){f(t,"text"),f(e,"type");try{return this._parseToBuilder(t,null).resolve(this._resolverStyle,this._resolverFields).build(e)}catch(e){throw e instanceof o?e:this._createError(t,e)}},e._createError=function(t,e){var n;return n=t.length>64?t.substring(0,64)+"...":t,new o("Text '"+n+"' could not be parsed: "+e.message,t,0,e)},e._parseToBuilder=function(t,e){var n=null!=e?e:new q(0),i=this._parseUnresolved0(t,n);if(null==i||n.getErrorIndex()>=0||null==e&&n.getIndex()<t.length){var r;throw r=t.length>64?t.substr(0,64).toString()+"...":t,n.getErrorIndex()>=0?new o("Text '"+r+"' could not be parsed at index "+n.getErrorIndex(),t,n.getErrorIndex()):new o("Text '"+r+"' could not be parsed, unparsed text found at index "+n.getIndex(),t,n.getIndex())}return i.toBuilder()},e.parseUnresolved=function(t,e){return this._parseUnresolved0(t,e)},e._parseUnresolved0=function(t,e){_(null!=t,"text",c),_(null!=e,"position",c);var n=new et(this),i=e.getIndex();return(i=this._printerParser.parse(n,t,i))<0?(e.setErrorIndex(~i),null):(e.setIndex(i),n.toParsed())},e._toPrinterParser=function(t){return this._printerParser.withOptional(t)},e.toString=function(){var t=this._printerParser.toString();return 0===t.indexOf("[")?t:t.substring(1,t.length-1)},t}(),Gt=function(t){function e(e,n){var i;return(i=t.call(this)||this)._month=w.safeToInt(e),i._day=w.safeToInt(n),i}h(e,t),e.now=function(t){return 0===arguments.length?e.now0():1===arguments.length&&t instanceof G?e.nowZoneId(t):e.nowClock(t)},e.now0=function(){return this.nowClock(fe.systemDefaultZone())},e.nowZoneId=function(t){return f(t,"zone"),this.nowClock(fe.system(t))},e.nowClock=function(t){f(t,"clock");var n=ue.now(t);return e.of(n.month(),n.dayOfMonth())},e.of=function(t,n){return 2===arguments.length&&t instanceof j?e.ofMonthNumber(t,n):e.ofNumberNumber(t,n)},e.ofMonthNumber=function(t,n){if(f(t,"month"),T.DAY_OF_MONTH.checkValidValue(n),n>t.maxLength())throw new r("Illegal value for DayOfMonth field, value "+n+" is not valid for month "+t.toString());return new e(t.value(),n)},e.ofNumberNumber=function(t,n){return f(t,"month"),f(n,"dayOfMonth"),e.of(j.of(t),n)},e.from=function(t){if(f(t,"temporal"),d(t,O,"temporal"),t instanceof e)return t;try{return e.of(t.get(T.MONTH_OF_YEAR),t.get(T.DAY_OF_MONTH))}catch(e){throw new r("Unable to obtain MonthDay from TemporalAccessor: "+t+", type "+(t&&null!=t.constructor?t.constructor.name:""))}},e.parse=function(t,n){return 1===arguments.length?e.parseString(t):e.parseStringFormatter(t,n)},e.parseString=function(t){return e.parseStringFormatter(t,Ot)},e.parseStringFormatter=function(t,n){return f(t,"text"),f(n,"formatter"),d(n,Wt,"formatter"),n.parse(t,e.FROM)};var n=e.prototype;return n.monthValue=function(){return this._month},n.month=function(){return j.of(this._month)},n.dayOfMonth=function(){return this._day},n.isSupported=function(t){return t instanceof T?t===T.MONTH_OF_YEAR||t===T.DAY_OF_MONTH:null!=t&&t.isSupportedBy(this)},n.range=function(e){return e===T.MONTH_OF_YEAR?e.range():e===T.DAY_OF_MONTH?S.of(1,this.month().minLength(),this.month().maxLength()):t.prototype.range.call(this,e)},n.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(f(t,"field"),t instanceof T){switch(t){case T.DAY_OF_MONTH:return this._day;case T.MONTH_OF_YEAR:return this._month}throw new s("Unsupported field: "+t)}return t.getFrom(this)},n.isValidYear=function(t){return 0==(29===this._day&&2===this._month&&!1===Kt.isLeap(t))},n.withMonth=function(t){return this.with(j.of(t))},n.with=function(t){if(f(t,"month"),t.value()===this._month)return this;var n=Math.min(this._day,t.maxLength());return new e(t.value(),n)},n.withDayOfMonth=function(t){return t===this._day?this:e.of(this._month,t)},n.query=function(e){return f(e,"query"),d(e,z,"query"),e===I.chronology()?ee.INSTANCE:t.prototype.query.call(this,e)},n.adjustInto=function(t){return f(t,"temporal"),(t=t.with(T.MONTH_OF_YEAR,this._month)).with(T.DAY_OF_MONTH,Math.min(t.range(T.DAY_OF_MONTH).maximum(),this._day))},n.atYear=function(t){return ue.of(t,this._month,this.isValidYear(t)?this._day:28)},n.compareTo=function(t){f(t,"other"),d(t,e,"other");var n=this._month-t.monthValue();return 0===n&&(n=this._day-t.dayOfMonth()),n},n.isAfter=function(t){return f(t,"other"),d(t,e,"other"),this.compareTo(t)>0},n.isBefore=function(t){return f(t,"other"),d(t,e,"other"),this.compareTo(t)<0},n.equals=function(t){if(this===t)return!0;if(t instanceof e){var n=t;return this.monthValue()===n.monthValue()&&this.dayOfMonth()===n.dayOfMonth()}return!1},n.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},n.toJSON=function(){return this.toString()},n.format=function(t){return f(t,"formatter"),d(t,Wt,"formatter"),t.format(this)},e}(O),Zt=function(t){function e(e,n){var i;return(i=t.call(this)||this)._year=w.safeToInt(e),i._month=w.safeToInt(n),i}h(e,t),e.now=function(t){return 0===arguments.length?e.now0():1===arguments.length&&t instanceof G?e.nowZoneId(t):e.nowClock(t)},e.now0=function(){return e.nowClock(fe.systemDefaultZone())},e.nowZoneId=function(t){return e.nowClock(fe.system(t))},e.nowClock=function(t){var n=ue.now(t);return e.of(n.year(),n.month())},e.of=function(t,n){return 2===arguments.length&&n instanceof j?e.ofNumberMonth(t,n):e.ofNumberNumber(t,n)},e.ofNumberMonth=function(t,n){return f(n,"month"),d(n,j,"month"),e.ofNumberNumber(t,n.value())},e.ofNumberNumber=function(t,n){return f(t,"year"),f(n,"month"),T.YEAR.checkValidValue(t),T.MONTH_OF_YEAR.checkValidValue(n),new e(t,n)},e.from=function(t){if(f(t,"temporal"),t instanceof e)return t;try{return e.of(t.get(T.YEAR),t.get(T.MONTH_OF_YEAR))}catch(e){throw new r("Unable to obtain YearMonth from TemporalAccessor: "+t+", type "+(t&&null!=t.constructor?t.constructor.name:""))}},e.parse=function(t,n){return 1===arguments.length?e.parseString(t):e.parseStringFormatter(t,n)},e.parseString=function(t){return e.parseStringFormatter(t,zt)},e.parseStringFormatter=function(t,n){return f(n,"formatter"),n.parse(t,e.FROM)};var n=e.prototype;return n.isSupported=function(t){return 1===arguments.length&&t instanceof k?this.isSupportedField(t):this.isSupportedUnit(t)},n.isSupportedField=function(t){return t instanceof T?t===T.YEAR||t===T.MONTH_OF_YEAR||t===T.PROLEPTIC_MONTH||t===T.YEAR_OF_ERA||t===T.ERA:null!=t&&t.isSupportedBy(this)},n.isSupportedUnit=function(t){return t instanceof A?t===A.MONTHS||t===A.YEARS||t===A.DECADES||t===A.CENTURIES||t===A.MILLENNIA||t===A.ERAS:null!=t&&t.isSupportedBy(this)},n.range=function(e){return e===T.YEAR_OF_ERA?this.year()<=0?S.of(1,Kt.MAX_VALUE+1):S.of(1,Kt.MAX_VALUE):t.prototype.range.call(this,e)},n.get=function(t){return f(t,"field"),d(t,k,"field"),this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(f(t,"field"),d(t,k,"field"),t instanceof T){switch(t){case T.MONTH_OF_YEAR:return this._month;case T.PROLEPTIC_MONTH:return this._getProlepticMonth();case T.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case T.YEAR:return this._year;case T.ERA:return this._year<1?0:1}throw new s("Unsupported field: "+t)}return t.getFrom(this)},n._getProlepticMonth=function(){return w.safeAdd(w.safeMultiply(this._year,12),this._month-1)},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return j.of(this._month)},n.isLeapYear=function(){return ee.isLeapYear(this._year)},n.isValidDay=function(t){return t>=1&&t<=this.lengthOfMonth()},n.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n.with=function(t,e){return 1===arguments.length?this.withAdjuster(t):this.withFieldValue(t,e)},n.withAdjuster=function(t){return f(t,"adjuster"),t.adjustInto(this)},n.withFieldValue=function(t,e){if(f(t,"field"),d(t,k,"field"),t instanceof T){var n=t;switch(n.checkValidValue(e),n){case T.MONTH_OF_YEAR:return this.withMonth(e);case T.PROLEPTIC_MONTH:return this.plusMonths(e-this.getLong(T.PROLEPTIC_MONTH));case T.YEAR_OF_ERA:return this.withYear(this._year<1?1-e:e);case T.YEAR:return this.withYear(e);case T.ERA:return this.getLong(T.ERA)===e?this:this.withYear(1-this._year)}throw new s("Unsupported field: "+t)}return t.adjustInto(this,e)},n.withYear=function(t){return T.YEAR.checkValidValue(t),new e(t,this._month)},n.withMonth=function(t){return T.MONTH_OF_YEAR.checkValidValue(t),new e(this._year,t)},n.plusAmount=function(t){return f(t,"amount"),d(t,x,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,e){if(f(e,"unit"),d(e,$,"unit"),e instanceof A){switch(e){case A.MONTHS:return this.plusMonths(t);case A.YEARS:return this.plusYears(t);case A.DECADES:return this.plusYears(w.safeMultiply(t,10));case A.CENTURIES:return this.plusYears(w.safeMultiply(t,100));case A.MILLENNIA:return this.plusYears(w.safeMultiply(t,1e3));case A.ERAS:return this.with(T.ERA,w.safeAdd(this.getLong(T.ERA),t))}throw new s("Unsupported unit: "+e)}return e.addTo(this,t)},n.plusYears=function(t){if(0===t)return this;var e=T.YEAR.checkValidIntValue(this._year+t);return this.withYear(e)},n.plusMonths=function(t){if(0===t)return this;var n=12*this._year+(this._month-1)+t;return new e(T.YEAR.checkValidIntValue(w.floorDiv(n,12)),w.floorMod(n,12)+1)},n.minusAmount=function(t){return f(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return t===w.MIN_SAFE_INTEGER?this.plusAmountUnit(w.MAX_SAFE_INTEGER,e).plusAmountUnit(1,e):this.plusAmountUnit(-t,e)},n.minusYears=function(t){return t===w.MIN_SAFE_INTEGER?this.plusYears(w.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-t)},n.minusMonths=function(t){return t===w.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-t)},n.query=function(e){return f(e,"query"),d(e,z,"query"),e===I.chronology()?ee.INSTANCE:e===I.precision()?A.MONTHS:e===I.localDate()||e===I.localTime()||e===I.zone()||e===I.zoneId()||e===I.offset()?null:t.prototype.query.call(this,e)},n.adjustInto=function(t){return f(t,"temporal"),d(t,H,"temporal"),t.with(T.PROLEPTIC_MONTH,this._getProlepticMonth())},n.until=function(t,n){f(t,"endExclusive"),f(n,"unit"),d(t,H,"endExclusive"),d(n,$,"unit");var i=e.from(t);if(n instanceof A){var r=i._getProlepticMonth()-this._getProlepticMonth();switch(n){case A.MONTHS:return r;case A.YEARS:return r/12;case A.DECADES:return r/120;case A.CENTURIES:return r/1200;case A.MILLENNIA:return r/12e3;case A.ERAS:return i.getLong(T.ERA)-this.getLong(T.ERA)}throw new s("Unsupported unit: "+n)}return n.between(this,i)},n.atDay=function(t){return ue.of(this._year,this._month,t)},n.atEndOfMonth=function(){return ue.of(this._year,this._month,this.lengthOfMonth())},n.compareTo=function(t){f(t,"other"),d(t,e,"other");var n=this._year-t.year();return 0===n&&(n=this._month-t.monthValue()),n},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){if(this===t)return!0;if(t instanceof e){var n=t;return this.year()===n.year()&&this.monthValue()===n.monthValue()}return!1},n.toString=function(){return zt.format(this)},n.toJSON=function(){return this.toString()},n.format=function(t){return f(t,"formatter"),t.format(this)},e}(H),Kt=function(t){function e(e){var n;return(n=t.call(this)||this)._year=w.safeToInt(e),n}h(e,t);var n=e.prototype;return n.value=function(){return this._year},e.now=function(t){return void 0===t&&(t=void 0),void 0===t?e.now0():t instanceof G?e.nowZoneId(t):e.nowClock(t)},e.now0=function(){return e.nowClock(fe.systemDefaultZone())},e.nowZoneId=function(t){return f(t,"zone"),d(t,G,"zone"),e.nowClock(fe.system(t))},e.nowClock=function(t){f(t,"clock"),d(t,fe,"clock");var n=ue.now(t);return e.of(n.year())},e.of=function(t){return f(t,"isoYear"),T.YEAR.checkValidValue(t),new e(t)},e.from=function(t){if(f(t,"temporal"),d(t,O,"temporal"),t instanceof e)return t;try{return e.of(t.get(T.YEAR))}catch(e){throw new r("Unable to obtain Year from TemporalAccessor: "+t+", type "+(t&&null!=t.constructor?t.constructor.name:""))}},e.parse=function(t,n){return arguments.length<=1?e.parseText(t):e.parseTextFormatter(t,n)},e.parseText=function(t){return f(t,"text"),e.parse(t,Mt)},e.parseTextFormatter=function(t,n){return void 0===n&&(n=Mt),f(t,"text"),f(n,"formatter"),d(n,Wt,"formatter"),n.parse(t,e.FROM)},e.isLeap=function(t){return 0===w.intMod(t,4)&&(0!==w.intMod(t,100)||0===w.intMod(t,400))},n.isSupported=function(t){return 1===arguments.length&&t instanceof k?this.isSupportedField(t):this.isSupportedUnit(t)},n.isSupportedField=function(t){return t instanceof T?t===T.YEAR||t===T.YEAR_OF_ERA||t===T.ERA:null!=t&&t.isSupportedBy(this)},n.isSupportedUnit=function(t){return t instanceof A?t===A.YEARS||t===A.DECADES||t===A.CENTURIES||t===A.MILLENNIA||t===A.ERAS:null!=t&&t.isSupportedBy(this)},n.range=function(e){if(this.isSupported(e))return e.range();if(e instanceof T)throw new s("Unsupported field: "+e);return t.prototype.range.call(this,e)},n.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(f(t,"field"),t instanceof T){switch(t){case T.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case T.YEAR:return this._year;case T.ERA:return this._year<1?0:1}throw new s("Unsupported field: "+t)}return t.getFrom(this)},n.isLeap=function(){return e.isLeap(this._year)},n.withAdjuster=function(t){return f(t,"adjuster"),t.adjustInto(this)},n.withFieldValue=function(t,n){if(f(t,"field"),d(t,k,"field"),t instanceof T){switch(t.checkValidValue(n),t){case T.YEAR_OF_ERA:return e.of(this._year<1?1-n:n);case T.YEAR:return e.of(n);case T.ERA:return this.getLong(T.ERA)===n?this:e.of(1-this._year)}throw new s("Unsupported field: "+t)}return t.adjustInto(this,n)},n.plusAmount=function(t){return f(t,"amount"),d(t,x,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,e){if(f(t,"amountToAdd"),f(e,"unit"),d(e,$,"unit"),e instanceof A){switch(e){case A.YEARS:return this.plusYears(t);case A.DECADES:return this.plusYears(w.safeMultiply(t,10));case A.CENTURIES:return this.plusYears(w.safeMultiply(t,100));case A.MILLENNIA:return this.plusYears(w.safeMultiply(t,1e3));case A.ERAS:return this.with(T.ERA,w.safeAdd(this.getLong(T.ERA),t))}throw new s("Unsupported unit: "+e)}return e.addTo(this,t)},n.plusYears=function(t){return 0===t?this:e.of(T.YEAR.checkValidIntValue(w.safeAdd(this._year,t)))},n.minusAmount=function(t){return f(t,"amount"),d(t,x,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return f(t,"amountToSubtract"),f(e,"unit"),d(e,$,"unit"),t===w.MIN_SAFE_INTEGER?this.plus(w.MAX_SAFE_INTEGER,e).plus(1,e):this.plus(-t,e)},n.minusYears=function(t){return t===w.MIN_SAFE_INTEGER?this.plusYears(w.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-t)},n.adjustInto=function(t){return f(t,"temporal"),t.with(T.YEAR,this._year)},n.isValidMonthDay=function(t){return null!=t&&t.isValidYear(this._year)},n.length=function(){return this.isLeap()?366:365},n.atDay=function(t){return ue.ofYearDay(this._year,t)},n.atMonth=function(t){return 1===arguments.length&&t instanceof j?this.atMonthMonth(t):this.atMonthNumber(t)},n.atMonthMonth=function(t){return f(t,"month"),d(t,j,"month"),Zt.of(this._year,t)},n.atMonthNumber=function(t){return f(t,"month"),Zt.of(this._year,t)},n.atMonthDay=function(t){return f(t,"monthDay"),d(t,Gt,"monthDay"),t.atYear(this._year)},n.query=function(e){return f(e,"query()"),d(e,z,"query()"),e===I.chronology()?ee.INSTANCE:e===I.precision()?A.YEARS:e===I.localDate()||e===I.localTime()||e===I.zone()||e===I.zoneId()||e===I.offset()?null:t.prototype.query.call(this,e)},n.compareTo=function(t){return f(t,"other"),d(t,e,"other"),this._year-t._year},n.isAfter=function(t){return f(t,"other"),d(t,e,"other"),this._year>t._year},n.isBefore=function(t){return f(t,"other"),d(t,e,"other"),this._year<t._year},n.format=function(t){return f(t,"formatter"),d(t,Wt,"formatter"),t.format(this)},n.equals=function(t){return this===t||t instanceof e&&this.value()===t.value()},n.toString=function(){return""+this._year},n.toJSON=function(){return this.toString()},n.until=function(t,n){var i=e.from(t);if(n instanceof A){var r=i.value()-this.value();switch(n){case A.YEARS:return r;case A.DECADES:return w.intDiv(r,10);case A.CENTURIES:return w.intDiv(r,100);case A.MILLENNIA:return w.intDiv(r,1e3);case A.ERAS:return i.getLong(T.ERA)-this.getLong(T.ERA)}throw new s("Unsupported unit: "+n)}return n.between(this,i)},e}(H),Xt=function(){function t(){}return t.firstDayOfMonth=function(){return Jt.FIRST_DAY_OF_MONTH},t.lastDayOfMonth=function(){return Jt.LAST_DAY_OF_MONTH},t.firstDayOfNextMonth=function(){return Jt.FIRST_DAY_OF_NEXT_MONTH},t.firstDayOfYear=function(){return Jt.FIRST_DAY_OF_YEAR},t.lastDayOfYear=function(){return Jt.LAST_DAY_OF_YEAR},t.firstDayOfNextYear=function(){return Jt.FIRST_DAY_OF_NEXT_YEAR},t.firstInMonth=function(t){return f(t,"dayOfWeek"),new Qt(1,t)},t.lastInMonth=function(t){return f(t,"dayOfWeek"),new Qt(-1,t)},t.dayOfWeekInMonth=function(t,e){return f(e,"dayOfWeek"),new Qt(t,e)},t.next=function(t){return new te(2,t)},t.nextOrSame=function(t){return new te(0,t)},t.previous=function(t){return new te(3,t)},t.previousOrSame=function(t){return new te(1,t)},t}(),Jt=function(t){function e(e){var n;return(n=t.call(this)||this)._ordinal=e,n}return h(e,t),e.prototype.adjustInto=function(t){switch(this._ordinal){case 0:return t.with(T.DAY_OF_MONTH,1);case 1:return t.with(T.DAY_OF_MONTH,t.range(T.DAY_OF_MONTH).maximum());case 2:return t.with(T.DAY_OF_MONTH,1).plus(1,A.MONTHS);case 3:return t.with(T.DAY_OF_YEAR,1);case 4:return t.with(T.DAY_OF_YEAR,t.range(T.DAY_OF_YEAR).maximum());case 5:return t.with(T.DAY_OF_YEAR,1).plus(1,A.YEARS)}throw new l("Unreachable")},e}(U);Jt.FIRST_DAY_OF_MONTH=new Jt(0),Jt.LAST_DAY_OF_MONTH=new Jt(1),Jt.FIRST_DAY_OF_NEXT_MONTH=new Jt(2),Jt.FIRST_DAY_OF_YEAR=new Jt(3),Jt.LAST_DAY_OF_YEAR=new Jt(4),Jt.FIRST_DAY_OF_NEXT_YEAR=new Jt(5);var Qt=function(t){function e(e,n){var i;return(i=t.call(this)||this)._ordinal=e,i._dowValue=n.value(),i}return h(e,t),e.prototype.adjustInto=function(t){if(this._ordinal>=0){var e=t.with(T.DAY_OF_MONTH,1),n=e.get(T.DAY_OF_WEEK),i=w.intMod(this._dowValue-n+7,7);return i+=7*(this._ordinal-1),e.plus(i,A.DAYS)}var r=t.with(T.DAY_OF_MONTH,t.range(T.DAY_OF_MONTH).maximum()),o=r.get(T.DAY_OF_WEEK),s=this._dowValue-o;return s=0===s?0:s>0?s-7:s,s-=7*(-this._ordinal-1),r.plus(s,A.DAYS)},e}(U),te=function(t){function e(e,n){var i;return i=t.call(this)||this,f(n,"dayOfWeek"),i._relative=e,i._dowValue=n.value(),i}return h(e,t),e.prototype.adjustInto=function(t){var e=t.get(T.DAY_OF_WEEK);if(this._relative<2&&e===this._dowValue)return t;if(0==(1&this._relative)){var n=e-this._dowValue;return t.plus(n>=0?7-n:-n,A.DAYS)}var i=this._dowValue-e;return t.minus(i>=0?7-i:-i,A.DAYS)},e}(U),ee=function(t){function e(){return t.apply(this,arguments)||this}h(e,t),e.isLeapYear=function(t){return 0==(3&t)&&(t%100!=0||t%400==0)};var n=e.prototype;return n._updateResolveMap=function(t,e,n){f(t,"fieldValues"),f(e,"field");var i=t.get(e);if(null!=i&&i!==n)throw new r("Invalid state, field: "+e+" "+i+" conflicts with "+e+" "+n);t.put(e,n)},n.resolveDate=function(t,e){if(t.containsKey(T.EPOCH_DAY))return ue.ofEpochDay(t.remove(T.EPOCH_DAY));var n=t.remove(T.PROLEPTIC_MONTH);null!=n&&(e!==F.LENIENT&&T.PROLEPTIC_MONTH.checkValidValue(n),this._updateResolveMap(t,T.MONTH_OF_YEAR,w.floorMod(n,12)+1),this._updateResolveMap(t,T.YEAR,w.floorDiv(n,12)));var i=t.remove(T.YEAR_OF_ERA);if(null!=i){e!==F.LENIENT&&T.YEAR_OF_ERA.checkValidValue(i);var o=t.remove(T.ERA);if(null==o){var s=t.get(T.YEAR);e===F.STRICT?null!=s?this._updateResolveMap(t,T.YEAR,s>0?i:w.safeSubtract(1,i)):t.put(T.YEAR_OF_ERA,i):this._updateResolveMap(t,T.YEAR,null==s||s>0?i:w.safeSubtract(1,i))}else if(1===o)this._updateResolveMap(t,T.YEAR,i);else{if(0!==o)throw new r("Invalid value for era: "+o);this._updateResolveMap(t,T.YEAR,w.safeSubtract(1,i))}}else t.containsKey(T.ERA)&&T.ERA.checkValidValue(t.get(T.ERA));if(t.containsKey(T.YEAR)){if(t.containsKey(T.MONTH_OF_YEAR)&&t.containsKey(T.DAY_OF_MONTH)){var a=T.YEAR.checkValidIntValue(t.remove(T.YEAR)),u=t.remove(T.MONTH_OF_YEAR),l=t.remove(T.DAY_OF_MONTH);if(e===F.LENIENT){var c=u-1,h=l-1;return ue.of(a,1,1).plusMonths(c).plusDays(h)}return e===F.SMART?(T.DAY_OF_MONTH.checkValidValue(l),4===u||6===u||9===u||11===u?l=Math.min(l,30):2===u&&(l=Math.min(l,j.FEBRUARY.length(Kt.isLeap(a)))),ue.of(a,u,l)):ue.of(a,u,l)}if(t.containsKey(T.DAY_OF_YEAR)){var p=T.YEAR.checkValidIntValue(t.remove(T.YEAR));if(e===F.LENIENT){var _=w.safeSubtract(t.remove(T.DAY_OF_YEAR),1);return ue.ofYearDay(p,1).plusDays(_)}var f=T.DAY_OF_YEAR.checkValidIntValue(t.remove(T.DAY_OF_YEAR));return ue.ofYearDay(p,f)}if(t.containsKey(T.ALIGNED_WEEK_OF_YEAR)){if(t.containsKey(T.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var d=T.YEAR.checkValidIntValue(t.remove(T.YEAR));if(e===F.LENIENT){var m=w.safeSubtract(t.remove(T.ALIGNED_WEEK_OF_YEAR),1),y=w.safeSubtract(t.remove(T.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return ue.of(d,1,1).plusWeeks(m).plusDays(y)}var v=T.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(t.remove(T.ALIGNED_WEEK_OF_YEAR)),g=T.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(t.remove(T.ALIGNED_DAY_OF_WEEK_IN_YEAR)),b=ue.of(d,1,1).plusDays(7*(v-1)+(g-1));if(e===F.STRICT&&b.get(T.YEAR)!==d)throw new r("Strict mode rejected date parsed to a different year");return b}if(t.containsKey(T.DAY_OF_WEEK)){var x=T.YEAR.checkValidIntValue(t.remove(T.YEAR));if(e===F.LENIENT){var $=w.safeSubtract(t.remove(T.ALIGNED_WEEK_OF_YEAR),1),C=w.safeSubtract(t.remove(T.DAY_OF_WEEK),1);return ue.of(x,1,1).plusWeeks($).plusDays(C)}var E=T.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(t.remove(T.ALIGNED_WEEK_OF_YEAR)),A=T.DAY_OF_WEEK.checkValidIntValue(t.remove(T.DAY_OF_WEEK)),k=ue.of(x,1,1).plusWeeks(E-1).with(Xt.nextOrSame(P.of(A)));if(e===F.STRICT&&k.get(T.YEAR)!==x)throw new r("Strict mode rejected date parsed to a different month");return k}}}return null},n.date=function(t){return ue.from(t)},e}(b),ne=function(t){function e(e,n){var i;return i=t.call(this)||this,f(e,"time"),d(e,he,"time"),f(n,"offset"),d(n,Q,"offset"),i._time=e,i._offset=n,i}h(e,t),e.from=function(t){if(f(t,"temporal"),t instanceof e)return t;if(t instanceof oe)return t.toOffsetTime();try{return new e(he.from(t),Q.from(t))}catch(e){throw new r("Unable to obtain OffsetTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""))}},e.now=function(t){return 0===arguments.length?e._now(fe.systemDefaultZone()):t instanceof fe?e._now(t):e._now(fe.system(t))},e._now=function(t){f(t,"clock");var n=t.instant();return e.ofInstant(n,t.zone().rules().offset(n))},e.of=function(){return arguments.length<=2?e.ofTimeAndOffset.apply(this,arguments):e.ofNumbers.apply(this,arguments)},e.ofNumbers=function(t,n,i,r,o){return new e(he.of(t,n,i,r),o)},e.ofTimeAndOffset=function(t,n){return new e(t,n)},e.ofInstant=function(t,n){f(t,"instant"),d(t,_e,"instant"),f(n,"zone"),d(n,G,"zone");var i=n.rules().offset(t),r=t.epochSecond()%he.SECONDS_PER_DAY;return(r=(r+i.totalSeconds())%he.SECONDS_PER_DAY)<0&&(r+=he.SECONDS_PER_DAY),new e(he.ofSecondOfDay(r,t.nano()),i)},e.parse=function(t,n){return void 0===n&&(n=Wt.ISO_OFFSET_TIME),f(n,"formatter"),n.parse(t,e.FROM)};var n=e.prototype;return n.adjustInto=function(t){return t.with(T.NANO_OF_DAY,this._time.toNanoOfDay()).with(T.OFFSET_SECONDS,this.offset().totalSeconds())},n.atDate=function(t){return oe.of(t,this._time,this._offset)},n.format=function(t){return f(t,"formatter"),t.format(this,e.FROM)},n.get=function(e){return t.prototype.get.call(this,e)},n.getLong=function(t){return t instanceof T?t===T.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(t):t.getFrom(this)},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n.offset=function(){return this._offset},n.isAfter=function(t){return f(t,"other"),this._toEpochNano()>t._toEpochNano()},n.isBefore=function(t){return f(t,"other"),this._toEpochNano()<t._toEpochNano()},n.isEqual=function(t){return f(t,"other"),this._toEpochNano()===t._toEpochNano()},n.isSupported=function(t){return t instanceof T?t.isTimeBased()||t===T.OFFSET_SECONDS:t instanceof A?t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.minusHours=function(t){return this._withLocalTimeOffset(this._time.minusHours(t),this._offset)},n.minusMinutes=function(t){return this._withLocalTimeOffset(this._time.minusMinutes(t),this._offset)},n.minusSeconds=function(t){return this._withLocalTimeOffset(this._time.minusSeconds(t),this._offset)},n.minusNanos=function(t){return this._withLocalTimeOffset(this._time.minusNanos(t),this._offset)},n.minusAmount=function(t){return f(t),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return this.plus(-1*t,e)},n.plusAmount=function(t){return f(t),t.addTo(this)},n.plusAmountUnit=function(t,e){return e instanceof A?this._withLocalTimeOffset(this._time.plus(t,e),this._offset):e.addTo(this,t)},n.plusHours=function(t){return this._withLocalTimeOffset(this._time.plusHours(t),this._offset)},n.plusMinutes=function(t){return this._withLocalTimeOffset(this._time.plusMinutes(t),this._offset)},n.plusSeconds=function(t){return this._withLocalTimeOffset(this._time.plusSeconds(t),this._offset)},n.plusNanos=function(t){return this._withLocalTimeOffset(this._time.plusNanos(t),this._offset)},n.query=function(e){return f(e,"query"),e===I.precision()?A.NANOS:e===I.offset()||e===I.zone()?this.offset():e===I.localTime()?this._time:e===I.chronology()||e===I.localDate()||e===I.zoneId()?null:t.prototype.query.call(this,e)},n.range=function(t){return t instanceof T?t===T.OFFSET_SECONDS?t.range():this._time.range(t):t.rangeRefinedBy(this)},n.toLocalTime=function(){return this._time},n.truncatedTo=function(t){return this._withLocalTimeOffset(this._time.truncatedTo(t),this._offset)},n.until=function(t,n){f(t,"endExclusive"),f(n,"unit");var i=e.from(t);if(n instanceof A){var r=i._toEpochNano()-this._toEpochNano();switch(n){case A.NANOS:return r;case A.MICROS:return Math.floor(r/1e3);case A.MILLIS:return Math.floor(r/1e6);case A.SECONDS:return Math.floor(r/he.NANOS_PER_SECOND);case A.MINUTES:return Math.floor(r/he.NANOS_PER_MINUTE);case A.HOURS:return Math.floor(r/he.NANOS_PER_HOUR);case A.HALF_DAYS:return Math.floor(r/(12*he.NANOS_PER_HOUR))}throw new s("Unsupported unit: "+n)}return n.between(this,i)},n.withHour=function(t){return this._withLocalTimeOffset(this._time.withHour(t),this._offset)},n.withMinute=function(t){return this._withLocalTimeOffset(this._time.withMinute(t),this._offset)},n.withSecond=function(t){return this._withLocalTimeOffset(this._time.withSecond(t),this._offset)},n.withNano=function(t){return this._withLocalTimeOffset(this._time.withNano(t),this._offset)},n.withOffsetSameInstant=function(t){if(f(t,"offset"),t.equals(this._offset))return this;var n=t.totalSeconds()-this._offset.totalSeconds();return new e(this._time.plusSeconds(n),t)},n.withOffsetSameLocal=function(t){return null!=t&&t.equals(this._offset)?this:new e(this._time,t)},n._toEpochNano=function(){return this._time.toNanoOfDay()-this._offset.totalSeconds()*he.NANOS_PER_SECOND},n.withAdjuster=function(t){return f(t,"adjuster"),t instanceof he?this._withLocalTimeOffset(t,this._offset):t instanceof Q?this._withLocalTimeOffset(this._time,t):t instanceof e?t:t.adjustInto(this)},n.withFieldValue=function(t,e){return f(t,"field"),t instanceof T?t===T.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,Q.ofTotalSeconds(t.checkValidIntValue(e))):this._withLocalTimeOffset(this._time.with(t,e),this._offset):t.adjustInto(this,e)},n._withLocalTimeOffset=function(t,n){return this._time===t&&this._offset.equals(n)?this:new e(t,n)},n.compareTo=function(t){if(f(t,"other"),d(t,e,"other"),this._offset.equals(t._offset))return this._time.compareTo(t._time);var n=w.compareNumbers(this._toEpochNano(),t._toEpochNano());return 0===n?this._time.compareTo(t._time):n},n.equals=function(t){return this===t||t instanceof e&&this._time.equals(t._time)&&this._offset.equals(t._offset)},n.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},n.toString=function(){return this._time.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},e}(V),ie=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.query=function(e){return e===I.zoneId()||e===I.zone()?this.zone():e===I.chronology()?this.toLocalDate().chronology():e===I.precision()?A.NANOS:e===I.offset()?this.offset():e===I.localDate()?ue.ofEpochDay(this.toLocalDate().toEpochDay()):e===I.localTime()?this.toLocalTime():t.prototype.query.call(this,e)},n.format=function(t){return f(t,"formatter"),t.format(this)},n.toInstant=function(){return _e.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},n.toEpochSecond=function(){return 86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay()-this.offset().totalSeconds()},n.compareTo=function(t){f(t,"other");var e,n,i=w.compareNumbers(this.toEpochSecond(),t.toEpochSecond());return 0===i&&0==(i=this.toLocalTime().nano()-t.toLocalTime().nano())&&0===(i=this.toLocalDateTime().compareTo(t.toLocalDateTime()))&&(e=this.zone().id(),n=t.zone().id(),i=e<n?-1:e>n?1:0),i},n.isAfter=function(t){f(t,"other");var e=this.toEpochSecond(),n=t.toEpochSecond();return e>n||e===n&&this.toLocalTime().nano()>t.toLocalTime().nano()},n.isBefore=function(t){f(t,"other");var e=this.toEpochSecond(),n=t.toEpochSecond();return e<n||e===n&&this.toLocalTime().nano()<t.toLocalTime().nano()},n.isEqual=function(t){return f(t,"other"),this.toEpochSecond()===t.toEpochSecond()&&this.toLocalTime().nano()===t.toLocalTime().nano()},n.equals=function(t){return this===t||t instanceof e&&0===this.compareTo(t)},e}(V),re=function(t){function e(e,n,i){var r;return f(e,"dateTime"),f(n,"offset"),f(i,"zone"),(r=t.call(this)||this)._dateTime=e,r._offset=n,r._zone=i,r}h(e,t),e.now=function(t){var n;return n=t instanceof G?fe.system(t):null==t?fe.systemDefaultZone():t,e.ofInstant(n.instant(),n.zone())},e.of=function(){return arguments.length<=2?e.of2.apply(this,arguments):3===arguments.length&&arguments[0]instanceof ue?e.of3.apply(this,arguments):e.of8.apply(this,arguments)},e.of3=function(t,n,i){return e.of2(ce.of(t,n),i)},e.of2=function(t,n){return e.ofLocal(t,n,null)},e.of8=function(t,n,i,r,o,s,a,u){var l=ce.of(t,n,i,r,o,s,a);return e.ofLocal(l,u,null)},e.ofLocal=function(t,n,i){if(f(t,"localDateTime"),f(n,"zone"),n instanceof Q)return new e(t,n,n);var r=null,o=n.rules(),s=o.validOffsets(t);if(1===s.length)r=s[0];else if(0===s.length){var a=o.transition(t);t=t.plusSeconds(a.duration().seconds()),r=a.offsetAfter()}else r=null!=i&&s.some((function(t){return t.equals(i)}))?i:f(s[0],"offset");return new e(t,r,n)},e.ofInstant=function(){return 2===arguments.length?e.ofInstant2.apply(this,arguments):e.ofInstant3.apply(this,arguments)},e.ofInstant2=function(t,n){return f(t,"instant"),f(n,"zone"),e._create(t.epochSecond(),t.nano(),n)},e.ofInstant3=function(t,n,i){return f(t,"localDateTime"),f(n,"offset"),f(i,"zone"),e._create(t.toEpochSecond(n),t.nano(),i)},e._create=function(t,n,i){var r=i.rules(),o=_e.ofEpochSecond(t,n),s=r.offset(o);return new e(ce.ofEpochSecond(t,n,s),s,i)},e.ofStrict=function(t,n,i){f(t,"localDateTime"),f(n,"offset"),f(i,"zone");var o=i.rules();if(!1===o.isValidOffset(t,n)){var s=o.transition(t);if(null!=s&&s.isGap())throw new r("LocalDateTime "+t+" does not exist in zone "+i+" due to a gap in the local time-line, typically caused by daylight savings");throw new r('ZoneOffset "'+n+'" is not valid for LocalDateTime "'+t+'" in zone "'+i+'"')}return new e(t,n,i)},e.ofLenient=function(t,n,i){if(f(t,"localDateTime"),f(n,"offset"),f(i,"zone"),i instanceof Q&&!1===n.equals(i))throw new u("ZoneId must match ZoneOffset");return new e(t,n,i)},e.from=function(t){if(f(t,"temporal"),t instanceof e)return t;var n=G.from(t);if(t.isSupported(T.INSTANT_SECONDS)){var i=e._from(t,n);if(null!=i)return i}var r=ce.from(t);return e.of2(r,n)},e._from=function(t,n){try{return e.__from(t,n)}catch(t){if(!(t instanceof r))throw t}},e.__from=function(t,n){var i=t.getLong(T.INSTANT_SECONDS),r=t.get(T.NANO_OF_SECOND);return e._create(i,r,n)},e.parse=function(t,n){return void 0===n&&(n=Wt.ISO_ZONED_DATE_TIME),f(n,"formatter"),n.parse(t,e.FROM)};var n=e.prototype;return n._resolveLocal=function(t){return f(t,"newDateTime"),e.ofLocal(t,this._zone,this._offset)},n._resolveInstant=function(t){return e.ofInstant3(t,this._offset,this._zone)},n._resolveOffset=function(t){return!1===t.equals(this._offset)&&this._zone.rules().isValidOffset(this._dateTime,t)?new e(this._dateTime,t,this._zone):this},n.isSupported=function(t){return t instanceof T||(t instanceof A?t.isDateBased()||t.isTimeBased():null!=t&&t.isSupportedBy(this))},n.range=function(t){return t instanceof T?t===T.INSTANT_SECONDS||t===T.OFFSET_SECONDS?t.range():this._dateTime.range(t):t.rangeRefinedBy(this)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t instanceof T){switch(t){case T.INSTANT_SECONDS:return this.toEpochSecond();case T.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(t)}return f(t,"field"),t.getFrom(this)},n.offset=function(){return this._offset},n.withEarlierOffsetAtOverlap=function(){var t=this._zone.rules().transition(this._dateTime);if(null!=t&&t.isOverlap()){var n=t.offsetBefore();if(!1===n.equals(this._offset))return new e(this._dateTime,n,this._zone)}return this},n.withLaterOffsetAtOverlap=function(){var t=this._zone.rules().transition(this.toLocalDateTime());if(null!=t){var n=t.offsetAfter();if(!1===n.equals(this._offset))return new e(this._dateTime,n,this._zone)}return this},n.zone=function(){return this._zone},n.withZoneSameLocal=function(t){return f(t,"zone"),this._zone.equals(t)?this:e.ofLocal(this._dateTime,t,this._offset)},n.withZoneSameInstant=function(t){return f(t,"zone"),this._zone.equals(t)?this:e._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),t)},n.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new e(this._dateTime,this._offset,this._offset)},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n.withAdjuster=function(t){if(t instanceof ue)return this._resolveLocal(ce.of(t,this._dateTime.toLocalTime()));if(t instanceof he)return this._resolveLocal(ce.of(this._dateTime.toLocalDate(),t));if(t instanceof ce)return this._resolveLocal(t);if(t instanceof _e){var n=t;return e._create(n.epochSecond(),n.nano(),this._zone)}return t instanceof Q?this._resolveOffset(t):(f(t,"adjuster"),t.adjustInto(this))},n.withFieldValue=function(t,n){if(t instanceof T){switch(t){case T.INSTANT_SECONDS:return e._create(n,this.nano(),this._zone);case T.OFFSET_SECONDS:var i=Q.ofTotalSeconds(t.checkValidIntValue(n));return this._resolveOffset(i)}return this._resolveLocal(this._dateTime.with(t,n))}return t.adjustInto(this,n)},n.withYear=function(t){return this._resolveLocal(this._dateTime.withYear(t))},n.withMonth=function(t){return this._resolveLocal(this._dateTime.withMonth(t))},n.withDayOfMonth=function(t){return this._resolveLocal(this._dateTime.withDayOfMonth(t))},n.withDayOfYear=function(t){return this._resolveLocal(this._dateTime.withDayOfYear(t))},n.withHour=function(t){return this._resolveLocal(this._dateTime.withHour(t))},n.withMinute=function(t){return this._resolveLocal(this._dateTime.withMinute(t))},n.withSecond=function(t){return this._resolveLocal(this._dateTime.withSecond(t))},n.withNano=function(t){return this._resolveLocal(this._dateTime.withNano(t))},n.truncatedTo=function(t){return this._resolveLocal(this._dateTime.truncatedTo(t))},n.plusAmount=function(t){return f(t),t.addTo(this)},n.plusAmountUnit=function(t,e){return e instanceof A?e.isDateBased()?this._resolveLocal(this._dateTime.plus(t,e)):this._resolveInstant(this._dateTime.plus(t,e)):(f(e,"unit"),e.addTo(this,t))},n.plusYears=function(t){return this._resolveLocal(this._dateTime.plusYears(t))},n.plusMonths=function(t){return this._resolveLocal(this._dateTime.plusMonths(t))},n.plusWeeks=function(t){return this._resolveLocal(this._dateTime.plusWeeks(t))},n.plusDays=function(t){return this._resolveLocal(this._dateTime.plusDays(t))},n.plusHours=function(t){return this._resolveInstant(this._dateTime.plusHours(t))},n.plusMinutes=function(t){return this._resolveInstant(this._dateTime.plusMinutes(t))},n.plusSeconds=function(t){return this._resolveInstant(this._dateTime.plusSeconds(t))},n.plusNanos=function(t){return this._resolveInstant(this._dateTime.plusNanos(t))},n.minusAmount=function(t){return f(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return this.plusAmountUnit(-1*t,e)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.minusHours=function(t){return this.plusHours(-1*t)},n.minusMinutes=function(t){return this.plusMinutes(-1*t)},n.minusSeconds=function(t){return this.plusSeconds(-1*t)},n.minusNanos=function(t){return this.plusNanos(-1*t)},n.query=function(e){return e===I.localDate()?this.toLocalDate():(f(e,"query"),t.prototype.query.call(this,e))},n.until=function(t,n){var i=e.from(t);if(n instanceof A){if(i=i.withZoneSameInstant(this._zone),n.isDateBased())return this._dateTime.until(i._dateTime,n);var r=this._offset.totalSeconds()-i._offset.totalSeconds(),o=i._dateTime.plusSeconds(r);return this._dateTime.until(o,n)}return n.between(this,i)},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetDateTime=function(){return oe.of(this._dateTime,this._offset)},n.equals=function(t){return this===t||t instanceof e&&this._dateTime.equals(t._dateTime)&&this._offset.equals(t._offset)&&this._zone.equals(t._zone)},n.hashCode=function(){return w.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},n.toString=function(){var t=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(t+="["+this._zone.toString()+"]"),t},n.toJSON=function(){return this.toString()},n.format=function(e){return t.prototype.format.call(this,e)},e}(ie),oe=function(t){function e(e,n){var i;return i=t.call(this)||this,f(e,"dateTime"),d(e,ce,"dateTime"),f(n,"offset"),d(n,Q,"offset"),i._dateTime=e,i._offset=n,i}h(e,t),e.from=function(t){if(f(t,"temporal"),t instanceof e)return t;try{var n=Q.from(t);try{var i=ce.from(t);return e.of(i,n)}catch(i){var o=_e.from(t);return e.ofInstant(o,n)}}catch(e){throw new r("Unable to obtain OffsetDateTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""))}},e.now=function(t){if(0===arguments.length)return e.now(fe.systemDefaultZone());if(f(t,"clockOrZone"),t instanceof G)return e.now(fe.system(t));if(t instanceof fe){var n=t.instant();return e.ofInstant(n,t.zone().rules().offset(n))}throw new u("clockOrZone must be an instance of ZoneId or Clock")},e.of=function(){return arguments.length<=2?e.ofDateTime.apply(this,arguments):3===arguments.length?e.ofDateAndTime.apply(this,arguments):e.ofNumbers.apply(this,arguments)},e.ofDateTime=function(t,n){return new e(t,n)},e.ofDateAndTime=function(t,n,i){return new e(ce.of(t,n),i)},e.ofNumbers=function(t,n,i,r,o,s,a,u){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new e(ce.of(t,n,i,r,o,s,a),u)},e.ofInstant=function(t,n){f(t,"instant"),f(n,"zone");var i=n.rules().offset(t);return new e(ce.ofEpochSecond(t.epochSecond(),t.nano(),i),i)},e.parse=function(t,n){return void 0===n&&(n=Wt.ISO_OFFSET_DATE_TIME),f(n,"formatter"),n.parse(t,e.FROM)};var n=e.prototype;return n.adjustInto=function(t){return t.with(T.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(T.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(T.OFFSET_SECONDS,this.offset().totalSeconds())},n.until=function(t,n){var i=e.from(t);return n instanceof A?(i=i.withOffsetSameInstant(this._offset),this._dateTime.until(i._dateTime,n)):n.between(this,i)},n.atZoneSameInstant=function(t){return re.ofInstant(this._dateTime,this._offset,t)},n.atZoneSimilarLocal=function(t){return re.ofLocal(this._dateTime,t,this._offset)},n.query=function(e){return f(e,"query"),e===I.chronology()?ee.INSTANCE:e===I.precision()?A.NANOS:e===I.offset()||e===I.zone()?this.offset():e===I.localDate()?this.toLocalDate():e===I.localTime()?this.toLocalTime():e===I.zoneId()?null:t.prototype.query.call(this,e)},n.get=function(e){if(e instanceof T){switch(e){case T.INSTANT_SECONDS:throw new r("Field too large for an int: "+e);case T.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(e)}return t.prototype.get.call(this,e)},n.getLong=function(t){if(t instanceof T){switch(t){case T.INSTANT_SECONDS:return this.toEpochSecond();case T.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(t)}return t.getFrom(this)},n.offset=function(){return this._offset},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetTime=function(){return ne.of(this._dateTime.toLocalTime(),this._offset)},n.toZonedDateTime=function(){return re.of(this._dateTime,this._offset)},n.toInstant=function(){return this._dateTime.toInstant(this._offset)},n.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},n.isSupported=function(t){return t instanceof T||t instanceof A?t.isDateBased()||t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.range=function(t){return t instanceof T?t===T.INSTANT_SECONDS||t===T.OFFSET_SECONDS?t.range():this._dateTime.range(t):t.rangeRefinedBy(this)},n.withAdjuster=function(t){return f(t),t instanceof ue||t instanceof he||t instanceof ce?this._withDateTimeOffset(this._dateTime.with(t),this._offset):t instanceof _e?e.ofInstant(t,this._offset):t instanceof Q?this._withDateTimeOffset(this._dateTime,t):t instanceof e?t:t.adjustInto(this)},n.withFieldValue=function(t,n){if(f(t),t instanceof T){var i=t;switch(i){case T.INSTANT_SECONDS:return e.ofInstant(_e.ofEpochSecond(n,this.nano()),this._offset);case T.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,Q.ofTotalSeconds(i.checkValidIntValue(n)))}return this._withDateTimeOffset(this._dateTime.with(t,n),this._offset)}return t.adjustInto(this,n)},n._withDateTimeOffset=function(t,n){return this._dateTime===t&&this._offset.equals(n)?this:new e(t,n)},n.withYear=function(t){return this._withDateTimeOffset(this._dateTime.withYear(t),this._offset)},n.withMonth=function(t){return this._withDateTimeOffset(this._dateTime.withMonth(t),this._offset)},n.withDayOfMonth=function(t){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(t),this._offset)},n.withDayOfYear=function(t){return this._withDateTimeOffset(this._dateTime.withDayOfYear(t),this._offset)},n.withHour=function(t){return this._withDateTimeOffset(this._dateTime.withHour(t),this._offset)},n.withMinute=function(t){return this._withDateTimeOffset(this._dateTime.withMinute(t),this._offset)},n.withSecond=function(t){return this._withDateTimeOffset(this._dateTime.withSecond(t),this._offset)},n.withNano=function(t){return this._withDateTimeOffset(this._dateTime.withNano(t),this._offset)},n.withOffsetSameLocal=function(t){return f(t,"offset"),this._withDateTimeOffset(this._dateTime,t)},n.withOffsetSameInstant=function(t){if(f(t,"offset"),t.equals(this._offset))return this;var n=t.totalSeconds()-this._offset.totalSeconds();return new e(this._dateTime.plusSeconds(n),t)},n.truncatedTo=function(t){return this._withDateTimeOffset(this._dateTime.truncatedTo(t),this._offset)},n.plusAmount=function(t){return f(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,e){return e instanceof A?this._withDateTimeOffset(this._dateTime.plus(t,e),this._offset):e.addTo(this,t)},n.plusYears=function(t){return this._withDateTimeOffset(this._dateTime.plusYears(t),this._offset)},n.plusMonths=function(t){return this._withDateTimeOffset(this._dateTime.plusMonths(t),this._offset)},n.plusWeeks=function(t){return this._withDateTimeOffset(this._dateTime.plusWeeks(t),this._offset)},n.plusDays=function(t){return this._withDateTimeOffset(this._dateTime.plusDays(t),this._offset)},n.plusHours=function(t){return this._withDateTimeOffset(this._dateTime.plusHours(t),this._offset)},n.plusMinutes=function(t){return this._withDateTimeOffset(this._dateTime.plusMinutes(t),this._offset)},n.plusSeconds=function(t){return this._withDateTimeOffset(this._dateTime.plusSeconds(t),this._offset)},n.plusNanos=function(t){return this._withDateTimeOffset(this._dateTime.plusNanos(t),this._offset)},n.minusAmount=function(t){return f(t),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return this.plus(-1*t,e)},n.minusYears=function(t){return this._withDateTimeOffset(this._dateTime.minusYears(t),this._offset)},n.minusMonths=function(t){return this._withDateTimeOffset(this._dateTime.minusMonths(t),this._offset)},n.minusWeeks=function(t){return this._withDateTimeOffset(this._dateTime.minusWeeks(t),this._offset)},n.minusDays=function(t){return this._withDateTimeOffset(this._dateTime.minusDays(t),this._offset)},n.minusHours=function(t){return this._withDateTimeOffset(this._dateTime.minusHours(t),this._offset)},n.minusMinutes=function(t){return this._withDateTimeOffset(this._dateTime.minusMinutes(t),this._offset)},n.minusSeconds=function(t){return this._withDateTimeOffset(this._dateTime.minusSeconds(t),this._offset)},n.minusNanos=function(t){return this._withDateTimeOffset(this._dateTime.minusNanos(t),this._offset)},n.compareTo=function(t){if(f(t,"other"),d(t,e,"other"),this.offset().equals(t.offset()))return this.toLocalDateTime().compareTo(t.toLocalDateTime());var n=w.compareNumbers(this.toEpochSecond(),t.toEpochSecond());return 0===n&&0==(n=this.toLocalTime().nano()-t.toLocalTime().nano())&&(n=this.toLocalDateTime().compareTo(t.toLocalDateTime())),n},n.isAfter=function(t){f(t,"other");var e=this.toEpochSecond(),n=t.toEpochSecond();return e>n||e===n&&this.toLocalTime().nano()>t.toLocalTime().nano()},n.isBefore=function(t){f(t,"other");var e=this.toEpochSecond(),n=t.toEpochSecond();return e<n||e===n&&this.toLocalTime().nano()<t.toLocalTime().nano()},n.isEqual=function(t){return f(t,"other"),this.toEpochSecond()===t.toEpochSecond()&&this.toLocalTime().nano()===t.toLocalTime().nano()},n.equals=function(t){return this===t||t instanceof e&&this._dateTime.equals(t._dateTime)&&this._offset.equals(t._offset)},n.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},n.toString=function(){return this._dateTime.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},n.format=function(t){return f(t,"formatter"),t.format(this)},e}(V),se=146097,ae=719528,ue=function(t){function e(n,i,r){var o;return o=t.call(this)||this,f(n,"year"),f(i,"month"),f(r,"dayOfMonth"),i instanceof j&&(i=i.value()),o._year=w.safeToInt(n),o._month=w.safeToInt(i),o._day=w.safeToInt(r),e._validate(o._year,o._month,o._day),o}h(e,t),e.now=function(t){var n;return n=null==t?fe.systemDefaultZone():t instanceof G?fe.system(t):t,e.ofInstant(n.instant(),n.zone())},e.ofInstant=function(t,n){void 0===n&&(n=G.systemDefault()),f(t,"instant");var i=n.rules().offset(t),r=t.epochSecond()+i.totalSeconds(),o=w.floorDiv(r,he.SECONDS_PER_DAY);return e.ofEpochDay(o)},e.of=function(t,n,i){return new e(t,n,i)},e.ofYearDay=function(t,n){T.YEAR.checkValidValue(t);var i=ee.isLeapYear(t);366===n&&!1===i&&_(!1,"Invalid date 'DayOfYear 366' as '"+t+"' is not a leap year",r);var o=j.of(Math.floor((n-1)/31+1));n>o.firstDayOfYear(i)+o.length(i)-1&&(o=o.plus(1));var s=n-o.firstDayOfYear(i)+1;return new e(t,o.value(),s)},e.ofEpochDay=function(t){var n,i,r,o,s;void 0===t&&(t=0),s=t+ae,n=0,(s-=60)<0&&(n=400*(i=w.intDiv(s+1,se)-1),s+=-i*se),(r=s-(365*(o=w.intDiv(400*s+591,se))+w.intDiv(o,4)-w.intDiv(o,100)+w.intDiv(o,400)))<0&&(r=s-(365*--o+w.intDiv(o,4)-w.intDiv(o,100)+w.intDiv(o,400))),o+=n;var a=r,u=w.intDiv(5*a+2,153),l=(u+2)%12+1,c=a-w.intDiv(306*u+5,10)+1;return new e(o+=w.intDiv(u,10),l,c)},e.from=function(t){f(t,"temporal");var e=t.query(I.localDate());if(null==e)throw new r("Unable to obtain LocalDate from TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""));return e},e.parse=function(t,n){return void 0===n&&(n=Wt.ISO_LOCAL_DATE),_(null!=n,"formatter",c),n.parse(t,e.FROM)},e._resolvePreviousValid=function(t,n,i){switch(n){case 2:i=Math.min(i,ee.isLeapYear(t)?29:28);break;case 4:case 6:case 9:case 11:i=Math.min(i,30)}return e.of(t,n,i)},e._validate=function(t,e,n){var i;if(T.YEAR.checkValidValue(t),T.MONTH_OF_YEAR.checkValidValue(e),T.DAY_OF_MONTH.checkValidValue(n),n>28){switch(i=31,e){case 2:i=ee.isLeapYear(t)?29:28;break;case 4:case 6:case 9:case 11:i=30}n>i&&_(!1,29===n?"Invalid date 'February 29' as '"+t+"' is not a leap year":"Invalid date '"+t+"' '"+e+"' '"+n+"'",r)}};var n=e.prototype;return n.isSupported=function(e){return t.prototype.isSupported.call(this,e)},n.range=function(t){if(t instanceof T){if(t.isDateBased()){switch(t){case T.DAY_OF_MONTH:return S.of(1,this.lengthOfMonth());case T.DAY_OF_YEAR:return S.of(1,this.lengthOfYear());case T.ALIGNED_WEEK_OF_MONTH:return S.of(1,this.month()===j.FEBRUARY&&!1===this.isLeapYear()?4:5);case T.YEAR_OF_ERA:return this._year<=0?S.of(1,Kt.MAX_VALUE+1):S.of(1,Kt.MAX_VALUE)}return t.range()}throw new s("Unsupported field: "+t)}return t.rangeRefinedBy(this)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){return _(null!=t,"",c),t instanceof T?this._get0(t):t.getFrom(this)},n._get0=function(t){switch(t){case T.DAY_OF_WEEK:return this.dayOfWeek().value();case T.ALIGNED_DAY_OF_WEEK_IN_MONTH:return w.intMod(this._day-1,7)+1;case T.ALIGNED_DAY_OF_WEEK_IN_YEAR:return w.intMod(this.dayOfYear()-1,7)+1;case T.DAY_OF_MONTH:return this._day;case T.DAY_OF_YEAR:return this.dayOfYear();case T.EPOCH_DAY:return this.toEpochDay();case T.ALIGNED_WEEK_OF_MONTH:return w.intDiv(this._day-1,7)+1;case T.ALIGNED_WEEK_OF_YEAR:return w.intDiv(this.dayOfYear()-1,7)+1;case T.MONTH_OF_YEAR:return this._month;case T.PROLEPTIC_MONTH:return this._prolepticMonth();case T.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case T.YEAR:return this._year;case T.ERA:return this._year>=1?1:0}throw new s("Unsupported field: "+t)},n._prolepticMonth=function(){return 12*this._year+(this._month-1)},n.chronology=function(){return ee.INSTANCE},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return j.of(this._month)},n.dayOfMonth=function(){return this._day},n.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},n.dayOfWeek=function(){var t=w.floorMod(this.toEpochDay()+3,7);return P.of(t+1)},n.isLeapYear=function(){return ee.isLeapYear(this._year)},n.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n.withAdjuster=function(t){return f(t,"adjuster"),t instanceof e?t:(_("function"==typeof t.adjustInto,"adjuster",u),t.adjustInto(this))},n.withFieldValue=function(t,n){if(_(null!=t,"field",c),t instanceof T){var i=t;switch(i.checkValidValue(n),i){case T.DAY_OF_WEEK:return this.plusDays(n-this.dayOfWeek().value());case T.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(n-this.getLong(T.ALIGNED_DAY_OF_WEEK_IN_MONTH));case T.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(n-this.getLong(T.ALIGNED_DAY_OF_WEEK_IN_YEAR));case T.DAY_OF_MONTH:return this.withDayOfMonth(n);case T.DAY_OF_YEAR:return this.withDayOfYear(n);case T.EPOCH_DAY:return e.ofEpochDay(n);case T.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(n-this.getLong(T.ALIGNED_WEEK_OF_MONTH));case T.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(n-this.getLong(T.ALIGNED_WEEK_OF_YEAR));case T.MONTH_OF_YEAR:return this.withMonth(n);case T.PROLEPTIC_MONTH:return this.plusMonths(n-this.getLong(T.PROLEPTIC_MONTH));case T.YEAR_OF_ERA:return this.withYear(this._year>=1?n:1-n);case T.YEAR:return this.withYear(n);case T.ERA:return this.getLong(T.ERA)===n?this:this.withYear(1-this._year)}throw new s("Unsupported field: "+t)}return t.adjustInto(this,n)},n.withYear=function(t){return this._year===t?this:(T.YEAR.checkValidValue(t),e._resolvePreviousValid(t,this._month,this._day))},n.withMonth=function(t){var n=t instanceof j?t.value():t;return this._month===n?this:(T.MONTH_OF_YEAR.checkValidValue(n),e._resolvePreviousValid(this._year,n,this._day))},n.withDayOfMonth=function(t){return this._day===t?this:e.of(this._year,this._month,t)},n.withDayOfYear=function(t){return this.dayOfYear()===t?this:e.ofYearDay(this._year,t)},n.plusAmount=function(t){return f(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,e){if(f(t,"amountToAdd"),f(e,"unit"),e instanceof A){switch(e){case A.DAYS:return this.plusDays(t);case A.WEEKS:return this.plusWeeks(t);case A.MONTHS:return this.plusMonths(t);case A.YEARS:return this.plusYears(t);case A.DECADES:return this.plusYears(w.safeMultiply(t,10));case A.CENTURIES:return this.plusYears(w.safeMultiply(t,100));case A.MILLENNIA:return this.plusYears(w.safeMultiply(t,1e3));case A.ERAS:return this.with(T.ERA,w.safeAdd(this.getLong(T.ERA),t))}throw new s("Unsupported unit: "+e)}return e.addTo(this,t)},n.plusYears=function(t){if(0===t)return this;var n=T.YEAR.checkValidIntValue(this._year+t);return e._resolvePreviousValid(n,this._month,this._day)},n.plusMonths=function(t){if(0===t)return this;var n=12*this._year+(this._month-1)+t,i=T.YEAR.checkValidIntValue(w.floorDiv(n,12)),r=w.floorMod(n,12)+1;return e._resolvePreviousValid(i,r,this._day)},n.plusWeeks=function(t){return this.plusDays(w.safeMultiply(t,7))},n.plusDays=function(t){if(0===t)return this;var n=w.safeAdd(this.toEpochDay(),t);return e.ofEpochDay(n)},n.minusAmount=function(t){return f(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return f(t,"amountToSubtract"),f(e,"unit"),this.plusAmountUnit(-1*t,e)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.query=function(e){return f(e,"query"),e===I.localDate()?this:t.prototype.query.call(this,e)},n.adjustInto=function(e){return t.prototype.adjustInto.call(this,e)},n.until=function(t,e){return arguments.length<2?this.until1(t):this.until2(t,e)},n.until2=function(t,n){var i=e.from(t);if(n instanceof A){switch(n){case A.DAYS:return this.daysUntil(i);case A.WEEKS:return w.intDiv(this.daysUntil(i),7);case A.MONTHS:return this._monthsUntil(i);case A.YEARS:return w.intDiv(this._monthsUntil(i),12);case A.DECADES:return w.intDiv(this._monthsUntil(i),120);case A.CENTURIES:return w.intDiv(this._monthsUntil(i),1200);case A.MILLENNIA:return w.intDiv(this._monthsUntil(i),12e3);case A.ERAS:return i.getLong(T.ERA)-this.getLong(T.ERA)}throw new s("Unsupported unit: "+n)}return n.between(this,i)},n.daysUntil=function(t){return t.toEpochDay()-this.toEpochDay()},n._monthsUntil=function(t){var e=32*this._prolepticMonth()+this.dayOfMonth(),n=32*t._prolepticMonth()+t.dayOfMonth();return w.intDiv(n-e,32)},n.until1=function(t){var n=e.from(t),i=n._prolepticMonth()-this._prolepticMonth(),r=n._day-this._day;if(i>0&&r<0){i--;var o=this.plusMonths(i);r=n.toEpochDay()-o.toEpochDay()}else i<0&&r>0&&(i++,r-=n.lengthOfMonth());var s=w.intDiv(i,12),a=w.intMod(i,12);return L.of(s,a,r)},n.atTime=function(){return 1===arguments.length?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},n.atTime1=function(t){if(f(t,"time"),t instanceof he)return ce.of(this,t);if(t instanceof ne)return this._atTimeOffsetTime(t);throw new u("time must be an instance of LocalTime or OffsetTime"+(t&&t.constructor&&t.constructor.name?", but is "+t.constructor.name:""))},n.atTime4=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.atTime1(he.of(t,e,n,i))},n._atTimeOffsetTime=function(t){return oe.of(ce.of(this,t.toLocalTime()),t.offset())},n.atStartOfDay=function(t){return null!=t?this.atStartOfDayWithZone(t):ce.of(this,he.MIDNIGHT)},n.atStartOfDayWithZone=function(t){f(t,"zone");var e=this.atTime(he.MIDNIGHT);if(t instanceof Q==0){var n=t.rules().transition(e);null!=n&&n.isGap()&&(e=n.dateTimeAfter())}return re.of(e,t)},n.toEpochDay=function(){var t=this._year,e=this._month,n=0;return n+=365*t,t>=0?n+=w.intDiv(t+3,4)-w.intDiv(t+99,100)+w.intDiv(t+399,400):n-=w.intDiv(t,-4)-w.intDiv(t,-100)+w.intDiv(t,-400),n+=w.intDiv(367*e-362,12),n+=this.dayOfMonth()-1,e>2&&(n--,ee.isLeapYear(t)||n--),n-ae},n.compareTo=function(t){return f(t,"other"),d(t,e,"other"),this._compareTo0(t)},n._compareTo0=function(t){var e=this._year-t._year;return 0===e&&0==(e=this._month-t._month)&&(e=this._day-t._day),e},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.isEqual=function(t){return 0===this.compareTo(t)},n.equals=function(t){return this===t||t instanceof e&&0===this._compareTo0(t)},n.hashCode=function(){var t=this._year,e=this._month,n=this._day;return w.hash(4294965248&t^(t<<11)+(e<<6)+n)},n.toString=function(){var t=this._year,e=this._month,n=this._day;return(Math.abs(t)<1e3?t<0?"-"+(""+(t-1e4)).slice(-4):(""+(t+1e4)).slice(-4):t>9999?"+"+t:""+t)+(e<10?"-0"+e:"-"+e)+(n<10?"-0"+n:"-"+n)},n.toJSON=function(){return this.toString()},n.format=function(e){return f(e,"formatter"),d(e,Wt,"formatter"),t.prototype.format.call(this,e)},e}(Y),le=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.chronology=function(){return this.toLocalDate().chronology()},n.query=function(e){return e===I.chronology()?this.chronology():e===I.precision()?A.NANOS:e===I.localDate()?ue.ofEpochDay(this.toLocalDate().toEpochDay()):e===I.localTime()?this.toLocalTime():e===I.zone()||e===I.zoneId()||e===I.offset()?null:t.prototype.query.call(this,e)},n.adjustInto=function(t){return t.with(T.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(T.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},n.toInstant=function(t){return d(t,Q,"zoneId"),_e.ofEpochSecond(this.toEpochSecond(t),this.toLocalTime().nano())},n.toEpochSecond=function(t){f(t,"offset");var e=86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay();return e-=t.totalSeconds(),w.safeToInt(e)},e}(V),ce=function(t){function e(e,n){var i;return i=t.call(this)||this,d(e,ue,"date"),d(n,he,"time"),i._date=e,i._time=n,i}h(e,t),e.now=function(t){return null==t?e._now(fe.systemDefaultZone()):t instanceof fe?e._now(t):e._now(fe.system(t))},e._now=function(t){return f(t,"clock"),e.ofInstant(t.instant(),t.zone())},e._ofEpochMillis=function(t,n){var i=w.floorDiv(t,1e3)+n.totalSeconds(),r=w.floorDiv(i,he.SECONDS_PER_DAY),o=w.floorMod(i,he.SECONDS_PER_DAY),s=1e6*w.floorMod(t,1e3);return new e(ue.ofEpochDay(r),he.ofSecondOfDay(o,s))},e.of=function(){return arguments.length<=2?e.ofDateAndTime.apply(this,arguments):e.ofNumbers.apply(this,arguments)},e.ofNumbers=function(t,n,i,r,o,s,a){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new e(ue.of(t,n,i),he.of(r,o,s,a))},e.ofDateAndTime=function(t,n){return f(t,"date"),f(n,"time"),new e(t,n)},e.ofInstant=function(t,n){void 0===n&&(n=G.systemDefault()),f(t,"instant"),d(t,_e,"instant"),f(n,"zone");var i=n.rules().offset(t);return e.ofEpochSecond(t.epochSecond(),t.nano(),i)},e.ofEpochSecond=function(t,n,i){void 0===t&&(t=0),void 0===n&&(n=0),2===arguments.length&&n instanceof Q&&(i=n,n=0),f(i,"offset");var r=t+i.totalSeconds(),o=w.floorDiv(r,he.SECONDS_PER_DAY),s=w.floorMod(r,he.SECONDS_PER_DAY),a=ue.ofEpochDay(o),u=he.ofSecondOfDay(s,n);return new e(a,u)},e.from=function(t){if(f(t,"temporal"),t instanceof e)return t;if(t instanceof re)return t.toLocalDateTime();try{return new e(ue.from(t),he.from(t))}catch(e){throw new r("Unable to obtain LocalDateTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""))}},e.parse=function(t,n){return void 0===n&&(n=Wt.ISO_LOCAL_DATE_TIME),f(n,"formatter"),n.parse(t,e.FROM)};var n=e.prototype;return n._withDateTime=function(t,n){return this._date.equals(t)&&this._time.equals(n)?this:new e(t,n)},n.isSupported=function(t){return t instanceof T||t instanceof A?t.isDateBased()||t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.range=function(t){return t instanceof T?t.isTimeBased()?this._time.range(t):this._date.range(t):t.rangeRefinedBy(this)},n.get=function(e){return e instanceof T?e.isTimeBased()?this._time.get(e):this._date.get(e):t.prototype.get.call(this,e)},n.getLong=function(t){return f(t,"field"),t instanceof T?t.isTimeBased()?this._time.getLong(t):this._date.getLong(t):t.getFrom(this)},n.year=function(){return this._date.year()},n.monthValue=function(){return this._date.monthValue()},n.month=function(){return this._date.month()},n.dayOfMonth=function(){return this._date.dayOfMonth()},n.dayOfYear=function(){return this._date.dayOfYear()},n.dayOfWeek=function(){return this._date.dayOfWeek()},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n.withAdjuster=function(t){return f(t,"adjuster"),t instanceof ue?this._withDateTime(t,this._time):t instanceof he?this._withDateTime(this._date,t):t instanceof e?t:(_("function"==typeof t.adjustInto,"adjuster",u),t.adjustInto(this))},n.withFieldValue=function(t,e){return f(t,"field"),t instanceof T?t.isTimeBased()?this._withDateTime(this._date,this._time.with(t,e)):this._withDateTime(this._date.with(t,e),this._time):t.adjustInto(this,e)},n.withYear=function(t){return this._withDateTime(this._date.withYear(t),this._time)},n.withMonth=function(t){return this._withDateTime(this._date.withMonth(t),this._time)},n.withDayOfMonth=function(t){return this._withDateTime(this._date.withDayOfMonth(t),this._time)},n.withDayOfYear=function(t){return this._withDateTime(this._date.withDayOfYear(t),this._time)},n.withHour=function(t){var e=this._time.withHour(t);return this._withDateTime(this._date,e)},n.withMinute=function(t){var e=this._time.withMinute(t);return this._withDateTime(this._date,e)},n.withSecond=function(t){var e=this._time.withSecond(t);return this._withDateTime(this._date,e)},n.withNano=function(t){var e=this._time.withNano(t);return this._withDateTime(this._date,e)},n.truncatedTo=function(t){return this._withDateTime(this._date,this._time.truncatedTo(t))},n.plusAmount=function(t){return f(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,e){if(f(e,"unit"),e instanceof A){switch(e){case A.NANOS:return this.plusNanos(t);case A.MICROS:return this.plusDays(w.intDiv(t,he.MICROS_PER_DAY)).plusNanos(1e3*w.intMod(t,he.MICROS_PER_DAY));case A.MILLIS:return this.plusDays(w.intDiv(t,he.MILLIS_PER_DAY)).plusNanos(1e6*w.intMod(t,he.MILLIS_PER_DAY));case A.SECONDS:return this.plusSeconds(t);case A.MINUTES:return this.plusMinutes(t);case A.HOURS:return this.plusHours(t);case A.HALF_DAYS:return this.plusDays(w.intDiv(t,256)).plusHours(12*w.intMod(t,256))}return this._withDateTime(this._date.plus(t,e),this._time)}return e.addTo(this,t)},n.plusYears=function(t){var e=this._date.plusYears(t);return this._withDateTime(e,this._time)},n.plusMonths=function(t){var e=this._date.plusMonths(t);return this._withDateTime(e,this._time)},n.plusWeeks=function(t){var e=this._date.plusWeeks(t);return this._withDateTime(e,this._time)},n.plusDays=function(t){var e=this._date.plusDays(t);return this._withDateTime(e,this._time)},n.plusHours=function(t){return this._plusWithOverflow(this._date,t,0,0,0,1)},n.plusMinutes=function(t){return this._plusWithOverflow(this._date,0,t,0,0,1)},n.plusSeconds=function(t){return this._plusWithOverflow(this._date,0,0,t,0,1)},n.plusNanos=function(t){return this._plusWithOverflow(this._date,0,0,0,t,1)},n.minusAmount=function(t){return f(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return f(e,"unit"),this.plusAmountUnit(-1*t,e)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.minusHours=function(t){return this._plusWithOverflow(this._date,t,0,0,0,-1)},n.minusMinutes=function(t){return this._plusWithOverflow(this._date,0,t,0,0,-1)},n.minusSeconds=function(t){return this._plusWithOverflow(this._date,0,0,t,0,-1)},n.minusNanos=function(t){return this._plusWithOverflow(this._date,0,0,0,t,-1)},n._plusWithOverflow=function(t,e,n,i,r,o){if(0===e&&0===n&&0===i&&0===r)return this._withDateTime(t,this._time);var s=w.intDiv(r,he.NANOS_PER_DAY)+w.intDiv(i,he.SECONDS_PER_DAY)+w.intDiv(n,he.MINUTES_PER_DAY)+w.intDiv(e,he.HOURS_PER_DAY);s*=o;var a=w.intMod(r,he.NANOS_PER_DAY)+w.intMod(i,he.SECONDS_PER_DAY)*he.NANOS_PER_SECOND+w.intMod(n,he.MINUTES_PER_DAY)*he.NANOS_PER_MINUTE+w.intMod(e,he.HOURS_PER_DAY)*he.NANOS_PER_HOUR,u=this._time.toNanoOfDay();a=a*o+u,s+=w.floorDiv(a,he.NANOS_PER_DAY);var l=w.floorMod(a,he.NANOS_PER_DAY),c=l===u?this._time:he.ofNanoOfDay(l);return this._withDateTime(t.plusDays(s),c)},n.query=function(e){return f(e,"query"),e===I.localDate()?this.toLocalDate():t.prototype.query.call(this,e)},n.adjustInto=function(e){return t.prototype.adjustInto.call(this,e)},n.until=function(t,n){f(t,"endExclusive"),f(n,"unit");var i=e.from(t);if(n instanceof A){if(n.isTimeBased()){var r=this._date.daysUntil(i._date),o=i._time.toNanoOfDay()-this._time.toNanoOfDay();r>0&&o<0?(r--,o+=he.NANOS_PER_DAY):r<0&&o>0&&(r++,o-=he.NANOS_PER_DAY);var a=r;switch(n){case A.NANOS:return a=w.safeMultiply(a,he.NANOS_PER_DAY),w.safeAdd(a,o);case A.MICROS:return a=w.safeMultiply(a,he.MICROS_PER_DAY),w.safeAdd(a,w.intDiv(o,1e3));case A.MILLIS:return a=w.safeMultiply(a,he.MILLIS_PER_DAY),w.safeAdd(a,w.intDiv(o,1e6));case A.SECONDS:return a=w.safeMultiply(a,he.SECONDS_PER_DAY),w.safeAdd(a,w.intDiv(o,he.NANOS_PER_SECOND));case A.MINUTES:return a=w.safeMultiply(a,he.MINUTES_PER_DAY),w.safeAdd(a,w.intDiv(o,he.NANOS_PER_MINUTE));case A.HOURS:return a=w.safeMultiply(a,he.HOURS_PER_DAY),w.safeAdd(a,w.intDiv(o,he.NANOS_PER_HOUR));case A.HALF_DAYS:return a=w.safeMultiply(a,2),w.safeAdd(a,w.intDiv(o,12*he.NANOS_PER_HOUR))}throw new s("Unsupported unit: "+n)}var u=i._date,l=i._time;return u.isAfter(this._date)&&l.isBefore(this._time)?u=u.minusDays(1):u.isBefore(this._date)&&l.isAfter(this._time)&&(u=u.plusDays(1)),this._date.until(u,n)}return n.between(this,i)},n.atOffset=function(t){return oe.of(this,t)},n.atZone=function(t){return re.of(this,t)},n.toLocalDate=function(){return this._date},n.toLocalTime=function(){return this._time},n.compareTo=function(t){return f(t,"other"),d(t,e,"other"),this._compareTo0(t)},n._compareTo0=function(t){var e=this._date.compareTo(t.toLocalDate());return 0===e&&(e=this._time.compareTo(t.toLocalTime())),e},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.isEqual=function(t){return 0===this.compareTo(t)},n.equals=function(t){return this===t||t instanceof e&&this._date.equals(t._date)&&this._time.equals(t._time)},n.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},n.toString=function(){return this._date.toString()+"T"+this._time.toString()},n.toJSON=function(){return this.toString()},n.format=function(t){return f(t,"formatter"),t.format(this)},e}(le),he=function(t){function e(n,i,r,o){var s;void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),s=t.call(this)||this;var a=w.safeToInt(n),u=w.safeToInt(i),l=w.safeToInt(r),c=w.safeToInt(o);return e._validate(a,u,l,c),0===u&&0===l&&0===c?(e.HOURS[a]||(s._hour=a,s._minute=u,s._second=l,s._nano=c,e.HOURS[a]=p(s)),e.HOURS[a]||p(s)):(s._hour=a,s._minute=u,s._second=l,s._nano=c,s)}h(e,t),e.now=function(t){return null==t?e._now(fe.systemDefaultZone()):t instanceof fe?e._now(t):e._now(fe.system(t))},e._now=function(t){return void 0===t&&(t=fe.systemDefaultZone()),f(t,"clock"),e.ofInstant(t.instant(),t.zone())},e.ofInstant=function(t,n){void 0===n&&(n=G.systemDefault());var i=n.rules().offset(t),r=w.intMod(t.epochSecond(),e.SECONDS_PER_DAY);return(r=w.intMod(r+i.totalSeconds(),e.SECONDS_PER_DAY))<0&&(r+=e.SECONDS_PER_DAY),e.ofSecondOfDay(r,t.nano())},e.of=function(t,n,i,r){return new e(t,n,i,r)},e.ofSecondOfDay=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0),T.SECOND_OF_DAY.checkValidValue(t),T.NANO_OF_SECOND.checkValidValue(n);var i=w.intDiv(t,e.SECONDS_PER_HOUR);t-=i*e.SECONDS_PER_HOUR;var r=w.intDiv(t,e.SECONDS_PER_MINUTE);return new e(i,r,t-=r*e.SECONDS_PER_MINUTE,n)},e.ofNanoOfDay=function(t){void 0===t&&(t=0),T.NANO_OF_DAY.checkValidValue(t);var n=w.intDiv(t,e.NANOS_PER_HOUR);t-=n*e.NANOS_PER_HOUR;var i=w.intDiv(t,e.NANOS_PER_MINUTE);t-=i*e.NANOS_PER_MINUTE;var r=w.intDiv(t,e.NANOS_PER_SECOND);return new e(n,i,r,t-=r*e.NANOS_PER_SECOND)},e.from=function(t){f(t,"temporal");var e=t.query(I.localTime());if(null==e)throw new r("Unable to obtain LocalTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""));return e},e.parse=function(t,n){return void 0===n&&(n=Wt.ISO_LOCAL_TIME),f(n,"formatter"),n.parse(t,e.FROM)},e._validate=function(t,e,n,i){T.HOUR_OF_DAY.checkValidValue(t),T.MINUTE_OF_HOUR.checkValidValue(e),T.SECOND_OF_MINUTE.checkValidValue(n),T.NANO_OF_SECOND.checkValidValue(i)};var n=e.prototype;return n.isSupported=function(t){return t instanceof T||t instanceof A?t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.range=function(e){return f(e),t.prototype.range.call(this,e)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){return f(t,"field"),t instanceof T?this._get0(t):t.getFrom(this)},n._get0=function(t){switch(t){case T.NANO_OF_SECOND:return this._nano;case T.NANO_OF_DAY:return this.toNanoOfDay();case T.MICRO_OF_SECOND:return w.intDiv(this._nano,1e3);case T.MICRO_OF_DAY:return w.intDiv(this.toNanoOfDay(),1e3);case T.MILLI_OF_SECOND:return w.intDiv(this._nano,1e6);case T.MILLI_OF_DAY:return w.intDiv(this.toNanoOfDay(),1e6);case T.SECOND_OF_MINUTE:return this._second;case T.SECOND_OF_DAY:return this.toSecondOfDay();case T.MINUTE_OF_HOUR:return this._minute;case T.MINUTE_OF_DAY:return 60*this._hour+this._minute;case T.HOUR_OF_AMPM:return w.intMod(this._hour,12);case T.CLOCK_HOUR_OF_AMPM:var e=w.intMod(this._hour,12);return e%12==0?12:e;case T.HOUR_OF_DAY:return this._hour;case T.CLOCK_HOUR_OF_DAY:return 0===this._hour?24:this._hour;case T.AMPM_OF_DAY:return w.intDiv(this._hour,12)}throw new s("Unsupported field: "+t)},n.hour=function(){return this._hour},n.minute=function(){return this._minute},n.second=function(){return this._second},n.nano=function(){return this._nano},n.withAdjuster=function(t){return f(t,"adjuster"),t instanceof e?t:(_("function"==typeof t.adjustInto,"adjuster",u),t.adjustInto(this))},n.withFieldValue=function(t,n){if(f(t,"field"),d(t,k,"field"),t instanceof T){switch(t.checkValidValue(n),t){case T.NANO_OF_SECOND:return this.withNano(n);case T.NANO_OF_DAY:return e.ofNanoOfDay(n);case T.MICRO_OF_SECOND:return this.withNano(1e3*n);case T.MICRO_OF_DAY:return e.ofNanoOfDay(1e3*n);case T.MILLI_OF_SECOND:return this.withNano(1e6*n);case T.MILLI_OF_DAY:return e.ofNanoOfDay(1e6*n);case T.SECOND_OF_MINUTE:return this.withSecond(n);case T.SECOND_OF_DAY:return this.plusSeconds(n-this.toSecondOfDay());case T.MINUTE_OF_HOUR:return this.withMinute(n);case T.MINUTE_OF_DAY:return this.plusMinutes(n-(60*this._hour+this._minute));case T.HOUR_OF_AMPM:return this.plusHours(n-w.intMod(this._hour,12));case T.CLOCK_HOUR_OF_AMPM:return this.plusHours((12===n?0:n)-w.intMod(this._hour,12));case T.HOUR_OF_DAY:return this.withHour(n);case T.CLOCK_HOUR_OF_DAY:return this.withHour(24===n?0:n);case T.AMPM_OF_DAY:return this.plusHours(12*(n-w.intDiv(this._hour,12)))}throw new s("Unsupported field: "+t)}return t.adjustInto(this,n)},n.withHour=function(t){return void 0===t&&(t=0),this._hour===t?this:new e(t,this._minute,this._second,this._nano)},n.withMinute=function(t){return void 0===t&&(t=0),this._minute===t?this:new e(this._hour,t,this._second,this._nano)},n.withSecond=function(t){return void 0===t&&(t=0),this._second===t?this:new e(this._hour,this._minute,t,this._nano)},n.withNano=function(t){return void 0===t&&(t=0),this._nano===t?this:new e(this._hour,this._minute,this._second,t)},n.truncatedTo=function(t){if(f(t,"unit"),t===A.NANOS)return this;var n=t.duration();if(n.seconds()>e.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var i=n.toNanos();if(0!==w.intMod(e.NANOS_PER_DAY,i))throw new r("Unit must divide into a standard day without remainder");var o=this.toNanoOfDay();return e.ofNanoOfDay(w.intDiv(o,i)*i)},n.plusAmount=function(t){return f(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,n){if(f(n,"unit"),n instanceof A){switch(n){case A.NANOS:return this.plusNanos(t);case A.MICROS:return this.plusNanos(1e3*w.intMod(t,e.MICROS_PER_DAY));case A.MILLIS:return this.plusNanos(1e6*w.intMod(t,e.MILLIS_PER_DAY));case A.SECONDS:return this.plusSeconds(t);case A.MINUTES:return this.plusMinutes(t);case A.HOURS:return this.plusHours(t);case A.HALF_DAYS:return this.plusHours(12*w.intMod(t,2))}throw new s("Unsupported unit: "+n)}return n.addTo(this,t)},n.plusHours=function(t){return 0===t?this:new e(w.intMod(w.intMod(t,e.HOURS_PER_DAY)+this._hour+e.HOURS_PER_DAY,e.HOURS_PER_DAY),this._minute,this._second,this._nano)},n.plusMinutes=function(t){if(0===t)return this;var n=this._hour*e.MINUTES_PER_HOUR+this._minute,i=w.intMod(w.intMod(t,e.MINUTES_PER_DAY)+n+e.MINUTES_PER_DAY,e.MINUTES_PER_DAY);return n===i?this:new e(w.intDiv(i,e.MINUTES_PER_HOUR),w.intMod(i,e.MINUTES_PER_HOUR),this._second,this._nano)},n.plusSeconds=function(t){if(0===t)return this;var n=this._hour*e.SECONDS_PER_HOUR+this._minute*e.SECONDS_PER_MINUTE+this._second,i=w.intMod(w.intMod(t,e.SECONDS_PER_DAY)+n+e.SECONDS_PER_DAY,e.SECONDS_PER_DAY);return n===i?this:new e(w.intDiv(i,e.SECONDS_PER_HOUR),w.intMod(w.intDiv(i,e.SECONDS_PER_MINUTE),e.MINUTES_PER_HOUR),w.intMod(i,e.SECONDS_PER_MINUTE),this._nano)},n.plusNanos=function(t){if(0===t)return this;var n=this.toNanoOfDay(),i=w.intMod(w.intMod(t,e.NANOS_PER_DAY)+n+e.NANOS_PER_DAY,e.NANOS_PER_DAY);return n===i?this:new e(w.intDiv(i,e.NANOS_PER_HOUR),w.intMod(w.intDiv(i,e.NANOS_PER_MINUTE),e.MINUTES_PER_HOUR),w.intMod(w.intDiv(i,e.NANOS_PER_SECOND),e.SECONDS_PER_MINUTE),w.intMod(i,e.NANOS_PER_SECOND))},n.minusAmount=function(t){return f(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return f(e,"unit"),this.plusAmountUnit(-1*t,e)},n.minusHours=function(t){return this.plusHours(-1*w.intMod(t,e.HOURS_PER_DAY))},n.minusMinutes=function(t){return this.plusMinutes(-1*w.intMod(t,e.MINUTES_PER_DAY))},n.minusSeconds=function(t){return this.plusSeconds(-1*w.intMod(t,e.SECONDS_PER_DAY))},n.minusNanos=function(t){return this.plusNanos(-1*w.intMod(t,e.NANOS_PER_DAY))},n.query=function(t){return f(t,"query"),t===I.precision()?A.NANOS:t===I.localTime()?this:t===I.chronology()||t===I.zoneId()||t===I.zone()||t===I.offset()||t===I.localDate()?null:t.queryFrom(this)},n.adjustInto=function(t){return t.with(e.NANO_OF_DAY,this.toNanoOfDay())},n.until=function(t,n){f(t,"endExclusive"),f(n,"unit");var i=e.from(t);if(n instanceof A){var r=i.toNanoOfDay()-this.toNanoOfDay();switch(n){case A.NANOS:return r;case A.MICROS:return w.intDiv(r,1e3);case A.MILLIS:return w.intDiv(r,1e6);case A.SECONDS:return w.intDiv(r,e.NANOS_PER_SECOND);case A.MINUTES:return w.intDiv(r,e.NANOS_PER_MINUTE);case A.HOURS:return w.intDiv(r,e.NANOS_PER_HOUR);case A.HALF_DAYS:return w.intDiv(r,12*e.NANOS_PER_HOUR)}throw new s("Unsupported unit: "+n)}return n.between(this,i)},n.atDate=function(t){return ce.of(t,this)},n.toSecondOfDay=function(){var t=this._hour*e.SECONDS_PER_HOUR;return(t+=this._minute*e.SECONDS_PER_MINUTE)+this._second},n.toNanoOfDay=function(){var t=this._hour*e.NANOS_PER_HOUR;return t+=this._minute*e.NANOS_PER_MINUTE,(t+=this._second*e.NANOS_PER_SECOND)+this._nano},n.compareTo=function(t){f(t,"other"),d(t,e,"other");var n=w.compareNumbers(this._hour,t._hour);return 0===n&&0===(n=w.compareNumbers(this._minute,t._minute))&&0===(n=w.compareNumbers(this._second,t._second))&&(n=w.compareNumbers(this._nano,t._nano)),n},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){return this===t||t instanceof e&&this._hour===t._hour&&this._minute===t._minute&&this._second===t._second&&this._nano===t._nano},n.hashCode=function(){var t=this.toNanoOfDay();return w.hash(t)},n.toString=function(){var t="",e=this._hour,n=this._minute,i=this._second,r=this._nano;return t+=e<10?"0":"",t+=e,t+=n<10?":0":":",t+=n,(i>0||r>0)&&(t+=i<10?":0":":",t+=i,r>0&&(t+=".",0===w.intMod(r,1e6)?t+=(""+(w.intDiv(r,1e6)+1e3)).substring(1):0===w.intMod(r,1e3)?t+=(""+(w.intDiv(r,1e3)+1e6)).substring(1):t+=(""+(r+1e9)).substring(1))),t},n.toJSON=function(){return this.toString()},n.format=function(t){return f(t,"formatter"),t.format(this)},e}(H);he.HOURS_PER_DAY=24,he.MINUTES_PER_HOUR=60,he.MINUTES_PER_DAY=he.MINUTES_PER_HOUR*he.HOURS_PER_DAY,he.SECONDS_PER_MINUTE=60,he.SECONDS_PER_HOUR=he.SECONDS_PER_MINUTE*he.MINUTES_PER_HOUR,he.SECONDS_PER_DAY=he.SECONDS_PER_HOUR*he.HOURS_PER_DAY,he.MILLIS_PER_DAY=1e3*he.SECONDS_PER_DAY,he.MICROS_PER_DAY=1e6*he.SECONDS_PER_DAY,he.NANOS_PER_SECOND=1e9,he.NANOS_PER_MINUTE=he.NANOS_PER_SECOND*he.SECONDS_PER_MINUTE,he.NANOS_PER_HOUR=he.NANOS_PER_MINUTE*he.MINUTES_PER_HOUR,he.NANOS_PER_DAY=he.NANOS_PER_HOUR*he.HOURS_PER_DAY;var pe=1e6,_e=function(t){function e(n,i){var r;return r=t.call(this)||this,e._validate(n,i),r._seconds=w.safeToInt(n),r._nanos=w.safeToInt(i),r}h(e,t),e.now=function(t){return void 0===t&&(t=fe.systemUTC()),t.instant()},e.ofEpochSecond=function(t,n){void 0===n&&(n=0);var i=t+w.floorDiv(n,he.NANOS_PER_SECOND),r=w.floorMod(n,he.NANOS_PER_SECOND);return e._create(i,r)},e.ofEpochMilli=function(t){var n=w.floorDiv(t,1e3),i=w.floorMod(t,1e3);return e._create(n,1e6*i)},e.from=function(t){try{var n=t.getLong(T.INSTANT_SECONDS),i=t.get(T.NANO_OF_SECOND);return e.ofEpochSecond(n,i)}catch(e){throw new r("Unable to obtain Instant from TemporalAccessor: "+t+", type "+typeof t,e)}},e.parse=function(t){return Wt.ISO_INSTANT.parse(t,e.FROM)},e._create=function(t,n){return 0===t&&0===n?e.EPOCH:new e(t,n)},e._validate=function(t,n){if(t<e.MIN_SECONDS||t>e.MAX_SECONDS)throw new r("Instant exceeds minimum or maximum instant");if(n<0||n>he.NANOS_PER_SECOND)throw new r("Instant exceeds minimum or maximum instant")};var n=e.prototype;return n.isSupported=function(t){return t instanceof T?t===T.INSTANT_SECONDS||t===T.NANO_OF_SECOND||t===T.MICRO_OF_SECOND||t===T.MILLI_OF_SECOND:t instanceof A?t.isTimeBased()||t===A.DAYS:null!=t&&t.isSupportedBy(this)},n.range=function(e){return t.prototype.range.call(this,e)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t instanceof T){switch(t){case T.NANO_OF_SECOND:return this._nanos;case T.MICRO_OF_SECOND:return w.intDiv(this._nanos,1e3);case T.MILLI_OF_SECOND:return w.intDiv(this._nanos,pe);case T.INSTANT_SECONDS:return this._seconds}throw new s("Unsupported field: "+t)}return t.getFrom(this)},n.epochSecond=function(){return this._seconds},n.nano=function(){return this._nanos},n.withAdjuster=function(t){return f(t,"adjuster"),t.adjustInto(this)},n.withFieldValue=function(t,n){if(f(t,"field"),t instanceof T){switch(t.checkValidValue(n),t){case T.MILLI_OF_SECOND:var i=n*pe;return i!==this._nanos?e._create(this._seconds,i):this;case T.MICRO_OF_SECOND:var r=1e3*n;return r!==this._nanos?e._create(this._seconds,r):this;case T.NANO_OF_SECOND:return n!==this._nanos?e._create(this._seconds,n):this;case T.INSTANT_SECONDS:return n!==this._seconds?e._create(n,this._nanos):this}throw new s("Unsupported field: "+t)}return t.adjustInto(this,n)},n.truncatedTo=function(t){if(f(t,"unit"),t===A.NANOS)return this;var e=t.duration();if(e.seconds()>he.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var n=e.toNanos();if(0!==w.intMod(he.NANOS_PER_DAY,n))throw new r("Unit must divide into a standard day without remainder");var i=w.intMod(this._seconds,he.SECONDS_PER_DAY)*he.NANOS_PER_SECOND+this._nanos,o=w.intDiv(i,n)*n;return this.plusNanos(o-i)},n.plusAmount=function(t){return f(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,e){if(f(t,"amountToAdd"),f(e,"unit"),d(e,$),e instanceof A){switch(e){case A.NANOS:return this.plusNanos(t);case A.MICROS:return this._plus(w.intDiv(t,1e6),1e3*w.intMod(t,1e6));case A.MILLIS:return this.plusMillis(t);case A.SECONDS:return this.plusSeconds(t);case A.MINUTES:return this.plusSeconds(w.safeMultiply(t,he.SECONDS_PER_MINUTE));case A.HOURS:return this.plusSeconds(w.safeMultiply(t,he.SECONDS_PER_HOUR));case A.HALF_DAYS:return this.plusSeconds(w.safeMultiply(t,he.SECONDS_PER_DAY/2));case A.DAYS:return this.plusSeconds(w.safeMultiply(t,he.SECONDS_PER_DAY))}throw new s("Unsupported unit: "+e)}return e.addTo(this,t)},n.plusSeconds=function(t){return this._plus(t,0)},n.plusMillis=function(t){return this._plus(w.intDiv(t,1e3),w.intMod(t,1e3)*pe)},n.plusNanos=function(t){return this._plus(0,t)},n._plus=function(t,n){if(0===t&&0===n)return this;var i=this._seconds+t;i+=w.intDiv(n,he.NANOS_PER_SECOND);var r=this._nanos+n%he.NANOS_PER_SECOND;return e.ofEpochSecond(i,r)},n.minusAmount=function(t){return f(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,e){return this.plusAmountUnit(-1*t,e)},n.minusSeconds=function(t){return this.plusSeconds(-1*t)},n.minusMillis=function(t){return this.plusMillis(-1*t)},n.minusNanos=function(t){return this.plusNanos(-1*t)},n.query=function(t){return f(t,"query"),t===I.precision()?A.NANOS:t===I.localDate()||t===I.localTime()||t===I.chronology()||t===I.zoneId()||t===I.zone()||t===I.offset()?null:t.queryFrom(this)},n.adjustInto=function(t){return f(t,"temporal"),t.with(T.INSTANT_SECONDS,this._seconds).with(T.NANO_OF_SECOND,this._nanos)},n.until=function(t,n){f(t,"endExclusive"),f(n,"unit");var i=e.from(t);if(n instanceof A){switch(n){case A.NANOS:return this._nanosUntil(i);case A.MICROS:return w.intDiv(this._nanosUntil(i),1e3);case A.MILLIS:return w.safeSubtract(i.toEpochMilli(),this.toEpochMilli());case A.SECONDS:return this._secondsUntil(i);case A.MINUTES:return w.intDiv(this._secondsUntil(i),he.SECONDS_PER_MINUTE);case A.HOURS:return w.intDiv(this._secondsUntil(i),he.SECONDS_PER_HOUR);case A.HALF_DAYS:return w.intDiv(this._secondsUntil(i),12*he.SECONDS_PER_HOUR);case A.DAYS:return w.intDiv(this._secondsUntil(i),he.SECONDS_PER_DAY)}throw new s("Unsupported unit: "+n)}return n.between(this,i)},n._nanosUntil=function(t){var e=w.safeSubtract(t.epochSecond(),this.epochSecond()),n=w.safeMultiply(e,he.NANOS_PER_SECOND);return w.safeAdd(n,t.nano()-this.nano())},n._secondsUntil=function(t){var e=w.safeSubtract(t.epochSecond(),this.epochSecond()),n=t.nano()-this.nano();return e>0&&n<0?e--:e<0&&n>0&&e++,e},n.atOffset=function(t){return oe.ofInstant(this,t)},n.atZone=function(t){return re.ofInstant(this,t)},n.toEpochMilli=function(){return w.safeMultiply(this._seconds,1e3)+w.intDiv(this._nanos,pe)},n.compareTo=function(t){f(t,"otherInstant"),d(t,e,"otherInstant");var n=w.compareNumbers(this._seconds,t._seconds);return 0!==n?n:this._nanos-t._nanos},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){return this===t||t instanceof e&&this.epochSecond()===t.epochSecond()&&this.nano()===t.nano()},n.hashCode=function(){return w.hashCode(this._seconds,this._nanos)},n.toString=function(){return Wt.ISO_INSTANT.format(this)},n.toJSON=function(){return this.toString()},e}(H),fe=function(){function t(){}t.systemUTC=function(){return new de(Q.UTC)},t.systemDefaultZone=function(){return new de(G.systemDefault())},t.system=function(t){return new de(t)},t.fixed=function(t,e){return new me(t,e)},t.offset=function(t,e){return new ye(t,e)};var e=t.prototype;return e.millis=function(){m("Clock.millis")},e.instant=function(){m("Clock.instant")},e.zone=function(){m("Clock.zone")},e.withZone=function(){m("Clock.withZone")},t}(),de=function(t){function e(e){var n;return f(e,"zone"),(n=t.call(this)||this)._zone=e,n}h(e,t);var n=e.prototype;return n.zone=function(){return this._zone},n.millis=function(){return(new Date).getTime()},n.instant=function(){return _e.ofEpochMilli(this.millis())},n.equals=function(t){return t instanceof e&&this._zone.equals(t._zone)},n.withZone=function(t){return t.equals(this._zone)?this:new e(t)},n.toString=function(){return"SystemClock["+this._zone.toString()+"]"},e}(fe),me=function(t){function e(e,n){var i;return(i=t.call(this)||this)._instant=e,i._zoneId=n,i}h(e,t);var n=e.prototype;return n.instant=function(){return this._instant},n.millis=function(){return this._instant.toEpochMilli()},n.zone=function(){return this._zoneId},n.toString=function(){return"FixedClock[]"},n.equals=function(t){return t instanceof e&&this._instant.equals(t._instant)&&this._zoneId.equals(t._zoneId)},n.withZone=function(t){return t.equals(this._zoneId)?this:new e(this._instant,t)},e}(fe),ye=function(t){function e(e,n){var i;return(i=t.call(this)||this)._baseClock=e,i._offset=n,i}h(e,t);var n=e.prototype;return n.zone=function(){return this._baseClock.zone()},n.withZone=function(t){return t.equals(this._baseClock.zone())?this:new e(this._baseClock.withZone(t),this._offset)},n.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},n.instant=function(){return this._baseClock.instant().plus(this._offset)},n.equals=function(t){return t instanceof e&&this._baseClock.equals(t._baseClock)&&this._offset.equals(t._offset)},n.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},e}(fe),ve=function(){function t(t,e,n){if(f(t,"transition"),f(e,"offsetBefore"),f(n,"offsetAfter"),e.equals(n))throw new u("Offsets must not be equal");if(0!==t.nano())throw new u("Nano-of-second must be zero");this._transition=t instanceof ce?t:ce.ofEpochSecond(t,0,e),this._offsetBefore=e,this._offsetAfter=n}t.of=function(e,n,i){return new t(e,n,i)};var e=t.prototype;return e.instant=function(){return this._transition.toInstant(this._offsetBefore)},e.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},e.dateTimeBefore=function(){return this._transition},e.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},e.offsetBefore=function(){return this._offsetBefore},e.offsetAfter=function(){return this._offsetAfter},e.duration=function(){return C.ofSeconds(this.durationSeconds())},e.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},e.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},e.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},e.isValidOffset=function(t){return!this.isGap()&&(this._offsetBefore.equals(t)||this._offsetAfter.equals(t))},e.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},e.compareTo=function(t){return this.instant().compareTo(t.instant())},e.equals=function(e){if(e===this)return!0;if(e instanceof t){var n=e;return this._transition.equals(n._transition)&&this._offsetBefore.equals(n.offsetBefore())&&this._offsetAfter.equals(n.offsetAfter())}return!1},e.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},e.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},t}(),ge=function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var n=e.prototype;return n.isFixedOffset=function(){return!1},n.offsetOfInstant=function(t){var e=new Date(t.toEpochMilli()).getTimezoneOffset();return Q.ofTotalMinutes(-1*e)},n.offsetOfEpochMilli=function(t){var e=new Date(t).getTimezoneOffset();return Q.ofTotalMinutes(-1*e)},n.offsetOfLocalDateTime=function(t){var e=1e3*t.toEpochSecond(Q.UTC),n=new Date(e).getTimezoneOffset(),i=new Date(e+6e4*n).getTimezoneOffset();return Q.ofTotalMinutes(-1*i)},n.validOffsets=function(t){return[this.offsetOfLocalDateTime(t)]},n.transition=function(){return null},n.standardOffset=function(t){return this.offsetOfInstant(t)},n.daylightSavings=function(){this._throwNotSupported()},n.isDaylightSavings=function(){this._throwNotSupported()},n.isValidOffset=function(t,e){return this.offsetOfLocalDateTime(t).equals(e)},n.nextTransition=function(){this._throwNotSupported()},n.previousTransition=function(){this._throwNotSupported()},n.transitions=function(){this._throwNotSupported()},n.transitionRules=function(){this._throwNotSupported()},n._throwNotSupported=function(){throw new r("not supported operation")},n.equals=function(t){return this===t||t instanceof e},n.toString=function(){return"SYSTEM"},e}(Z),we=function(t){function e(){var e;return(e=t.call(this)||this)._rules=new ge,e}h(e,t);var n=e.prototype;return n.rules=function(){return this._rules},n.equals=function(t){return this===t},n.id=function(){return"SYSTEM"},e}(G),be=function(){function t(){}return t.systemDefault=function(){return xe},t.getAvailableZoneIds=function(){return Rt.getAvailableZoneIds()},t.of=function(t){if(f(t,"zoneId"),"Z"===t)return Q.UTC;if(1===t.length)throw new r("Invalid zone: "+t);if(W.startsWith(t,"+")||W.startsWith(t,"-"))return Q.of(t);if("UTC"===t||"GMT"===t||"GMT0"===t||"UT"===t)return new Pt(t,Q.UTC.rules());if(W.startsWith(t,"UTC+")||W.startsWith(t,"GMT+")||W.startsWith(t,"UTC-")||W.startsWith(t,"GMT-")){var e=Q.of(t.substring(3));return 0===e.totalSeconds()?new Pt(t.substring(0,3),e.rules()):new Pt(t.substring(0,3)+e.id(),e.rules())}if(W.startsWith(t,"UT+")||W.startsWith(t,"UT-")){var n=Q.of(t.substring(2));return 0===n.totalSeconds()?new Pt("UT",n.rules()):new Pt("UT"+n.id(),n.rules())}return"SYSTEM"===t?G.systemDefault():Pt.ofId(t)},t.ofOffset=function(t,e){if(f(t,"prefix"),f(e,"offset"),0===t.length)return e;if("GMT"===t||"UTC"===t||"UT"===t)return 0===e.totalSeconds()?new Pt(t,e.rules()):new Pt(t+e.id(),e.rules());throw new u("Invalid prefix, must be GMT, UTC or UT: "+t)},t.from=function(t){f(t,"temporal");var e=t.query(I.zone());if(null==e)throw new r("Unable to obtain ZoneId from TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""));return e},t}(),xe=null,$e=!1;$e||($e=!0,E.MIN_VALUE=-999999,E.MAX_VALUE=999999,C.ZERO=new C(0,0),A.NANOS=new A("Nanos",C.ofNanos(1)),A.MICROS=new A("Micros",C.ofNanos(1e3)),A.MILLIS=new A("Millis",C.ofNanos(1e6)),A.SECONDS=new A("Seconds",C.ofSeconds(1)),A.MINUTES=new A("Minutes",C.ofSeconds(60)),A.HOURS=new A("Hours",C.ofSeconds(3600)),A.HALF_DAYS=new A("HalfDays",C.ofSeconds(43200)),A.DAYS=new A("Days",C.ofSeconds(86400)),A.WEEKS=new A("Weeks",C.ofSeconds(604800)),A.MONTHS=new A("Months",C.ofSeconds(2629746)),A.YEARS=new A("Years",C.ofSeconds(31556952)),A.DECADES=new A("Decades",C.ofSeconds(315569520)),A.CENTURIES=new A("Centuries",C.ofSeconds(3155695200)),A.MILLENNIA=new A("Millennia",C.ofSeconds(31556952e3)),A.ERAS=new A("Eras",C.ofSeconds(31556952*(E.MAX_VALUE+1))),A.FOREVER=new A("Forever",C.ofSeconds(w.MAX_SAFE_INTEGER,999999999)),T.NANO_OF_SECOND=new T("NanoOfSecond",A.NANOS,A.SECONDS,S.of(0,999999999)),T.NANO_OF_DAY=new T("NanoOfDay",A.NANOS,A.DAYS,S.of(0,86399999999999)),T.MICRO_OF_SECOND=new T("MicroOfSecond",A.MICROS,A.SECONDS,S.of(0,999999)),T.MICRO_OF_DAY=new T("MicroOfDay",A.MICROS,A.DAYS,S.of(0,86399999999)),T.MILLI_OF_SECOND=new T("MilliOfSecond",A.MILLIS,A.SECONDS,S.of(0,999)),T.MILLI_OF_DAY=new T("MilliOfDay",A.MILLIS,A.DAYS,S.of(0,86399999)),T.SECOND_OF_MINUTE=new T("SecondOfMinute",A.SECONDS,A.MINUTES,S.of(0,59)),T.SECOND_OF_DAY=new T("SecondOfDay",A.SECONDS,A.DAYS,S.of(0,86399)),T.MINUTE_OF_HOUR=new T("MinuteOfHour",A.MINUTES,A.HOURS,S.of(0,59)),T.MINUTE_OF_DAY=new T("MinuteOfDay",A.MINUTES,A.DAYS,S.of(0,1439)),T.HOUR_OF_AMPM=new T("HourOfAmPm",A.HOURS,A.HALF_DAYS,S.of(0,11)),T.CLOCK_HOUR_OF_AMPM=new T("ClockHourOfAmPm",A.HOURS,A.HALF_DAYS,S.of(1,12)),T.HOUR_OF_DAY=new T("HourOfDay",A.HOURS,A.DAYS,S.of(0,23)),T.CLOCK_HOUR_OF_DAY=new T("ClockHourOfDay",A.HOURS,A.DAYS,S.of(1,24)),T.AMPM_OF_DAY=new T("AmPmOfDay",A.HALF_DAYS,A.DAYS,S.of(0,1)),T.DAY_OF_WEEK=new T("DayOfWeek",A.DAYS,A.WEEKS,S.of(1,7)),T.ALIGNED_DAY_OF_WEEK_IN_MONTH=new T("AlignedDayOfWeekInMonth",A.DAYS,A.WEEKS,S.of(1,7)),T.ALIGNED_DAY_OF_WEEK_IN_YEAR=new T("AlignedDayOfWeekInYear",A.DAYS,A.WEEKS,S.of(1,7)),T.DAY_OF_MONTH=new T("DayOfMonth",A.DAYS,A.MONTHS,S.of(1,28,31),"day"),T.DAY_OF_YEAR=new T("DayOfYear",A.DAYS,A.YEARS,S.of(1,365,366)),T.EPOCH_DAY=new T("EpochDay",A.DAYS,A.FOREVER,S.of(Math.floor(365.25*E.MIN_VALUE),Math.floor(365.25*E.MAX_VALUE))),T.ALIGNED_WEEK_OF_MONTH=new T("AlignedWeekOfMonth",A.WEEKS,A.MONTHS,S.of(1,4,5)),T.ALIGNED_WEEK_OF_YEAR=new T("AlignedWeekOfYear",A.WEEKS,A.YEARS,S.of(1,53)),T.MONTH_OF_YEAR=new T("MonthOfYear",A.MONTHS,A.YEARS,S.of(1,12),"month"),T.PROLEPTIC_MONTH=new T("ProlepticMonth",A.MONTHS,A.FOREVER,S.of(12*E.MIN_VALUE,12*E.MAX_VALUE+11)),T.YEAR_OF_ERA=new T("YearOfEra",A.YEARS,A.FOREVER,S.of(1,E.MAX_VALUE,E.MAX_VALUE+1)),T.YEAR=new T("Year",A.YEARS,A.FOREVER,S.of(E.MIN_VALUE,E.MAX_VALUE),"year"),T.ERA=new T("Era",A.ERAS,A.FOREVER,S.of(0,1)),T.INSTANT_SECONDS=new T("InstantSeconds",A.SECONDS,A.FOREVER,S.of(g,v)),T.OFFSET_SECONDS=new T("OffsetSeconds",A.SECONDS,A.FOREVER,S.of(-64800,64800)),function(){he.HOURS=[];for(var t=0;t<24;t++)he.of(t,0,0,0);he.MIN=he.HOURS[0],he.MAX=new he(23,59,59,999999999),he.MIDNIGHT=he.HOURS[0],he.NOON=he.HOURS[12],he.FROM=M("LocalTime.FROM",(function(t){return he.from(t)}))}(),pt=new at,_t=new ut,ft=new lt,dt=new ct,mt=new ht("WeekBasedYears",C.ofSeconds(31556952)),yt=new ht("QuarterYears",C.ofSeconds(7889238)),rt.DAY_OF_QUARTER=pt,rt.QUARTER_OF_YEAR=_t,rt.WEEK_OF_WEEK_BASED_YEAR=ft,rt.WEEK_BASED_YEAR=dt,rt.WEEK_BASED_YEARS=mt,rt.QUARTER_YEARS=yt,ue.prototype.isoWeekOfWeekyear=function(){return this.get(rt.WEEK_OF_WEEK_BASED_YEAR)},ue.prototype.isoWeekyear=function(){return this.get(rt.WEEK_BASED_YEAR)},I.ZONE_ID=M("ZONE_ID",(function(t){return t.query(I.ZONE_ID)})),I.CHRONO=M("CHRONO",(function(t){return t.query(I.CHRONO)})),I.PRECISION=M("PRECISION",(function(t){return t.query(I.PRECISION)})),I.OFFSET=M("OFFSET",(function(t){return t.isSupported(T.OFFSET_SECONDS)?Q.ofTotalSeconds(t.get(T.OFFSET_SECONDS)):null})),I.ZONE=M("ZONE",(function(t){var e=t.query(I.ZONE_ID);return null!=e?e:t.query(I.OFFSET)})),I.LOCAL_DATE=M("LOCAL_DATE",(function(t){return t.isSupported(T.EPOCH_DAY)?ue.ofEpochDay(t.getLong(T.EPOCH_DAY)):null})),I.LOCAL_TIME=M("LOCAL_TIME",(function(t){return t.isSupported(T.NANO_OF_DAY)?he.ofNanoOfDay(t.getLong(T.NANO_OF_DAY)):null})),P.MONDAY=new P(0,"MONDAY"),P.TUESDAY=new P(1,"TUESDAY"),P.WEDNESDAY=new P(2,"WEDNESDAY"),P.THURSDAY=new P(3,"THURSDAY"),P.FRIDAY=new P(4,"FRIDAY"),P.SATURDAY=new P(5,"SATURDAY"),P.SUNDAY=new P(6,"SUNDAY"),P.FROM=M("DayOfWeek.FROM",(function(t){return P.from(t)})),D=[P.MONDAY,P.TUESDAY,P.WEDNESDAY,P.THURSDAY,P.FRIDAY,P.SATURDAY,P.SUNDAY],_e.MIN_SECONDS=-31619119219200,_e.MAX_SECONDS=31494816403199,_e.EPOCH=new _e(0,0),_e.MIN=_e.ofEpochSecond(_e.MIN_SECONDS,0),_e.MAX=_e.ofEpochSecond(_e.MAX_SECONDS,999999999),_e.FROM=M("Instant.FROM",(function(t){return _e.from(t)})),ue.MIN=ue.of(E.MIN_VALUE,1,1),ue.MAX=ue.of(E.MAX_VALUE,12,31),ue.EPOCH_0=ue.ofEpochDay(0),ue.FROM=M("LocalDate.FROM",(function(t){return ue.from(t)})),ce.MIN=ce.of(ue.MIN,he.MIN),ce.MAX=ce.of(ue.MAX,he.MAX),ce.FROM=M("LocalDateTime.FROM",(function(t){return ce.from(t)})),Kt.MIN_VALUE=E.MIN_VALUE,Kt.MAX_VALUE=E.MAX_VALUE,Mt=(new Ft).appendValue(T.YEAR,4,10,gt.EXCEEDS_PAD).toFormatter(),Kt.FROM=M("Year.FROM",(function(t){return Kt.from(t)})),j.JANUARY=new j(1,"JANUARY"),j.FEBRUARY=new j(2,"FEBRUARY"),j.MARCH=new j(3,"MARCH"),j.APRIL=new j(4,"APRIL"),j.MAY=new j(5,"MAY"),j.JUNE=new j(6,"JUNE"),j.JULY=new j(7,"JULY"),j.AUGUST=new j(8,"AUGUST"),j.SEPTEMBER=new j(9,"SEPTEMBER"),j.OCTOBER=new j(10,"OCTOBER"),j.NOVEMBER=new j(11,"NOVEMBER"),j.DECEMBER=new j(12,"DECEMBER"),R=[j.JANUARY,j.FEBRUARY,j.MARCH,j.APRIL,j.MAY,j.JUNE,j.JULY,j.AUGUST,j.SEPTEMBER,j.OCTOBER,j.NOVEMBER,j.DECEMBER],zt=(new Ft).appendValue(T.YEAR,4,10,gt.EXCEEDS_PAD).appendLiteral("-").appendValue(T.MONTH_OF_YEAR,2).toFormatter(),Zt.FROM=M("YearMonth.FROM",(function(t){return Zt.from(t)})),Ot=(new Ft).appendLiteral("--").appendValue(T.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(T.DAY_OF_MONTH,2).toFormatter(),Gt.FROM=M("MonthDay.FROM",(function(t){return Gt.from(t)})),L.ofDays(0),Q.MAX_SECONDS=18*he.SECONDS_PER_HOUR,Q.UTC=Q.ofTotalSeconds(0),Q.MIN=Q.ofTotalSeconds(-Q.MAX_SECONDS),Q.MAX=Q.ofTotalSeconds(Q.MAX_SECONDS),re.FROM=M("ZonedDateTime.FROM",(function(t){return re.from(t)})),xe=new we,G.systemDefault=be.systemDefault,G.getAvailableZoneIds=be.getAvailableZoneIds,G.of=be.of,G.ofOffset=be.ofOffset,G.from=be.from,Q.from=be.from,G.SYSTEM=xe,G.UTC=Q.ofTotalSeconds(0),ee.INSTANCE=new ee("IsoChronology"),Wt.ISO_LOCAL_DATE=(new Ft).appendValue(T.YEAR,4,10,gt.EXCEEDS_PAD).appendLiteral("-").appendValue(T.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(T.DAY_OF_MONTH,2).toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.ISO_LOCAL_TIME=(new Ft).appendValue(T.HOUR_OF_DAY,2).appendLiteral(":").appendValue(T.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(T.SECOND_OF_MINUTE,2).optionalStart().appendFraction(T.NANO_OF_SECOND,0,9,!0).toFormatter(F.STRICT),Wt.ISO_LOCAL_DATE_TIME=(new Ft).parseCaseInsensitive().append(Wt.ISO_LOCAL_DATE).appendLiteral("T").append(Wt.ISO_LOCAL_TIME).toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.ISO_INSTANT=(new Ft).parseCaseInsensitive().appendInstant().toFormatter(F.STRICT),Wt.ISO_OFFSET_DATE_TIME=(new Ft).parseCaseInsensitive().append(Wt.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.ISO_ZONED_DATE_TIME=(new Ft).append(Wt.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.BASIC_ISO_DATE=(new Ft).appendValue(T.YEAR,4,10,gt.EXCEEDS_PAD).appendValue(T.MONTH_OF_YEAR,2).appendValue(T.DAY_OF_MONTH,2).toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.ISO_OFFSET_DATE=(new Ft).parseCaseInsensitive().append(Wt.ISO_LOCAL_DATE).appendOffsetId().toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.ISO_OFFSET_TIME=(new Ft).parseCaseInsensitive().append(Wt.ISO_LOCAL_TIME).appendOffsetId().toFormatter(F.STRICT).withChronology(ee.INSTANCE),Wt.ISO_ORDINAL_DATE=(new Ft).appendValue(T.YEAR,4,10,gt.EXCEEDS_PAD).appendLiteral("-").appendValue(T.DAY_OF_YEAR).toFormatter(F.STRICT),Wt.ISO_WEEK_DATE=(new Ft).appendValue(T.YEAR,4,10,gt.EXCEEDS_PAD).appendLiteral("-W").appendValue(T.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(T.DAY_OF_WEEK).toFormatter(F.STRICT),Wt.PARSED_EXCESS_DAYS=M("PARSED_EXCESS_DAYS",(function(t){return t instanceof tt?t.excessDays:L.ZERO})),Wt.PARSED_LEAP_SECOND=M("PARSED_LEAP_SECOND",(function(t){return t instanceof tt&&t.leapSecond})),At.BASE_DATE=ue.of(2e3,1,1),Ft.CompositePrinterParser=xt,Ft.PadPrinterParserDecorator=Tt,Ft.SettingsParser=It,Ft.CharLiteralPrinterParser=Dt,Ft.StringLiteralPrinterParser=Dt,Ft.CharLiteralPrinterParser=bt,Ft.NumberPrinterParser=Et,Ft.ReducedPrinterParser=At,Ft.FractionPrinterParser=$t,Ft.OffsetIdPrinterParser=St,Ft.ZoneIdPrinterParser=jt,oe.MIN=ce.MIN.atOffset(Q.MAX),oe.MAX=ce.MAX.atOffset(Q.MIN),oe.FROM=M("OffsetDateTime.FROM",(function(t){return oe.from(t)})),ne.MIN=ne.ofNumbers(0,0,0,0,Q.MAX),ne.MAX=ne.ofNumbers(23,59,59,999999999,Q.MIN),ne.FROM=M("OffsetTime.FROM",(function(t){return ne.from(t)})));var Ce=function(){function t(t,e){var n;if(t instanceof ue)e=null==e?G.systemDefault():e,n=t.atStartOfDay(e);else if(t instanceof ce)e=null==e?G.systemDefault():e,n=t.atZone(e);else{if(!(t instanceof re))throw new u("unsupported instance for convert operation:"+t);n=null==e?t:t.withZoneSameInstant(e)}this.instant=n.toInstant()}var e=t.prototype;return e.toDate=function(){return new Date(this.instant.toEpochMilli())},e.toEpochMilli=function(){return this.instant.toEpochMilli()},t}();function Ee(t,e){return new Ce(t,e)}var Ae=function(t){function e(e,n){var i;return void 0===n&&(n=G.systemDefault()),(i=t.call(this)||this)._zone=n,e instanceof Date?(i._epochMilli=e.getTime(),p(i)):"function"==typeof e.toDate&&e.toDate()instanceof Date?(i._epochMilli=e.toDate().getTime(),p(i)):(_(!1,"date must be either a javascript date or a moment"),i)}h(e,t);var n=e.prototype;return n.query=function(e){return f(e,"query"),e===I.localDate()?ue.ofInstant(_e.ofEpochMilli(this._epochMilli),this._zone):e===I.localTime()?he.ofInstant(_e.ofEpochMilli(this._epochMilli),this._zone):e===I.zone()?this._zone:t.prototype.query.call(this,e)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(f(t,"field"),t instanceof T){switch(t){case T.NANO_OF_SECOND:return 1e6*w.floorMod(this._epochMilli,1e3);case T.INSTANT_SECONDS:return w.floorDiv(this._epochMilli,1e3)}throw new s("Unsupported field: "+t)}return t.getFrom(this)},n.isSupported=function(t){return t===T.INSTANT_SECONDS||t===T.NANO_OF_SECOND},e}(O);function ke(t,e){return new Ae(t,e)}var Se,Te,Ie={assert:y,DateTimeBuilder:tt,DateTimeParseContext:et,DateTimePrintContext:it,MathUtil:w,StringUtil:W,StringBuilder:Yt},Oe={_:Ie,convert:Ee,nativeJs:ke,ArithmeticException:a,DateTimeException:r,DateTimeParseException:o,IllegalArgumentException:u,IllegalStateException:l,UnsupportedTemporalTypeException:s,NullPointerException:c,Clock:fe,DayOfWeek:P,Duration:C,Instant:_e,LocalDate:ue,LocalTime:he,LocalDateTime:ce,OffsetTime:ne,OffsetDateTime:oe,Month:j,MonthDay:Gt,Period:L,Year:Kt,YearConstants:E,YearMonth:Zt,ZonedDateTime:re,ZoneOffset:Q,ZoneId:G,ZoneRegion:Pt,ZoneOffsetTransition:ve,ZoneRules:Z,ZoneRulesProvider:Rt,ChronoLocalDate:Y,ChronoLocalDateTime:le,ChronoZonedDateTime:ie,IsoChronology:ee,ChronoField:T,ChronoUnit:A,IsoFields:rt,Temporal:H,TemporalAccessor:O,TemporalAdjuster:U,TemporalAdjusters:Xt,TemporalAmount:x,TemporalField:k,TemporalQueries:I,TemporalQuery:z,TemporalUnit:$,ValueRange:S,DateTimeFormatter:Wt,DateTimeFormatterBuilder:Ft,DecimalStyle:vt,ResolverStyle:F,SignStyle:gt,TextStyle:wt},ze=(Se=Oe,Te=[],function(t){return~Te.indexOf(t)||(t(Se),Te.push(t)),Se});Oe.use=ze},1051:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);i&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},2629:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},7796:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */"),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(s).concat([o]).join("\n")}return[e].join("\n")}},8351:function(t){t.exports=function(){"use strict";var t,e,n;function i(i,r){if(t)if(e){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk); self.onerror = null;",s={};t(s),n=r(s),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=r;else t=r}return i(0,(function(t){var e="2.7.0",n=i;function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var n,i,r,o,s;for(void 0===e&&(e=1e-6),r=t,s=0;s<8;s++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r-=o/a}if((r=t)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),r=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-i*(this.y-e.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var s="undefined"!=typeof self?self:{},a=1e-6,u="undefined"!=typeof Float32Array?Float32Array:Array;function l(){var t=new u(9);return u!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function h(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],_=e[10],f=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n[0],w=n[1],b=n[2],x=n[3];return t[0]=g*i+w*a+b*h+x*d,t[1]=g*r+w*u+b*p+x*m,t[2]=g*o+w*l+b*_+x*y,t[3]=g*s+w*c+b*f+x*v,t[4]=(g=n[4])*i+(w=n[5])*a+(b=n[6])*h+(x=n[7])*d,t[5]=g*r+w*u+b*p+x*m,t[6]=g*o+w*l+b*_+x*y,t[7]=g*s+w*c+b*f+x*v,t[8]=(g=n[8])*i+(w=n[9])*a+(b=n[10])*h+(x=n[11])*d,t[9]=g*r+w*u+b*p+x*m,t[10]=g*o+w*l+b*_+x*y,t[11]=g*s+w*c+b*f+x*v,t[12]=(g=n[12])*i+(w=n[13])*a+(b=n[14])*h+(x=n[15])*d,t[13]=g*r+w*u+b*p+x*m,t[14]=g*o+w*l+b*_+x*y,t[15]=g*s+w*c+b*f+x*v,t}function p(t,e,n){var i,r,o,s,a,u,l,c,h,p,_,f,d=n[0],m=n[1],y=n[2];return e===t?(t[12]=e[0]*d+e[4]*m+e[8]*y+e[12],t[13]=e[1]*d+e[5]*m+e[9]*y+e[13],t[14]=e[2]*d+e[6]*m+e[10]*y+e[14],t[15]=e[3]*d+e[7]*m+e[11]*y+e[15]):(r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],_=e[10],f=e[11],t[0]=i=e[0],t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=p,t[10]=_,t[11]=f,t[12]=i*d+a*m+h*y+e[12],t[13]=r*d+u*m+p*y+e[13],t[14]=o*d+l*m+_*y+e[14],t[15]=s*d+c*m+f*y+e[15]),t}function _(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],s=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*i,t[5]=s*r+c*i,t[6]=a*r+h*i,t[7]=u*r+p*i,t[8]=l*r-o*i,t[9]=c*r-s*i,t[10]=h*r-a*i,t[11]=p*r-u*i,t}function d(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],s=e[1],a=e[2],u=e[3],l=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-l*i,t[1]=s*r-c*i,t[2]=a*r-h*i,t[3]=u*r-p*i,t[8]=o*i+l*r,t[9]=s*i+c*r,t[10]=a*i+h*r,t[11]=u*i+p*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var m=h;function y(){var t=new u(3);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function v(t){var e=new u(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function g(t){return Math.hypot(t[0],t[1],t[2])}function w(t,e,n){var i=new u(3);return i[0]=t,i[1]=e,i[2]=n,i}function b(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function x(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function $(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function C(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function E(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function A(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t}function k(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function S(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,n){var i=e[0],r=e[1],o=e[2],s=n[0],a=n[1],u=n[2];return t[0]=r*u-o*a,t[1]=o*s-i*u,t[2]=i*a-r*s,t}function I(t,e,n){var i=e[0],r=e[1],o=e[2],s=n[3]*i+n[7]*r+n[11]*o+n[15];return t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/(s=s||1),t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/s,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/s,t}function O(t,e,n){var i=n[0],r=n[1],o=n[2],s=e[0],a=e[1],u=e[2],l=r*u-o*a,c=o*s-i*u,h=i*a-r*s,p=r*h-o*c,_=o*l-i*h,f=i*c-r*l,d=2*n[3];return c*=d,h*=d,_*=2,f*=2,t[0]=s+(l*=d)+(p*=2),t[1]=a+c+_,t[2]=u+h+f,t}var z,M=x,D=$,R=g;function P(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*s,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*s,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*s,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*s,t}function j(){var t=new u(4);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function N(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function L(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u+s*a,t[1]=r*u+o*a,t[2]=o*u-r*a,t[3]=s*u-i*a,t}function q(t,e){return t[0]===e[0]&&t[1]===e[1]}y(),z=new u(4),u!=Float32Array&&(z[0]=0,z[1]=0,z[2]=0,z[3]=0),y(),w(1,0,0),w(0,1,0),j(),j(),l(),function(){var t;t=new u(2),u!=Float32Array&&(t[0]=0,t[1]=0)}();const B=Math.PI/180,F=180/Math.PI;function U(t){return t*B}function H(t){return t*F}const V=[[0,0],[1,0],[1,1],[0,1]];function Y(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function W(t,e,i,r){const o=new n(t,e,i,r);return function(t){return o.solve(t)}}const G=W(.25,.1,.25,1);function Z(t,e,n){return Math.min(n,Math.max(e,t))}function K(t,e,n){return(n=Z((n-t)/(e-t),0,1))*n*(3-2*n)}function X(t,e,n){const i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r}function J(t,e,n){if(!t.length)return n(null,[]);let i=t.length;const r=new Array(t.length);let o=null;t.forEach(((t,s)=>{e(t,((t,e)=>{t&&(o=t),r[s]=e,0==--i&&n(o,r)}))}))}function Q(t){const e=[];for(const n in t)e.push(t[n]);return e}function tt(t,...e){for(const n of e)for(const e in n)t[e]=n[e];return t}let et=1;function nt(){return et++}function it(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function rt(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ot(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function st(t,e){t.forEach((t=>{e[t]&&(e[t]=e[t].bind(e))}))}function at(t,e){return-1!==t.indexOf(e,t.length-e.length)}function ut(t,e,n){const i={};for(const r in t)i[r]=e.call(n||this,t[r],r,t);return i}function lt(t,e,n){const i={};for(const r in t)e.call(n||this,t[r],r,t)&&(i[r]=t[r]);return i}function ct(t){return Array.isArray(t)?t.map(ct):"object"==typeof t&&t?ut(t,ct):t}const ht={};function pt(t){ht[t]||("undefined"!=typeof console&&console.warn(t),ht[t]=!0)}function _t(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function ft(t){let e=0;for(let n,i,r=0,o=t.length,s=o-1;r<o;s=r++)n=t[r],i=t[s],e+=(i.x-n.x)*(n.y+i.y);return e}function dt(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function mt(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((t,n,i,r)=>{const o=i||r;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){const t=parseInt(e["max-age"],10);isNaN(t)?delete e["max-age"]:e["max-age"]=t}return e}let yt,vt,gt,wt=null;function bt(t){if(null==wt){const e=t.navigator?t.navigator.userAgent:null;wt=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return wt}function xt(t){try{const e=s[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}const $t={now:()=>void 0!==gt?gt:s.performance.now(),setNow(t){gt=t},restoreNow(){gt=void 0},frame(t){const e=s.requestAnimationFrame(t);return{cancel:()=>s.cancelAnimationFrame(e)}},getImageData(t,e=0){const n=s.document.createElement("canvas"),i=n.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:t=>(yt||(yt=s.document.createElement("a")),yt.href=t,yt.href),get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return!!s.matchMedia&&(null==vt&&(vt=s.matchMedia("(prefers-reduced-motion: reduce)")),vt.matches)}};let Ct;const Et={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Ct){const t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Ct=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):t}catch(e){Ct=t}}return Ct},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},At={supported:!1,testSupport:function(t){!Tt&&St&&(It?Ot(t):kt=t)}};let kt,St,Tt=!1,It=!1;function Ot(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,St),t.isContextLost())return;At.supported=!0}catch(t){}t.deleteTexture(e),Tt=!0}s.document&&(St=s.document.createElement("img"),St.onload=function(){kt&&Ot(kt),kt=null,It=!0},St.onerror=function(){Tt=!0,kt=null},St.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const zt="01",Mt="NO_ACCESS_TOKEN";function Dt(t){return 0===t.indexOf("mapbox:")}function Rt(t){return Et.API_URL_REGEX.test(t)}const Pt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function jt(t){const e=t.match(Pt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Nt(t){const e=t.params.length?`?${t.params.join("&")}`:"";return`${t.protocol}://${t.authority}${t.path}${e}`}function Lt(t){if(!t)return null;const e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(s.atob(e[1]).split("").map((t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2))).join("")))}catch(t){return null}}class qt{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const e=Lt(Et.ACCESS_TOKEN);let n="";return n=e&&e.u?s.btoa(encodeURIComponent(e.u).replace(/%([0-9A-F]{2})/g,((t,e)=>String.fromCharCode(Number("0x"+e))))):Et.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${n}`:`mapbox.eventData:${n}`}fetchEventData(){const t=xt("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{const t=s.localStorage.getItem(e);t&&(this.eventData=JSON.parse(t));const i=s.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){pt("Unable to read from LocalStorage")}}saveEventData(){const t=xt("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{s.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){pt("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,n,i,r){if(!Et.EVENTS_URL)return;const o=jt(Et.EVENTS_URL);o.params.push(`access_token=${r||Et.ACCESS_TOKEN||""}`);const s={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:e,skuId:zt,userId:this.anonId},a=n?tt(s,n):s,u={url:Nt(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=ae(u,(t=>{this.pendingRequest=null,i(t),this.saveEventData(),this.processRequests(r)}))}queueRequest(t,e){this.queue.push(t),this.processRequests(e)}}const Bt=new class extends qt{constructor(t){super("appUserTurnstile"),this._customAccessToken=t}postTurnstileEvent(t,e){Et.EVENTS_URL&&Et.ACCESS_TOKEN&&Array.isArray(t)&&t.some((t=>Dt(t)||Rt(t)))&&this.queueRequest(Date.now(),e)}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=Lt(Et.ACCESS_TOKEN),n=e?e.u:Et.ACCESS_TOKEN;let i=n!==this.eventData.tokenU;ot(this.anonId)||(this.anonId=it(),i=!0);const r=this.queue.shift();if(this.eventData.lastSuccess){const t=new Date(this.eventData.lastSuccess),e=new Date(r),n=(r-this.eventData.lastSuccess)/864e5;i=i||n>=1||n<-1||t.getDate()!==e.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(r,{"enabled.telemetry":!1},(t=>{t||(this.eventData.lastSuccess=r,this.eventData.tokenU=n)}),t)}},Ft=Bt.postTurnstileEvent.bind(Bt),Ut=new class extends qt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(t,e,n,i){this.skuToken=e,this.errorCb=i,Et.EVENTS_URL&&(n||Et.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},n):this.errorCb(new Error(Mt)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:n}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),ot(this.anonId)||(this.anonId=it()),this.postEvent(n,{skuToken:this.skuToken},(t=>{t?this.errorCb(t):e&&(this.success[e]=!0)}),t))}},Ht=Ut.postMapLoadEvent.bind(Ut),Vt=new class extends qt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(t,e,n,i){if(!Et.API_URL||!Et.SESSION_PATH)return;const r=jt(Et.API_URL+Et.SESSION_PATH);r.params.push(`sku=${e||""}`),r.params.push(`access_token=${i||Et.ACCESS_TOKEN||""}`);const o={url:Nt(r),headers:{"Content-Type":"text/plain"}};this.pendingRequest=ue(o,(t=>{this.pendingRequest=null,n(t),this.saveEventData(),this.processRequests(i)}))}getSessionAPI(t,e,n,i){this.skuToken=e,this.errorCb=i,Et.SESSION_PATH&&Et.API_URL&&(n||Et.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},n):this.errorCb(new Error(Mt)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:n}=this.queue.shift();e&&this.success[e]||this.getSession(n,this.skuToken,(t=>{t?this.errorCb(t):e&&(this.success[e]=!0)}),t)}},Yt=Vt.getSessionAPI.bind(Vt),Wt=new Set,Gt="mapbox-tiles";let Zt,Kt,Xt=500,Jt=50;function Qt(){s.caches&&!Zt&&(Zt=s.caches.open(Gt))}function te(t){const e=t.indexOf("?");return e<0?t:t.slice(0,e)}let ee=1/0;const ne={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ne);class ie extends Error{constructor(t,e,n){401===e&&Rt(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(t),this.status=e,this.url=n}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const re=dt()?()=>self.worker&&self.worker.referrer:()=>("blob:"===s.location.protocol?s.parent:s).location.href,oe=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(re())&&!/^\w+:/.test(n))){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return function(t,e){const n=new s.AbortController,i=new s.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:re(),signal:n.signal});let r=!1,o=!1;const a=(u=i.url).indexOf("sku=")>0&&Rt(u);var u;"json"===t.type&&i.headers.set("Accept","application/json");const l=(n,r,u)=>{if(o)return;if(n&&"SecurityError"!==n.message&&pt(n),r&&u)return c(r);const l=Date.now();s.fetch(i).then((n=>{if(n.ok){const t=a?n.clone():null;return c(n,t,l)}return e(new ie(n.statusText,n.status,t.url))})).catch((t=>{20!==t.code&&e(new Error(t.message))}))},c=(n,a,u)=>{("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((t=>{o||(a&&u&&function(t,e,n){if(Qt(),!Zt)return;const i={status:e.status,statusText:e.statusText,headers:new s.Headers};e.headers.forEach(((t,e)=>i.headers.set(e,t)));const r=mt(e.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&i.headers.set("Expires",new Date(n+1e3*r["max-age"]).toUTCString()),new Date(i.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===Kt)try{new Response(new ReadableStream),Kt=!0}catch(t){Kt=!1}Kt?e(t.body):t.blob().then(e)}(e,(e=>{const n=new s.Response(e,i);Qt(),Zt&&Zt.then((e=>e.put(te(t.url),n))).catch((t=>pt(t.message)))})))}(i,a,u),r=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((t=>{o||e(new Error(t.message))}))};return a?function(t,e){if(Qt(),!Zt)return e(null);const n=te(t.url);Zt.then((t=>{t.match(n).then((i=>{const r=function(t){if(!t)return!1;const e=new Date(t.headers.get("Expires")||0),n=mt(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(i);t.delete(n),r&&t.put(n,i.clone()),e(null,i,r)})).catch(e)})).catch(e)}(i,l):l(null,null),{cancel:()=>{o=!0,r||n.abort()}}}(t,e);if(dt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){const n=new s.XMLHttpRequest;n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer");for(const e in t.headers)n.setRequestHeader(e,t.headers[e]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=()=>{e(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let i=n.response;if("json"===t.type)try{i=JSON.parse(n.response)}catch(t){return e(t)}e(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new ie(n.statusText,n.status,t.url))},n.send(t.body),{cancel:()=>n.abort()}}(t,e)},se=function(t,e){return oe(tt(t,{type:"arrayBuffer"}),e)},ae=function(t,e){return oe(tt(t,{method:"POST"}),e)},ue=function(t,e){return oe(tt(t,{method:"GET"}),e)};function le(t){const e=s.document.createElement("a");return e.href=t,e.protocol===s.document.location.protocol&&e.host===s.document.location.host}const ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let he,pe;he=[],pe=0;const _e=function(t,e){if(At.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),pe>=Et.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return he.push(n),n}pe++;let n=!1;const i=()=>{if(!n)for(n=!0,pe--;he.length&&pe<Et.MAX_PARALLEL_IMAGE_REQUESTS;){const t=he.shift(),{requestParameters:e,callback:n,cancelled:i}=t;i||(t.cancel=_e(e,n).cancel)}},r=se(t,((t,n,r,o)=>{i(),t?e(t):n&&(s.createImageBitmap?function(t,e){const n=new s.Blob([new Uint8Array(t)],{type:"image/png"});s.createImageBitmap(n).then((t=>{e(null,t)})).catch((t=>{e(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(n,((t,n)=>e(t,n,r,o))):function(t,e){const n=new s.Image,i=s.URL;n.onload=()=>{e(null,n),i.revokeObjectURL(n.src),n.onload=null,s.requestAnimationFrame((()=>{n.src=ce}))},n.onerror=()=>e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new s.Blob([new Uint8Array(t)],{type:"image/png"});n.src=t.byteLength?i.createObjectURL(r):ce}(n,((t,n)=>e(t,n,r,o))))}));return{cancel:()=>{r.cancel(),i()}}};function fe(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function de(t,e,n){if(n&&n[t]){const i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}class me{constructor(t,e={}){tt(this,e),this.type=t}}class ye extends me{constructor(t,e={}){super("error",tt({error:t},e))}}class ve{on(t,e){return this._listeners=this._listeners||{},fe(t,e,this._listeners),this}off(t,e){return de(t,e,this._listeners),de(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},fe(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){"string"==typeof t&&(t=new me(t,e||{}));const n=t.type;if(this.listens(n)){t.target=this;const e=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of e)n.call(this,t);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const e of i)de(n,e,this._oneTimeListeners),e.call(this,t);const r=this._eventedParent;r&&(tt(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(t))}else t instanceof ye&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var ge=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');class we{constructor(t,e,n,i){this.message=(t?`${t}: `:"")+n,i&&(this.identifier=i),null!=e&&e.__line__&&(this.line=e.__line__)}}function be(t){const e=t.value;return e?[new we(t.key,e,"constants have been deprecated as of v8")]:[]}function xe(t,...e){for(const n of e)for(const e in n)t[e]=n[e];return t}function $e(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Ce(t){if(Array.isArray(t))return t.map(Ce);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const n in t)e[n]=Ce(t[n]);return e}return $e(t)}class Ee extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}class Ae{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,n]of e)this.bindings[t]=n}concat(t){return new Ae(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const ke={kind:"null"},Se={kind:"number"},Te={kind:"string"},Ie={kind:"boolean"},Oe={kind:"color"},ze={kind:"object"},Me={kind:"value"},De={kind:"collator"},Re={kind:"formatted"},Pe={kind:"resolvedImage"};function je(t,e){return{kind:"array",itemType:t,N:e}}function Ne(t){if("array"===t.kind){const e=Ne(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const Le=[ke,Se,Te,Ie,Oe,Re,ze,je(Me),Pe];function qe(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!qe(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of Le)if(!qe(t,e))return null}return`Expected ${Ne(t)} but found ${Ne(e)} instead.`}function Be(t,e){return e.some((e=>e.kind===t.kind))}function Fe(t,e){return e.some((e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t))}function Ue(t){var e={exports:{}};return t(e,e.exports),e.exports}var He=Ue((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,a=t.replace(/ /g,"").toLowerCase();if(a in n)return n[a].slice();if("#"===a[0])return 4===a.length?(e=parseInt(a.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===a.length&&(e=parseInt(a.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=a.indexOf("("),l=a.indexOf(")");if(-1!==u&&l+1===a.length){var c=a.substr(0,u),h=a.substr(u+1,l-(u+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=o(h.pop());case"rgb":return 3!==h.length?null:[r(h[0]),r(h[1]),r(h[2]),p];case"hsla":if(4!==h.length)return null;p=o(h.pop());case"hsl":if(3!==h.length)return null;var _=(parseFloat(h[0])%360+360)%360/360,f=o(h[1]),d=o(h[2]),m=d<=.5?d*(f+1):d+f-d*f,y=2*d-m;return[i(255*s(y,m,_+1/3)),i(255*s(y,m,_)),i(255*s(y,m,_-1/3)),p];default:return null}}return null}}catch(t){}}));class Ve{constructor(t,e,n,i=1){this.r=t,this.g=e,this.b=n,this.a=i}static parse(t){if(!t)return;if(t instanceof Ve)return t;if("string"!=typeof t)return;const e=He.parseCSSColor(t);return e?new Ve(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,n,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(n)},${i})`}toArray(){const{r:t,g:e,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*t/i,255*e/i,255*n/i,i]}}Ve.black=new Ve(0,0,0,1),Ve.white=new Ve(1,1,1,1),Ve.transparent=new Ve(0,0,0,0),Ve.red=new Ve(1,0,0,1),Ve.blue=new Ve(0,0,1,1);class Ye{constructor(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class We{constructor(t,e,n,i,r){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=n,this.fontStack=i,this.textColor=r}}class Ge{constructor(t){this.sections=t}static fromString(t){return new Ge([new We(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof Ge?t:Ge.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map((t=>t.text)).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const n={};e.fontStack&&(n["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(n["font-scale"]=e.scale),e.textColor&&(n["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(n)}return t}}class Ze{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Ze({name:t,available:!1}):null}serialize(){return["image",this.name]}}function Ke(t,e,n,i){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[t,e,n,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Xe(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Ve)return!0;if(t instanceof Ye)return!0;if(t instanceof Ge)return!0;if(t instanceof Ze)return!0;if(Array.isArray(t)){for(const e of t)if(!Xe(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!Xe(t[e]))return!1;return!0}return!1}function Je(t){if(null===t)return ke;if("string"==typeof t)return Te;if("boolean"==typeof t)return Ie;if("number"==typeof t)return Se;if(t instanceof Ve)return Oe;if(t instanceof Ye)return De;if(t instanceof Ge)return Re;if(t instanceof Ze)return Pe;if(Array.isArray(t)){const e=t.length;let n;for(const e of t){const t=Je(e);if(n){if(n===t)continue;n=Me;break}n=t}return je(n||Me,e)}return ze}function Qe(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Ve||t instanceof Ge||t instanceof Ze?t.toString():JSON.stringify(t)}class tn{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Xe(t[1]))return e.error("invalid value");const n=t[1];let i=Je(n);const r=e.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new tn(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ve?["rgba"].concat(this.value.toArray()):this.value instanceof Ge?this.value.serialize():this.value}}class en{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const nn={string:Te,number:Se,boolean:Ie,object:ze};class rn{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let n,i=1;const r=t[0];if("array"===r){let r,o;if(t.length>2){const n=t[1];if("string"!=typeof n||!(n in nn)||"object"===n)return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=nn[n],i++}else r=Me;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],i++}n=je(r,o)}else n=nn[r];const o=[];for(;i<t.length;i++){const n=e.parse(t[i],i,Me);if(!n)return null;o.push(n)}return new rn(n,o)}evaluate(t){for(let e=0;e<this.args.length;e++){const n=this.args[e].evaluate(t);if(!qe(this.type,Je(n)))return n;if(e===this.args.length-1)throw new en(`Expected value to be of type ${Ne(this.type)}, but found ${Ne(Je(n))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,e=[t.kind];if("array"===t.kind){const n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);const i=t.N;("number"==typeof i||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map((t=>t.serialize())))}}class on{constructor(t){this.type=Re,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");const i=[];let r=!1;for(let n=1;n<=t.length-1;++n){const o=t[n];if(r&&"object"==typeof o&&!Array.isArray(o)){r=!1;let t=null;if(o["font-scale"]&&(t=e.parse(o["font-scale"],1,Se),!t))return null;let n=null;if(o["text-font"]&&(n=e.parse(o["text-font"],1,je(Te)),!n))return null;let s=null;if(o["text-color"]&&(s=e.parse(o["text-color"],1,Oe),!s))return null;const a=i[i.length-1];a.scale=t,a.font=n,a.textColor=s}else{const o=e.parse(t[n],1,Me);if(!o)return null;const s=o.type.kind;if("string"!==s&&"value"!==s&&"null"!==s&&"resolvedImage"!==s)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:o,scale:null,font:null,textColor:null})}}return new on(i)}evaluate(t){return new Ge(this.sections.map((e=>{const n=e.content.evaluate(t);return Je(n)===Pe?new We("",n,null,null,null):new We(Qe(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const n={};e.scale&&(n["font-scale"]=e.scale.serialize()),e.font&&(n["text-font"]=e.font.serialize()),e.textColor&&(n["text-color"]=e.textColor.serialize()),t.push(n)}return t}}class sn{constructor(t){this.type=Pe,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Te);return n?new sn(n):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),n=Ze.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const an={"to-boolean":Ie,"to-color":Oe,"to-number":Se,"to-string":Te};class un{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");const i=an[n],r=[];for(let n=1;n<t.length;n++){const i=e.parse(t[n],n,Me);if(!i)return null;r.push(i)}return new un(i,r)}evaluate(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){let e,n;for(const i of this.args){if(e=i.evaluate(t),n=null,e instanceof Ve)return e;if("string"==typeof e){const n=t.parseColor(e);if(n)return n}else if(Array.isArray(e)&&(n=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:Ke(e[0],e[1],e[2],e[3]),!n))return new Ve(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new en(n||`Could not parse color from value '${"string"==typeof e?e:String(JSON.stringify(e))}'`)}if("number"===this.type.kind){let e=null;for(const n of this.args){if(e=n.evaluate(t),null===e)return 0;const i=Number(e);if(!isNaN(i))return i}throw new en(`Could not convert ${JSON.stringify(e)} to number.`)}return"formatted"===this.type.kind?Ge.fromString(Qe(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?Ze.fromString(Qe(this.args[0].evaluate(t))):Qe(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new on([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new sn(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild((e=>{t.push(e.serialize())})),t}}const ln=["Unknown","Point","LineString","Polygon"];class cn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ln[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*e-t[0])+this.featureDistanceData.bearing[1]*(i*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Ve.parse(t)),e}}class hn{constructor(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,e){const n=t[0],i=hn.definitions[n];if(!i)return e.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let a=null;for(const[i,o]of s){a=new Dn(e.registry,e.path,null,e.scope);const s=[];let u=!1;for(let e=1;e<t.length;e++){const n=t[e],r=Array.isArray(i)?i[e-1]:i.type,o=a.parse(n,1+s.length,r);if(!o){u=!0;break}s.push(o)}if(!u)if(Array.isArray(i)&&i.length!==s.length)a.error(`Expected ${i.length} arguments, but found ${s.length} instead.`);else{for(let t=0;t<s.length;t++){const e=Array.isArray(i)?i[t]:i.type,n=s[t];a.concat(t+1).checkSubtype(e,n.type)}if(0===a.errors.length)return new hn(n,r,o,s)}}if(1===s.length)e.errors.push(...a.errors);else{const n=(s.length?s:o).map((([t])=>{return e=t,Array.isArray(e)?`(${e.map(Ne).join(", ")})`:`(${Ne(e.type)}...)`;var e})).join(" | "),i=[];for(let n=1;n<t.length;n++){const r=e.parse(t[n],1+i.length);if(!r)return null;i.push(Ne(r.type))}e.error(`Expected arguments of type ${n}, but found (${i.join(", ")}) instead.`)}return null}static register(t,e){hn.definitions=e;for(const n in e)t[n]=hn}}class pn{constructor(t,e,n){this.type=De,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");const i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Ie);if(!i)return null;const r=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Ie);if(!r)return null;let o=null;return n.locale&&(o=e.parse(n.locale,1,Te),!o)?null:new pn(i,r,o)}evaluate(t){return new Ye(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const _n=8192;function fn(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function dn(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function mn(t,e){const n=(180+t[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,r=Math.pow(2,e.z);return[Math.round(n*r*_n),Math.round(i*r*_n)]}function yn(t,e,n){const i=t[0]-e[0],r=t[1]-e[1],o=t[0]-n[0],s=t[1]-n[1];return i*s-o*r==0&&i*o<=0&&r*s<=0}function vn(t,e){let n=!1;for(let s=0,a=e.length;s<a;s++){const a=e[s];for(let e=0,s=a.length;e<s-1;e++){if(yn(t,a[e],a[e+1]))return!1;(r=a[e])[1]>(i=t)[1]!=(o=a[e+1])[1]>i[1]&&i[0]<(o[0]-r[0])*(i[1]-r[1])/(o[1]-r[1])+r[0]&&(n=!n)}}var i,r,o;return n}function gn(t,e){for(let n=0;n<e.length;n++)if(vn(t,e[n]))return!0;return!1}function wn(t,e,n,i){const r=i[0]-n[0],o=i[1]-n[1],s=(t[0]-n[0])*o-r*(t[1]-n[1]),a=(e[0]-n[0])*o-r*(e[1]-n[1]);return s>0&&a<0||s<0&&a>0}function bn(t,e,n){for(const l of n)for(let n=0;n<l.length-1;++n)if(0!=(a=[(s=l[n+1])[0]-(o=l[n])[0],s[1]-o[1]])[0]*(u=[(r=e)[0]-(i=t)[0],r[1]-i[1]])[1]-a[1]*u[0]&&wn(i,r,o,s)&&wn(o,s,i,r))return!0;var i,r,o,s,a,u;return!1}function xn(t,e){for(let n=0;n<t.length;++n)if(!vn(t[n],e))return!1;for(let n=0;n<t.length-1;++n)if(bn(t[n],t[n+1],e))return!1;return!0}function $n(t,e){for(let n=0;n<e.length;n++)if(xn(t,e[n]))return!0;return!1}function Cn(t,e,n){const i=[];for(let r=0;r<t.length;r++){const o=[];for(let i=0;i<t[r].length;i++){const s=mn(t[r][i],n);fn(e,s),o.push(s)}i.push(o)}return i}function En(t,e,n){const i=[];for(let r=0;r<t.length;r++){const o=Cn(t[r],e,n);i.push(o)}return i}function An(t,e,n,i){if(t[0]<n[0]||t[0]>n[2]){const e=.5*i;let r=t[0]-n[0]>e?-i:n[0]-t[0]>e?i:0;0===r&&(r=t[0]-n[2]>e?-i:n[2]-t[0]>e?i:0),t[0]+=r}fn(e,t)}function kn(t,e,n,i){const r=Math.pow(2,i.z)*_n,o=[i.x*_n,i.y*_n],s=[];for(const i of t)for(const t of i){const i=[t.x+o[0],t.y+o[1]];An(i,e,n,r),s.push(i)}return s}function Sn(t,e,n,i){const r=Math.pow(2,i.z)*_n,o=[i.x*_n,i.y*_n],s=[];for(const n of t){const t=[];for(const i of n){const n=[i.x+o[0],i.y+o[1]];fn(e,n),t.push(n)}s.push(t)}if(e[2]-e[0]<=r/2){(a=e)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const t of s)for(const i of t)An(i,e,n,r)}var a;return s}class Tn{constructor(t,e){this.type=Ie,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Xe(t[1])){const e=t[1];if("FeatureCollection"===e.type)for(let t=0;t<e.features.length;++t){const n=e.features[t].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new Tn(e,e.features[t].geometry)}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new Tn(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new Tn(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const o=Cn(e.coordinates,i,r),s=kn(t.geometry(),n,i,r);if(!dn(n,i))return!1;for(const t of s)if(!vn(t,o))return!1}if("MultiPolygon"===e.type){const o=En(e.coordinates,i,r),s=kn(t.geometry(),n,i,r);if(!dn(n,i))return!1;for(const t of s)if(!gn(t,o))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){const o=Cn(e.coordinates,i,r),s=Sn(t.geometry(),n,i,r);if(!dn(n,i))return!1;for(const t of s)if(!xn(t,o))return!1}if("MultiPolygon"===e.type){const o=En(e.coordinates,i,r),s=Sn(t.geometry(),n,i,r);if(!dn(n,i))return!1;for(const t of s)if(!$n(t,o))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function In(t){if(t instanceof hn){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Tn)return!1;let e=!0;return t.eachChild((t=>{e&&!In(t)&&(e=!1)})),e}function On(t){if(t instanceof hn&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild((t=>{e&&!On(t)&&(e=!1)})),e}function zn(t,e){if(t instanceof hn&&e.indexOf(t.name)>=0)return!1;let n=!0;return t.eachChild((t=>{n&&!zn(t,e)&&(n=!1)})),n}class Mn{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const n=t[1];return e.scope.has(n)?new Mn(n,e.scope.get(n)):e.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Dn{constructor(t,e=[],n,i=new Ae,r=[]){this.registry=t,this.path=e,this.key=e.map((t=>`[${t}]`)).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(t,e,n,i,r={}){return e?this.concat(e,n,i)._parse(t,r):this._parse(t,r)}_parse(t,e){function n(t,e,n){return"assert"===n?new rn(e,[t]):"coerce"===n?new un(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(t,this);if(!i)return null;if(this.expectedType){const t=this.expectedType,r=i.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==r.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(t,r))return null}else i=n(i,t,e.typeAnnotation||"coerce");else i=n(i,t,e.typeAnnotation||"assert")}if(!(i instanceof tn)&&"resolvedImage"!==i.type.kind&&Rn(i)){const e=new cn;try{i=new tn(i.type,i.evaluate(e))}catch(t){return this.error(t.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,n){const i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new Dn(this.registry,i,e||null,r,this.errors)}error(t,...e){const n=`${this.key}${e.map((t=>`[${t}]`)).join("")}`;this.errors.push(new Ee(n,t))}checkSubtype(t,e){const n=qe(t,e);return n&&this.error(n),n}}function Rn(t){if(t instanceof Mn)return Rn(t.boundExpression);if(t instanceof hn&&"error"===t.name)return!1;if(t instanceof pn)return!1;if(t instanceof Tn)return!1;const e=t instanceof un||t instanceof rn;let n=!0;return t.eachChild((t=>{n=e?n&&Rn(t):n&&t instanceof tn})),!!n&&In(t)&&zn(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Pn(t,e){const n=t.length-1;let i,r,o=0,s=n,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),i=t[a],r=t[a+1],i<=e){if(a===n||e<r)return a;o=a+1}else{if(!(i>e))throw new en("Input is not a number.");s=a-1}return 0}class jn{constructor(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of n)this.labels.push(t),this.outputs.push(e)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const n=e.parse(t[1],1,Se);if(!n)return null;const i=[];let r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(let n=1;n<t.length;n+=2){const o=1===n?-1/0:t[n],s=t[n+1],a=n,u=n+1;if("number"!=typeof o)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(i.length&&i[i.length-1][0]>=o)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',a);const l=e.parse(s,u,r);if(!l)return null;r=r||l.type,i.push([o,l])}return new jn(r,n,i)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);const r=e.length;return i>=e[r-1]?n[r-1].evaluate(t):n[Pn(e,i)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}function Nn(t,e,n){return t*(1-n)+e*n}var Ln=Object.freeze({__proto__:null,number:Nn,color:function(t,e,n){return new Ve(Nn(t.r,e.r,n),Nn(t.g,e.g,n),Nn(t.b,e.b,n),Nn(t.a,e.a,n))},array:function(t,e,n){return t.map(((t,i)=>Nn(t,e[i],n)))}});const qn=.95047,Bn=1.08883,Fn=4/29,Un=6/29,Hn=3*Un*Un,Vn=Math.PI/180,Yn=180/Math.PI;function Wn(t){return t>.008856451679035631?Math.pow(t,1/3):t/Hn+Fn}function Gn(t){return t>Un?t*t*t:Hn*(t-Fn)}function Zn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Kn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xn(t){const e=Kn(t.r),n=Kn(t.g),i=Kn(t.b),r=Wn((.4124564*e+.3575761*n+.1804375*i)/qn),o=Wn((.2126729*e+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Wn((.0193339*e+.119192*n+.9503041*i)/Bn)),alpha:t.a}}function Jn(t){let e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=1*Gn(e),n=qn*Gn(n),i=Bn*Gn(i),new Ve(Zn(3.2404542*n-1.5371385*e-.4985314*i),Zn(-.969266*n+1.8760108*e+.041556*i),Zn(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function Qn(t,e,n){const i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}const ti={forward:Xn,reverse:Jn,interpolate:function(t,e,n){return{l:Nn(t.l,e.l,n),a:Nn(t.a,e.a,n),b:Nn(t.b,e.b,n),alpha:Nn(t.alpha,e.alpha,n)}}},ei={forward:function(t){const{l:e,a:n,b:i}=Xn(t),r=Math.atan2(i,n)*Yn;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:e,alpha:t.a}},reverse:function(t){const e=t.h*Vn,n=t.c;return Jn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:Qn(t.h,e.h,n),c:Nn(t.c,e.c,n),l:Nn(t.l,e.l,n),alpha:Nn(t.alpha,e.alpha,n)}}};var ni=Object.freeze({__proto__:null,lab:ti,hcl:ei});class ii{constructor(t,e,n,i,r){this.type=t,this.operator=e,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[t,e]of r)this.labels.push(t),this.outputs.push(e)}static interpolationFactor(t,e,i,r){let o=0;if("exponential"===t.name)o=ri(e,t.base,i,r);else if("linear"===t.name)o=ri(e,1,i,r);else if("cubic-bezier"===t.name){const s=t.controlPoints;o=new n(s[0],s[1],s[2],s[3]).solve(ri(e,1,i,r))}return o}static parse(t,e){let[n,i,r,...o]=t;if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const t=i[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:t}}else{if("cubic-bezier"!==i[0])return e.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const t=i.slice(1);if(4!==t.length||t.some((t=>"number"!=typeof t||t<0||t>1)))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(r=e.parse(r,2,Se),!r)return null;const s=[];let a=null;"interpolate-hcl"===n||"interpolate-lab"===n?a=Oe:e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType);for(let t=0;t<o.length;t+=2){const n=o[t],i=o[t+1],r=t+3,u=t+4;if("number"!=typeof n)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(s.length&&s[s.length-1][0]>=n)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const l=e.parse(i,u,a);if(!l)return null;a=a||l.type,s.push([n,l])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"==typeof a.N?new ii(a,n,i,r,s):e.error(`Type ${Ne(a)} is not interpolatable.`)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);const r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);const o=Pn(e,i),s=ii.interpolationFactor(this.interpolation,i,e[o],e[o+1]),a=n[o].evaluate(t),u=n[o+1].evaluate(t);return"interpolate"===this.operator?Ln[this.type.kind.toLowerCase()](a,u,s):"interpolate-hcl"===this.operator?ei.reverse(ei.interpolate(ei.forward(a),ei.forward(u),s)):ti.reverse(ti.interpolate(ti.forward(a),ti.forward(u),s))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function ri(t,e,n,i){const r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}class oi{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let n=null;const i=e.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const i of t.slice(1)){const t=e.parse(i,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!t)return null;n=n||t.type,r.push(t)}const o=i&&r.some((t=>qe(i,t.type)));return new oi(o?Me:n,r)}evaluate(t){let e,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(t),n&&n instanceof Ze&&!n.available&&(e||(e=n),n=null,i===this.args.length))return e;if(null!==n)break}return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=["coalesce"];return this.eachChild((e=>{t.push(e.serialize())})),t}}class si{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const n=[];for(let i=1;i<t.length-1;i+=2){const r=t[i];if("string"!=typeof r)return e.error(`Expected string, but found ${typeof r} instead.`,i);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);const o=e.parse(t[i+1],i+1);if(!o)return null;n.push([r,o])}const i=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return i?new si(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,n]of this.bindings)t.push(e,n.serialize());return t.push(this.result.serialize()),t}}class ai{constructor(t,e,n){this.type=t,this.index=e,this.input=n}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Se),i=e.parse(t[2],2,je(e.expectedType||Me));return n&&i?new ai(i.type.itemType,n,i):null}evaluate(t){const e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new en(`Array index out of bounds: ${e} < 0.`);if(e>=n.length)throw new en(`Array index out of bounds: ${e} > ${n.length-1}.`);if(e!==Math.floor(e))throw new en(`Array index must be an integer, but found ${e} instead.`);return n[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class ui{constructor(t,e){this.type=Ie,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Me),i=e.parse(t[2],2,Me);return n&&i?Be(n.type,[Ie,Te,Se,ke,Me])?new ui(n,i):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(n.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!Fe(e,["boolean","string","number","null"]))throw new en(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(Je(e))} instead.`);if(!Fe(n,["string","array"]))throw new en(`Expected second argument to be of type array or string, but found ${Ne(Je(n))} instead.`);return n.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class li{constructor(t,e,n){this.type=Se,this.needle=t,this.haystack=e,this.fromIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Me),i=e.parse(t[2],2,Me);if(!n||!i)return null;if(!Be(n.type,[Ie,Te,Se,ke,Me]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(n.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,Se);return r?new li(n,i,r):null}return new li(n,i)}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Fe(e,["boolean","string","number","null"]))throw new en(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(Je(e))} instead.`);if(!Fe(n,["string","array"]))throw new en(`Expected second argument to be of type array or string, but found ${Ne(Je(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return n.indexOf(e,i)}return n.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class ci{constructor(t,e,n,i,r,o){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);const r={},o=[];for(let s=2;s<t.length-1;s+=2){let a=t[s];const u=t[s+1];Array.isArray(a)||(a=[a]);const l=e.concat(s);if(0===a.length)return l.error("Expected at least one branch label.");for(const t of a){if("number"!=typeof t&&"string"!=typeof t)return l.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return l.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,Je(t)))return null}else n=Je(t);if(void 0!==r[String(t)])return l.error("Branch labels must be unique.");r[String(t)]=o.length}const c=e.parse(u,s,i);if(!c)return null;i=i||c.type,o.push(c)}const s=e.parse(t[1],1,Me);if(!s)return null;const a=e.parse(t[t.length-1],t.length-1,i);return a?"value"!==s.type.kind&&e.concat(1).checkSubtype(n,s.type)?null:new ci(n,i,s,r,o,a):null}evaluate(t){const e=this.input.evaluate(t);return(Je(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),n=[],i={};for(const t of e){const e=i[this.cases[t]];void 0===e?(i[this.cases[t]]=n.length,n.push([this.cases[t],[t]])):n[e][1].push(t)}const r=t=>"number"===this.inputType.kind?Number(t):t;for(const[e,i]of n)t.push(1===i.length?r(i[0]):i.map(r)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}class hi{constructor(t,e,n){this.type=t,this.branches=e,this.otherwise=n}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const i=[];for(let r=1;r<t.length-1;r+=2){const o=e.parse(t[r],r,Ie);if(!o)return null;const s=e.parse(t[r+1],r+1,n);if(!s)return null;i.push([o,s]),n=n||s.type}const r=e.parse(t[t.length-1],t.length-1,n);return r?new hi(n,i,r):null}evaluate(t){for(const[e,n]of this.branches)if(e.evaluate(t))return n.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,n]of this.branches)t(e),t(n);t(this.otherwise)}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild((e=>{t.push(e.serialize())})),t}}class pi{constructor(t,e,n,i){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=i}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Me),i=e.parse(t[2],2,Se);if(!n||!i)return null;if(!Be(n.type,[je(Me),Te,Me]))return e.error(`Expected first argument to be of type array or string, but found ${Ne(n.type)} instead`);if(4===t.length){const r=e.parse(t[3],3,Se);return r?new pi(n.type,n,i,r):null}return new pi(n.type,n,i)}evaluate(t){const e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!Fe(e,["string","array"]))throw new en(`Expected first argument to be of type array or string, but found ${Ne(Je(e))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return e.slice(n,i)}return e.slice(n)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function _i(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function fi(t,e,n,i){return 0===i.compare(e,n)}function di(t,e,n){const i="=="!==t&&"!="!==t;return class r{constructor(t,e,n){this.type=Ie,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const n=t[0];let o=e.parse(t[1],1,Me);if(!o)return null;if(!_i(n,o.type))return e.concat(1).error(`"${n}" comparisons are not supported for type '${Ne(o.type)}'.`);let s=e.parse(t[2],2,Me);if(!s)return null;if(!_i(n,s.type))return e.concat(2).error(`"${n}" comparisons are not supported for type '${Ne(s.type)}'.`);if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error(`Cannot compare types '${Ne(o.type)}' and '${Ne(s.type)}'.`);i&&("value"===o.type.kind&&"value"!==s.type.kind?o=new rn(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new rn(o.type,[s])));let a=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error("Cannot use collator to compare non-string types.");if(a=e.parse(t[3],3,De),!a)return null}return new r(o,s,a)}evaluate(r){const o=this.lhs.evaluate(r),s=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const e=Je(o),n=Je(s);if(e.kind!==n.kind||"string"!==e.kind&&"number"!==e.kind)throw new en(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const t=Je(o),n=Je(s);if("string"!==t.kind||"string"!==n.kind)return e(r,o,s)}return this.collator?n(r,o,s,this.collator.evaluate(r)):e(r,o,s)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}serialize(){const e=[t];return this.eachChild((t=>{e.push(t.serialize())})),e}}}const mi=di("==",(function(t,e,n){return e===n}),fi),yi=di("!=",(function(t,e,n){return e!==n}),(function(t,e,n,i){return!fi(0,e,n,i)})),vi=di("<",(function(t,e,n){return e<n}),(function(t,e,n,i){return i.compare(e,n)<0})),gi=di(">",(function(t,e,n){return e>n}),(function(t,e,n,i){return i.compare(e,n)>0})),wi=di("<=",(function(t,e,n){return e<=n}),(function(t,e,n,i){return i.compare(e,n)<=0})),bi=di(">=",(function(t,e,n){return e>=n}),(function(t,e,n,i){return i.compare(e,n)>=0}));class xi{constructor(t,e,n,i,r){this.type=Te,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Se);if(!n)return null;const i=t[2];if("object"!=typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=e.parse(i.locale,1,Te),!r))return null;let o=null;if(i.currency&&(o=e.parse(i.currency,1,Te),!o))return null;let s=null;if(i["min-fraction-digits"]&&(s=e.parse(i["min-fraction-digits"],1,Se),!s))return null;let a=null;return i["max-fraction-digits"]&&(a=e.parse(i["max-fraction-digits"],1,Se),!a)?null:new xi(n,r,o,s,a)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class $i{constructor(t){this.type=Se,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error(`Expected argument of type string or array, but found ${Ne(n.type)} instead.`):new $i(n):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new en(`Expected value to be of type string or array, but found ${Ne(Je(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild((e=>{t.push(e.serialize())})),t}}const Ci={"==":mi,"!=":yi,">":gi,"<":vi,">=":bi,"<=":wi,array:rn,at:ai,boolean:rn,case:hi,coalesce:oi,collator:pn,format:on,image:sn,in:ui,"index-of":li,interpolate:ii,"interpolate-hcl":ii,"interpolate-lab":ii,length:$i,let:si,literal:tn,match:ci,number:rn,"number-format":xi,object:rn,slice:pi,step:jn,string:rn,"to-boolean":un,"to-color":un,"to-number":un,"to-string":un,var:Mn,within:Tn};function Ei(t,[e,n,i,r]){e=e.evaluate(t),n=n.evaluate(t),i=i.evaluate(t);const o=r?r.evaluate(t):1,s=Ke(e,n,i,o);if(s)throw new en(s);return new Ve(e/255*o,n/255*o,i/255*o,o)}function Ai(t,e){return t in e}function ki(t,e){const n=e[t];return void 0===n?null:n}function Si(t){return{type:t}}function Ti(t){return{result:"success",value:t}}function Ii(t){return{result:"error",value:t}}function Oi(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function zi(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Mi(t){return!!t.expression&&t.expression.interpolated}function Di(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Ri(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Pi(t){return t}function ji(t,e){const n="color"===e.type,i=t.stops&&"object"==typeof t.stops[0][0],r=i||!(i||void 0!==t.property),o=t.type||(Mi(e)?"exponential":"interval");if(n&&((t=xe({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],Ve.parse(t[1])]))),t.default=Ve.parse(t.default?t.default:e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!ni[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let s,a,u;if("exponential"===o)s=Bi;else if("interval"===o)s=qi;else if("categorical"===o){s=Li,a=Object.create(null);for(const e of t.stops)a[e[0]]=e[1];u=typeof t.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);s=Fi}if(i){const n={},i=[];for(let e=0;e<t.stops.length;e++){const r=t.stops[e],o=r[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},i.push(o)),n[o].stops.push([r[0].value,r[1]])}const r=[];for(const t of i)r.push([n[t].zoom,ji(n[t],e)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:ii.interpolationFactor.bind(void 0,o),zoomStops:r.map((t=>t[0])),evaluate:({zoom:n},i)=>Bi({stops:r,base:t.base},e,n).evaluate(n,i)}}if(r){const n="exponential"===o?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:ii.interpolationFactor.bind(void 0,n),zoomStops:t.stops.map((t=>t[0])),evaluate:({zoom:n})=>s(t,e,n,a,u)}}return{kind:"source",evaluate(n,i){const r=i&&i.properties?i.properties[t.property]:void 0;return void 0===r?Ni(t.default,e.default):s(t,e,r,a,u)}}}function Ni(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function Li(t,e,n,i,r){return Ni(typeof n===r?i[n]:void 0,t.default,e.default)}function qi(t,e,n){if("number"!==Di(n))return Ni(t.default,e.default);const i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];const r=Pn(t.stops.map((t=>t[0])),n);return t.stops[r][1]}function Bi(t,e,n){const i=void 0!==t.base?t.base:1;if("number"!==Di(n))return Ni(t.default,e.default);const r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];const o=Pn(t.stops.map((t=>t[0])),n),s=function(t,e,n,i){const r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}(n,i,t.stops[o][0],t.stops[o+1][0]),a=t.stops[o][1],u=t.stops[o+1][1];let l=Ln[e.type]||Pi;if(t.colorSpace&&"rgb"!==t.colorSpace){const e=ni[t.colorSpace];l=(t,n)=>e.reverse(e.interpolate(e.forward(t),e.forward(n),s))}return"function"==typeof a.evaluate?{evaluate(...t){const e=a.evaluate.apply(void 0,t),n=u.evaluate.apply(void 0,t);if(void 0!==e&&void 0!==n)return l(e,n,s)}}:l(a,u,s)}function Fi(t,e,n){return"color"===e.type?n=Ve.parse(n):"formatted"===e.type?n=Ge.fromString(n.toString()):"resolvedImage"===e.type?n=Ze.fromString(n.toString()):Di(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Ni(n,t.default,e.default)}hn.register(Ci,{error:[{kind:"error"},[Te],(t,[e])=>{throw new en(e.evaluate(t))}],typeof:[Te,[Me],(t,[e])=>Ne(Je(e.evaluate(t)))],"to-rgba":[je(Se,4),[Oe],(t,[e])=>e.evaluate(t).toArray()],rgb:[Oe,[Se,Se,Se],Ei],rgba:[Oe,[Se,Se,Se,Se],Ei],has:{type:Ie,overloads:[[[Te],(t,[e])=>Ai(e.evaluate(t),t.properties())],[[Te,ze],(t,[e,n])=>Ai(e.evaluate(t),n.evaluate(t))]]},get:{type:Me,overloads:[[[Te],(t,[e])=>ki(e.evaluate(t),t.properties())],[[Te,ze],(t,[e,n])=>ki(e.evaluate(t),n.evaluate(t))]]},"feature-state":[Me,[Te],(t,[e])=>ki(e.evaluate(t),t.featureState||{})],properties:[ze,[],t=>t.properties()],"geometry-type":[Te,[],t=>t.geometryType()],id:[Me,[],t=>t.id()],zoom:[Se,[],t=>t.globals.zoom],pitch:[Se,[],t=>t.globals.pitch||0],"distance-from-center":[Se,[],t=>t.distanceFromCenter()],"heatmap-density":[Se,[],t=>t.globals.heatmapDensity||0],"line-progress":[Se,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[Se,[],t=>t.globals.skyRadialProgress||0],accumulated:[Me,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[Se,Si(Se),(t,e)=>{let n=0;for(const i of e)n+=i.evaluate(t);return n}],"*":[Se,Si(Se),(t,e)=>{let n=1;for(const i of e)n*=i.evaluate(t);return n}],"-":{type:Se,overloads:[[[Se,Se],(t,[e,n])=>e.evaluate(t)-n.evaluate(t)],[[Se],(t,[e])=>-e.evaluate(t)]]},"/":[Se,[Se,Se],(t,[e,n])=>e.evaluate(t)/n.evaluate(t)],"%":[Se,[Se,Se],(t,[e,n])=>e.evaluate(t)%n.evaluate(t)],ln2:[Se,[],()=>Math.LN2],pi:[Se,[],()=>Math.PI],e:[Se,[],()=>Math.E],"^":[Se,[Se,Se],(t,[e,n])=>Math.pow(e.evaluate(t),n.evaluate(t))],sqrt:[Se,[Se],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[Se,[Se],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[Se,[Se],(t,[e])=>Math.log(e.evaluate(t))],log2:[Se,[Se],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[Se,[Se],(t,[e])=>Math.sin(e.evaluate(t))],cos:[Se,[Se],(t,[e])=>Math.cos(e.evaluate(t))],tan:[Se,[Se],(t,[e])=>Math.tan(e.evaluate(t))],asin:[Se,[Se],(t,[e])=>Math.asin(e.evaluate(t))],acos:[Se,[Se],(t,[e])=>Math.acos(e.evaluate(t))],atan:[Se,[Se],(t,[e])=>Math.atan(e.evaluate(t))],min:[Se,Si(Se),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[Se,Si(Se),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[Se,[Se],(t,[e])=>Math.abs(e.evaluate(t))],round:[Se,[Se],(t,[e])=>{const n=e.evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Se,[Se],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[Se,[Se],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[Ie,[Te,Me],(t,[e,n])=>t.properties()[e.value]===n.value],"filter-id-==":[Ie,[Me],(t,[e])=>t.id()===e.value],"filter-type-==":[Ie,[Te],(t,[e])=>t.geometryType()===e.value],"filter-<":[Ie,[Te,Me],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i<r}],"filter-id-<":[Ie,[Me],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n<i}],"filter->":[Ie,[Te,Me],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i>r}],"filter-id->":[Ie,[Me],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n>i}],"filter-<=":[Ie,[Te,Me],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[Ie,[Me],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n<=i}],"filter->=":[Ie,[Te,Me],(t,[e,n])=>{const i=t.properties()[e.value],r=n.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[Ie,[Me],(t,[e])=>{const n=t.id(),i=e.value;return typeof n==typeof i&&n>=i}],"filter-has":[Ie,[Me],(t,[e])=>e.value in t.properties()],"filter-has-id":[Ie,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[Ie,[je(Te)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[Ie,[je(Me)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[Ie,[Te,je(Me)],(t,[e,n])=>n.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[Ie,[Te,je(Me)],(t,[e,n])=>function(t,e,n,i){for(;n<=i;){const r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=r+1}return!1}(t.properties()[e.value],n.value,0,n.value.length-1)],all:{type:Ie,overloads:[[[Ie,Ie],(t,[e,n])=>e.evaluate(t)&&n.evaluate(t)],[Si(Ie),(t,e)=>{for(const n of e)if(!n.evaluate(t))return!1;return!0}]]},any:{type:Ie,overloads:[[[Ie,Ie],(t,[e,n])=>e.evaluate(t)||n.evaluate(t)],[Si(Ie),(t,e)=>{for(const n of e)if(n.evaluate(t))return!0;return!1}]]},"!":[Ie,[Ie],(t,[e])=>!e.evaluate(t)],"is-supported-script":[Ie,[Te],(t,[e])=>{const n=t.globals&&t.globals.isSupportedScript;return!n||n(e.evaluate(t))}],upcase:[Te,[Te],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[Te,[Te],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[Te,Si(Me),(t,e)=>e.map((e=>Qe(e.evaluate(t)))).join("")],"resolved-locale":[Te,[De],(t,[e])=>e.evaluate(t).resolvedLocale()]});class Ui{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new cn,this._defaultValue=e?function(t){return"color"===t.type&&Ri(t.default)?new Ve(0,0,0,0):"color"===t.type?Ve.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,n,i,r,o,s,a){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,n,i,r,o,s,a){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new en(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function Hi(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Ci}function Vi(t,e){const n=new Dn(Ci,[],e?function(t){const e={color:Oe,string:Te,number:Se,enum:Te,boolean:Ie,formatted:Re,resolvedImage:Pe};return"array"===t.type?je(e[t.value]||Me,t.length):e[t.type]}(e):void 0),i=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return i?Ti(new Ui(i,e)):Ii(n.errors)}class Yi{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!On(e.expression)}evaluateWithoutErrorHandling(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)}evaluate(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)}}class Wi{constructor(t,e,n,i){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!On(e.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)}evaluate(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)}interpolationFactor(t,e,n){return this.interpolationType?ii.interpolationFactor(this.interpolationType,t,e,n):0}}function Gi(t,e){if("error"===(t=Vi(t,e)).result)return t;const n=t.value.expression,i=In(n);if(!i&&!Oi(e))return Ii([new Ee("","data expressions not supported")]);const r=zn(n,["zoom","pitch","distance-from-center"]);if(!r&&!zi(e))return Ii([new Ee("","zoom expressions not supported")]);const o=Ki(n);return o||r?o instanceof Ee?Ii([o]):o instanceof ii&&!Mi(e)?Ii([new Ee("",'"interpolate" expressions cannot be used with this property')]):Ti(o?new Wi(i?"camera":"composite",t.value,o.labels,o instanceof ii?o.interpolation:void 0):new Yi(i?"constant":"source",t.value)):Ii([new Ee("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Zi{constructor(t,e){this._parameters=t,this._specification=e,xe(this,ji(this._parameters,this._specification))}static deserialize(t){return new Zi(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Ki(t){let e=null;if(t instanceof si)e=Ki(t.result);else if(t instanceof oi){for(const n of t.args)if(e=Ki(n),e)break}else(t instanceof jn||t instanceof ii)&&t.input instanceof hn&&"zoom"===t.input.name&&(e=t);return e instanceof Ee||t.eachChild((t=>{const n=Ki(t);n instanceof Ee?e=n:!e&&n?e=new Ee("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Ee("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function Xi(t){const e=t.key,n=t.value,i=t.valueSpec||{},r=t.objectElementValidators||{},o=t.style,s=t.styleSpec;let a=[];const u=Di(n);if("object"!==u)return[new we(e,n,`object expected, ${u} found`)];for(const t in n){const u=t.split(".")[0],l=i[u]||i["*"];let c;if(r[u])c=r[u];else if(i[u])c=Ir;else if(r["*"])c=r["*"];else{if(!i["*"]){a.push(new we(e,n[t],`unknown property "${t}"`));continue}c=Ir}a=a.concat(c({key:(e?`${e}.`:e)+t,value:n[t],valueSpec:l,style:o,styleSpec:s,object:n,objectKey:t},n))}for(const t in i)r[t]||i[t].required&&void 0===i[t].default&&void 0===n[t]&&a.push(new we(e,n,`missing required property "${t}"`));return a}function Ji(t){const e=t.value,n=t.valueSpec,i=t.style,r=t.styleSpec,o=t.key,s=t.arrayElementValidator||Ir;if("array"!==Di(e))return[new we(o,e,`array expected, ${Di(e)} found`)];if(n.length&&e.length!==n.length)return[new we(o,e,`array length ${n.length} expected, length ${e.length} found`)];if(n["min-length"]&&e.length<n["min-length"])return[new we(o,e,`array length at least ${n["min-length"]} expected, length ${e.length} found`)];let a={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum};r.$version<7&&(a.function=n.function),"object"===Di(n.value)&&(a=n.value);let u=[];for(let t=0;t<e.length;t++)u=u.concat(s({array:e,arrayIndex:t,value:e[t],valueSpec:a,style:i,styleSpec:r,key:`${o}[${t}]`}));return u}function Qi(t){const e=t.key,n=t.value,i=t.valueSpec;let r=Di(n);if("number"===r&&n!=n&&(r="NaN"),"number"!==r)return[new we(e,n,`number expected, ${r} found`)];if("minimum"in i){let r=i.minimum;if("array"===Di(i.minimum)&&(r=i.minimum[t.arrayIndex]),n<r)return[new we(e,n,`${n} is less than the minimum value ${r}`)]}if("maximum"in i){let r=i.maximum;if("array"===Di(i.maximum)&&(r=i.maximum[t.arrayIndex]),n>r)return[new we(e,n,`${n} is greater than the maximum value ${r}`)]}return[]}function tr(t){const e=t.valueSpec,n=$e(t.value.type);let i,r,o,s={};const a="categorical"!==n&&void 0===t.value.property,u=!a,l="array"===Di(t.value.stops)&&"array"===Di(t.value.stops[0])&&"object"===Di(t.value.stops[0][0]),c=Xi({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===n)return[new we(t.key,t.value,'identity function may not have a "stops" property')];let e=[];const i=t.value;return e=e.concat(Ji({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Di(i)&&0===i.length&&e.push(new we(t.key,i,"array must have at least one stop")),e},default:function(t){return Ir({key:t.key,value:t.value,valueSpec:e,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===n&&a&&c.push(new we(t.key,t.value,'missing required property "property"')),"identity"===n||t.value.stops||c.push(new we(t.key,t.value,'missing required property "stops"')),"exponential"===n&&t.valueSpec.expression&&!Mi(t.valueSpec)&&c.push(new we(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!Oi(t.valueSpec)?c.push(new we(t.key,t.value,"property functions not supported")):a&&!zi(t.valueSpec)&&c.push(new we(t.key,t.value,"zoom functions not supported"))),"categorical"!==n&&!l||void 0!==t.value.property||c.push(new we(t.key,t.value,'"property" property is required')),c;function h(t){let n=[];const i=t.value,a=t.key;if("array"!==Di(i))return[new we(a,i,`array expected, ${Di(i)} found`)];if(2!==i.length)return[new we(a,i,`array length 2 expected, length ${i.length} found`)];if(l){if("object"!==Di(i[0]))return[new we(a,i,`object expected, ${Di(i[0])} found`)];if(void 0===i[0].zoom)return[new we(a,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new we(a,i,"object stop key must have value")];if(o&&o>$e(i[0].zoom))return[new we(a,i[0].zoom,"stop zoom values must appear in ascending order")];$e(i[0].zoom)!==o&&(o=$e(i[0].zoom),r=void 0,s={}),n=n.concat(Xi({key:`${a}[0]`,value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Qi,value:p}}))}else n=n.concat(p({key:`${a}[0]`,value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},i));return Hi(Ce(i[1]))?n.concat([new we(`${a}[1]`,i[1],"expressions are not allowed in function stops.")]):n.concat(Ir({key:`${a}[1]`,value:i[1],valueSpec:e,style:t.style,styleSpec:t.styleSpec}))}function p(t,o){const a=Di(t.value),u=$e(t.value),l=null!==t.value?t.value:o;if(i){if(a!==i)return[new we(t.key,l,`${a} stop domain type must match previous stop domain type ${i}`)]}else i=a;if("number"!==a&&"string"!==a&&"boolean"!==a)return[new we(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==a&&"categorical"!==n){let i=`number expected, ${a} found`;return Oi(e)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new we(t.key,l,i)]}return"categorical"!==n||"number"!==a||isFinite(u)&&Math.floor(u)===u?"categorical"!==n&&"number"===a&&void 0!==r&&u<r?[new we(t.key,l,"stop domain values must appear in ascending order")]:(r=u,"categorical"===n&&u in s?[new we(t.key,l,"stop domain values must be unique")]:(s[u]=!0,[])):[new we(t.key,l,`integer expected, found ${u}`)]}}function er(t){const e=("property"===t.expressionContext?Gi:Vi)(Ce(t.value),t.valueSpec);if("error"===e.result)return e.value.map((e=>new we(`${t.key}${e.key}`,t.value,e.message)));const n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new we(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!On(n))return[new we(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext)return nr(n,t);if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!zn(n,["zoom","feature-state"]))return[new we(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!In(n))return[new we(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nr(t,e){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);for(const t of e.valueSpec.expression.parameters)n.delete(t);if(0===n.size)return[];const i=[];return t instanceof hn&&n.has(t.name)?[new we(e.key,e.value,`["${t.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(t.eachChild((t=>{i.push(...nr(t,e))})),i)}function ir(t){const e=t.key,n=t.value,i=t.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf($e(n))&&r.push(new we(e,n,`expected one of [${i.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(i.values).indexOf($e(n))&&r.push(new we(e,n,`expected one of [${Object.keys(i.values).join(", ")}], ${JSON.stringify(n)} found`)),r}function rr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!rr(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function or(t,e="fill"){if(null==t)return{filter:()=>!0,needGeometry:!1,needFeature:!1};rr(t)||(t=pr(t));const n=t;let i=!0;try{i=function(t){if(!ur(t))return t;let e=Ce(t);return ar(e),e=sr(e),e}(n)}catch(t){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const r=ge[`filter_${e}`],o=Vi(i,r);let s=null;if("error"===o.result)throw new Error(o.value.map((t=>`${t.key}: ${t.message}`)).join(", "));s=(t,e,n)=>o.value.evaluate(t,e,{},n);let a=null,u=null;if(i!==n){const t=Vi(n,r);if("error"===t.result)throw new Error(t.value.map((t=>`${t.key}: ${t.message}`)).join(", "));a=(e,n,i,r,o)=>t.value.evaluate(e,n,{},i,void 0,void 0,r,o),u=!In(t.value.expression)}return s=s,{filter:s,dynamicFilter:a||void 0,needGeometry:hr(i),needFeature:!!u}}function sr(t){if(!Array.isArray(t))return t;const e=function(t){if(lr.has(t[0]))for(let e=1;e<t.length;e++)if(ur(t[e]))return!0;return t}(t);return!0===e?e:e.map((t=>sr(t)))}function ar(t){let e=!1;const n=[];if("case"===t[0]){for(let i=1;i<t.length-1;i+=2)e=e||ur(t[i]),n.push(t[i+1]);n.push(t[t.length-1])}else if("match"===t[0]){e=e||ur(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){e=e||ur(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}e&&(t.length=0,t.push("any",...n));for(let e=1;e<t.length;e++)ar(t[e])}function ur(t){if(!Array.isArray(t))return!1;if("pitch"===(e=t[0])||"distance-from-center"===e)return!0;var e;for(let e=1;e<t.length;e++)if(ur(t[e]))return!0;return!1}const lr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function cr(t,e){return t<e?-1:t>e?1:0}function hr(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(hr(t[e]))return!0;return!1}function pr(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?_r(t[1],t[2],"=="):"!="===e?mr(_r(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?_r(t[1],t[2],e):"any"===e?(n=t.slice(1),["any"].concat(n.map(pr))):"all"===e?["all"].concat(t.slice(1).map(pr)):"none"===e?["all"].concat(t.slice(1).map(pr).map(mr)):"in"===e?fr(t[1],t.slice(2)):"!in"===e?mr(fr(t[1],t.slice(2))):"has"===e?dr(t[1]):"!has"===e?mr(dr(t[1])):"within"!==e||t;var n}function _r(t,e,n){switch(t){case"$type":return[`filter-type-${n}`,e];case"$id":return[`filter-id-${n}`,e];default:return[`filter-${n}`,t,e]}}function fr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?["filter-in-large",t,["literal",e.sort(cr)]]:["filter-in-small",t,["literal",e]]}}function dr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function mr(t){return["!",t]}function yr(t){if(rr(Ce(t.value))){const e=Ce(t.layerType);return er(xe({},t,{expressionContext:"filter",valueSpec:t.styleSpec[`filter_${e||"fill"}`]}))}return vr(t)}function vr(t){const e=t.value,n=t.key;if("array"!==Di(e))return[new we(n,e,`array expected, ${Di(e)} found`)];const i=t.styleSpec;let r,o=[];if(e.length<1)return[new we(n,e,"filter array must have at least 1 element")];switch(o=o.concat(ir({key:`${n}[0]`,value:e[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),$e(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===$e(e[1])&&o.push(new we(n,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&o.push(new we(n,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(r=Di(e[1]),"string"!==r&&o.push(new we(`${n}[1]`,e[1],`string expected, ${r} found`)));for(let s=2;s<e.length;s++)r=Di(e[s]),"$type"===$e(e[1])?o=o.concat(ir({key:`${n}[${s}]`,value:e[s],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&o.push(new we(`${n}[${s}]`,e[s],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let i=1;i<e.length;i++)o=o.concat(vr({key:`${n}[${i}]`,value:e[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":r=Di(e[1]),2!==e.length?o.push(new we(n,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==r&&o.push(new we(`${n}[1]`,e[1],`string expected, ${r} found`));break;case"within":r=Di(e[1]),2!==e.length?o.push(new we(n,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==r&&o.push(new we(`${n}[1]`,e[1],`object expected, ${r} found`))}return o}function gr(t,e){const n=t.key,i=t.style,r=t.styleSpec,o=t.value,s=t.objectKey,a=r[`${e}_${t.layerType}`];if(!a)return[];const u=s.match(/^(.*)-transition$/);if("paint"===e&&u&&a[u[1]]&&a[u[1]].transition)return Ir({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});const l=t.valueSpec||a[s];if(!l)return[new we(n,o,`unknown property "${s}"`)];let c;if("string"===Di(o)&&Oi(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(o)))return[new we(n,o,`"${s}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(c[1])} }\`.`)];const h=[];return"symbol"===t.layerType&&("text-field"===s&&i&&!i.glyphs&&h.push(new we(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&Ri(Ce(o))&&"identity"===$e(o.type)&&h.push(new we(n,o,'"text-font" does not support identity functions'))),h.concat(Ir({key:t.key,value:o,valueSpec:l,style:i,styleSpec:r,expressionContext:"property",propertyType:e,propertyKey:s}))}function wr(t){return gr(t,"paint")}function br(t){return gr(t,"layout")}function xr(t){let e=[];const n=t.value,i=t.key,r=t.style,o=t.styleSpec;n.type||n.ref||e.push(new we(i,n,'either "type" or "ref" is required'));let s=$e(n.type);const a=$e(n.ref);if(n.id){const o=$e(n.id);for(let s=0;s<t.arrayIndex;s++){const t=r.layers[s];$e(t.id)===o&&e.push(new we(i,n.id,`duplicate layer id "${n.id}", previously used at line ${t.id.__line__}`))}}if("ref"in n){let t;["type","source","source-layer","filter","layout"].forEach((t=>{t in n&&e.push(new we(i,n[t],`"${t}" is prohibited for ref layers`))})),r.layers.forEach((e=>{$e(e.id)===a&&(t=e)})),t?t.ref?e.push(new we(i,n.ref,"ref cannot reference another ref layer")):s=$e(t.type):e.push(new we(i,n.ref,`ref layer "${a}" not found`))}else if("background"!==s&&"sky"!==s)if(n.source){const t=r.sources&&r.sources[n.source],o=t&&$e(t.type);t?"vector"===o&&"raster"===s?e.push(new we(i,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==s?e.push(new we(i,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==s?e.push(new we(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&t.lineMetrics||e.push(new we(i,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new we(i,n,`layer "${n.id}" must specify a "source-layer"`)):e.push(new we(i,n.source,`source "${n.source}" not found`))}else e.push(new we(i,n,'missing required property "source"'));return e=e.concat(Xi({key:i,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ir({key:`${i}.type`,value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"}),filter:t=>yr(xe({layerType:s},t)),layout:t=>Xi({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":t=>br(xe({layerType:s},t))}}),paint:t=>Xi({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":t=>wr(xe({layerType:s},t))}})}})),e}function $r(t){const e=t.value,n=t.key,i=Di(e);return"string"!==i?[new we(n,e,`string expected, ${i} found`)]:[]}const Cr={promoteId:function({key:t,value:e}){if("string"===Di(e))return $r({key:t,value:e});{const n=[];for(const i in e)n.push(...$r({key:`${t}.${i}`,value:e[i]}));return n}}};function Er(t){const e=t.value,n=t.key,i=t.styleSpec,r=t.style;if(!e.type)return[new we(n,e,'"type" is required')];const o=$e(e.type);let s;switch(o){case"vector":case"raster":case"raster-dem":return s=Xi({key:n,value:e,valueSpec:i[`source_${o.replace("-","_")}`],style:t.style,styleSpec:i,objectElementValidators:Cr}),s;case"geojson":if(s=Xi({key:n,value:e,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:Cr}),e.cluster)for(const t in e.clusterProperties){const[i,r]=e.clusterProperties[t],o="string"==typeof i?[i,["accumulated"],["get",t]]:i;s.push(...er({key:`${n}.${t}.map`,value:r,expressionContext:"cluster-map"})),s.push(...er({key:`${n}.${t}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return s;case"video":return Xi({key:n,value:e,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return Xi({key:n,value:e,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new we(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ir({key:`${n}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:i})}}function Ar(t){const e=t.value,n=t.styleSpec,i=n.light,r=t.style;let o=[];const s=Di(e);if(void 0===e)return o;if("object"!==s)return o=o.concat([new we("light",e,`object expected, ${s} found`)]),o;for(const t in e){const s=t.match(/^(.*)-transition$/);o=o.concat(s&&i[s[1]]&&i[s[1]].transition?Ir({key:t,value:e[t],valueSpec:n.transition,style:r,styleSpec:n}):i[t]?Ir({key:t,value:e[t],valueSpec:i[t],style:r,styleSpec:n}):[new we(t,e[t],`unknown property "${t}"`)])}return o}function kr(t){const e=t.value,n=t.key,i=t.style,r=t.styleSpec,o=r.terrain;let s=[];const a=Di(e);if(void 0===e)return s;if("object"!==a)return s=s.concat([new we("terrain",e,`object expected, ${a} found`)]),s;for(const t in e){const n=t.match(/^(.*)-transition$/);s=s.concat(n&&o[n[1]]&&o[n[1]].transition?Ir({key:t,value:e[t],valueSpec:r.transition,style:i,styleSpec:r}):o[t]?Ir({key:t,value:e[t],valueSpec:o[t],style:i,styleSpec:r}):[new we(t,e[t],`unknown property "${t}"`)])}if(e.source){const t=i.sources&&i.sources[e.source],r=t&&$e(t.type);t?"raster-dem"!==r&&s.push(new we(n,e.source,`terrain cannot be used with a source of type ${r}, it only be used with a "raster-dem" source type`)):s.push(new we(n,e.source,`source "${e.source}" not found`))}else s.push(new we(n,e,'terrain is missing required property "source"'));return s}function Sr(t){const e=t.value,n=t.style,i=t.styleSpec,r=i.fog;let o=[];const s=Di(e);if(void 0===e)return o;if("object"!==s)return o=o.concat([new we("fog",e,`object expected, ${s} found`)]),o;for(const t in e){const s=t.match(/^(.*)-transition$/);o=o.concat(s&&r[s[1]]&&r[s[1]].transition?Ir({key:t,value:e[t],valueSpec:i.transition,style:n,styleSpec:i}):r[t]?Ir({key:t,value:e[t],valueSpec:r[t],style:n,styleSpec:i}):[new we(t,e[t],`unknown property "${t}"`)])}return o}const Tr={"*":()=>[],array:Ji,boolean:function(t){const e=t.value,n=t.key,i=Di(e);return"boolean"!==i?[new we(n,e,`boolean expected, ${i} found`)]:[]},number:Qi,color:function(t){const e=t.key,n=t.value,i=Di(n);return"string"!==i?[new we(e,n,`color expected, ${i} found`)]:null===He.parseCSSColor(n)?[new we(e,n,`color expected, "${n}" found`)]:[]},constants:be,enum:ir,filter:yr,function:tr,layer:xr,object:Xi,source:Er,light:Ar,terrain:kr,fog:Sr,string:$r,formatted:function(t){return 0===$r(t).length?[]:er(t)},resolvedImage:function(t){return 0===$r(t).length?[]:er(t)},projection:function(t){const e=t.value,n=t.styleSpec,i=n.projection,r=t.style;let o=[];const s=Di(e);if("object"===s)for(const t in e)o=o.concat(Ir({key:t,value:e[t],valueSpec:i[t],style:r,styleSpec:n}));else"string"!==s&&(o=o.concat([new we("projection",e,`object or string expected, ${s} found`)]));return o}};function Ir(t){const e=t.value,n=t.valueSpec,i=t.styleSpec;return n.expression&&Ri($e(e))?tr(t):n.expression&&Hi(Ce(e))?er(t):n.type&&Tr[n.type]?Tr[n.type](t):Xi(xe({},t,{valueSpec:n.type?i[n.type]:n}))}function Or(t){const e=t.value,n=t.key,i=$r(t);return i.length||(-1===e.indexOf("{fontstack}")&&i.push(new we(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&i.push(new we(n,e,'"glyphs" url must include a "{range}" token'))),i}function zr(t,e=ge){let n=[];return n=n.concat(Ir({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Or,"*":()=>[]}})),t.constants&&(n=n.concat(be({key:"constants",value:t.constants,style:t,styleSpec:e}))),Mr(n)}function Mr(t){return[].concat(t).sort(((t,e)=>t.line-e.line))}function Dr(t){return function(...e){return Mr(t.apply(this,e))}}zr.source=Dr(Er),zr.light=Dr(Ar),zr.terrain=Dr(kr),zr.fog=Dr(Sr),zr.layer=Dr(xr),zr.filter=Dr(yr),zr.paintProperty=Dr(wr),zr.layoutProperty=Dr(br);const Rr=zr,Pr=Rr.light,jr=Rr.fog,Nr=Rr.paintProperty,Lr=Rr.layoutProperty;function qr(t,e){let n=!1;if(e&&e.length)for(const i of e)t.fire(new ye(new Error(i.message))),n=!0;return n}var Br=Fr;function Fr(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var r=new Int32Array(this.arrayBuffer);t=r[0],this.d=(e=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var s=r[3+o],a=r[3+o+1];i.push(s===a?null:r.subarray(s,a))}var u=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],u),this.bboxes=r.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var l=0;l<this.d*this.d;l++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}Fr.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Fr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Fr.prototype._insertCell=function(t,e,n,i,r,o){this.cells[r].push(o)},Fr.prototype.query=function(t,e,n,i,r){var o=this.min,s=this.max;if(t<=o&&e<=o&&s<=n&&s<=i&&!r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,n,i,this._queryCell,a,{},r),a},Fr.prototype._queryCell=function(t,e,n,i,r,o,s,a){var u=this.cells[r];if(null!==u)for(var l=this.keys,c=this.bboxes,h=0;h<u.length;h++){var p=u[h];if(void 0===s[p]){var _=4*p;(a?a(c[_+0],c[_+1],c[_+2],c[_+3]):t<=c[_+2]&&e<=c[_+3]&&n>=c[_+0]&&i>=c[_+1])?(s[p]=!0,o.push(l[p])):s[p]=!1}}},Fr.prototype._forEachCell=function(t,e,n,i,r,o,s,a){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(n),h=this._convertToCellCoord(i),p=u;p<=c;p++)for(var _=l;_<=h;_++){var f=this.d*_+p;if((!a||a(this._convertFromCellCoord(p),this._convertFromCellCoord(_),this._convertFromCellCoord(p+1),this._convertFromCellCoord(_+1)))&&r.call(this,t,e,n,i,f,o,s,a))return}},Fr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Fr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Fr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(e+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=e,s=0;s<t.length;s++){var a=t[s];r[3+s]=o,r.set(a,o),o+=a.length}return r[3+t.length]=o,r.set(this.keys,o),r[3+t.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};const{ImageData:Ur,ImageBitmap:Hr}=s,Vr={};function Yr(t,e,n={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Vr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}Yr("Object",Object),Br.serialize=function(t,e){const n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Br.deserialize=function(t){return new Br(t.buffer)},Yr("Grid",Br),Yr("Color",Ve),Yr("Error",Error),Yr("ResolvedImage",Ze),Yr("StylePropertyFunction",Zi),Yr("StyleExpression",Ui,{omit:["_evaluator"]}),Yr("ZoomDependentExpression",Wi),Yr("ZoomConstantExpression",Yi),Yr("CompoundExpression",hn,{omit:["_evaluate"]});for(const t in Ci)Ci[t]._classRegistryKey||Yr(`Expression_${t}`,Ci[t]);function Wr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Gr(t){return Hr&&t instanceof Hr}function Zr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Wr(t)||Gr(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){const n=t;return e&&e.push(n.buffer),n}if(t instanceof Ur)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const n=[];for(const i of t)n.push(Zr(i,e));return n}if("object"==typeof t){const n=t.constructor,i=n._classRegistryKey;if(!i)throw new Error("can't serialize object of unregistered class");const r=n.serialize?n.serialize(t,e):{};if(!n.serialize){for(const n in t){if(!t.hasOwnProperty(n))continue;if(Vr[i].omit.indexOf(n)>=0)continue;const o=t[n];r[n]=Vr[i].shallow.indexOf(n)>=0?o:Zr(o,e)}t instanceof Error&&(r.message=t.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(r.$name=i),r}throw new Error("can't serialize object of type "+typeof t)}function Kr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Wr(t)||Gr(t)||ArrayBuffer.isView(t)||t instanceof Ur)return t;if(Array.isArray(t))return t.map(Kr);if("object"==typeof t){const e=t.$name||"Object",{klass:n}=Vr[e];if(!n)throw new Error(`can't deserialize unregistered class ${e}`);if(n.deserialize)return n.deserialize(t);const i=Object.create(n.prototype);for(const n of Object.keys(t)){if("$name"===n)continue;const r=t[n];i[n]=Vr[e].shallow.indexOf(n)>=0?r:Kr(r)}return i}throw new Error("can't deserialize object of type "+typeof t)}class Xr{constructor(){this.first=!0}update(t,e){const n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))}}const Jr=t=>t>=1536&&t<=1791,Qr=t=>t>=1872&&t<=1919,to=t=>t>=2208&&t<=2303,eo=t=>t>=11904&&t<=12031,no=t=>t>=12032&&t<=12255,io=t=>t>=12272&&t<=12287,ro=t=>t>=12288&&t<=12351,oo=t=>t>=12352&&t<=12447,so=t=>t>=12448&&t<=12543,ao=t=>t>=12544&&t<=12591,uo=t=>t>=12704&&t<=12735,lo=t=>t>=12736&&t<=12783,co=t=>t>=12784&&t<=12799,ho=t=>t>=12800&&t<=13055,po=t=>t>=13056&&t<=13311,_o=t=>t>=13312&&t<=19903,fo=t=>t>=19968&&t<=40959,mo=t=>t>=40960&&t<=42127,yo=t=>t>=42128&&t<=42191,vo=t=>t>=44032&&t<=55215,go=t=>t>=63744&&t<=64255,wo=t=>t>=64336&&t<=65023,bo=t=>t>=65040&&t<=65055,xo=t=>t>=65072&&t<=65103,$o=t=>t>=65104&&t<=65135,Co=t=>t>=65136&&t<=65279,Eo=t=>t>=65280&&t<=65519;function Ao(t){for(const e of t)if(To(e.charCodeAt(0)))return!0;return!1}function ko(t){for(const e of t)if(!So(e.charCodeAt(0)))return!1;return!0}function So(t){return!(Jr(t)||Qr(t)||to(t)||wo(t)||Co(t))}function To(t){return!(746!==t&&747!==t&&(t<4352||!(uo(t)||ao(t)||xo(t)&&!(t>=65097&&t<=65103)||go(t)||po(t)||eo(t)||lo(t)||!(!ro(t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||_o(t)||fo(t)||ho(t)||(t=>t>=12592&&t<=12687)(t)||(t=>t>=43360&&t<=43391)(t)||(t=>t>=55216&&t<=55295)(t)||(t=>t>=4352&&t<=4607)(t)||vo(t)||oo(t)||io(t)||(t=>t>=12688&&t<=12703)(t)||no(t)||co(t)||so(t)&&12540!==t||!(!Eo(t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!$o(t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(t=>t>=5120&&t<=5759)(t)||(t=>t>=6320&&t<=6399)(t)||bo(t)||(t=>t>=19904&&t<=19967)(t)||mo(t)||yo(t))))}function Io(t){return!(To(t)||function(t){return!!((t=>t>=128&&t<=255)(t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||(t=>t>=8192&&t<=8303)(t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||(t=>t>=8448&&t<=8527)(t)||(t=>t>=8528&&t<=8591)(t)||(t=>t>=8960&&t<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||(t=>t>=9216&&t<=9279)(t)&&9251!==t||(t=>t>=9280&&t<=9311)(t)||(t=>t>=9312&&t<=9471)(t)||(t=>t>=9632&&t<=9727)(t)||(t=>t>=9728&&t<=9983)(t)&&!(t>=9754&&t<=9759)||(t=>t>=11008&&t<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||ro(t)||so(t)||(t=>t>=57344&&t<=63743)(t)||xo(t)||$o(t)||Eo(t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Oo(t){return t>=1424&&t<=2303||wo(t)||Co(t)}function zo(t,e){return!(!e&&Oo(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||(t=>t>=6016&&t<=6143)(t))}function Mo(t){for(const e of t)if(Oo(e.charCodeAt(0)))return!0;return!1}const Do="deferred",Ro="loading",Po="loaded";let jo=null,No="unavailable",Lo=null;const qo=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(No="error"),jo&&jo(t)};function Bo(){Fo.fire(new me("pluginStateChange",{pluginStatus:No,pluginURL:Lo}))}const Fo=new ve,Uo=function(){return No},Ho=function(){if(No!==Do||!Lo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");No=Ro,Bo(),Lo&&se({url:Lo},(t=>{t?qo(t):(No=Po,Bo())}))},Vo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>No===Po||null!=Vo.applyArabicShaping,isLoading:()=>No===Ro,setState(t){No=t.pluginStatus,Lo=t.pluginURL},isParsed:()=>null!=Vo.applyArabicShaping&&null!=Vo.processBidirectionalText&&null!=Vo.processStyledBidirectionalText,getPluginURL:()=>Lo};class Yo{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition,this.pitch=e.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Xr,this.transition={},this.pitch=0)}isSupportedScript(t){return function(t,e){for(const n of t)if(!zo(n.charCodeAt(0),e))return!1;return!0}(t,Vo.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}}}class Wo{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Ri(t))return new Zi(t,e);if(Hi(t)){const n=Gi(t,e);if("error"===n.result)throw new Error(n.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return n.value}{let n=t;return"string"==typeof t&&"color"===e.type&&(n=Ve.parse(t)),{kind:"constant",evaluate:()=>n}}}(void 0===e?t.specification.default:e,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)}}class Go{constructor(t){this.property=t,this.value=new Wo(t,void 0)}transitioned(t,e){return new Ko(this.property,this.value,e,tt({},t.transition,this.transition),t.now)}untransitioned(){return new Ko(this.property,this.value,null,{},0)}}class Zo{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return ct(this._values[t].value.value)}setValue(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Go(this._values[t].property)),this._values[t].value=new Wo(this._values[t].property,null===e?void 0:ct(e))}getTransition(t){return ct(this._values[t].transition)}setTransition(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Go(this._values[t].property)),this._values[t].transition=ct(e)||void 0}serialize(){const t={};for(const e of Object.keys(this._values)){const n=this.getValue(e);void 0!==n&&(t[e]=n);const i=this.getTransition(e);void 0!==i&&(t[`${e}-transition`]=i)}return t}transitioned(t,e){const n=new Xo(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(t,e._values[i]);return n}untransitioned(){const t=new Xo(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class Ko{constructor(t,e,n,i,r){const o=i.delay||0,s=i.duration||0;r=r||0,this.property=t,this.value=e,this.begin=r+o,this.end=this.begin+s,t.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(t,e,n){const i=t.now||0,r=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(t,e,n);{const s=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),r,Y(s))}}return r}}class Xo{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,e,n){const i=new ts(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(t,e,n);return i}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class Jo{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return ct(this._values[t].value)}setValue(t,e){this._values[t]=new Wo(this._values[t].property,null===e?void 0:ct(e))}serialize(){const t={};for(const e of Object.keys(this._values)){const n=this.getValue(e);void 0!==n&&(t[e]=n)}return t}possiblyEvaluate(t,e,n){const i=new ts(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(t,e,n);return i}}class Qo{constructor(t,e,n){this.property=t,this.value=e,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,e,n,i){return this.property.evaluate(this.value,this.parameters,t,e,n,i)}}class ts{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class es{constructor(t){this.specification=t}possiblyEvaluate(t,e){return t.expression.evaluate(e)}interpolate(t,e,n){const i=Ln[this.specification.type];return i?i(t,e,n):t}}class ns{constructor(t,e){this.specification=t,this.overrides=e}possiblyEvaluate(t,e,n,i){return new Qo(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,i)}:t.expression,e)}interpolate(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Qo(this,{kind:"constant",value:void 0},t.parameters);const i=Ln[this.specification.type];return i?new Qo(this,{kind:"constant",value:i(t.value.value,e.value.value,n)},t.parameters):t}evaluate(t,e,n,i,r,o){return"constant"===t.kind?t.value:t.evaluate(e,n,i,r,o)}}class is extends ns{possiblyEvaluate(t,e,n,i){if(void 0===t.value)return new Qo(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},n,i),o="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,s=this._calculate(o,o,o,e);return new Qo(this,{kind:"constant",value:s},e)}if("camera"===t.expression.kind){const n=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Qo(this,{kind:"constant",value:n},e)}return new Qo(this,t.expression,e)}evaluate(t,e,n,i,r,o){if("source"===t.kind){const s=t.evaluate(e,n,i,r,o);return this._calculate(s,s,s,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,i),t.evaluate({zoom:Math.floor(e.zoom)},n,i),t.evaluate({zoom:Math.floor(e.zoom)+1},n,i),e):t.value}_calculate(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e,other:n}:{from:n,to:e,other:t}}interpolate(t){return t}}class rs{constructor(t){this.specification=t}possiblyEvaluate(t,e,n,i){if(void 0!==t.value){if("constant"===t.expression.kind){const r=t.expression.evaluate(e,null,{},n,i);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new Yo(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Yo(Math.floor(e.zoom),e)),t.expression.evaluate(new Yo(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}}interpolate(t){return t}}class os{constructor(t){this.specification=t}possiblyEvaluate(t,e,n,i){return!!t.expression.evaluate(e,null,{},n,i)}interpolate(){return!1}}class ss{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e in t){const n=t[e];n.specification.overridable&&this.overridableProperties.push(e);const i=this.defaultPropertyValues[e]=new Wo(n,void 0),r=this.defaultTransitionablePropertyValues[e]=new Go(n);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=i.possiblyEvaluate({})}}}function as(t,e){return 256*(t=Z(Math.floor(t),0,255))+Z(Math.floor(e),0,255)}Yr("DataDrivenProperty",ns),Yr("DataConstantProperty",es),Yr("CrossFadedDataDrivenProperty",is),Yr("CrossFadedProperty",rs),Yr("ColorRampProperty",os);const us={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ls{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class cs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function hs(t,e=1){let n=0,i=0;return{members:t.map((t=>{const r=us[t.type].BYTES_PER_ELEMENT,o=n=ps(n,Math.max(e,r)),s=t.components||1;return i=Math.max(i,r),n+=r*s,{name:t.name,type:t.type,components:s,offset:o}})),size:ps(n,Math.max(i,e)),alignment:e}}function ps(t,e){return Math.ceil(t/e)*e}class _s extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e){const n=this.length;return this.resize(n+1),this.emplace(n,t,e)}emplace(t,e,n){const i=2*t;return this.int16[i+0]=e,this.int16[i+1]=n,t}}_s.prototype.bytesPerElement=4,Yr("StructArrayLayout2i4",_s);class fs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)}emplace(t,e,n,i,r){const o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,t}}fs.prototype.bytesPerElement=8,Yr("StructArrayLayout4i8",fs);class ds extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o,s)}emplace(t,e,n,i,r,o,s,a){const u=6*t,l=12*t,c=3*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.uint8[l+4]=i,this.uint8[l+5]=r,this.uint8[l+6]=o,this.uint8[l+7]=s,this.float32[c+2]=a,t}}ds.prototype.bytesPerElement=12,Yr("StructArrayLayout2i4ub1f12",ds);class ms extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)}emplace(t,e,n,i){const r=3*t;return this.float32[r+0]=e,this.float32[r+1]=n,this.float32[r+2]=i,t}}ms.prototype.bytesPerElement=12,Yr("StructArrayLayout3f12",ms);class ys extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s,a,u,l){const c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,i,r,o,s,a,u,l)}emplace(t,e,n,i,r,o,s,a,u,l,c){const h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=n,this.uint16[h+2]=i,this.uint16[h+3]=r,this.uint16[h+4]=o,this.uint16[h+5]=s,this.uint16[h+6]=a,this.uint16[h+7]=u,this.uint16[h+8]=l,this.uint16[h+9]=c,t}}ys.prototype.bytesPerElement=20,Yr("StructArrayLayout10ui20",ys);class vs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s,a){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,i,r,o,s,a)}emplace(t,e,n,i,r,o,s,a,u){const l=8*t;return this.uint16[l+0]=e,this.uint16[l+1]=n,this.uint16[l+2]=i,this.uint16[l+3]=r,this.uint16[l+4]=o,this.uint16[l+5]=s,this.uint16[l+6]=a,this.uint16[l+7]=u,t}}vs.prototype.bytesPerElement=16,Yr("StructArrayLayout8ui16",vs);class gs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d){const m=this.length;return this.resize(m+1),this.emplace(m,t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d)}emplace(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m){const y=16*t;return this.int16[y+0]=e,this.int16[y+1]=n,this.int16[y+2]=i,this.int16[y+3]=r,this.uint16[y+4]=o,this.uint16[y+5]=s,this.uint16[y+6]=a,this.uint16[y+7]=u,this.int16[y+8]=l,this.int16[y+9]=c,this.int16[y+10]=h,this.int16[y+11]=p,this.int16[y+12]=_,this.int16[y+13]=f,this.int16[y+14]=d,this.int16[y+15]=m,t}}gs.prototype.bytesPerElement=32,Yr("StructArrayLayout4i4ui4i4i32",gs);class ws extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}ws.prototype.bytesPerElement=4,Yr("StructArrayLayout1ul4",ws);class bs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s,a,u,l,c,h,p){const _=this.length;return this.resize(_+1),this.emplace(_,t,e,n,i,r,o,s,a,u,l,c,h,p)}emplace(t,e,n,i,r,o,s,a,u,l,c,h,p,_){const f=20*t,d=10*t;return this.int16[f+0]=e,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.int16[f+4]=o,this.float32[d+3]=s,this.float32[d+4]=a,this.float32[d+5]=u,this.float32[d+6]=l,this.int16[f+14]=c,this.uint32[d+8]=h,this.uint16[f+18]=p,this.uint16[f+19]=_,t}}bs.prototype.bytesPerElement=40,Yr("StructArrayLayout5i4f1i1ul2ui40",bs);class xs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o,s)}emplace(t,e,n,i,r,o,s,a){const u=8*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.int16[u+2]=i,this.int16[u+4]=r,this.int16[u+5]=o,this.int16[u+6]=s,this.int16[u+7]=a,t}}xs.prototype.bytesPerElement=16,Yr("StructArrayLayout3i2i2i16",xs);class $s extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i,r)}emplace(t,e,n,i,r,o){const s=4*t,a=8*t;return this.float32[s+0]=e,this.float32[s+1]=n,this.float32[s+2]=i,this.int16[a+6]=r,this.int16[a+7]=o,t}}$s.prototype.bytesPerElement=16,Yr("StructArrayLayout2f1f2i16",$s);class Cs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)}emplace(t,e,n,i,r){const o=12*t,s=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[s+1]=i,this.float32[s+2]=r,t}}Cs.prototype.bytesPerElement=12,Yr("StructArrayLayout2ub2f12",Cs);class Es extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)}emplace(t,e,n,i){const r=3*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,this.uint16[r+2]=i,t}}Es.prototype.bytesPerElement=6,Yr("StructArrayLayout3ui6",Es);class As extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w){const b=this.length;return this.resize(b+1),this.emplace(b,t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w)}emplace(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b){const x=30*t,$=15*t,C=60*t;return this.int16[x+0]=e,this.int16[x+1]=n,this.int16[x+2]=i,this.float32[$+2]=r,this.float32[$+3]=o,this.uint16[x+8]=s,this.uint16[x+9]=a,this.uint32[$+5]=u,this.uint32[$+6]=l,this.uint32[$+7]=c,this.uint16[x+16]=h,this.uint16[x+17]=p,this.uint16[x+18]=_,this.float32[$+10]=f,this.float32[$+11]=d,this.uint8[C+48]=m,this.uint8[C+49]=y,this.uint8[C+50]=v,this.uint32[$+13]=g,this.int16[x+28]=w,this.uint8[C+58]=b,t}}As.prototype.bytesPerElement=60,Yr("StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60",As);class ks extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T){const I=this.length;return this.resize(I+1),this.emplace(I,t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T)}emplace(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I){const O=38*t,z=19*t;return this.int16[O+0]=e,this.int16[O+1]=n,this.int16[O+2]=i,this.float32[z+2]=r,this.float32[z+3]=o,this.int16[O+8]=s,this.int16[O+9]=a,this.int16[O+10]=u,this.int16[O+11]=l,this.int16[O+12]=c,this.int16[O+13]=h,this.uint16[O+14]=p,this.uint16[O+15]=_,this.uint16[O+16]=f,this.uint16[O+17]=d,this.uint16[O+18]=m,this.uint16[O+19]=y,this.uint16[O+20]=v,this.uint16[O+21]=g,this.uint16[O+22]=w,this.uint16[O+23]=b,this.uint16[O+24]=x,this.uint16[O+25]=$,this.uint16[O+26]=C,this.uint16[O+27]=E,this.uint16[O+28]=A,this.uint32[z+15]=k,this.float32[z+16]=S,this.float32[z+17]=T,this.float32[z+18]=I,t}}ks.prototype.bytesPerElement=76,Yr("StructArrayLayout3i2f6i15ui1ul3f76",ks);class Ss extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}Ss.prototype.bytesPerElement=4,Yr("StructArrayLayout1f4",Ss);class Ts extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)}emplace(t,e,n,i){const r=3*t;return this.int16[r+0]=e,this.int16[r+1]=n,this.int16[r+2]=i,t}}Ts.prototype.bytesPerElement=6,Yr("StructArrayLayout3i6",Ts);class Is extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,i,r,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o,s)}emplace(t,e,n,i,r,o,s,a){const u=7*t;return this.float32[u+0]=e,this.float32[u+1]=n,this.float32[u+2]=i,this.float32[u+3]=r,this.float32[u+4]=o,this.float32[u+5]=s,this.float32[u+6]=a,t}}Is.prototype.bytesPerElement=28,Yr("StructArrayLayout7f28",Is);class Os extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)}emplace(t,e,n,i,r){const o=6*t;return this.uint32[3*t+0]=e,this.uint16[o+2]=n,this.uint16[o+3]=i,this.uint16[o+4]=r,t}}Os.prototype.bytesPerElement=12,Yr("StructArrayLayout1ul3ui12",Os);class zs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e){const n=this.length;return this.resize(n+1),this.emplace(n,t,e)}emplace(t,e,n){const i=2*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,t}}zs.prototype.bytesPerElement=4,Yr("StructArrayLayout2ui4",zs);class Ms extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Ms.prototype.bytesPerElement=2,Yr("StructArrayLayout1ui2",Ms);class Ds extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e){const n=this.length;return this.resize(n+1),this.emplace(n,t,e)}emplace(t,e,n){const i=2*t;return this.float32[i+0]=e,this.float32[i+1]=n,t}}Ds.prototype.bytesPerElement=8,Yr("StructArrayLayout2f8",Ds);class Rs extends cs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)}emplace(t,e,n,i,r){const o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,t}}Rs.prototype.bytesPerElement=16,Yr("StructArrayLayout4f16",Rs);class Ps extends ls{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ps.prototype.size=40;class js extends bs{get(t){return new Ps(this,t)}}Yr("CollisionBoxArray",js);class Ns extends ls{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t}}Ns.prototype.size=60;class Ls extends As{get(t){return new Ns(this,t)}}Yr("PlacedSymbolArray",Ls);class qs extends ls{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}qs.prototype.size=76;class Bs extends ks{get(t){return new qs(this,t)}}Yr("SymbolInstanceArray",Bs);class Fs extends Ss{getoffsetX(t){return this.float32[1*t+0]}}Yr("GlyphOffsetArray",Fs);class Us extends Ts{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Yr("SymbolLineVertexArray",Us);class Hs extends ls{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Hs.prototype.size=12;class Vs extends Os{get(t){return new Hs(this,t)}}Yr("FeatureIndexArray",Vs);class Ys extends ls{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Ys.prototype.size=4;class Ws extends zs{get(t){return new Ys(this,t)}}Yr("FillExtrusionCentroidArray",Ws);const Gs=hs([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Zs=hs([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Ks=Ue((function(t){t.exports=function(t,e){var n,i,r,o,s,a,u,l;for(i=t.length-(n=3&t.length),r=e,s=3432918353,a=461845907,l=0;l<i;)u=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,r=27492+(65535&(o=5*(65535&(r=(r^=u=(65535&(u=(u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295)<<15|u>>>17))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:r^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(l)))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<15|u>>>17))*a+(((u>>>16)*a&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),Xs=Ue((function(t){t.exports=function(t,e){for(var n,i=t.length,r=e^i,o=0;i>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&t.charCodeAt(o+2))<<16;case 2:r^=(255&t.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),Js=Ks,Qs=Xs;Js.murmur3=Ks,Js.murmur2=Qs;class ta{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,e,n,i){this.ids.push(ea(t)),this.positions.push(e,n,i)}getPositions(t){const e=ea(t);let n=0,i=this.ids.length-1;for(;n<i;){const t=n+i>>1;this.ids[t]>=e?i=t:n=t+1}const r=[];for(;this.ids[n]===e;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(t,e){const n=new Float64Array(t.ids),i=new Uint32Array(t.positions);return na(n,i,0,n.length-1),e&&e.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(t){const e=new ta;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function ea(t){const e=+t;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:Js(String(t))}function na(t,e,n,i){for(;n<i;){const r=t[n+i>>1];let o=n-1,s=i+1;for(;;){do{o++}while(t[o]<r);do{s--}while(t[s]>r);if(o>=s)break;ia(t,o,s),ia(e,3*o,3*s),ia(e,3*o+1,3*s+1),ia(e,3*o+2,3*s+2)}s-n<i-s?(na(t,e,n,s),n=s+1):(na(t,e,s+1,i),i=s)}}function ia(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}Yr("FeaturePositionMap",ta);class ra{constructor(t,e){this.gl=t.gl,this.location=e}}class oa extends ra{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class sa extends ra{constructor(t,e){super(t,e),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class aa extends ra{constructor(t,e){super(t,e),this.current=Ve.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const ua=new Float32Array(16),la=new Float32Array(9),ca=new Float32Array(4);function ha(t){return[as(255*t.r,255*t.g),as(255*t.b,255*t.a)]}class pa{constructor(t,e,n){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=n}setUniform(t,e,n){t.set(n.constantOr(this.value))}getBinding(t,e,n){return"color"===this.type?new aa(t,e):new oa(t,e)}}class _a{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tl.concat(e.br),this.patternTo=t.tl.concat(t.br)}setUniform(t,e,n,i){const r="u_pattern_to"===i||"u_dash_to"===i?this.patternTo:"u_pattern_from"===i||"u_dash_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;r&&t.set(r)}getBinding(t,e,n){return"u_pattern_from"===n||"u_pattern_to"===n||"u_dash_from"===n||"u_dash_to"===n?new sa(t,e):new oa(t,e)}}class fa{constructor(t,e,n,i){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new i}populatePaintArray(t,e,n,i,r,o){const s=this.paintVertexArray.length,a=this.expression.evaluate(new Yo(0),e,{},r,i,o);this.paintVertexArray.resize(t),this._setPaintValue(s,t,a)}updatePaintArray(t,e,n,i,r){const o=this.expression.evaluate({zoom:0},n,i,void 0,r);this._setPaintValue(t,e,o)}_setPaintValue(t,e,n){if("color"===this.type){const i=ha(n);for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class da{constructor(t,e,n,i,r,o){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(t,e,n,i,r,o){const s=this.expression.evaluate(new Yo(this.zoom),e,{},r,i,o),a=this.expression.evaluate(new Yo(this.zoom+1),e,{},r,i,o),u=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(u,t,s,a)}updatePaintArray(t,e,n,i,r){const o=this.expression.evaluate({zoom:this.zoom},n,i,void 0,r),s=this.expression.evaluate({zoom:this.zoom+1},n,i,void 0,r);this._setPaintValue(t,e,o,s)}_setPaintValue(t,e,n,i){if("color"===this.type){const r=ha(n),o=ha(i);for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,r[0],r[1],o[0],o[1])}else{for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,e){const n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,i=Z(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(i)}getBinding(t,e,n){return new oa(t,e)}}class ma{constructor(t,e,n,i,r,o,s){this.expression=t,this.type=n,this.useIntegerZoom=i,this.zoom=r,this.layerId=s,this.paintVertexAttributes=("array"===n?Zs:Gs).members;for(let t=0;t<e.length;++t);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}populatePaintArray(t,e,n){const i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(i,t,e.patterns&&e.patterns[this.layerId],n)}updatePaintArray(t,e,n,i,r,o){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],o)}_setPaintValues(t,e,n,i){if(!i||!n)return;const{min:r,mid:o,max:s}=n,a=i[r],u=i[o],l=i[s];if(a&&u&&l)for(let n=t;n<e;n++)this._setPaintValue(this.zoomInPaintVertexArray,n,u,a),this._setPaintValue(this.zoomOutPaintVertexArray,n,u,l)}_setPaintValue(t,e,n,i){t.emplace(e,n.tl[0],n.tl[1],n.br[0],n.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],n.pixelRatio,i.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ya{constructor(t,e,n=(()=>!0)){this.binders={},this._buffers=[];const i=[];for(const r in t.paint._values){if(!n(r))continue;const o=t.paint.get(r);if(!(o instanceof Qo&&Oi(o.property.specification)))continue;const s=wa(r,t.type),a=o.value,u=o.property.specification.type,l=o.property.useIntegerZoom,c=o.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c,p="line-dasharray"===String(r)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==a.kind||p)if("source"===a.kind||p||h){const n=$a(r,u,"source");this.binders[r]=h?new ma(a,s,u,l,e,n,t.id):new fa(a,s,u,n),i.push(`/a_${r}`)}else{const t=$a(r,u,"composite");this.binders[r]=new da(a,s,u,l,e,t),i.push(`/z_${r}`)}else this.binders[r]=h?new _a(a.value,s):new pa(a.value,s,u),i.push(`/u_${r}`)}this.cacheKey=i.sort().join("")}getMaxValue(t){const e=this.binders[t];return e instanceof fa||e instanceof da?e.maxValue:0}populatePaintArrays(t,e,n,i,r,o){for(const s in this.binders){const a=this.binders[s];(a instanceof fa||a instanceof da||a instanceof ma)&&a.populatePaintArray(t,e,n,i,r,o)}}setConstantPatternPositions(t,e){for(const n in this.binders){const i=this.binders[n];i instanceof _a&&i.setConstantPatternPositions(t,e)}}updatePaintArrays(t,e,n,i,r,o){let s=!1;for(const a in t){const u=e.getPositions(a);for(const e of u){const u=n.feature(e.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof fa||l instanceof da||l instanceof ma)&&!0===l.expression.isStateDependent){const c=i.paint.get(n);l.expression=c.value,l.updatePaintArray(e.start,e.end,u,t[a],r,o),s=!0}}}}return s}defines(){const t=[];for(const e in this.binders){const n=this.binders[e];(n instanceof pa||n instanceof _a)&&t.push(...n.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)))}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const n=this.binders[e];if(n instanceof fa||n instanceof da||n instanceof ma)for(let e=0;e<n.paintVertexAttributes.length;e++)t.push(n.paintVertexAttributes[e].name)}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const n=this.binders[e];if(n instanceof pa||n instanceof _a||n instanceof da)for(const e of n.uniformNames)t.push(e)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,e){const n=[];for(const i in this.binders){const r=this.binders[i];if(r instanceof pa||r instanceof _a||r instanceof da)for(const o of r.uniformNames)if(e[o]){const s=r.getBinding(t,e[o],o);n.push({name:o,property:i,binding:s})}}return n}setUniforms(t,e,n,i){for(const{name:t,property:r,binding:o}of e)this.binders[r].setUniform(o,i,n.get(r),t)}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const n=this.binders[e];if(t&&n instanceof ma){const e=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;e&&this._buffers.push(e)}else(n instanceof fa||n instanceof da)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(t){for(const e in this.binders){const n=this.binders[e];(n instanceof fa||n instanceof da||n instanceof ma)&&n.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof fa||e instanceof da||e instanceof ma)&&e.destroy()}}}class va{constructor(t,e,n=(()=>!0)){this.programConfigurations={};for(const i of t)this.programConfigurations[i.id]=new ya(i,e,n);this.needsUpload=!1,this._featureMap=new ta,this._bufferOffset=0}populatePaintArrays(t,e,n,i,r,o,s){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(t,e,i,r,o,s);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,e,n,i,r){for(const o of n)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(t,this._featureMap,e,o,i,r)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const ga={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function wa(t,e){return ga[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}const ba={"line-pattern":{source:ys,composite:ys},"fill-pattern":{source:ys,composite:ys},"fill-extrusion-pattern":{source:ys,composite:ys},"line-dasharray":{source:vs,composite:vs}},xa={color:{source:Ds,composite:Rs},number:{source:Ss,composite:Ds}};function $a(t,e,n){const i=ba[t];return i&&i[n]||xa[e][n]}Yr("ConstantBinder",pa),Yr("CrossFadedConstantBinder",_a),Yr("SourceExpressionBinder",fa),Yr("CrossFadedCompositeBinder",ma),Yr("CompositeExpressionBinder",da),Yr("ProgramConfiguration",ya,{omit:["_buffers"]}),Yr("ProgramConfigurationSet",va);const Ca="-transition";class Ea extends ve{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&"sky"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new Jo(e.layout)),e.paint)){this._transitionablePaint=new Zo(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ts(e.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e,n={}){null!=e&&this._validate(Lr,`layers.${this.id}.layout.${t}`,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)}getPaintProperty(t){return at(t,Ca)?this._transitionablePaint.getTransition(t.slice(0,-Ca.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,n={}){if(null!=e&&this._validate(Nr,`layers.${this.id}.paint.${t}`,t,e,n))return!1;if(at(t,Ca))return this._transitionablePaint.setTransition(t.slice(0,-Ca.length),e||void 0),!1;{const n=this._transitionablePaint._values[t],i="cross-faded-data-driven"===n.property.specification["property-type"],r=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const s=this._transitionablePaint._values[t].value;return s.isDataDriven()||r||i||this._handleOverridablePaintPropertyUpdate(t,o,s)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,e,n){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),lt(t,((t,e)=>!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)))}_validate(t,e,n,i,r={}){return(!r||!1!==r.validate)&&qr(this,t.call(Rr,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:ge,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof Qo&&Oi(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=or(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Aa=hs([{name:"a_pos",components:2,type:"Int16"}],4),{members:ka}=Aa;class Sa{constructor(t=[]){this.segments=t}prepareSegment(t,e,n,i){let r=this.segments[this.segments.length-1];return t>Sa.MAX_VERTEX_ARRAY_LENGTH&&pt(`Max vertices per segment is ${Sa.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!r||r.vertexLength+t>Sa.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy()}static simpleSegment(t,e,n,i){return new Sa([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}Sa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Yr("SegmentVector",Sa);var Ta=8192;class Ia{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof za?new za(t.lng,t.lat):za.convert(t),this}setSouthWest(t){return this._sw=t instanceof za?new za(t.lng,t.lat):za.convert(t),this}extend(t){const e=this._sw,n=this._ne;let i,r;if(t instanceof za)i=t,r=t;else{if(!(t instanceof Ia))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Ia.convert(t)):this.extend(za.convert(t)):this;if(i=t._sw,r=t._ne,!i||!r)return this}return e||n?(e.lng=Math.min(i.lng,e.lng),e.lat=Math.min(i.lat,e.lat),n.lng=Math.max(r.lng,n.lng),n.lat=Math.max(r.lat,n.lat)):(this._sw=new za(i.lng,i.lat),this._ne=new za(r.lng,r.lat)),this}getCenter(){return new za((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new za(this.getWest(),this.getNorth())}getSouthEast(){return new za(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:e,lat:n}=za.convert(t);let i=this._sw.lng<=e&&e<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=e&&e>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i}static convert(t){return!t||t instanceof Ia?t:new Ia(t)}}const Oa=6371008.8;class za{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new za(X(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,n=this.lat*e,i=t.lat*e,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((t.lng-this.lng)*e);return Oa*Math.acos(Math.min(r,1))}toBounds(t=0){const e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Ia(new za(this.lng-n,this.lat-e),new za(this.lng+n,this.lat+e))}static convert(t){if(t instanceof za)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new za(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new za(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ma=2*Math.PI*Oa;function Da(t){return Ma*Math.cos(t*Math.PI/180)}function Ra(t){return(180+t)/360}function Pa(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function ja(t,e){return t/Da(e)}function Na(t){return 360*t-180}function La(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function qa(t,e){return t*Da(La(e))}const Ba=85.051129;class Fa{constructor(t,e,n=0){this.x=+t,this.y=+e,this.z=+n}static fromLngLat(t,e=0){const n=za.convert(t);return new Fa(Ra(n.lng),Pa(n.lat),ja(e,n.lat))}toLngLat(){return new za(Na(this.x),La(this.y))}toAltitude(){return qa(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ma*(t=La(this.y),1/Math.cos(t*Math.PI/180));var t}}function Ua(t,e,n,i,o,s,a,u,l){const c=(e+i)/2,h=(n+o)/2,p=new r(c,h);u(p),function(t,e,n,i,r,o){const s=n-r,a=i-o;return Math.abs((i-e)*s-(n-t)*a)/Math.hypot(s,a)}(p.x,p.y,s.x,s.y,a.x,a.y)>=l?(Ua(t,e,n,c,h,s,p,u,l),Ua(t,c,h,i,o,p,a,u,l)):t.push(a)}function Ha(t,e,n){const i=[];let r,o,s;for(const a of t){const{x:t,y:u}=a;e(a),s?Ua(i,r,o,t,u,s,a,e,n):i.push(a),r=t,o=u,s=a}return i}const Va=Math.pow(2,14)-1,Ya=-Va-1;function Wa(t,e){const n=Math.round(t.x*e),i=Math.round(t.y*e);return t.x=Z(n,Ya,Va),t.y=Z(i,Ya,Va),(n<t.x||n>t.x+1||i<t.y||i>t.y+1)&&pt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),t}function Ga(t,e,n){const i=t.loadGeometry(),r=t.extent,o=Ta/r;if(e&&n&&n.projection.isReprojectedInTileSpace){const o=1<<e.z,{scale:s,x:a,y:u,projection:l}=n,c=t=>{const n=Na((e.x+t.x/r)/o),i=La((e.y+t.y/r)/o),c=l.project(n,i);t.x=(c.x*s-a)*r,t.y=(c.y*s-u)*r};for(let e=0;e<i.length;e++)if(1!==t.type)i[e]=Ha(i[e],c,1);else{const t=[];for(const n of i[e])n.x<0||n.x>=r||n.y<0||n.y>=r||(c(n),t.push(n));i[e]=t}}for(const t of i)for(const e of t)Wa(e,o);return i}function Za(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Ga(t):[]}}function Ka(t,e,n,i,r){t.emplaceBack(2*e+(i+1)/2,2*n+(r+1)/2)}class Xa{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new _s,this.indexArray=new Es,this.segments=new Sa,this.programConfigurations=new va(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n,i){const r=this.layers[0],o=[];let s=null;"circle"===r.type&&(s=r.layout.get("circle-sort-key"));for(const{feature:e,id:r,index:a,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Za(e,t);if(!this.layers[0]._featureFilter.filter(new Yo(this.zoom),l,n))continue;const c=s?s.evaluate(l,{},n):void 0,h={id:r,properties:e.properties,type:e.type,sourceLayerIndex:u,index:a,geometry:t?l.geometry:Ga(e,n,i),patterns:{},sortKey:c};o.push(h)}s&&o.sort(((t,e)=>t.sortKey-e.sortKey));for(const i of o){const{geometry:r,index:o,sourceLayerIndex:s}=i,a=t[o].feature;this.addFeature(i,r,o,e.availableImages,n),e.featureIndex.insert(a,r,o,s,this.index)}}update(t,e,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ka),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,n,i,r){for(const n of e)for(const e of n){const n=e.x,i=e.y;if(n<0||n>=Ta||i<0||i>=Ta)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),o=r.vertexLength;Ka(this.layoutVertexArray,n,i,-1,-1),Ka(this.layoutVertexArray,n,i,1,-1),Ka(this.layoutVertexArray,n,i,1,1),Ka(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+3,o+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},i,r)}}function Ja(t,e){for(let n=0;n<t.length;n++)if(au(e,t[n]))return!0;for(let n=0;n<e.length;n++)if(au(t,e[n]))return!0;return!!nu(t,e)}function Qa(t,e,n){return!!au(t,e)||!!ru(e,t,n)}function tu(t,e){if(1===t.length)return su(e,t[0]);for(let n=0;n<e.length;n++){const i=e[n];for(let e=0;e<i.length;e++)if(au(t,i[e]))return!0}for(let n=0;n<t.length;n++)if(su(e,t[n]))return!0;for(let n=0;n<e.length;n++)if(nu(t,e[n]))return!0;return!1}function eu(t,e,n){if(t.length>1){if(nu(t,e))return!0;for(let i=0;i<e.length;i++)if(ru(e[i],t,n))return!0}for(let i=0;i<t.length;i++)if(ru(t[i],e,n))return!0;return!1}function nu(t,e){if(0===t.length||0===e.length)return!1;for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];for(let t=0;t<e.length-1;t++)if(iu(i,r,e[t],e[t+1]))return!0}return!1}function iu(t,e,n,i){return _t(t,n,i)!==_t(e,n,i)&&_t(t,e,n)!==_t(t,e,i)}function ru(t,e,n){const i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(let n=1;n<e.length;n++)if(ou(t,e[n-1],e[n])<i)return!0;return!1}function ou(t,e,n){const i=e.distSqr(n);if(0===i)return t.distSqr(e);const r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return t.distSqr(r<0?e:r>1?n:n.sub(e)._mult(r)._add(e))}function su(t,e){let n,i,r,o=!1;for(let s=0;s<t.length;s++){n=t[s];for(let t=0,s=n.length-1;t<n.length;s=t++)i=n[t],r=n[s],i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function au(t,e){let n=!1;for(let i=0,r=t.length-1;i<t.length;r=i++){const o=t[i],s=t[r];o.y>e.y!=s.y>e.y&&e.x<(s.x-o.x)*(e.y-o.y)/(s.y-o.y)+o.x&&(n=!n)}return n}function uu(t,e,n,i,o){for(const r of t)if(e<=r.x&&n<=r.y&&i>=r.x&&o>=r.y)return!0;const s=[new r(e,n),new r(e,o),new r(i,o),new r(i,n)];if(t.length>2)for(const e of s)if(au(t,e))return!0;for(let e=0;e<t.length-1;e++)if(lu(t[e],t[e+1],s))return!0;return!1}function lu(t,e,n){const i=n[0],r=n[2];if(t.x<i.x&&e.x<i.x||t.x>r.x&&e.x>r.x||t.y<i.y&&e.y<i.y||t.y>r.y&&e.y>r.y)return!1;const o=_t(t,e,n[0]);return o!==_t(t,e,n[1])||o!==_t(t,e,n[2])||o!==_t(t,e,n[3])}function cu(t,e,n){const i=e.paint.get(t).value;return"constant"===i.kind?i.value:n.programConfigurations.get(e.id).getMaxValue(t)}function hu(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function pu(t,e,n,i,o){if(!e[0]&&!e[1])return t;const s=r.convert(e)._mult(o);"viewport"===n&&s._rotate(-i);const a=[];for(let e=0;e<t.length;e++)a.push(t[e].sub(s));return a}function _u(t,e,n,i){const o=r.convert(t)._mult(i);return"viewport"===e&&o._rotate(-n),o}Yr("CircleBucket",Xa,{omit:["layers"]});const fu=new ss({"circle-sort-key":new ns(ge.layout_circle["circle-sort-key"])});var du={paint:new ss({"circle-radius":new ns(ge.paint_circle["circle-radius"]),"circle-color":new ns(ge.paint_circle["circle-color"]),"circle-blur":new ns(ge.paint_circle["circle-blur"]),"circle-opacity":new ns(ge.paint_circle["circle-opacity"]),"circle-translate":new es(ge.paint_circle["circle-translate"]),"circle-translate-anchor":new es(ge.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new es(ge.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new es(ge.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ns(ge.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ns(ge.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ns(ge.paint_circle["circle-stroke-opacity"])}),layout:fu};class mu{constructor(t,e){this.points=t,this.planes=e}static fromInvProjectionMatrix(t,e,n,i){const r=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{const o=P([],n,t),s=1/o[3]/e*r;return function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}(o,o,[s,s,i?1/o[3]:s,s])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const e=k([],T([],M([],o[t[0]],o[t[1]]),M([],o[t[2]],o[t[1]]))),n=-S(e,o[t[1]]);return e.concat(n)}));return new mu(o,s)}}class yu{constructor(t,e){this.min=t,this.max=e,this.center=E([],b([],this.min,this.max),.5)}quadrant(t){const e=[t%2==0,t<2],n=v(this.min),i=v(this.max);for(let t=0;t<e.length;t++)n[t]=e[t]?this.min[t]:this.center[t],i[t]=e[t]?this.center[t]:this.max[t];return i[2]=this.max[2],new yu(n,i)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,e=this.max;return[[t[0],t[1],t[2]],[e[0],t[1],t[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],e[2]],[t[0],e[1],e[2]]]}intersects(t){const e=this.getCorners();let n=!0;for(let i=0;i<t.planes.length;i++){const r=t.planes[i];let o=0;for(let t=0;t<e.length;t++)o+=S(r,e[t])+r[3]>=0;if(0===o)return 0;o!==e.length&&(n=!1)}if(n)return 2;for(let e=0;e<3;e++){let n=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let r=0;r<t.points.length;r++){const o=t.points[r][e]-this.min[e];n=Math.min(n,o),i=Math.max(i,o)}if(i<0||n>this.max[e]-this.min[e])return 0}return 1}}function vu(t,e,n,i,r,o,s,a,u){if(o&&t.queryGeometry.isAboveHorizon)return!1;o&&(u*=t.pixelToTileUnitsFactor);for(const l of e)for(const e of l){const l=e.add(a),c=r&&n.elevation?n.elevation.exaggeration()*r.getElevationAt(l.x,l.y,!0):0,h=o?l:gu(l,c,i),p=o?t.tilespaceRays.map((t=>xu(t,c))):t.queryGeometry.screenGeometry,_=P([],[e.x,e.y,c,1],i);if(!s&&o?u*=_[3]/n.cameraToCenterDistance:s&&!o&&(u*=n.cameraToCenterDistance/_[3]),Qa(p,h,u))return!0}return!1}function gu(t,e,n){const i=P([],[t.x,t.y,e,1],n);return new r(i[0]/i[3],i[1]/i[3])}const wu=w(0,0,0),bu=w(0,0,1);function xu(t,e){const n=y();return wu[2]=e,t.intersectsPlane(wu,bu,n),new r(n[0],n[1])}class $u extends Xa{}function Cu(t,{width:e,height:n},i,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==e*n*i)throw new RangeError("mismatched image size")}else r=new Uint8Array(e*n*i);return t.width=e,t.height=n,t.data=r,t}function Eu(t,{width:e,height:n},i){if(e===t.width&&n===t.height)return;const r=Cu({},{width:e,height:n},i);Au(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,e),height:Math.min(t.height,n)},i),t.width=e,t.height=n,t.data=r.data}function Au(t,e,n,i,r,o){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const s=t.data,a=e.data;for(let u=0;u<r.height;u++){const l=((n.y+u)*t.width+n.x)*o,c=((i.y+u)*e.width+i.x)*o;for(let t=0;t<r.width*o;t++)a[c+t]=s[l+t]}return e}Yr("HeatmapBucket",$u,{omit:["layers"]});class ku{constructor(t,e){Cu(this,t,1,e)}resize(t){Eu(this,t,1)}clone(){return new ku({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,n,i,r){Au(t,e,n,i,r,1)}}class Su{constructor(t,e){Cu(this,t,4,e)}resize(t){Eu(this,t,4)}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Su({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,n,i,r){Au(t,e,n,i,r,4)}}Yr("AlphaImage",ku),Yr("RGBAImage",Su);var Tu={paint:new ss({"heatmap-radius":new ns(ge.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ns(ge.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new es(ge.paint_heatmap["heatmap-intensity"]),"heatmap-color":new os(ge.paint_heatmap["heatmap-color"]),"heatmap-opacity":new es(ge.paint_heatmap["heatmap-opacity"])})};function Iu(t){const e={},n=t.resolution||256,i=t.clips?t.clips.length:1,r=t.image||new Su({width:n,height:i}),o=(n,i,o)=>{e[t.evaluationKey]=o;const s=t.expression.evaluate(e);r.data[n+i+0]=Math.floor(255*s.r/s.a),r.data[n+i+1]=Math.floor(255*s.g/s.a),r.data[n+i+2]=Math.floor(255*s.b/s.a),r.data[n+i+3]=Math.floor(255*s.a)};if(t.clips)for(let e=0,r=0;e<i;++e,r+=4*n)for(let i=0,s=0;i<n;i++,s+=4){const a=i/(n-1),{start:u,end:l}=t.clips[e];o(r,s,u*(1-a)+l*a)}else for(let t=0,e=0;t<n;t++,e+=4)o(0,e,t/(n-1));return r}var Ou={paint:new ss({"hillshade-illumination-direction":new es(ge.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new es(ge.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new es(ge.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new es(ge.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new es(ge.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new es(ge.paint_hillshade["hillshade-accent-color"])})};const zu=hs([{name:"a_pos",components:2,type:"Int16"}],4),{members:Mu}=zu;var Du=Pu,Ru=Pu;function Pu(t,e,n){n=n||2;var i,r,o,s,a,u,l,c=e&&e.length,h=c?e[0]*n:t.length,p=ju(t,0,h,n,!0),_=[];if(!p||p.next===p.prev)return _;if(c&&(p=function(t,e,n,i){var r,o,s,a=[];for(r=0,o=e.length;r<o;r++)(s=ju(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),a.push(Gu(s));for(a.sort(Hu),r=0;r<a.length;r++)n=Nu(n=Vu(a[r],n),n.next);return n}(t,e,p,n)),t.length>80*n){i=o=t[0],r=s=t[1];for(var f=n;f<h;f+=n)(a=t[f])<i&&(i=a),(u=t[f+1])<r&&(r=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-i,s-r))?1/l:0}return Lu(p,_,n,i,r,l),_}function ju(t,e,n,i,r){var o,s;if(r===al(t,e,n,i)>0)for(o=e;o<n;o+=i)s=rl(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=rl(o,t[o],t[o+1],s);return s&&Ju(s,s.next)&&(ol(s),s=s.next),s}function Nu(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Ju(i,i.next)&&0!==Xu(i.prev,i,i.next))i=i.next;else{if(ol(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Lu(t,e,n,i,r,o,s){if(t){!s&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=Wu(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ);e++);for(u=l;a>0||u>0&&i;)0!==a&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1)}(r)}(t,i,r,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?Bu(t,i,r,o):qu(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),ol(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?Lu(t=Fu(Nu(t),e,n),e,n,i,r,o,2):2===s&&Uu(t,e,n,i,r,o):Lu(Nu(t),e,n,i,r,o,1);break}}}function qu(t){var e=t.prev,n=t,i=t.next;if(Xu(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(Zu(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Xu(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Bu(t,e,n,i){var r=t.prev,o=t,s=t.next;if(Xu(r,o,s)>=0)return!1;for(var a=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,l=Wu(r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,e,n,i),c=Wu(a,u,e,n,i),h=t.prevZ,p=t.nextZ;h&&h.z>=l&&p&&p.z<=c;){if(h!==t.prev&&h!==t.next&&Zu(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&Xu(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&Zu(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Xu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&Zu(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&Xu(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&Zu(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Xu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Fu(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!Ju(r,o)&&Qu(r,i,i.next,o)&&nl(r,o)&&nl(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),ol(i),ol(i.next),i=t=o),i=i.next}while(i!==t);return Nu(i)}function Uu(t,e,n,i,r,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Ku(s,a)){var u=il(s,a);return s=Nu(s,s.next),u=Nu(u,u.next),Lu(s,e,n,i,r,o),void Lu(u,e,n,i,r,o)}a=a.next}s=s.next}while(s!==t)}function Hu(t,e){return t.x-e.x}function Vu(t,e){var n=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n;var u,l=n,c=n.x,h=n.y,p=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&Zu(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),nl(i,t)&&(u<p||u===p&&(i.x>n.x||i.x===n.x&&Yu(n,i)))&&(n=i,p=u)),i=i.next}while(i!==l);return n}(t,e);if(!n)return e;var i=il(n,t),r=Nu(n,n.next);return Nu(i,i.next),e===n?r:e}function Yu(t,e){return Xu(t.prev,t,e.prev)<0&&Xu(e.next,t,t.next)<0}function Wu(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Gu(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Zu(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function Ku(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Qu(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(nl(t,e)&&nl(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Xu(t.prev,t,e.prev)||Xu(t,e.prev,e))||Ju(t,e)&&Xu(t.prev,t,t.next)>0&&Xu(e.prev,e,e.next)>0)}function Xu(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ju(t,e){return t.x===e.x&&t.y===e.y}function Qu(t,e,n,i){var r=el(Xu(t,e,n)),o=el(Xu(t,e,i)),s=el(Xu(n,i,t)),a=el(Xu(n,i,e));return r!==o&&s!==a||!(0!==r||!tl(t,n,e))||!(0!==o||!tl(t,i,e))||!(0!==s||!tl(n,t,i))||!(0!==a||!tl(n,e,i))}function tl(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function el(t){return t>0?1:t<0?-1:0}function nl(t,e){return Xu(t.prev,t,t.next)<0?Xu(t,e,t.next)>=0&&Xu(t,t.prev,e)>=0:Xu(t,e,t.prev)<0||Xu(t,t.next,e)<0}function il(t,e){var n=new sl(t.i,t.x,t.y),i=new sl(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function rl(t,e,n,i){var r=new sl(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ol(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sl(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function al(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}function ul(t,e,n,i,r){ll(t,e,n||0,i||t.length-1,r||hl)}function ll(t,e,n,i,r){for(;i>n;){if(i-n>600){var o=i-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);ll(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(i,Math.floor(e+(o-s)*u/o+l)),r)}var c=t[e],h=n,p=i;for(cl(t,n,e),r(t[i],c)>0&&cl(t,n,i);h<p;){for(cl(t,h,p),h++,p--;r(t[h],c)<0;)h++;for(;r(t[p],c)>0;)p--}0===r(t[n],c)?cl(t,n,p):cl(t,++p,i),p<=e&&(n=p+1),e<=p&&(i=p-1)}}function cl(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function hl(t,e){return t<e?-1:t>e?1:0}function pl(t,e){const n=t.length;if(n<=1)return[t];const i=[];let r,o;for(let e=0;e<n;e++){const n=ft(t[e]);0!==n&&(t[e].area=Math.abs(n),void 0===o&&(o=n<0),o===n<0?(r&&i.push(r),r=[t[e]]):r.push(t[e]))}if(r&&i.push(r),e>1)for(let t=0;t<i.length;t++)i[t].length<=e||(ul(i[t],e,1,i[t].length-1,_l),i[t]=i[t].slice(0,e));return i}function _l(t,e){return e.area-t.area}function fl(t,e,n){const i=n.patternDependencies;let r=!1;for(const n of e){const e=n.paint.get(`${t}-pattern`);e.isConstant()||(r=!0);const o=e.constantOr(null);o&&(r=!0,i[o.to]=!0,i[o.from]=!0)}return r}function dl(t,e,n,i,r){const o=r.patternDependencies;for(const s of e){const e=s.paint.get(`${t}-pattern`).value;if("constant"!==e.kind){let t=e.evaluate({zoom:i-1},n,{},r.availableImages),a=e.evaluate({zoom:i},n,{},r.availableImages),u=e.evaluate({zoom:i+1},n,{},r.availableImages);t=t&&t.name?t.name:t,a=a&&a.name?a.name:a,u=u&&u.name?u.name:u,o[t]=!0,o[a]=!0,o[u]=!0,n.patterns[s.id]={min:t,mid:a,max:u}}}return n}Pu.deviation=function(t,e,n,i){var r=e&&e.length,o=Math.abs(al(t,0,r?e[0]*n:t.length,n));if(r)for(var s=0,a=e.length;s<a;s++)o-=Math.abs(al(t,e[s]*n,s<a-1?e[s+1]*n:t.length,n));var u=0;for(s=0;s<i.length;s+=3){var l=i[s]*n,c=i[s+1]*n,h=i[s+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},Pu.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&n.holes.push(i+=t[r-1].length)}return n},Du.default=Ru;class ml{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _s,this.indexArray=new Es,this.indexArray2=new zs,this.programConfigurations=new va(t.layers,t.zoom),this.segments=new Sa,this.segments2=new Sa,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n,i){this.hasPattern=fl("fill",this.layers,e);const r=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:s,id:a,index:u,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Za(s,t);if(!this.layers[0]._featureFilter.filter(new Yo(this.zoom),c,n))continue;const h=r?r.evaluate(c,{},n,e.availableImages):void 0,p={id:a,properties:s.properties,type:s.type,sourceLayerIndex:l,index:u,geometry:t?c.geometry:Ga(s,n,i),patterns:{},sortKey:h};o.push(p)}r&&o.sort(((t,e)=>t.sortKey-e.sortKey));for(const i of o){const{geometry:r,index:o,sourceLayerIndex:s}=i;if(this.hasPattern){const t=dl("fill",this.layers,i,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(i,r,o,n,{},e.availableImages);e.featureIndex.insert(t[o].feature,r,o,s,this.index)}}update(t,e,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n,i)}addFeatures(t,e,n,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Mu),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,e,n,i,r,o=[]){for(const t of pl(e,500)){let e=0;for(const n of t)e+=n.length;const n=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),i=n.vertexLength,r=[],o=[];for(const e of t){if(0===e.length)continue;e!==t[0]&&o.push(r.length/2);const n=this.segments2.prepareSegment(e.length,this.layoutVertexArray,this.indexArray2),i=n.vertexLength;this.layoutVertexArray.emplaceBack(e[0].x,e[0].y),this.indexArray2.emplaceBack(i+e.length-1,i),r.push(e[0].x),r.push(e[0].y);for(let t=1;t<e.length;t++)this.layoutVertexArray.emplaceBack(e[t].x,e[t].y),this.indexArray2.emplaceBack(i+t-1,i+t),r.push(e[t].x),r.push(e[t].y);n.vertexLength+=e.length,n.primitiveLength+=e.length}const s=Du(r,o);for(let t=0;t<s.length;t+=3)this.indexArray.emplaceBack(i+s[t],i+s[t+1],i+s[t+2]);n.vertexLength+=e,n.primitiveLength+=s.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,o,i)}}Yr("FillBucket",ml,{omit:["layers","patternFeatures"]});const yl=new ss({"fill-sort-key":new ns(ge.layout_fill["fill-sort-key"])});var vl={paint:new ss({"fill-antialias":new es(ge.paint_fill["fill-antialias"]),"fill-opacity":new ns(ge.paint_fill["fill-opacity"]),"fill-color":new ns(ge.paint_fill["fill-color"]),"fill-outline-color":new ns(ge.paint_fill["fill-outline-color"]),"fill-translate":new es(ge.paint_fill["fill-translate"]),"fill-translate-anchor":new es(ge.paint_fill["fill-translate-anchor"]),"fill-pattern":new is(ge.paint_fill["fill-pattern"])}),layout:yl};const gl=hs([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),wl=hs([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:bl}=gl;var xl=$l;function $l(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=r,t.readFields(Cl,this,e)}function Cl(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function El(t){for(var e,n,i=0,r=0,o=t.length,s=o-1;r<o;s=r++)i+=((n=t[s]).x-(e=t[r]).x)*(e.y+n.y);return i}$l.types=["Unknown","Point","LineString","Polygon"],$l.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,s=0,a=0,u=[];t.pos<n;){if(o<=0){var l=t.readVarint();i=7&l,o=l>>3}if(o--,1===i||2===i)s+=t.readSVarint(),a+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(s,a));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},$l.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,s=1/0,a=-1/0,u=1/0,l=-1/0;t.pos<e;){if(i<=0){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=t.readSVarint())<s&&(s=r),r>a&&(a=r),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[s,u,a,l]},$l.prototype.toGeoJSON=function(t,e,n){var i,r,o=this.extent*Math.pow(2,n),s=this.extent*t,a=this.extent*e,u=this.loadGeometry(),l=$l.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+s)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+a)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<u.length;i++)h[i]=u[i][0];c(u=h);break;case 2:for(i=0;i<u.length;i++)c(u[i]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var s=El(t[o]);0!==s&&(void 0===i&&(i=s<0),i===s<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}(u),i=0;i<u.length;i++)for(r=0;r<u[i].length;r++)c(u[i][r])}1===u.length?u=u[0]:l="Multi"+l;var p={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p};var Al=kl;function kl(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Sl,this,e),this.length=this._features.length}function Sl(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}function Tl(t,e,n){if(3===t){var i=new Al(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}kl.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new xl(this._pbf,e,this.extent,this._keys,this._values)};var Il={VectorTile:function(t,e){this.layers=t.readFields(Tl,{},e)},VectorTileFeature:xl,VectorTileLayer:Al};const Ol=Il.VectorTileFeature.types,zl=Math.pow(2,13);function Ml(t,e,n,i,r,o,s,a){t.emplaceBack((e<<1)+s,(n<<1)+o,(Math.floor(i*zl)<<1)+r,Math.round(a))}class Dl{constructor(){this.acc=new r(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new r(t.x,t.y),this.max=new r(t.x,t.y))}append(t,e){this.currentPolyCount.edges++,this.acc._add(t);let n=!!this.borders;const i=this.min,r=this.max;t.x<i.x?(i.x=t.x,n=!0):t.x>r.x&&(r.x=t.x,n=!0),t.y<i.y?(i.y=t.y,n=!0):t.y>r.y&&(r.y=t.y,n=!0),((0===t.x||t.x===Ta)&&t.x===e.x)!=((0===t.y||t.y===Ta)&&t.y===e.y)&&this.processBorderOverlap(t,e),n&&this.checkBorderIntersection(t,e)}checkBorderIntersection(t,e){e.x<0!=t.x<0&&this.addBorderIntersection(0,Nn(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>Ta!=t.x>Ta&&this.addBorderIntersection(1,Nn(e.y,t.y,(Ta-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,Nn(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>Ta!=t.y>Ta&&this.addBorderIntersection(3,Nn(e.x,t.x,(Ta-e.y)/(t.y-e.y)))}addBorderIntersection(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const n=this.borders[t];e<n[0]&&(n[0]=e),e>n[1]&&(n[1]=e)}processBorderOverlap(t,e){if(t.x===e.x){if(t.y===e.y)return;const n=0===t.x?0:1;this.addBorderIntersection(n,e.y),this.addBorderIntersection(n,t.y)}else{const n=0===t.y?2:3;this.addBorderIntersection(n,e.x),this.addBorderIntersection(n,t.x)}}centroid(){const t=this.polyCount.reduce(((t,e)=>t+e.edges),0);return 0!==t?this.acc.div(t)._round():new r(0,0)}span(){return new r(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((t,e)=>t+ +(e[0]!==Number.MAX_VALUE)),0)}}class Rl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new fs,this.centroidVertexArray=new Ws,this.indexArray=new Es,this.programConfigurations=new va(t.layers,t.zoom),this.segments=new Sa,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.enableTerrain=t.enableTerrain}populate(t,e,n,i){this.features=[],this.hasPattern=fl("fill-extrusion",this.layers,e),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(t){const e=Math.exp(Math.PI*(1-t.y/(1<<t.z)*2));return 80150034*e/(e*e+1)/Ta/(1<<t.z)}(n);for(const{feature:r,id:o,index:s,sourceLayerIndex:a}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Za(r,t);if(!this.layers[0]._featureFilter.filter(new Yo(this.zoom),u,n))continue;const l={id:o,sourceLayerIndex:a,index:s,geometry:t?u.geometry:Ga(r,n,i),properties:r.properties,type:r.type,patterns:{}},c=this.layoutVertexArray.length;this.hasPattern?this.features.push(dl("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,l.geometry,s,n,{},e.availableImages),e.featureIndex.insert(r,l.geometry,s,a,this.index,c)}this.sortBorders()}addFeatures(t,e,n,i){for(const t of this.features){const{geometry:r}=t;this.addFeature(t,r,t.index,e,n,i)}this.sortBorders()}update(t,e,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,bl),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,wl.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,n,i,r,o){const s=this.enableTerrain?new Dl:null;for(const n of pl(e,500)){let e=0,i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===n.length||(a=n[0]).every((t=>t.x<=0))||a.every((t=>t.x>=Ta))||a.every((t=>t.y<=0))||a.every((t=>t.y>=Ta)))continue;for(let t=0;t<n.length;t++){const r=n[t];if(0===r.length)continue;e+=r.length;let o=0;s&&s.startRing(r[0]);for(let t=0;t<r.length;t++){const e=r[t];if(t>=1){const n=r[t-1];if(!Pl(e,n)){s&&s.append(e,n),i.vertexLength+4>Sa.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const t=e.sub(n)._perp(),r=t.x/(Math.abs(t.x)+Math.abs(t.y)),a=t.y>0?1:0,u=n.dist(e);o+u>32768&&(o=0),Ml(this.layoutVertexArray,e.x,e.y,r,a,0,0,o),Ml(this.layoutVertexArray,e.x,e.y,r,a,0,1,o),o+=u,Ml(this.layoutVertexArray,n.x,n.y,r,a,0,0,o),Ml(this.layoutVertexArray,n.x,n.y,r,a,0,1,o);const l=i.vertexLength;this.indexArray.emplaceBack(l,l+2,l+1),this.indexArray.emplaceBack(l+1,l+2,l+3),i.vertexLength+=4,i.primitiveLength+=2}}}}if(i.vertexLength+e>Sa.MAX_VERTEX_ARRAY_LENGTH&&(i=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray)),"Polygon"!==Ol[t.type])continue;const r=[],o=[],u=i.vertexLength;for(let t=0;t<n.length;t++){const e=n[t];if(0!==e.length){e!==n[0]&&o.push(r.length/2);for(let t=0;t<e.length;t++){const n=e[t];Ml(this.layoutVertexArray,n.x,n.y,0,0,1,1,0),r.push(n.x),r.push(n.y),s&&s.currentPolyCount.top++}}}const l=Du(r,o);for(let t=0;t<l.length;t+=3)this.indexArray.emplaceBack(u+l[t],u+l[t+2],u+l[t+1]);i.primitiveLength+=l.length/3,i.vertexLength+=e}var a;if(s&&s.polyCount.length>0){if(s.borders){s.vertexArrayOffset=this.centroidVertexArray.length;const t=s.borders,e=this.featuresOnBorder.push(s)-1;for(let n=0;n<4;n++)t[n][0]!==Number.MAX_VALUE&&this.borders[n].push(e)}this.encodeCentroid(s.borders?void 0:s.centroid(),s)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,o,i)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort(((e,n)=>this.featuresOnBorder[e].borders[t][0]-this.featuresOnBorder[n].borders[t][0]))}encodeCentroid(t,e,n=!0){let i,r;if(t)if(0!==t.y){const n=e.span()._mult(this.tileToMeter);i=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(n.x/10)),r=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(n.y/10))}else i=Math.ceil(7*(t.x+450)),r=0;else i=0,r=+n;let o=n?this.centroidVertexArray.length:e.vertexArrayOffset;for(const t of e.polyCount){n&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*t.edges+t.top);for(let e=0;e<2*t.edges;e++)this.centroidVertexArray.emplace(o++,0,r),this.centroidVertexArray.emplace(o++,i,r);for(let e=0;e<t.top;e++)this.centroidVertexArray.emplace(o++,i,r)}}}function Pl(t,e){return t.x===e.x&&(t.x<0||t.x>Ta)||t.y===e.y&&(t.y<0||t.y>Ta)}Yr("FillExtrusionBucket",Rl,{omit:["layers","features"]}),Yr("PartMetadata",Dl);var jl={paint:new ss({"fill-extrusion-opacity":new es(ge["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ns(ge["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new es(ge["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new es(ge["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new is(ge["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ns(ge["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ns(ge["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new es(ge["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Nl(t,e){return t.x*e.x+t.y*e.y}function Ll(t,e){if(1===t.length){let n=0;const i=e[n++];let r;for(;!r||i.equals(r);)if(r=e[n++],!r)return 1/0;for(;n<e.length;n++){const o=e[n],s=t[0],a=r.sub(i),u=o.sub(i),l=s.sub(i),c=Nl(a,a),h=Nl(a,u),p=Nl(u,u),_=Nl(l,a),f=Nl(l,u),d=c*p-h*h,m=(p*_-h*f)/d,y=(c*f-h*_)/d,v=i.z*(1-m-y)+r.z*m+o.z*y;if(isFinite(v))return v}return 1/0}{let t=1/0;for(const n of e)t=Math.min(t,n.z);return t}}function ql(t){const e=new r(t[0],t[1]);return e.z=t[2],e}function Bl(t,e,n,i,r,o,s,a){const u=s*r.getElevationAt(t,e,!0,!0),l=0!==o[0],c=l?0===o[1]?s*(o[0]/7-450):s*function(t,e,n){const i=Math.floor(e[0]/8),r=Math.floor(e[1]/8),o=10*(e[0]-8*i),s=10*(e[1]-8*r),a=t.getElevationAt(i,r,!0,!0),u=t.getMeterToDEM(n),l=Math.floor(.5*(o*u-1)),c=Math.floor(.5*(s*u-1)),h=t.tileCoordToPixel(i,r),p=2*l+1,_=2*c+1,f=function(t,e,n,i,r){return[t.getElevationAtPixel(e,n,!0),t.getElevationAtPixel(e+r,n,!0),t.getElevationAtPixel(e,n+r,!0),t.getElevationAtPixel(e+i,n+r,!0)]}(t,h.x-l,h.y-c,p,_),d=Math.abs(f[0]-f[1]),m=Math.abs(f[2]-f[3]),y=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),v=Math.min(.25,.5*u*(d+m)/p),g=Math.min(.25,.5*u*y/_);return a+Math.max(v*o,g*s)}(r,o,a):u;return{base:u+(0===n)?-1:n,top:l?Math.max(c+i,u+n+2):u+i}}const Fl=hs([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Ul}=Fl,Hl=hs([{name:"a_packed",components:3,type:"Float32"}]),{members:Vl}=Hl,Yl=Il.VectorTileFeature.types,Wl=Math.cos(Math.PI/180*37.5);class Gl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={}})),this.layoutVertexArray=new ds,this.layoutVertexArray2=new ms,this.indexArray=new Es,this.programConfigurations=new va(t.layers,t.zoom),this.segments=new Sa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n,i){this.hasPattern=fl("line",this.layers,e);const r=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:e,id:s,index:a,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Za(e,t);if(!this.layers[0]._featureFilter.filter(new Yo(this.zoom),l,n))continue;const c=r?r.evaluate(l,{},n):void 0,h={id:s,properties:e.properties,type:e.type,sourceLayerIndex:u,index:a,geometry:t?l.geometry:Ga(e,n,i),patterns:{},sortKey:c};o.push(h)}r&&o.sort(((t,e)=>t.sortKey-e.sortKey));const{lineAtlas:s,featureIndex:a}=e,u=this.addConstantDashes(s);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:l}=i;if(u&&this.addFeatureDashes(i,s),this.hasPattern){const t=dl("line",this.layers,i,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(i,r,o,n,s.positions,e.availableImages);a.insert(t[o].feature,r,o,l,this.index)}}addConstantDashes(t){let e=!1;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,r=n.layout.get("line-cap").value;if("constant"!==i.kind||"constant"!==r.kind)e=!0;else{const e=r.value,n=i.value;if(!n)continue;t.addDash(n.from,e),t.addDash(n.to,e),n.other&&t.addDash(n.other,e)}}return e}addFeatureDashes(t,e){const n=this.zoom;for(const i of this.layers){const r=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===o.kind)continue;let s,a,u,l,c,h;if("constant"===r.kind){const t=r.value;if(!t)continue;s=t.other||t.to,a=t.to,u=t.from}else s=r.evaluate({zoom:n-1},t),a=r.evaluate({zoom:n},t),u=r.evaluate({zoom:n+1},t);"constant"===o.kind?l=c=h=o.value:(l=o.evaluate({zoom:n-1},t),c=o.evaluate({zoom:n},t),h=o.evaluate({zoom:n+1},t)),e.addDash(s,l),e.addDash(a,c),e.addDash(u,h);const p=e.getKey(s,l),_=e.getKey(a,c),f=e.getKey(u,h);t.patterns[i.id]={min:p,mid:_,max:f}}}update(t,e,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n,i)}addFeatures(t,e,n,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Vl)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ul),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,n,i,r,o){const s=this.layers[0].layout,a=s.get("line-join").evaluate(t,{}),u=s.get("line-cap").evaluate(t,{}),l=s.get("line-miter-limit"),c=s.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const n of e)this.addLine(n,t,a,u,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,o,i)}addLine(t,e,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const s="Polygon"===Yl[e.type];let a=t.length;for(;a>=2&&t[a-1].equals(t[a-2]);)a--;let u=0;for(;u<a-1&&t[u].equals(t[u+1]);)u++;if(a<(s?3:2))return;"bevel"===n&&(r=1.05);const l=this.overscaling<=16?122880/(512*this.overscaling):0,c=this.segments.prepareSegment(10*a,this.layoutVertexArray,this.indexArray);let h,p,_,f,d;this.e1=this.e2=-1,s&&(h=t[a-2],d=t[u].sub(h)._unit()._perp());for(let e=u;e<a;e++){if(_=e===a-1?s?t[u+1]:void 0:t[e+1],_&&t[e].equals(_))continue;d&&(f=d),h&&(p=h),h=t[e],d=_?_.sub(h)._unit()._perp():f,f=f||d;let m=f.add(d);0===m.x&&0===m.y||m._unit();const y=f.x*d.x+f.y*d.y,v=m.x*d.x+m.y*d.y,g=0!==v?1/v:1/0,w=2*Math.sqrt(2-2*v),b=v<Wl&&p&&_,x=f.x*d.y-f.y*d.x>0;if(b&&e>u){const t=h.dist(p);if(t>2*l){const e=h.sub(h.sub(p)._mult(l/t)._round());this.updateDistance(p,e),this.addCurrentVertex(e,f,0,0,c),p=e}}const $=p&&_;let C=$?n:s?"butt":i;if($&&"round"===C&&(g<o?C="miter":g<=2&&(C="fakeround")),"miter"===C&&g>r&&(C="bevel"),"bevel"===C&&(g>2&&(C="flipbevel"),g<r&&(C="miter")),p&&this.updateDistance(p,h),"miter"===C)m._mult(g),this.addCurrentVertex(h,m,0,0,c);else if("flipbevel"===C){if(g>100)m=d.mult(-1);else{const t=g*f.add(d).mag()/f.sub(d).mag();m._perp()._mult(t*(x?-1:1))}this.addCurrentVertex(h,m,0,0,c),this.addCurrentVertex(h,m.mult(-1),0,0,c)}else if("bevel"===C||"fakeround"===C){const t=-Math.sqrt(g*g-1),e=x?t:0,n=x?0:t;if(p&&this.addCurrentVertex(h,f,e,n,c),"fakeround"===C){const t=Math.round(180*w/Math.PI/20);for(let e=1;e<t;e++){let n=e/t;if(.5!==n){const t=n-.5;n+=n*t*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*t*t+(.848013+y*(.215638*y-1.06021)))}const i=d.sub(f)._mult(n)._add(f)._unit()._mult(x?-1:1);this.addHalfVertex(h,i.x,i.y,!1,x,0,c)}}_&&this.addCurrentVertex(h,d,-e,-n,c)}else if("butt"===C)this.addCurrentVertex(h,m,0,0,c);else if("square"===C){const t=p?1:-1;p||this.addCurrentVertex(h,m,t,t,c),this.addCurrentVertex(h,m,0,0,c),p&&this.addCurrentVertex(h,m,t,t,c)}else"round"===C&&(p&&(this.addCurrentVertex(h,f,0,0,c),this.addCurrentVertex(h,f,1,1,c,!0)),_&&(this.addCurrentVertex(h,d,-1,-1,c,!0),this.addCurrentVertex(h,d,0,0,c)));if(b&&e<a-1){const t=h.dist(_);if(t>2*l){const e=h.add(_.sub(h)._mult(l/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,d,0,0,c),h=e}}}}addCurrentVertex(t,e,n,i,r,o=!1){const s=e.y*i-e.x,a=-e.y-e.x*i;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,r),this.addHalfVertex(t,s,a,o,!0,-i,r)}addHalfVertex({x:t,y:e},n,i,r,o,s,a){this.layoutVertexArray.emplaceBack((t<<1)+(r?1:0),(e<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*i)+128,1+(0===s?0:s<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);const u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),o?this.e2=u:this.e1=u}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance()}}Yr("LineBucket",Gl,{omit:["layers","patternFeatures"]});const Zl=new ss({"line-cap":new ns(ge.layout_line["line-cap"]),"line-join":new ns(ge.layout_line["line-join"]),"line-miter-limit":new es(ge.layout_line["line-miter-limit"]),"line-round-limit":new es(ge.layout_line["line-round-limit"]),"line-sort-key":new ns(ge.layout_line["line-sort-key"])});var Kl={paint:new ss({"line-opacity":new ns(ge.paint_line["line-opacity"]),"line-color":new ns(ge.paint_line["line-color"]),"line-translate":new es(ge.paint_line["line-translate"]),"line-translate-anchor":new es(ge.paint_line["line-translate-anchor"]),"line-width":new ns(ge.paint_line["line-width"]),"line-gap-width":new ns(ge.paint_line["line-gap-width"]),"line-offset":new ns(ge.paint_line["line-offset"]),"line-blur":new ns(ge.paint_line["line-blur"]),"line-dasharray":new is(ge.paint_line["line-dasharray"]),"line-pattern":new is(ge.paint_line["line-pattern"]),"line-gradient":new os(ge.paint_line["line-gradient"])}),layout:Zl};const Xl=new class extends ns{possiblyEvaluate(t,e){return e=new Yo(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,n,i){return e=tt({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,n,i)}}(Kl.paint.properties["line-width"].specification);function Jl(t,e){return e>0?e+2*t:t}Xl.useIntegerZoom=!0;const Ql=hs([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),tc=hs([{name:"a_projected_pos",components:3,type:"Float32"}],4);hs([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const ec=hs([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),nc=hs([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);hs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ic=hs([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),rc=hs([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);hs([{name:"triangle",components:3,type:"Uint16"}]),hs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),hs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),hs([{type:"Float32",name:"offsetX"}]),hs([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var oc=24;const sc=128;function ac(t,e){const{expression:n}=e;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Yo(t+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:e,interpolationType:i}=n;let r=0;for(;r<e.length&&e[r]<=t;)r++;r=Math.max(0,r-1);let o=r;for(;o<e.length&&e[o]<t+1;)o++;o=Math.min(e.length-1,o);const s=e[r],a=e[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:a,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:a,minSize:n.evaluate(new Yo(s)),maxSize:n.evaluate(new Yo(a)),interpolationType:i}}}function uc(t,{uSize:e,uSizeT:n},{lowerSize:i,upperSize:r}){return"source"===t.kind?i/sc:"composite"===t.kind?Nn(i/sc,r/sc,n):e}function lc(t,e){let n=0,i=0;if("constant"===t.kind)i=t.layoutSize;else if("source"!==t.kind){const{interpolationType:r,minZoom:o,maxZoom:s}=t,a=r?Z(ii.interpolationFactor(r,e,o,s),0,1):0;"camera"===t.kind?i=Nn(t.minSize,t.maxSize,a):n=a}return{uSizeT:n,uSize:i}}var cc=Object.freeze({__proto__:null,getSizeData:ac,evaluateSizeForFeature:uc,evaluateSizeForZoom:lc,SIZE_PACK_FACTOR:sc});function hc(t,e,n){return t.sections.forEach((t=>{t.text=function(t,e,n){const i=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),Vo.applyArabicShaping&&(t=Vo.applyArabicShaping(t)),t}(t.text,e,n)})),t}const pc={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function _c(t){return"︶"===t||"﹈"===t||"︸"===t||"﹄"===t||"﹂"===t||"︾"===t||"︼"===t||"︺"===t||"︘"===t||"﹀"===t||"︐"===t||"︓"===t||"︔"===t||"｀"===t||"￣"===t||"︑"===t||"︒"===t}function fc(t){return"︵"===t||"﹇"===t||"︷"===t||"﹃"===t||"﹁"===t||"︽"===t||"︻"===t||"︹"===t||"︗"===t||"︿"===t}var dc=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,p=n?-1:1,_=t[e+h];for(h+=p,o=_&(1<<-c)-1,_>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(_?-1:1);s+=Math.pow(2,i),o-=l}return(_?-1:1)*s*Math.pow(2,o-i)},mc=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:o-1,f=i?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+_]=255&a,_+=f,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+_]=255&s,_+=f,s/=256,l-=8);t[n+_-f]|=128*d},yc=vc;function vc(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}vc.Varint=0,vc.Fixed64=1,vc.Bytes=2,vc.Fixed32=5;var gc=4294967296,wc=1/gc,bc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function xc(t){return t.type===vc.Bytes?t.readVarint()+t.pos:t.pos+1}function $c(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Cc(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function Ec(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Ac(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function kc(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Sc(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Tc(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Ic(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Oc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function zc(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function Mc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Dc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Rc(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Pc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function jc(t,e,n){e.glyphs=[],1===t&&n.readMessage(Nc,e)}function Nc(t,e,n){if(3===t){const{id:t,bitmap:i,width:r,height:o,left:s,top:a,advance:u}=n.readMessage(Lc,{});e.glyphs.push({id:t,bitmap:new ku({width:r+6,height:o+6},i),metrics:{width:r,height:o,left:s,top:a,advance:u}})}else 4===t?e.ascender=n.readSVarint():5===t&&(e.descender=n.readSVarint())}function Lc(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function qc(t){let e=0,n=0;for(const i of t)e+=i.w*i.h,n=Math.max(n,i.w);t.sort(((t,e)=>e.h-t.h));const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}];let r=0,o=0;for(const e of t)for(let t=i.length-1;t>=0;t--){const n=i[t];if(!(e.w>n.w||e.h>n.h)){if(e.x=n.x,e.y=n.y,o=Math.max(o,e.y+e.h),r=Math.max(r,e.x+e.w),e.w===n.w&&e.h===n.h){const e=i.pop();t<i.length&&(i[t]=e)}else e.h===n.h?(n.x+=e.w,n.w-=e.w):e.w===n.w?(n.y+=e.h,n.h-=e.h):(i.push({x:n.x+e.w,y:n.y,w:n.w-e.w,h:e.h}),n.y+=e.h,n.h-=e.h);break}}return{w:r,h:o,fill:e/(r*o)||0}}vc.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Dc(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Pc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Dc(this.buf,this.pos)+Dc(this.buf,this.pos+4)*gc;return this.pos+=8,t},readSFixed64:function(){var t=Dc(this.buf,this.pos)+Pc(this.buf,this.pos+4)*gc;return this.pos+=8,t},readFloat:function(){var t=dc(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=dc(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return $c(t,i,e);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return $c(t,i,e);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return $c(t,i,e);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return $c(t,i,e);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return $c(t,i,e);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return $c(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&bc?function(t,e,n){return bc.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",r=e;r<n;){var o,s,a,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(s=t[r+2],128==(192&(o=t[r+1]))&&128==(192&s)&&((l=(15&u)<<12|(63&o)<<6|63&s)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(s=t[r+2],a=t[r+3],128==(192&(o=t[r+1]))&&128==(192&s)&&128==(192&a)&&((l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=c}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==vc.Bytes)return t.push(this.readVarint(e));var n=xc(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==vc.Bytes)return t.push(this.readSVarint());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==vc.Bytes)return t.push(this.readBoolean());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==vc.Bytes)return t.push(this.readFloat());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==vc.Bytes)return t.push(this.readDouble());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==vc.Bytes)return t.push(this.readFixed32());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==vc.Bytes)return t.push(this.readSFixed32());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==vc.Bytes)return t.push(this.readFixed64());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==vc.Bytes)return t.push(this.readSFixed64());var e=xc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===vc.Varint)for(;this.buf[this.pos++]>127;);else if(e===vc.Bytes)this.pos=this.readVarint()+this.pos;else if(e===vc.Fixed32)this.pos+=4;else{if(e!==vc.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Rc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Rc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Rc(this.buf,-1&t,this.pos),Rc(this.buf,Math.floor(t*wc),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Rc(this.buf,-1&t,this.pos),Rc(this.buf,Math.floor(t*wc),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&Cc(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),mc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),mc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&Cc(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,vc.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Ec,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Ac,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Tc,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,kc,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Sc,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Ic,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Oc,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,zc,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Mc,e)},writeBytesField:function(t,e){this.writeTag(t,vc.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,vc.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,vc.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,vc.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,vc.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,vc.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,vc.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,vc.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,vc.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,vc.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};class Bc{constructor(t,{pixelRatio:e,version:n,stretchX:i,stretchY:r,content:o}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=i,this.stretchY=r,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Fc{constructor(t,e){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(t,n,r),this.addImages(e,i,r);const{w:o,h:s}=qc(r),a=new Su({width:o||1,height:s||1});for(const e in t){const i=t[e],r=n[e].paddedRect;Su.copy(i.data,a,{x:0,y:0},{x:r.x+1,y:r.y+1},i.data)}for(const t in e){const n=e[t],r=i[t].paddedRect,o=r.x+1,s=r.y+1,u=n.data.width,l=n.data.height;Su.copy(n.data,a,{x:0,y:0},{x:o,y:s},n.data),Su.copy(n.data,a,{x:0,y:l-1},{x:o,y:s-1},{width:u,height:1}),Su.copy(n.data,a,{x:0,y:0},{x:o,y:s+l},{width:u,height:1}),Su.copy(n.data,a,{x:u-1,y:0},{x:o-1,y:s},{width:1,height:l}),Su.copy(n.data,a,{x:0,y:0},{x:o+u,y:s},{width:1,height:l})}this.image=a,this.iconPositions=n,this.patternPositions=i}addImages(t,e,n){for(const i in t){const r=t[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),e[i]=new Bc(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(t,e){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)}patchUpdatedImage(t,e,n){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[i,r]=t.tl;n.update(e.data,void 0,{x:i,y:r})}}Yr("ImagePosition",Bc),Yr("ImageAtlas",Fc);const Uc={horizontal:1,vertical:2,horizontalOnly:3};class Hc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,e){const n=new Hc;return n.scale=t||1,n.fontStack=e,n}static forImage(t){const e=new Hc;return e.imageName=t,e}}class Vc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,e){const n=new Vc;for(let i=0;i<t.sections.length;i++){const r=t.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,e)}return n}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(t,e){let n="";for(let i=0;i<t.length;i++){const r=t.charCodeAt(i+1)||null,o=t.charCodeAt(i-1)||null;n+=!e&&(r&&Io(r)&&!pc[t[i+1]]||o&&Io(o)&&!pc[t[i-1]])||!pc[t[i]]?t[i]:pc[t[i]]}return n}(this.text,t)}trim(){let t=0;for(let e=0;e<this.text.length&&Wc[this.text.charCodeAt(e)];e++)t++;let e=this.text.length;for(let n=this.text.length-1;n>=0&&n>=t&&Wc[this.text.charCodeAt(n)];n--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e)}substring(t,e){const n=new Vc;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(Hc.forText(t.scale,t.fontStack||e));const n=this.sections.length-1;for(let e=0;e<t.text.length;++e)this.sectionIndex.push(n)}addImageSection(t){const e=t.image?t.image.name:"";if(0===e.length)return void pt("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Hc.forImage(e)),this.sectionIndex.push(this.sections.length-1)):pt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Yc(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d){const m=Vc.fromFeature(t,r);let y;h===Uc.vertical&&m.verticalizePunctuation(p);const{processBidirectionalText:v,processStyledBidirectionalText:g}=Vo;if(v&&1===m.sections.length){y=[];const t=v(m.toString(),th(m,l,o,e,i,_,f));for(const e of t){const t=new Vc;t.text=e,t.sections=m.sections;for(let n=0;n<e.length;n++)t.sectionIndex.push(0);y.push(t)}}else if(g){y=[];const t=g(m.text,m.sectionIndex,th(m,l,o,e,i,_,f));for(const e of t){const t=new Vc;t.text=e[0],t.sectionIndex=e[1],t.sections=m.sections,y.push(t)}}else y=function(t,e){const n=[],i=t.text;let r=0;for(const i of e)n.push(t.substring(r,i)),r=i;return r<i.length&&n.push(t.substring(r,i.length)),n}(m,th(m,l,o,e,i,_,f));const w=[],b={positionedLines:w,text:m.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(t,e,n,i,r,o,s,a,u,l,c,h){let p=0,_=0,f=0;const d="right"===a?1:"left"===a?0:.5;let m=!1;for(const t of r){const n=t.getSections();for(const t of n){if(t.imageName)continue;const n=e[t.fontStack];if(n&&(m=void 0!==n.ascender&&void 0!==n.descender,!m))break}if(!m)break}let y=0;for(const s of r){s.trim();const r=s.getMaxScale(),a=(r-1)*oc,g={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=g;const w=g.positionedGlyphs;let b=0;if(!s.length()){_+=o,++y;continue}let x=0,$=0;for(let o=0;o<s.length();o++){const a=s.getSection(o),f=s.getSectionIndex(o),d=s.getCharCode(o);let y=a.scale,g=null,C=null,E=null,A=oc,k=0;const S=!(u===Uc.horizontal||!c&&!To(d)||c&&(Wc[d]||(v=d,Jr(v)||Qr(v)||to(v)||wo(v)||Co(v))));if(a.imageName){const e=i[a.imageName];if(!e)continue;E=a.imageName,t.iconsInText=t.iconsInText||!0,C=e.paddedRect;const n=e.displaySize;y=y*oc/h,g={width:n[0],height:n[1],left:1,top:-3,advance:S?n[1]:n[0],localGlyph:!1},k=m?-g.height*y:r*oc-17-n[1]*y,A=g.advance;const o=(S?n[0]:n[1])*y-oc*r;o>0&&o>b&&(b=o)}else{const t=n[a.fontStack];if(!t)continue;t[d]&&(C=t[d]);const i=e[a.fontStack];if(!i)continue;const o=i.glyphs[d];if(!o)continue;if(g=o.metrics,A=8203!==d?oc:0,m){const t=void 0!==i.ascender?Math.abs(i.ascender):0,e=void 0!==i.descender?Math.abs(i.descender):0,n=(t+e)*y;x<n&&(x=n,$=(t-e)/2*y),k=-t*y}else k=(r-y)*oc-17}S?(t.verticalizable=!0,w.push({glyph:d,imageName:E,x:p,y:_+k,vertical:S,scale:y,localGlyph:g.localGlyph,fontStack:a.fontStack,sectionIndex:f,metrics:g,rect:C}),p+=A*y+l):(w.push({glyph:d,imageName:E,x:p,y:_+k,vertical:S,scale:y,localGlyph:g.localGlyph,fontStack:a.fontStack,sectionIndex:f,metrics:g,rect:C}),p+=g.advance*y+l)}0!==w.length&&(f=Math.max(p-l,f),m?nh(w,d,b,$,o*r/2):nh(w,d,b,0,o/2)),p=0;const C=o*r+b;g.lineOffset=Math.max(b,a),_+=C,++y}var v;const g=_,{horizontalAlign:w,verticalAlign:b}=eh(s);(function(t,e,n,i,r,o){const s=(e-n)*r,a=-o*i;for(const e of t)for(const t of e.positionedGlyphs)t.x+=s,t.y+=a})(t.positionedLines,d,w,b,f,g),t.top+=-b*g,t.bottom=t.top+g,t.left+=-w*f,t.right=t.left+f,t.hasBaseline=m}(b,e,n,i,y,s,a,u,h,l,p,d),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return!1;return!0}(w)&&b}const Wc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Gc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Zc(t,e,n,i,r,o){if(e.imageName){const t=i[e.imageName];return t?t.displaySize[0]*e.scale*oc/o+r:0}{const i=n[e.fontStack],o=i&&i.glyphs[t];return o?o.metrics.advance*e.scale+r:0}}function Kc(t,e,n,i){const r=Math.pow(t-e,2);return i?t<e?r/2:2*r:r+Math.abs(n)*n}function Xc(t,e,n){let i=0;return 10===t&&(i-=1e4),n&&(i+=150),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function Jc(t,e,n,i,r,o){let s=null,a=Kc(e,n,r,o);for(const t of i){const i=Kc(e-t.x,n,r,o)+t.badness;i<=a&&(s=t,a=i)}return{index:t,x:e,priorBreak:s,badness:a}}function Qc(t){return t?Qc(t.priorBreak).concat(t.index):[]}function th(t,e,n,i,r,o,s){if("point"!==o)return[];if(!t)return[];const a=[],u=function(t,e,n,i,r,o){let s=0;for(let n=0;n<t.length();n++){const a=t.getSection(n);s+=Zc(t.getCharCode(n),a,i,r,e,o)}return s/Math.max(1,Math.ceil(s/n))}(t,e,n,i,r,s),l=t.text.indexOf("​")>=0;let c=0;for(let n=0;n<t.length();n++){const o=t.getSection(n),p=t.getCharCode(n);if(Wc[p]||(c+=Zc(p,o,i,r,e,s)),n<t.length()-1){const e=!((h=p)<11904||!(uo(h)||ao(h)||xo(h)||go(h)||po(h)||eo(h)||lo(h)||ro(h)||_o(h)||fo(h)||ho(h)||Eo(h)||oo(h)||io(h)||no(h)||co(h)||so(h)||bo(h)||yo(h)||mo(h)));(Gc[p]||e||o.imageName)&&a.push(Jc(n+1,c,u,a,Xc(p,t.getCharCode(n+1),e&&l),!1))}}var h;return Qc(Jc(t.length(),c,u,a,0,!0))}function eh(t){let e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function nh(t,e,n,i,r){if(!(e||n||i||r))return;const o=t.length-1,s=t[o],a=(s.x+s.metrics.advance*s.scale)*e;for(let e=0;e<=o;e++)t[e].x-=a,t[e].y+=n+i+r}function ih(t,e,n){const{horizontalAlign:i,verticalAlign:r}=eh(n),o=e[0]-t.displaySize[0]*i,s=e[1]-t.displaySize[1]*r;return{image:t,top:s,bottom:s+t.displaySize[1],left:o,right:o+t.displaySize[0]}}function rh(t,e,n,i,r,o){const s=t.image;let a;if(s.content){const t=s.content,e=s.pixelRatio||1;a=[t[0]/e,t[1]/e,s.displaySize[0]-t[2]/e,s.displaySize[1]-t[3]/e]}const u=e.left*o,l=e.right*o;let c,h,p,_;"width"===n||"both"===n?(_=r[0]+u-i[3],h=r[0]+l+i[1]):(_=r[0]+(u+l-s.displaySize[0])/2,h=_+s.displaySize[0]);const f=e.top*o,d=e.bottom*o;return"height"===n||"both"===n?(c=r[1]+f-i[0],p=r[1]+d+i[2]):(c=r[1]+(f+d-s.displaySize[1])/2,p=c+s.displaySize[1]),{image:s,top:c,right:h,bottom:p,left:_,collisionPadding:a}}class oh extends r{constructor(t,e,n,i,r){super(t,e),this.angle=i,this.z=n,void 0!==r&&(this.segment=r)}clone(){return new oh(this.x,this.y,this.z,this.angle,this.segment)}}function sh(t,e,n,i,r){if(void 0===e.segment)return!0;let o=e,s=e.segment+1,a=0;for(;a>-n/2;){if(s--,s<0)return!1;a-=t[s].dist(o),o=t[s]}a+=t[s].dist(t[s+1]),s++;const u=[];let l=0;for(;a<n/2;){const e=t[s],n=t[s+1];if(!n)return!1;let o=t[s-1].angleTo(e)-e.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:a,angleDelta:o}),l+=o;a-u[0].distance>i;)l-=u.shift().angleDelta;if(l>r)return!1;s++,a+=e.dist(n)}return!0}function ah(t){let e=0;for(let n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function uh(t,e,n){return t?.6*e*n:0}function lh(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function ch(t,e,n,i,r,o){const s=uh(n,r,o),a=lh(n,i)*o;let u=0;const l=ah(t)/2;for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1],o=i.dist(r);if(u+o>l){const c=(l-u)/o,h=Nn(i.x,r.x,c),p=Nn(i.y,r.y,c),_=new oh(h,p,0,r.angleTo(i),n);return!s||sh(t,_,a,s,e)?_:void 0}u+=o}}function hh(t,e,n,i,r,o,s,a,u){const l=uh(i,o,s),c=lh(i,r),h=c*s,p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-h<e/4&&(e=h+e/4),ph(t,p?e/2*a%e:(c/2+2*o)*s*a%e,e,l,n,h,p,!1,u)}function ph(t,e,n,i,r,o,s,a,u){const l=o/2,c=ah(t);let h=0,p=e-n,_=[];for(let e=0;e<t.length-1;e++){const s=t[e],a=t[e+1],f=s.dist(a),d=a.angleTo(s);for(;p+n<h+f;){p+=n;const m=(p-h)/f,y=Nn(s.x,a.x,m),v=Nn(s.y,a.y,m);if(y>=0&&y<u&&v>=0&&v<u&&p-l>=0&&p+l<=c){const n=new oh(y,v,0,d,e);n._round(),i&&!sh(t,n,o,i,r)||_.push(n)}}h+=f}return a||_.length||s||(_=ph(t,h/2,n,i,r,o,s,!0,u)),_}function _h(t,e,n,i,o){const s=[];for(let a=0;a<t.length;a++){const u=t[a];let l;for(let t=0;t<u.length-1;t++){let a=u[t],c=u[t+1];a.x<e&&c.x<e||(a.x<e?a=new r(e,a.y+(e-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<e&&(c=new r(e,a.y+(e-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new r(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new r(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=i&&c.x>=i||(a.x>=i?a=new r(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=i&&(c=new r(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=o&&c.y>=o||(a.y>=o?a=new r(a.x+(o-a.y)/(c.y-a.y)*(c.x-a.x),o)._round():c.y>=o&&(c=new r(a.x+(o-a.y)/(c.y-a.y)*(c.x-a.x),o)._round()),l&&a.equals(l[l.length-1])||(l=[a],s.push(l)),l.push(c)))))}}return s}Yr("Anchor",oh);const fh=1e20;function dh(t,e,n,i,r,o,s,a,u){for(let l=e;l<e+i;l++)mh(t,n*o+l,o,r,s,a,u);for(let l=n;l<n+r;l++)mh(t,l*o+e,1,i,s,a,u)}function mh(t,e,n,i,r,o,s){o[0]=0,s[0]=-fh,s[1]=fh,r[0]=t[e];for(let a=1,u=0,l=0;a<i;a++){r[a]=t[e+a*n];const i=a*a;do{const t=o[u];l=(r[a]-r[t]+i-t*t)/(a-t)/2}while(l<=s[u]&&--u>-1);u++,o[u]=a,s[u]=l,s[u+1]=fh}for(let a=0,u=0;a<i;a++){for(;s[u+1]<a;)u++;const i=o[u],l=a-i;t[e+a*n]=r[i]+l*l}}const yh={none:0,ideographs:1,all:2};class vh{constructor(t,e,n){this.requestManager=t,this.localGlyphMode=e,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,e){const n=[];for(const e in t)for(const i of t[e])n.push({stack:e,id:i});J(n,(({stack:t,id:e},n)=>{let i=this.entries[t];i||(i=this.entries[t]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let r=i.glyphs[e];if(void 0!==r)return void n(null,{stack:t,id:e,glyph:r});if(r=this._tinySDF(i,t,e),r)return i.glyphs[e]=r,void n(null,{stack:t,id:e,glyph:r});const o=Math.floor(e/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(i.ranges[o])return void n(null,{stack:t,id:e,glyph:r});let s=i.requests[o];s||(s=i.requests[o]=[],vh.loadGlyphRange(t,o,this.url,this.requestManager,((t,e)=>{if(e){i.ascender=e.ascender,i.descender=e.descender;for(const t in e.glyphs)this._doesCharSupportLocalGlyph(+t)||(i.glyphs[+t]=e.glyphs[+t]);i.ranges[o]=!0}for(const n of s)n(t,e);delete i.requests[o]}))),s.push(((i,r)=>{i?n(i):r&&n(null,{stack:t,id:e,glyph:r.glyphs[e]||null})}))}),((t,n)=>{if(t)e(t);else if(n){const t={};for(const{stack:e,id:i,glyph:r}of n)void 0===t[e]&&(t[e]={}),void 0===t[e].glyphs&&(t[e].glyphs={}),t[e].glyphs[i]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},t[e].ascender=this.entries[e].ascender,t[e].descender=this.entries[e].descender;e(null,t)}}))}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==yh.none&&(this.localGlyphMode===yh.all?!!this.localFontFamily:!!this.localFontFamily&&(fo(t)||vo(t)||oo(t)||so(t))||ro(t))}_tinySDF(t,e,n){const i=this.localFontFamily;if(!i||!this._doesCharSupportLocalGlyph(n))return;let r=t.tinySDF;if(!r){let n="400";/bold/i.test(e)?n="900":/medium/i.test(e)?n="500":/light/i.test(e)&&(n="200"),r=t.tinySDF=new vh.TinySDF({fontFamily:i,fontWeight:n,fontSize:48,buffer:6,radius:16}),r.fontWeight=n}if(this.localGlyphs[r.fontWeight][n])return this.localGlyphs[r.fontWeight][n];const o=String.fromCharCode(n),{data:s,width:a,height:u,glyphWidth:l,glyphHeight:c,glyphLeft:h,glyphTop:p,glyphAdvance:_}=r.draw(o);return this.localGlyphs[r.fontWeight][n]={id:n,bitmap:new ku({width:a,height:u},s),metrics:{width:l/2,height:c/2,left:h/2,top:p/2-27,advance:_/2,localGlyph:!0}}}}function gh(t,e,n,i){const o=[],s=t.image,a=s.pixelRatio,u=s.paddedRect.w-2,l=s.paddedRect.h-2,c=t.right-t.left,h=t.bottom-t.top,p=s.stretchX||[[0,u]],_=s.stretchY||[[0,l]],f=(t,e)=>t+e[1]-e[0],d=p.reduce(f,0),m=_.reduce(f,0),y=u-d,v=l-m;let g=0,w=d,b=0,x=m,$=0,C=y,E=0,A=v;if(s.content&&i){const t=s.content;g=wh(p,0,t[0]),b=wh(_,0,t[1]),w=wh(p,t[0],t[2]),x=wh(_,t[1],t[3]),$=t[0]-g,E=t[1]-b,C=t[2]-t[0]-w,A=t[3]-t[1]-x}const k=(i,o,u,l)=>{const p=xh(i.stretch-g,w,c,t.left),_=$h(i.fixed-$,C,i.stretch,d),f=xh(o.stretch-b,x,h,t.top),y=$h(o.fixed-E,A,o.stretch,m),v=xh(u.stretch-g,w,c,t.left),k=$h(u.fixed-$,C,u.stretch,d),S=xh(l.stretch-b,x,h,t.top),T=$h(l.fixed-E,A,l.stretch,m),I=new r(p,f),O=new r(v,f),z=new r(v,S),M=new r(p,S),D=new r(_/a,y/a),R=new r(k/a,T/a),P=e*Math.PI/180;if(P){const t=Math.sin(P),e=Math.cos(P),n=[e,-t,t,e];I._matMult(n),O._matMult(n),M._matMult(n),z._matMult(n)}const j=i.stretch+i.fixed,N=o.stretch+o.fixed;return{tl:I,tr:O,bl:M,br:z,tex:{x:s.paddedRect.x+1+j,y:s.paddedRect.y+1+N,w:u.stretch+u.fixed-j,h:l.stretch+l.fixed-N},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:D,pixelOffsetBR:R,minFontScaleX:C/a/c,minFontScaleY:A/a/h,isSDF:n}};if(i&&(s.stretchX||s.stretchY)){const t=bh(p,y,d),e=bh(_,v,m);for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];for(let t=0;t<e.length-1;t++)o.push(k(i,e[t],r,e[t+1]))}}else o.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return o}function wh(t,e,n){let i=0;for(const r of t)i+=Math.max(e,Math.min(n,r[1]))-Math.max(e,Math.min(n,r[0]));return i}function bh(t,e,n){const i=[{fixed:-1,stretch:0}];for(const[e,n]of t){const t=i[i.length-1];i.push({fixed:e-t.stretch,stretch:t.stretch}),i.push({fixed:e-t.stretch,stretch:t.stretch+(n-e)})}return i.push({fixed:e+1,stretch:n}),i}function xh(t,e,n,i){return t/e*n+i}function $h(t,e,n,i){return t-e*n/i}function Ch(t,e,n,i){const r=e+t.positionedLines[i].lineOffset;return 0===i?n+r/2:n+(r+(e+t.positionedLines[i-1].lineOffset))/2}vh.loadGlyphRange=function(t,e,n,i,r){const o=256*e,s=o+255,a=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",`${o}-${s}`),ne.Glyphs);se(a,((t,e)=>{if(t)r(t);else if(e){const t={},n=function(t){return new yc(t).readFields(jc,{})}(e);for(const e of n.glyphs)t[e.id]=e;r(null,{glyphs:t,ascender:n.ascender,descender:n.descender})}}))},vh.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:o="normal",fontStyle:s="normal"}){this.buffer=e,this.cutoff=i,this.radius=n;const a=this.size=t+4*e,u=this._createCanvas(a),l=this.ctx=u.getContext("2d",{willReadFrequently:!0});l.font=`${s} ${o} ${t}px ${r}`,l.textBaseline="alphabetic",l.textAlign="left",l.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:o}=this.ctx.measureText(t),s=Math.floor(n),a=Math.min(this.size-this.buffer,Math.ceil(o-r)),u=Math.min(this.size-this.buffer,Math.ceil(n)+Math.ceil(i)),l=a+2*this.buffer,c=u+2*this.buffer,h=l*c,p=new Uint8ClampedArray(h),_={data:p,width:l,height:c,glyphWidth:a,glyphHeight:u,glyphTop:s,glyphLeft:0,glyphAdvance:e};if(0===a||0===u)return _;const{ctx:f,buffer:d,gridInner:m,gridOuter:y}=this;f.clearRect(d,d,a,u),f.fillText(t,d,d+s+1);const v=f.getImageData(d,d,a,u);y.fill(fh,0,h),m.fill(0,0,h);for(let t=0;t<u;t++)for(let e=0;e<a;e++){const n=v.data[4*(t*a+e)+3]/255;if(0===n)continue;const i=(t+d)*l+e+d;if(1===n)y[i]=0,m[i]=fh;else{const t=.5-n;y[i]=t>0?t*t:0,m[i]=t<0?t*t:0}}dh(y,0,0,l,c,l,this.f,this.v,this.z),dh(m,d,d,a,u,l,this.f,this.v,this.z);for(let t=0;t<h;t++){const e=Math.sqrt(y[t])-Math.sqrt(m[t]);p[t]=Math.round(255-255*(e/this.radius+this.cutoff))}return _}};class Eh{constructor(t=[],e=Ah){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,i=e[t];for(;t>0;){const r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i}_down(t){const{data:e,compare:n}=this,i=this.length>>1,r=e[t];for(;t<i;){let i=1+(t<<1),o=e[i];const s=i+1;if(s<this.length&&n(e[s],o)<0&&(i=s,o=e[s]),n(o,r)>=0)break;e[t]=o,t=i}e[t]=r}}function Ah(t,e){return t<e?-1:t>e?1:0}function kh(t,e=1,n=!1){let i=1/0,o=1/0,s=-1/0,a=-1/0;const u=t[0];for(let t=0;t<u.length;t++){const e=u[t];(!t||e.x<i)&&(i=e.x),(!t||e.y<o)&&(o=e.y),(!t||e.x>s)&&(s=e.x),(!t||e.y>a)&&(a=e.y)}const l=Math.min(s-i,a-o);let c=l/2;const h=new Eh([],Sh);if(0===l)return new r(i,o);for(let e=i;e<s;e+=l)for(let n=o;n<a;n+=l)h.push(new Th(e+c,n+c,c,t));let p=function(t){let e=0,n=0,i=0;const r=t[0];for(let t=0,o=r.length,s=o-1;t<o;s=t++){const o=r[t],a=r[s],u=o.x*a.y-a.x*o.y;n+=(o.x+a.x)*u,i+=(o.y+a.y)*u,e+=3*u}return new Th(n/e,i/e,0,t)}(t),_=h.length;for(;h.length;){const i=h.pop();(i.d>p.d||!p.d)&&(p=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,_)),i.max-p.d<=e||(c=i.h/2,h.push(new Th(i.p.x-c,i.p.y-c,c,t)),h.push(new Th(i.p.x+c,i.p.y-c,c,t)),h.push(new Th(i.p.x-c,i.p.y+c,c,t)),h.push(new Th(i.p.x+c,i.p.y+c,c,t)),_+=4)}return n&&(console.log(`num probes: ${_}`),console.log(`best distance: ${p.d}`)),p.p}function Sh(t,e){return e.max-t.max}function Th(t,e,n,i){this.p=new r(t,e),this.h=n,this.d=function(t,e){let n=!1,i=1/0;for(let r=0;r<e.length;r++){const o=e[r];for(let e=0,r=o.length,s=r-1;e<r;s=e++){const r=o[e],a=o[s];r.y>t.y!=a.y>t.y&&t.x<(a.x-r.x)*(t.y-r.y)/(a.y-r.y)+r.x&&(n=!n),i=Math.min(i,ou(t,r,a))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}const Ih=Number.POSITIVE_INFINITY,Oh=Math.sqrt(2);function zh(t,e){return e[1]!==Ih?function(t,e,n){let i=0,r=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(t){case"top-right":case"bottom-right":case"right":i=-e;break;case"top-left":case"bottom-left":case"left":i=e}return[i,r]}(t,e[0],e[1]):function(t,e){let n=0,i=0;e<0&&(e=0);const r=e/Oh;switch(t){case"top-right":case"top-left":i=r-7;break;case"bottom-right":case"bottom-left":i=7-r;break;case"bottom":i=7-e;break;case"top":i=e-7}switch(t){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=e;break;case"right":n=-e}return[n,i]}(t,e[0])}function Mh(t,e,n,i,r,o,s,a,u,l){t.createArrays(),t.tilePixelRatio=Ta/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const c=t.layers[0].layout,h=t.layers[0]._unevaluatedLayout._values,p={};if("composite"===t.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.textSizeData;p.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Yo(e),a),h["text-size"].possiblyEvaluate(new Yo(n),a)]}if("composite"===t.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.iconSizeData;p.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Yo(e),a),h["icon-size"].possiblyEvaluate(new Yo(n),a)]}p.layoutTextSize=h["text-size"].possiblyEvaluate(new Yo(u+1),a),p.layoutIconSize=h["icon-size"].possiblyEvaluate(new Yo(u+1),a),p.textMaxSize=h["text-size"].possiblyEvaluate(new Yo(18),a);const _="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),f=c.get("text-size");for(const o of t.features){const u=c.get("text-font").evaluate(o,{},a).join(","),h=f.evaluate(o,{},a),d=p.layoutTextSize.evaluate(o,{},a),m=(p.layoutIconSize.evaluate(o,{},a),{horizontal:{},vertical:void 0}),y=o.text;let v,g=[0,0];if(y){const i=y.toString(),s=c.get("text-letter-spacing").evaluate(o,{},a)*oc,l=c.get("text-line-height").evaluate(o,{},a)*oc,p=ko(i)?s:0,f=c.get("text-anchor").evaluate(o,{},a),v=c.get("text-variable-anchor");if(!v){const t=c.get("text-radial-offset").evaluate(o,{},a);g=t?zh(f,[t*oc,Ih]):c.get("text-offset").evaluate(o,{},a).map((t=>t*oc))}let w=_?"center":c.get("text-justify").evaluate(o,{},a);const b=c.get("symbol-placement"),x="point"===b,$="point"===b?c.get("text-max-width").evaluate(o,{},a)*oc:0,C=o=>{t.allowVerticalPlacement&&Ao(i)&&(m.vertical=Yc(y,e,n,r,u,$,l,f,o,p,g,Uc.vertical,!0,b,d,h))};if(!_&&v){const t="auto"===w?v.map((t=>Dh(t))):[w];let i=!1;for(let o=0;o<t.length;o++){const s=t[o];if(!m.horizontal[s])if(i)m.horizontal[s]=m.horizontal[0];else{const t=Yc(y,e,n,r,u,$,l,"center",s,p,g,Uc.horizontal,!1,b,d,h);t&&(m.horizontal[s]=t,i=1===t.positionedLines.length)}}C("left")}else{if("auto"===w&&(w=Dh(f)),x||c.get("text-writing-mode").indexOf("horizontal")>=0||!Ao(i)){const t=Yc(y,e,n,r,u,$,l,f,w,p,g,Uc.horizontal,!1,b,d,h);t&&(m.horizontal[w]=t)}C("point"===b?"left":w)}}let w=!1;if(o.icon&&o.icon.name){const e=i[o.icon.name];e&&(v=ih(r[o.icon.name],c.get("icon-offset").evaluate(o,{},a),c.get("icon-anchor").evaluate(o,{},a)),w=e.sdf,void 0===t.sdfIcons?t.sdfIcons=e.sdf:t.sdfIcons!==e.sdf&&pt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.pixelRatio||0!==c.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}const b=Nh(m.horizontal)||m.vertical;t.iconsInText||(t.iconsInText=!!b&&b.iconsInText),(b||v)&&Rh(t,o,m,v,i,p,d,0,g,w,s,a,l)}o&&t.generateCollisionDebugBuffers(u,t.collisionBoxArray)}function Dh(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Rh(t,e,n,i,r,o,s,a,u,l,c,h,p){let _=o.textMaxSize.evaluate(e,{},h);void 0===_&&(_=s);const f=t.layers[0].layout,d=f.get("icon-offset").evaluate(e,{},h),m=Nh(n.horizontal)||n.vertical,y=s/24,v=t.tilePixelRatio*_/24,g=t.tilePixelRatio*f.get("symbol-spacing"),w=f.get("text-padding")*t.tilePixelRatio,b=f.get("icon-padding")*t.tilePixelRatio,x=U(f.get("text-max-angle")),$="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),E=f.get("symbol-placement"),A=g/2,k=f.get("icon-text-fit");let S;i&&"none"!==k&&(t.allowVerticalPlacement&&n.vertical&&(S=rh(i,n.vertical,k,f.get("icon-text-fit-padding"),d,y)),m&&(i=rh(i,m,k,f.get("icon-text-fit-padding"),d,y)));const T=(s,a,_)=>{if(a.x<0||a.x>=Ta||a.y<0||a.y>=Ta)return;const{x:f,y:m,z:y}=p.projectTilePoint(a.x,a.y,_),v=new oh(f,m,y,0,void 0);!function(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C){const E=t.addToLineVertexArray(e,i);let A,k,S,T,I,O,z,M=0,D=0,R=0,P=0,j=-1,N=-1;const L={};let q=Js(""),B=0,F=0;if(void 0===u._unevaluatedLayout.getValue("text-radial-offset")?[B,F]=u.layout.get("text-offset").evaluate(w,{},C).map((t=>t*oc)):(B=u.layout.get("text-radial-offset").evaluate(w,{},C)*oc,F=Ih),t.allowVerticalPlacement&&r.vertical){const t=r.vertical;if(f)O=qh(t),a&&(z=qh(a));else{const i=u.layout.get("text-rotate").evaluate(w,{},C)+90;S=Lh(l,n,e,c,h,p,t,_,i,d),a&&(T=Lh(l,n,e,c,h,p,a,y,i))}}if(o){const i=u.layout.get("icon-rotate").evaluate(w,{},C),r="none"!==u.layout.get("icon-text-fit"),s=gh(o,i,x,r),_=a?gh(a,i,x,r):void 0;k=Lh(l,n,e,c,h,p,o,y,i),M=4*s.length;const f=t.iconSizeData;let d=null;"source"===f.kind?(d=[sc*u.layout.get("icon-size").evaluate(w,{},C)],d[0]>Ph&&pt(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===f.kind&&(d=[sc*b.compositeIconSizes[0].evaluate(w,{},C),sc*b.compositeIconSizes[1].evaluate(w,{},C)],(d[0]>Ph||d[1]>Ph)&&pt(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),t.addSymbols(t.icon,s,d,g,v,w,!1,n,e,E.lineStartIndex,E.lineLength,-1,$,C),j=t.icon.placedSymbolArray.length-1,_&&(D=4*_.length,t.addSymbols(t.icon,_,d,g,v,w,Uc.vertical,n,e,E.lineStartIndex,E.lineLength,-1,$,C),N=t.icon.placedSymbolArray.length-1)}for(const i in r.horizontal){const o=r.horizontal[i];A||(q=Js(o.text),f?I=qh(o):A=Lh(l,n,e,c,h,p,o,_,u.layout.get("text-rotate").evaluate(w,{},C),d));const a=1===o.positionedLines.length;if(R+=jh(t,n,e,o,s,u,f,w,d,E,r.vertical?Uc.horizontal:Uc.horizontalOnly,a?Object.keys(r.horizontal):[i],L,j,b,$,C),a)break}r.vertical&&(P+=jh(t,n,e,r.vertical,s,u,f,w,d,E,Uc.vertical,["vertical"],L,N,b,$,C));let U=-1;const H=(t,e)=>t?Math.max(t,e):e;U=H(I,U),U=H(O,U),U=H(z,U);const V=U>-1?1:0;t.glyphOffsetArray.length>=Zh.MAX_GLYPHS&&pt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==w.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,w.sortKey),t.symbolInstances.emplaceBack(n.x,n.y,n.z,e.x,e.y,L.right>=0?L.right:-1,L.center>=0?L.center:-1,L.left>=0?L.left:-1,L.vertical>=0?L.vertical:-1,j,N,q,void 0!==A?A:t.collisionBoxArray.length,void 0!==A?A+1:t.collisionBoxArray.length,void 0!==S?S:t.collisionBoxArray.length,void 0!==S?S+1:t.collisionBoxArray.length,void 0!==k?k:t.collisionBoxArray.length,void 0!==k?k+1:t.collisionBoxArray.length,T||t.collisionBoxArray.length,T?T+1:t.collisionBoxArray.length,c,R,P,M,D,V,0,B,F,U)}(t,a,v,s,n,i,r,S,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,w,$,u,0,b,C,d,e,o,l,c,h)};if("line"===E)for(const r of _h(e.geometry,0,0,Ta,Ta)){const e=hh(r,g,x,n.vertical||m,i,24,v,t.overscaling,Ta);for(const n of e){const e=m;e&&Bh(t,e.text,A,n)||T(r,n,h)}}else if("line-center"===E){for(const t of e.geometry)if(t.length>1){const e=ch(t,x,n.vertical||m,i,24,v);e&&T(t,e,h)}}else if("Polygon"===e.type)for(const t of pl(e.geometry,0)){const e=kh(t,16);T(t[0],new oh(e.x,e.y,0,0,void 0),h)}else if("LineString"===e.type)for(const t of e.geometry)T(t,new oh(t[0].x,t[0].y,0,0,void 0),h);else if("Point"===e.type)for(const t of e.geometry)for(const e of t)T([e],new oh(e.x,e.y,0,0,void 0),h)}const Ph=32640;function jh(t,e,n,i,o,s,a,u,l,c,h,p,_,f,d,m,y){const v=function(t,e,n,i,o,s,a,u){const l=[];if(0===e.positionedLines.length)return l;const c=i.layout.get("text-rotate").evaluate(s,{})*Math.PI/180,h=function(t){const e=t[0],n=t[1],i=e*n;return i>0?[e,-n]:i<0?[-e,n]:0===e?[n,e]:[n,-e]}(n);let p=Math.abs(e.top-e.bottom);for(const t of e.positionedLines)p-=t.lineOffset;const _=e.positionedLines.length,f=p/_;let d=e.top-n[1];for(let t=0;t<_;++t){const i=e.positionedLines[t];d=Ch(e,f,d,t);for(const t of i.positionedGlyphs){if(!t.rect)continue;const i=t.rect||{};let s=4,p=!0,_=1,f=0;if(t.imageName){const e=a[t.imageName];if(!e)continue;if(e.sdf){pt("SDF images are not supported in formatted text and will be ignored.");continue}p=!1,_=e.pixelRatio,s=1/_}const m=(o||u)&&t.vertical,y=t.metrics.advance*t.scale/2,v=t.metrics,g=t.rect;if(null===g)continue;u&&e.verticalizable&&(f=t.imageName?y-t.metrics.width*t.scale/2:0);const w=o?[t.x+y,t.y]:[0,0];let b=[0,0],x=[0,0],$=!1;o||(m?(x=[t.x+y+h[0],t.y+h[1]-f],$=!0):b=[t.x+y+n[0],t.y+n[1]-f]);const C=g.w*t.scale/(_*(t.localGlyph?2:1)),E=g.h*t.scale/(_*(t.localGlyph?2:1));let A,k,S,T;if(m){const e=t.y-d,n=new r(-y,y-e),i=-Math.PI/2,o=new r(...x);A=new r(-y+b[0],b[1]),A._rotateAround(i,n)._add(o),A.x+=-e+y,A.y-=(v.left-s)*t.scale;const a=t.imageName?v.advance*t.scale:oc*t.scale,u=String.fromCharCode(t.glyph);_c(u)?A.x+=(1-s)*t.scale:fc(u)?A.x+=a-v.height*t.scale+(-s-1)*t.scale:A.x+=t.imageName||v.width+2*s===g.w&&v.height+2*s===g.h?(a-E)/2:(a-(v.height+2*s)*t.scale)/2,k=new r(A.x,A.y-C),S=new r(A.x+E,A.y),T=new r(A.x+E,A.y-C)}else{const e=(v.left-s)*t.scale-y+b[0],n=(-v.top-s)*t.scale+b[1],i=e+C,o=n+E;A=new r(e,n),k=new r(i,n),S=new r(e,o),T=new r(i,o)}if(c){let t;t=o?new r(0,0):$?new r(h[0],h[1]):new r(n[0],n[1]),A._rotateAround(c,t),k._rotateAround(c,t),S._rotateAround(c,t),T._rotateAround(c,t)}const I=new r(0,0),O=new r(0,0);l.push({tl:A,tr:k,bl:S,br:T,tex:i,writingMode:e.writingMode,glyphOffset:w,sectionIndex:t.sectionIndex,isSDF:p,pixelOffsetTL:I,pixelOffsetBR:O,minFontScaleX:0,minFontScaleY:0})}}return l}(0,i,l,s,a,u,o,t.allowVerticalPlacement),g=t.textSizeData;let w=null;"source"===g.kind?(w=[sc*s.layout.get("text-size").evaluate(u,{},y)],w[0]>Ph&&pt(`${t.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===g.kind&&(w=[sc*d.compositeTextSizes[0].evaluate(u,{},y),sc*d.compositeTextSizes[1].evaluate(u,{},y)],(w[0]>Ph||w[1]>Ph)&&pt(`${t.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),t.addSymbols(t.text,v,w,l,a,u,h,e,n,c.lineStartIndex,c.lineLength,f,m,y);for(const e of p)_[e]=t.text.placedSymbolArray.length-1;return 4*v.length}function Nh(t){for(const e in t)return t[e];return null}function Lh(t,e,n,i,o,s,a,u,l,c){let h=a.top,p=a.bottom,_=a.left,f=a.right;const d=a.collisionPadding;if(d&&(_-=d[0],h-=d[1],f+=d[2],p+=d[3]),l){const t=new r(_,h),e=new r(f,h),n=new r(_,p),i=new r(f,p),o=U(l);let s=new r(0,0);c&&(s=new r(c[0],c[1])),t._rotateAround(o,s),e._rotateAround(o,s),n._rotateAround(o,s),i._rotateAround(o,s),_=Math.min(t.x,e.x,n.x,i.x),f=Math.max(t.x,e.x,n.x,i.x),h=Math.min(t.y,e.y,n.y,i.y),p=Math.max(t.y,e.y,n.y,i.y)}return t.emplaceBack(e.x,e.y,e.z,n.x,n.y,_,h,f,p,u,i,o,s),t.length-1}function qh(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function Bh(t,e,n,i){const r=t.compareText;if(e in r){const t=r[e];for(let e=t.length-1;e>=0;e--)if(i.dist(t[e])<n)return!0}else r[e]=[];return r[e].push(i),!1}const Fh=Il.VectorTileFeature.types,Uh=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Hh(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d){const m=c?Math.min(Ph,Math.round(c[0])):0,y=c?Math.min(Ph,Math.round(c[1])):0;t.emplaceBack(e,n,Math.round(32*s),Math.round(32*a),u,l,(m<<1)+(h?1:0),y,16*p,16*_,256*f,256*d,i,r,o,0)}function Vh(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function Yh(t){for(const e of t.sections)if(Mo(e.text))return!0;return!1}class Wh{constructor(t){this.layoutVertexArray=new gs,this.indexArray=new Es,this.programConfigurations=t,this.segments=new Sa,this.dynamicLayoutVertexArray=new ms,this.opacityVertexArray=new ws,this.placedSymbolArray=new Ls}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ql.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,tc.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Uh,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Yr("SymbolBuffers",Wh);class Gh{constructor(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new Sa,this.collisionVertexArray=new Cs,this.collisionVertexArrayExt=new ms}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,ec.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,nc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Yr("CollisionBuffers",Gh);class Zh{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=c([]),this.placementViewportMatrix=c([]);const e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ac(this.zoom,e["text-size"]),this.iconSizeData=ac(this.zoom,e["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map((t=>Uc[t])),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=t.sourceID}createArrays(){this.text=new Wh(new va(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new Wh(new va(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new Fs,this.lineVertexArray=new Us,this.symbolInstances=new Bs}calculateGlyphDependencies(t,e,n,i,r){for(let n=0;n<t.length;n++)if(e[t.charCodeAt(n)]=!0,i&&r){const i=pc[t.charAt(n)];i&&(e[i.charCodeAt(0)]=!0)}}populate(t,e,n,i){const r=this.layers[0],o=r.layout,s=o.get("text-font"),a=o.get("text-field"),u=o.get("icon-image"),l=("constant"!==a.value.kind||a.value.value instanceof Ge&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),c="constant"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],!l&&!c)return;const p=e.iconDependencies,_=e.glyphDependencies,f=e.availableImages,d=new Yo(this.zoom);for(const{feature:e,id:a,index:u,sourceLayerIndex:m}of t){const t=r._featureFilter.needGeometry,y=Za(e,t);if(!r._featureFilter.filter(d,y,n))continue;let v,g;if(t||(y.geometry=Ga(e,n,i)),l){const t=r.getValueAndResolveTokens("text-field",y,n,f),e=Ge.factory(t);Yh(e)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Uo()||this.hasRTLText&&Vo.isParsed())&&(v=hc(e,r,y))}if(c){const t=r.getValueAndResolveTokens("icon-image",y,n,f);g=t instanceof Ze?t:Ze.fromString(t)}if(!v&&!g)continue;const w=this.sortFeaturesByKey?h.evaluate(y,{},n):void 0;if(this.features.push({id:a,text:v,icon:g,index:u,sourceLayerIndex:m,geometry:y.geometry,properties:e.properties,type:Fh[e.type],sortKey:w}),g&&(p[g.name]=!0),v){const t=s.evaluate(y,{},n).join(","),e="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Uc.vertical)>=0;for(const n of v.sections)if(n.image)p[n.image.name]=!0;else{const i=Ao(v.toString()),r=n.fontStack||t,o=_[r]=_[r]||{};this.calculateGlyphDependencies(n.text,o,e,this.allowVerticalPlacement,i)}}}"line"===o.get("symbol-placement")&&(this.features=function(t){const e={},n={},i=[];let r=0;function o(e){i.push(t[e]),r++}function s(t,e,r){const o=n[t];return delete n[t],n[e]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function a(t,n,r){const o=e[n];return delete e[n],e[t]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function u(t,e,n){const i=n?e[0][e[0].length-1]:e[0][0];return`${t}:${i.x}:${i.y}`}for(let l=0;l<t.length;l++){const c=t[l],h=c.geometry,p=c.text?c.text.toString():null;if(!p){o(l);continue}const _=u(p,h),f=u(p,h,!0);if(_ in n&&f in e&&n[_]!==e[f]){const t=a(_,f,h),r=s(_,f,i[t].geometry);delete e[_],delete n[f],n[u(p,i[r].geometry,!0)]=r,i[t].geometry=null}else _ in n?s(_,f,h):f in e?a(_,f,h):(o(l),e[_]=r-1,n[f]=r-1)}return i.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey))}update(t,e,n,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n,i),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,e){const n=this.lineVertexArray.length;if(void 0!==t.segment){let n=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]);const r={};for(let i=t.segment+1;i<e.length;i++)r[i]={x:e[i].x,y:e[i].y,tileUnitDistanceFromAnchor:n},i<e.length-1&&(n+=e[i+1].dist(e[i]));for(let n=t.segment||0;n>=0;n--)r[n]={x:e[n].x,y:e[n].y,tileUnitDistanceFromAnchor:i},n>0&&(i+=e[n-1].dist(e[n]));for(let t=0;t<e.length;t++){const e=r[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,e,n,i,r,o,s,a,u,l,c,h,p,_){const f=t.indexArray,d=t.layoutVertexArray,m=t.segments.prepareSegment(4*e.length,d,f,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,v=m.vertexLength,g=this.allowVerticalPlacement&&s===Uc.vertical?Math.PI/2:0,w=o.text&&o.text.sections;for(let i=0;i<e.length;i++){const{tl:r,tr:s,bl:l,br:c,tex:h,pixelOffsetTL:y,pixelOffsetBR:v,minFontScaleX:b,minFontScaleY:x,glyphOffset:$,isSDF:C,sectionIndex:E}=e[i],A=m.vertexLength,k=$[1];Hh(d,a.x,a.y,a.z,u.x,u.y,r.x,k+r.y,h.x,h.y,n,C,y.x,y.y,b,x),Hh(d,a.x,a.y,a.z,u.x,u.y,s.x,k+s.y,h.x+h.w,h.y,n,C,v.x,y.y,b,x),Hh(d,a.x,a.y,a.z,u.x,u.y,l.x,k+l.y,h.x,h.y+h.h,n,C,y.x,v.y,b,x),Hh(d,a.x,a.y,a.z,u.x,u.y,c.x,k+c.y,h.x+h.w,h.y+h.h,n,C,v.x,v.y,b,x),Vh(t.dynamicLayoutVertexArray,a,g),f.emplaceBack(A,A+1,A+2),f.emplaceBack(A+1,A+2,A+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack($[0]),i!==e.length-1&&E===e[i+1].sectionIndex||t.programConfigurations.populatePaintArrays(d.length,o,o.index,{},p,_,w&&w[E])}t.placedSymbolArray.emplaceBack(a.x,a.y,a.z,u.x,u.y,y,this.glyphOffsetArray.length-y,v,l,c,u.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],s,0,!1,0,h,0)}_commitLayoutVertex(t,e,n,i,r,o,s){t.emplaceBack(e,n,i,r,o,Math.round(s.x),Math.round(s.y))}_addCollisionDebugVertices(t,e,n,i,o,s,a){const u=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=u.vertexLength,c=a.tileAnchorX,h=a.tileAnchorY;for(let t=0;t<4;t++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(e,-t.padding,-t.padding),n.collisionVertexArrayExt.emplaceBack(e,t.padding,-t.padding),n.collisionVertexArrayExt.emplaceBack(e,t.padding,t.padding),n.collisionVertexArrayExt.emplaceBack(e,-t.padding,t.padding),this._commitLayoutVertex(n.layoutVertexArray,i,o,s,c,h,new r(t.x1,t.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,o,s,c,h,new r(t.x2,t.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,o,s,c,h,new r(t.x2,t.y2)),this._commitLayoutVertex(n.layoutVertexArray,i,o,s,c,h,new r(t.x1,t.y2)),u.vertexLength+=4;const p=n.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),u.primitiveLength+=4}_addTextDebugCollisionBoxes(t,e,n,i,r,o){for(let s=i;s<r;s++){const i=n.get(s),r=this.getSymbolInstanceTextSize(t,o,e,s);this._addCollisionDebugVertices(i,r,this.textCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(t,e,n,i,r,o){for(let s=i;s<r;s++){const i=n.get(s),r=this.getSymbolInstanceIconSize(t,e,s);this._addCollisionDebugVertices(i,r,this.iconCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}generateCollisionDebugBuffers(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Gh(xs,ic.members,zs),this.iconCollisionBox=new Gh(xs,ic.members,zs);const n=lc(this.iconSizeData,t),i=lc(this.textSizeData,t);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(i,t,e,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(i,t,e,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,t,e,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,t,e,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(t,e,n,i){const r=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:i),o=uc(this.textSizeData,t,r)/oc;return this.tilePixelRatio*o}getSymbolInstanceIconSize(t,e,n){const i=this.icon.placedSymbolArray.get(n),r=uc(this.iconSizeData,t,i);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(t,e,n){t.emplaceBack(e,-n,-n),t.emplaceBack(e,n,-n),t.emplaceBack(e,n,n),t.emplaceBack(e,-n,n)}_updateTextDebugCollisionBoxes(t,e,n,i,r,o){for(let s=i;s<r;s++){const i=n.get(s),r=this.getSymbolInstanceTextSize(t,o,e,s);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,i.padding)}}_updateIconDebugCollisionBoxes(t,e,n,i,r){for(let o=i;o<r;o++){const i=n.get(o),r=this.getSymbolInstanceIconSize(t,e,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,i.padding)}}updateCollisionDebugBuffers(t,e){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const n=lc(this.iconSizeData,t),i=lc(this.textSizeData,t);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(i,t,e,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(i,t,e,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,t,e,o.iconBoxStartIndex,o.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(n,t,e,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,e,n,i,r,o,s,a,u){const l={};for(let i=e;i<n;i++){const e=t.get(i);l.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,projectedAnchorX:e.projectedAnchorX,projectedAnchorY:e.projectedAnchorY,projectedAnchorZ:e.projectedAnchorZ,tileAnchorX:e.tileAnchorX,tileAnchorY:e.tileAnchorY},l.textFeatureIndex=e.featureIndex;break}for(let e=i;e<r;e++){const n=t.get(e);l.verticalTextBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,padding:n.padding,projectedAnchorX:n.projectedAnchorX,projectedAnchorY:n.projectedAnchorY,projectedAnchorZ:n.projectedAnchorZ,tileAnchorX:n.tileAnchorX,tileAnchorY:n.tileAnchorY},l.verticalTextFeatureIndex=n.featureIndex;break}for(let e=o;e<s;e++){const n=t.get(e);l.iconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,padding:n.padding,projectedAnchorX:n.projectedAnchorX,projectedAnchorY:n.projectedAnchorY,projectedAnchorZ:n.projectedAnchorZ,tileAnchorX:n.tileAnchorX,tileAnchorY:n.tileAnchorY},l.iconFeatureIndex=n.featureIndex;break}for(let e=a;e<u;e++){const n=t.get(e);l.verticalIconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,padding:n.padding,projectedAnchorX:n.projectedAnchorX,projectedAnchorY:n.projectedAnchorY,projectedAnchorZ:n.projectedAnchorZ,tileAnchorX:n.tileAnchorX,tileAnchorY:n.tileAnchorY},l.verticalIconFeatureIndex=n.featureIndex;break}return l}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const n=t.placedSymbolArray.get(e),i=n.vertexStartIndex+4*n.numGlyphs;for(let e=n.vertexStartIndex;e<i;e+=4)t.indexArray.emplaceBack(e,e+1,e+2),t.indexArray.emplaceBack(e+1,e+2,e+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),n=Math.cos(t),i=[],r=[],o=[];for(let t=0;t<this.symbolInstances.length;++t){o.push(t);const s=this.symbolInstances.get(t);i.push(0|Math.round(e*s.tileAnchorX+n*s.tileAnchorY)),r.push(s.featureIndex)}return o.sort(((t,e)=>i[t]-i[e]||r[e]-r[t])),o}addToSortKeyRanges(t,e){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(((t,e,n)=>{t>=0&&n.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t)})),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Yr("SymbolBucket",Zh,{omit:["layers","collisionBoxArray","features","compareText"]}),Zh.MAX_GLYPHS=65535,Zh.addDynamicAttributes=Vh;const Kh=new ss({"symbol-placement":new es(ge.layout_symbol["symbol-placement"]),"symbol-spacing":new es(ge.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new es(ge.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ns(ge.layout_symbol["symbol-sort-key"]),"symbol-z-order":new es(ge.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new es(ge.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new es(ge.layout_symbol["icon-ignore-placement"]),"icon-optional":new es(ge.layout_symbol["icon-optional"]),"icon-rotation-alignment":new es(ge.layout_symbol["icon-rotation-alignment"]),"icon-size":new ns(ge.layout_symbol["icon-size"]),"icon-text-fit":new es(ge.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new es(ge.layout_symbol["icon-text-fit-padding"]),"icon-image":new ns(ge.layout_symbol["icon-image"]),"icon-rotate":new ns(ge.layout_symbol["icon-rotate"]),"icon-padding":new es(ge.layout_symbol["icon-padding"]),"icon-keep-upright":new es(ge.layout_symbol["icon-keep-upright"]),"icon-offset":new ns(ge.layout_symbol["icon-offset"]),"icon-anchor":new ns(ge.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new es(ge.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new es(ge.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new es(ge.layout_symbol["text-rotation-alignment"]),"text-field":new ns(ge.layout_symbol["text-field"]),"text-font":new ns(ge.layout_symbol["text-font"]),"text-size":new ns(ge.layout_symbol["text-size"]),"text-max-width":new ns(ge.layout_symbol["text-max-width"]),"text-line-height":new ns(ge.layout_symbol["text-line-height"]),"text-letter-spacing":new ns(ge.layout_symbol["text-letter-spacing"]),"text-justify":new ns(ge.layout_symbol["text-justify"]),"text-radial-offset":new ns(ge.layout_symbol["text-radial-offset"]),"text-variable-anchor":new es(ge.layout_symbol["text-variable-anchor"]),"text-anchor":new ns(ge.layout_symbol["text-anchor"]),"text-max-angle":new es(ge.layout_symbol["text-max-angle"]),"text-writing-mode":new es(ge.layout_symbol["text-writing-mode"]),"text-rotate":new ns(ge.layout_symbol["text-rotate"]),"text-padding":new es(ge.layout_symbol["text-padding"]),"text-keep-upright":new es(ge.layout_symbol["text-keep-upright"]),"text-transform":new ns(ge.layout_symbol["text-transform"]),"text-offset":new ns(ge.layout_symbol["text-offset"]),"text-allow-overlap":new es(ge.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new es(ge.layout_symbol["text-ignore-placement"]),"text-optional":new es(ge.layout_symbol["text-optional"])});var Xh={paint:new ss({"icon-opacity":new ns(ge.paint_symbol["icon-opacity"]),"icon-color":new ns(ge.paint_symbol["icon-color"]),"icon-halo-color":new ns(ge.paint_symbol["icon-halo-color"]),"icon-halo-width":new ns(ge.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ns(ge.paint_symbol["icon-halo-blur"]),"icon-translate":new es(ge.paint_symbol["icon-translate"]),"icon-translate-anchor":new es(ge.paint_symbol["icon-translate-anchor"]),"text-opacity":new ns(ge.paint_symbol["text-opacity"]),"text-color":new ns(ge.paint_symbol["text-color"],{runtimeType:Oe,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new ns(ge.paint_symbol["text-halo-color"]),"text-halo-width":new ns(ge.paint_symbol["text-halo-width"]),"text-halo-blur":new ns(ge.paint_symbol["text-halo-blur"]),"text-translate":new es(ge.paint_symbol["text-translate"]),"text-translate-anchor":new es(ge.paint_symbol["text-translate-anchor"])}),layout:Kh};class Jh{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:ke,this.defaultValue=t}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Yr("FormatSectionOverride",Jh,{omit:["defaultValue"]});class Qh extends Ea{constructor(t){super(t,Xh)}recalculate(t,e){super.recalculate(t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const n=this.layout.get("text-writing-mode");if(n){const t=[];for(const e of n)t.indexOf(e)<0&&t.push(e);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,e,n,i){const r=this.layout.get(t).evaluate(e,{},n,i),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Hi(o.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,((e,n)=>n in t?String(t[n]):""))}(e.properties,r)}createBucket(t){return new Zh(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of Xh.paint.overridableProperties){if(!Qh.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),n=new Jh(e),i=new Ui(n,e.property.specification);let r=null;r="constant"===e.value.kind||"source"===e.value.kind?new Yi("source",i):new Wi("composite",i,e.value.zoomStops,e.value._interpolationType),this.paint._values[t]=new Qo(e.property,r,e.parameters)}}_handleOverridablePaintPropertyUpdate(t,e,n){return!(!this.layout||e.isDataDriven()||n.isDataDriven())&&Qh.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const n=t.get("text-field"),i=Xh.paint.properties[e];let r=!1;const o=t=>{for(const e of t)if(i.overrides&&i.overrides.hasOverride(e))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof Ge)o(n.value.value.sections);else if("source"===n.value.kind){const t=e=>{r||(e instanceof tn&&Je(e.value)===Re?o(e.value.sections):e instanceof on?o(e.sections):e.eachChild(t))},e=n.value;e._styleExpression&&t(e._styleExpression.expression)}return r}getProgramConfiguration(t){return new ya(this,t)}}var tp={paint:new ss({"background-color":new es(ge.paint_background["background-color"]),"background-pattern":new rs(ge.paint_background["background-pattern"]),"background-opacity":new es(ge.paint_background["background-opacity"])})},ep={paint:new ss({"raster-opacity":new es(ge.paint_raster["raster-opacity"]),"raster-hue-rotate":new es(ge.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new es(ge.paint_raster["raster-brightness-min"]),"raster-brightness-max":new es(ge.paint_raster["raster-brightness-max"]),"raster-saturation":new es(ge.paint_raster["raster-saturation"]),"raster-contrast":new es(ge.paint_raster["raster-contrast"]),"raster-resampling":new es(ge.paint_raster["raster-resampling"]),"raster-fade-duration":new es(ge.paint_raster["raster-fade-duration"])})};class np extends Ea{constructor(t){super(t,{}),this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var ip={paint:new ss({"sky-type":new es(ge.paint_sky["sky-type"]),"sky-atmosphere-sun":new es(ge.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new es(ge.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new es(ge.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new es(ge.paint_sky["sky-gradient-radius"]),"sky-gradient":new os(ge.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new es(ge.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new es(ge.paint_sky["sky-atmosphere-color"]),"sky-opacity":new es(ge.paint_sky["sky-opacity"])})};function rp(t,e,n){const i=w(0,0,1),r=N(j());return function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);t[0]=i*u-o*a,t[1]=r*u+s*a,t[2]=o*u+i*a,t[3]=s*u-r*a}(r,r,n?-U(t)+Math.PI:U(t)),L(r,r,-U(e)),O(i,i,r),k(i,i)}const op={circle:class extends Ea{constructor(t){super(t,du)}createBucket(t){return new Xa(t)}queryRadius(t){const e=t;return cu("circle-radius",this,e)+cu("circle-stroke-width",this,e)+hu(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,n,i,r,o,s,a){const u=_u(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n);return vu(t,i,o,s,a,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),u,l)}getProgramIds(){return["circle"]}getProgramConfiguration(t){return new ya(this,t)}},heatmap:class extends Ea{createBucket(t){return new $u(t)}constructor(t){super(t,Tu),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Iu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(t){return cu("heatmap-radius",this,t)}queryIntersectsFeature(t,e,n,i,o,s,a,u){const l=this.paint.get("heatmap-radius").evaluate(e,n);return vu(t,i,s,a,u,!0,!0,new r(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(t){return new ya(this,t)}},hillshade:class extends Ea{constructor(t){super(t,Ou)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(t){return new ya(this,t)}},fill:class extends Ea{constructor(t){super(t,vl)}getProgramIds(){const t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),n=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(t){return new ya(this,t)}recalculate(t,e){super.recalculate(t,e);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new ml(t)}queryRadius(){return hu(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,n,i,r,o){return!t.queryGeometry.isAboveHorizon&&tu(pu(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),i)}isTileClipped(){return!0}},"fill-extrusion":class extends Ea{constructor(t){super(t,jl)}createBucket(t){return new Rl(t)}queryRadius(){return hu(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(t){return new ya(this,t)}queryIntersectsFeature(t,e,n,i,o,s,a,u,l){const c=_u(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),s.angle,t.pixelToTileUnitsFactor),h=this.paint.get("fill-extrusion-height").evaluate(e,n),p=this.paint.get("fill-extrusion-base").evaluate(e,n),_=[0,0],f=u&&s.elevation,d=s.elevation?s.elevation.exaggeration():1;if(f){const e=t.tile.getBucket(this).centroidVertexArray,n=l+1;if(n<e.length){const t=e.get(n);_[0]=t.a_centroid_pos0,_[1]=t.a_centroid_pos1}}if(0===_[0]&&1===_[1])return!1;const m=function(t,e,n,i,o,s,a,u,l){return s?function(t,e,n,i,r,o,s,a,u){const l=[],c=[],h=[0,0,0,1];for(const p of t){const t=[],_=[];for(const l of p){const c=l.x+i.x,p=l.y+i.y,f=Bl(c,p,e,n,o,s,a,u);h[0]=c,h[1]=p,h[2]=f.base,h[3]=1,P(h,h,r),h[3]=Math.max(h[3],1e-5);const d=ql([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);h[0]=c,h[1]=p,h[2]=f.top,h[3]=1,P(h,h,r),h[3]=Math.max(h[3],1e-5);const m=ql([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);t.push(d),_.push(m)}l.push(t),c.push(_)}return[l,c]}(t,e,n,i,o,s,a,u,l):function(t,e,n,i,o){const s=[],a=[],u=o[8]*e,l=o[9]*e,c=o[10]*e,h=o[11]*e,p=o[8]*n,_=o[9]*n,f=o[10]*n,d=o[11]*n;for(const e of t){const t=[],n=[];for(const s of e){const e=s.x+i.x,a=s.y+i.y,m=o[0]*e+o[4]*a+o[12],y=o[1]*e+o[5]*a+o[13],v=o[2]*e+o[6]*a+o[14],g=o[3]*e+o[7]*a+o[15],w=m+u,b=y+l,x=v+c,$=Math.max(g+h,1e-5),C=m+p,E=y+_,A=v+f,k=Math.max(g+d,1e-5),S=new r(w/$,b/$);S.z=x/$,t.push(S);const T=new r(C/k,E/k);T.z=A/k,n.push(T)}s.push(t),a.push(n)}return[s,a]}(t,e,n,i,o)}(i,p,h,c,a,f?u:null,_,d,s.center.lat),y=t.queryGeometry;return function(t,e,n){let i=1/0;tu(n,e)&&(i=Ll(n,e[0]));for(let r=0;r<e.length;r++){const o=e[r],s=t[r];for(let t=0;t<o.length-1;t++){const e=o[t],r=[e,o[t+1],s[t+1],s[t],e];Ja(n,r)&&(i=Math.min(i,Ll(n,r)))}}return i!==1/0&&i}(m[0],m[1],y.isPointQuery()?y.screenBounds:y.screenGeometry)}},line:class extends Ea{constructor(t){super(t,Kl),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof jn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=Xl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Gl(t)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(t){return new ya(this,t)}queryRadius(t){const e=t,n=Jl(cu("line-width",this,e),cu("line-gap-width",this,e)),i=cu("line-offset",this,e);return n/2+Math.abs(i)+hu(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,n,i,o,s){if(t.queryGeometry.isAboveHorizon)return!1;const a=pu(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),s.angle,t.pixelToTileUnitsFactor),u=t.pixelToTileUnitsFactor/2*Jl(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),l=this.paint.get("line-offset").evaluate(e,n);return l&&(i=function(t,e){const n=[],i=new r(0,0);for(let r=0;r<t.length;r++){const o=t[r],s=[];for(let t=0;t<o.length;t++){const n=o[t-1],r=o[t],a=o[t+1],u=0===t?i:r.sub(n)._unit()._perp(),l=t===o.length-1?i:a.sub(r)._unit()._perp(),c=u._add(l)._unit();c._mult(1/(c.x*l.x+c.y*l.y)),s.push(c._mult(e)._add(r))}n.push(s)}return n}(i,l*t.pixelToTileUnitsFactor)),function(t,e,n){for(let i=0;i<e.length;i++){const r=e[i];if(t.length>=3)for(let e=0;e<r.length;e++)if(au(t,r[e]))return!0;if(eu(t,r,n))return!0}return!1}(a,i,u)}isTileClipped(){return!0}},symbol:Qh,background:class extends Ea{constructor(t){super(t,tp)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ea{constructor(t){super(t,ep)}getProgramIds(){return["raster"]}},sky:class extends Ea{constructor(t){super(t,ip),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"sky-gradient"===t?this._updateColorRamp():"sky-atmosphere-sun"!==t&&"sky-atmosphere-halo-color"!==t&&"sky-atmosphere-color"!==t&&"sky-atmosphere-sun-intensity"!==t||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Iu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}}getCenter(t,e){const n=this.paint.get("sky-type");if("atmosphere"===n){const n=this.paint.get("sky-atmosphere-sun"),i=!n,r=t.style.light,o=r.properties.get("position");return i&&"viewport"===r.properties.get("anchor")&&pt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),i?rp(o.azimuthal,90-o.polar,e):rp(n[0],90-n[1],e)}if("gradient"===n){const t=this.paint.get("sky-gradient-center");return rp(t[0],90-t[1],e)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const t=this.paint.get("sky-type");return"atmosphere"===t?["skyboxCapture","skybox"]:"gradient"===t?["skyboxGradient"]:null}}},{HTMLImageElement:sp,HTMLCanvasElement:ap,HTMLVideoElement:up,ImageData:lp,ImageBitmap:cp}=s;class hp{constructor(t,e,n,i){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,i)}update(t,e,n){const{width:i,height:r}=t,{context:o}=this,{gl:s}=o;if(s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),n||this.size&&this.size[0]===i&&this.size[1]===r){const{x:e,y:o}=n||{x:0,y:0};t instanceof sp||t instanceof ap||t instanceof up||t instanceof lp||cp&&t instanceof cp?s.texSubImage2D(s.TEXTURE_2D,0,e,o,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,e,o,i,r,s.RGBA,s.UNSIGNED_BYTE,t.data)}else this.size=[i,r],t instanceof sp||t instanceof ap||t instanceof up||t instanceof lp||cp&&t instanceof cp?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,i,r,0,this.format,s.UNSIGNED_BYTE,t.data);this.useMipmap=Boolean(e&&e.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(t,e){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap?t===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST:t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class pp{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.image=new ku({width:t,height:e}),this.positions={},this.uploaded=!1}getDash(t,e){const n=this.getKey(t,e);return this.positions[n]}trim(){const t=this.width,e=this.height=rt(this.nextRow);this.image.resize({width:t,height:e})}getKey(t,e){return t.join(",")+e}getDashRanges(t,e,n){const i=[];let r=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,s=!0;i.push({left:r,right:o,isDash:s,zeroLength:0===t[0]});let a=t[0];for(let e=1;e<t.length;e++){s=!s;const u=t[e];r=a*n,a+=u,o=a*n,i.push({left:r,right:o,isDash:s,zeroLength:0===u})}return i}addRoundDash(t,e,n){const i=e/2;for(let e=-n;e<=n;e++){const r=this.width*(this.nextRow+n+e);let o=0,s=t[o];for(let a=0;a<this.width;a++){a/s.right>1&&(s=t[++o]);const u=Math.abs(a-s.left),l=Math.abs(a-s.right),c=Math.min(u,l);let h;const p=e/n*(i+1);if(s.isDash){const t=i-Math.abs(p);h=Math.sqrt(c*c+t*t)}else h=i-Math.sqrt(c*c+p*p);this.image.data[r+a]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(t,e){for(let e=t.length-1;e>=0;--e){const n=t[e],i=t[e+1];n.zeroLength?t.splice(e,1):i&&i.isDash===n.isDash&&(i.left=n.left,t.splice(e,1))}const n=t[0],i=t[t.length-1];n.isDash===i.isDash&&(n.left=i.left-this.width,i.right=n.right+this.width);const r=this.width*this.nextRow;let o=0,s=t[o];for(let n=0;n<this.width;n++){n/s.right>1&&(s=t[++o]);const i=Math.abs(n-s.left),a=Math.abs(n-s.right),u=Math.min(i,a);this.image.data[r+n]=Math.max(0,Math.min(255,(s.isDash?u:-u)+e+128))}}addDash(t,e){const n=this.getKey(t,e);if(this.positions[n])return this.positions[n];const i="round"===e,r=i?7:0,o=2*r+1;if(this.nextRow+o>this.height)return pt("LineAtlas out of space"),null;0===t.length&&t.push(1);let s=0;for(let e=0;e<t.length;e++)t[e]<0&&(pt("Negative value is found in line dasharray, replacing values with 0"),t[e]=0),s+=t[e];if(0!==s){const n=this.width/s,o=this.getDashRanges(t,this.width,n);i?this.addRoundDash(o,n,r):this.addRegularDash(o,"square"===e?.5*n:0)}const a=this.nextRow+r;this.nextRow+=o;const u={tl:[a,r],br:[s,0]};return this.positions[n]=u,u}}Yr("LineAtlas",pp);class _p{constructor(t){this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const fp=s.performance;function dp(t){const e=t?t.url.toString():void 0;return fp.getEntriesByName(e)}class mp{constructor(){this.tasks={},this.taskQueue=[],st(["process"],this),this.invoker=new _p(this.process),this.nextId=0}add(t,e){const n=this.nextId++,i=function({type:t,isSymbolTile:e,zoom:n}){return n=n||0,"message"===t?0:"maybePrepare"!==t||e?"parseTile"!==t||e?"parseTile"===t&&e?300-n:"maybePrepare"===t&&e?400-n:500:200-n:100-n}(e);if(0===i){dt();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:t,metadata:e,priority:i,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){dt();try{if(this.taskQueue=this.taskQueue.filter((t=>!!this.tasks[t])),!this.taskQueue.length)return;const t=this.pick();if(null===t)return;const e=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!e)return;e.fn()}finally{}}pick(){let t=null,e=1/0;for(let n=0;n<this.taskQueue.length;n++){const i=this.tasks[this.taskQueue[n]];i.priority<e&&(e=i.priority,t=n)}if(null===t)return null;const n=this.taskQueue[t];return this.taskQueue.splice(t,1),n}remove(){this.invoker.remove()}}function yp(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[t*i-2*Math.PI*6378137/2,e*i-2*Math.PI*6378137/2]}class vp{constructor(t,e,n){this.z=t,this.x=e,this.y=n,this.key=bp(0,t,t,e,n)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e){const n=function(t,e,n){var i=yp(256*t,256*(e=Math.pow(2,n)-e-1),n),r=yp(256*(t+1),256*(e+1),n);return i[0]+","+i[1]+","+r[0]+","+r[1]}(this.x,this.y,this.z),i=function(t,e,n){let i,r="";for(let o=t;o>0;o--)i=1<<o-1,r+=(e&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)}toString(){return`${this.z}/${this.x}/${this.y}`}}class gp{constructor(t,e){this.wrap=t,this.canonical=e,this.key=bp(t,e.z,e.z,e.x,e.y)}}class wp{constructor(t,e,n,i,r){this.overscaledZ=t,this.wrap=e,this.canonical=new vp(n,+i,+r),this.key=0===e&&t===n?this.canonical.key:bp(e,t,n,i,r)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const e=this.canonical.z-t;return t>this.canonical.z?new wp(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new wp(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e=!0){if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return bp(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);{const n=this.canonical.z-t;return bp(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return[new wp(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new wp(e,this.wrap,e,n,i),new wp(e,this.wrap,e,n+1,i),new wp(e,this.wrap,e,n,i+1),new wp(e,this.wrap,e,n+1,i+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new wp(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new wp(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new gp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function bp(t,e,n,i,r){const o=1<<Math.min(n,22);let s=o*(r%o)+i%o;return t&&n<22&&(s+=o*o*((t<0?-2*t-1:2*t)%(1<<2*(22-n)))),16*(32*s+n)+(e-n)}Yr("CanonicalTileID",vp),Yr("OverscaledTileID",wp,{omit:["projMatrix"]});class xp{constructor(t,e,n){this.func=t,this.mask=e,this.range=n}}xp.ReadOnly=!1,xp.ReadWrite=!0,xp.disabled=new xp(519,xp.ReadOnly,[0,1]);const $p=7680;class Cp{constructor(t,e,n,i,r,o){this.test=t,this.ref=e,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o}}Cp.disabled=new Cp({func:519,mask:0},0,0,$p,$p,$p);class Ep{constructor(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n}}Ep.Replace=[1,0],Ep.disabled=new Ep(Ep.Replace,Ve.transparent,[!1,!1,!1,!1]),Ep.unblended=new Ep(Ep.Replace,Ve.transparent,[!0,!0,!0,!0]),Ep.alphaBlended=new Ep([1,771],Ve.transparent,[!0,!0,!0,!0]);const Ap=1029,kp=2305;class Sp{constructor(t,e,n){this.enable=t,this.mode=e,this.frontFace=n}}Sp.disabled=new Sp(!1,Ap,kp),Sp.backCCW=new Sp(!0,Ap,kp),Sp.backCW=new Sp(!0,Ap,2304),Sp.frontCW=new Sp(!0,1028,2304),Sp.frontCCW=new Sp(!0,1028,kp);class Tp{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}class Ip{constructor(t,e,n,i,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=i,this.properties=t.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}}class Op{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,e,n){const i=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},tt(this.stateChanges[t][i],n),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==i&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][i]){this.deletedStates[t][i]={};for(const e in this.state[t][i])n[e]||(this.deletedStates[t][i][e]=null)}else for(const e in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][e]&&delete this.deletedStates[t][i][e]}removeFeatureState(t,e,n){if(null===this.deletedStates[t])return;const i=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][i]&&(this.deletedStates[t][i]=this.deletedStates[t][i]||{},this.deletedStates[t][i][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][i])for(n in this.deletedStates[t][i]={},this.stateChanges[t][i])this.deletedStates[t][i][n]=null;else this.deletedStates[t][i]=null;else this.deletedStates[t]=null}getState(t,e){const n=String(e),i=tt({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const n=this.deletedStates[t][e];if(null===n)return{};for(const t in n)delete i[t]}return i}initializeTileState(t,e){t.setFeatureState(this.state,e)}coalesceChanges(t,e){const n={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const e={};for(const n in this.stateChanges[t])this.state[t][n]||(this.state[t][n]={}),tt(this.state[t][n],this.stateChanges[t][n]),e[n]=this.state[t][n];n[t]=e}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const e={};if(null===this.deletedStates[t])for(const n in this.state[t])e[n]={},this.state[t][n]={};else for(const n in this.deletedStates[t]){if(null===this.deletedStates[t][n])this.state[t][n]={};else for(const e of Object.keys(this.deletedStates[t][n]))delete this.state[t][n][e];e[n]=this.state[t][n]}n[t]=n[t]||{},tt(n[t],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const i in t)t[i].setFeatureState(n,e)}}class zp{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,e){const n=this.toIdx(t,e);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(t,e){return this.leaves[this.toIdx(t,e)]}toIdx(t,e){return e*this.size+t}}function Mp(t,e,n,i){let r=0,o=Number.MAX_VALUE;for(let s=0;s<3;s++)if(Math.abs(i[s])<1e-15){if(n[s]<t[s]||n[s]>e[s])return null}else{const a=1/i[s];let u=(t[s]-n[s])*a,l=(e[s]-n[s])*a;if(u>l){const t=u;u=l,l=t}if(u>r&&(r=u),l<o&&(o=l),r>o)return null}return r}function Dp(t,e,n,i,r,o,s,a,u,l,c){const h=i-t,p=r-e,_=o-n,f=s-t,d=a-e,m=u-n,y=c[1]*m-c[2]*d,v=c[2]*f-c[0]*m,g=c[0]*d-c[1]*f,w=h*y+p*v+_*g;if(Math.abs(w)<1e-15)return null;const b=1/w,x=l[0]-t,$=l[1]-e,C=l[2]-n,E=(x*y+$*v+C*g)*b;if(E<0||E>1)return null;const A=$*_-C*p,k=C*h-x*_,S=x*p-$*h,T=(c[0]*A+c[1]*k+c[2]*S)*b;return T<0||E+T>1?null:(f*A+d*k+m*S)*b}function Rp(t,e,n){return(t-e)/(n-e)}function Pp(t,e,n,i,r,o,s,a,u){const l=1<<n,c=o-i,h=s-r,p=(t+1)/l*c+i,_=(e+0)/l*h+r,f=(e+1)/l*h+r;a[0]=(t+0)/l*c+i,a[1]=_,u[0]=p,u[1]=f}class jp{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const e=function(t){const e=Math.ceil(Math.log2(t.dim/8)),n=[];let i=Math.ceil(Math.pow(2,e));const r=1/i,o=(t,e,n,i,r)=>{const o=i?1:0,s=(t+1)*n-o,a=e*n,u=(e+1)*n-o;r[0]=t*n,r[1]=a,r[2]=s,r[3]=u};let s=new zp(i);const a=[];for(let e=0;e<i*i;e++){o(e%i,Math.floor(e/i),r,!1,a);const n=Lp(a[0],a[1],t),u=Lp(a[2],a[1],t),l=Lp(a[2],a[3],t),c=Lp(a[0],a[3],t);s.minimums.push(Math.min(n,u,l,c)),s.maximums.push(Math.max(n,u,l,c)),s.leaves.push(1)}for(n.push(s),i/=2;i>=1;i/=2){const t=n[n.length-1];s=new zp(i);for(let e=0;e<i*i;e++){o(e%i,Math.floor(e/i),2,!0,a);const n=t.getElevation(a[0],a[1]),r=t.getElevation(a[2],a[1]),u=t.getElevation(a[2],a[3]),l=t.getElevation(a[0],a[3]),c=t.isLeaf(a[0],a[1]),h=t.isLeaf(a[2],a[1]),p=t.isLeaf(a[2],a[3]),_=t.isLeaf(a[0],a[3]),f=Math.min(n.min,r.min,u.min,l.min),d=Math.max(n.max,r.max,u.max,l.max),m=c&&h&&p&&_;s.maximums.push(d),s.minimums.push(f),s.leaves.push(d-f<=5&&m?1:0)}n.push(s)}return n}(this.dem),n=e.length-1,i=e[n];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(e,0,0,n,0)}raycastRoot(t,e,n,i,r,o,s=1){return Mp([t,e,-100],[n,i,this.maximums[0]*s],r,o)}raycast(t,e,n,i,r,o,s=1){if(!this.nodeCount)return null;const a=this.raycastRoot(t,e,n,i,r,o,s);if(null==a)return null;const u=[],l=[],c=[],h=[],p=[{idx:0,t:a,nodex:0,nodey:0,depth:0}];for(;p.length>0;){const{idx:a,t:_,nodex:f,nodey:d,depth:m}=p.pop();if(this.leaves[a]){Pp(f,d,m,t,e,n,i,c,h);const a=1<<m,u=(f+0)/a,l=(f+1)/a,p=(d+0)/a,y=(d+1)/a,v=Lp(u,p,this.dem)*s,g=Lp(l,p,this.dem)*s,w=Lp(l,y,this.dem)*s,b=Lp(u,y,this.dem)*s,x=Dp(c[0],c[1],v,h[0],c[1],g,h[0],h[1],w,r,o),$=Dp(h[0],h[1],w,c[0],h[1],b,c[0],c[1],v,r,o),C=Math.min(null!==x?x:Number.MAX_VALUE,null!==$?$:Number.MAX_VALUE);if(C!==Number.MAX_VALUE)return C;{const t=A([],r,o,_);if(Np(v,g,b,w,Rp(t[0],c[0],h[0]),Rp(t[1],c[1],h[1]))>=t[2])return _}continue}let y=0;for(let p=0;p<this._siblingOffset.length;p++){Pp((f<<1)+this._siblingOffset[p][0],(d<<1)+this._siblingOffset[p][1],m+1,t,e,n,i,c,h),c[2]=-100,h[2]=this.maximums[this.childOffsets[a]+p]*s;const _=Mp(c,h,r,o);if(null!=_){const t=_;u[p]=t;let e=!1;for(let n=0;n<y&&!e;n++)t>=u[l[n]]&&(l.splice(n,0,p),e=!0);e||(l[y]=p),y++}}for(let t=0;t<y;t++){const e=l[t];p.push({idx:this.childOffsets[a]+e,t:u[e],nodex:(f<<1)+this._siblingOffset[e][0],nodey:(d<<1)+this._siblingOffset[e][1],depth:m+1})}}return null}_addNode(t,e,n){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(t,e,n,i,r){if(1===t[i].isLeaf(e,n))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const o=i-1,s=t[o];let a,u=0;for(let t=0;t<this._siblingOffset.length;t++){const i=2*e+this._siblingOffset[t][0],r=2*n+this._siblingOffset[t][1],o=s.getElevation(i,r),l=s.isLeaf(i,r),c=this._addNode(o.min,o.max,l);l&&(u|=1<<t),a||(a=c)}for(let i=0;i<this._siblingOffset.length;i++)u&1<<i||this._construct(t,2*e+this._siblingOffset[i][0],2*n+this._siblingOffset[i][1],o,a+i)}}function Np(t,e,n,i,r,o){return Nn(Nn(t,n,o),Nn(e,i,o),r)}function Lp(t,e,n){const i=n.dim,r=Z(t*i-.5,0,i-1),o=Z(e*i-.5,0,i-1),s=Math.floor(r),a=Math.floor(o),u=Math.min(s+1,i-1),l=Math.min(a+1,i-1);return Np(n.get(s,a),n.get(u,a),n.get(s,l),n.get(u,l),r-s,o-a)}const qp={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Bp{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,e,n,i=!1,r=!1){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return pt(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=e.height;const o=this.dim=e.height-2;if(this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox",this.borderReady=i,!i){for(let t=0;t<o;t++)this.data[this._idx(-1,t)]=this.data[this._idx(0,t)],this.data[this._idx(o,t)]=this.data[this._idx(o-1,t)],this.data[this._idx(t,-1)]=this.data[this._idx(t,0)],this.data[this._idx(t,o)]=this.data[this._idx(t,o-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(o,-1)]=this.data[this._idx(o-1,0)],this.data[this._idx(-1,o)]=this.data[this._idx(0,o-1)],this.data[this._idx(o,o)]=this.data[this._idx(o-1,o-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new jp(this)}get(t,e,n=!1){const i=new Uint8Array(this.data.buffer);n&&(t=Z(t,-1,this.dim),e=Z(e,-1,this.dim));const r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(i[r],i[r+1],i[r+2])}static getUnpackVector(t){return qp[t]}get unpackVector(){return qp[this.encoding]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)}_unpackMapbox(t,e,n){return(256*t*256+256*e+n)/10-1e4}_unpackTerrarium(t,e,n){return 256*t+e+n/256-32768}static pack(t,e){const n=[0,0,0,0],i=Bp.getUnpackVector(e);let r=Math.floor((t+i[3])/i[2]);return n[2]=r%256,r=Math.floor(r/256),n[1]=r%256,r=Math.floor(r/256),n[0]=r,n}getPixels(){return new Su({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let i=e*this.dim,r=e*this.dim+this.dim,o=n*this.dim,s=n*this.dim+this.dim;switch(e){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=s-1;break;case 1:s=o+1}const a=-e*this.dim,u=-n*this.dim;for(let e=o;e<s;e++)for(let n=i;n<r;n++)this.data[this._idx(n,e)]=t.data[this._idx(n+a,e+u)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}Yr("DEMData",Bp),Yr("DemMinMaxQuadTree",jp,{omit:["dem"]});class Fp{constructor(t,e){this.max=t,this.onRemove=e,this.reset()}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,n){const i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:e,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout((()=>{this.remove(t,r)}),n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const n=t.wrapped().key,i=void 0===e?0:this.data[n].indexOf(e),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}filter(t){const e=[];for(const n in this.data)for(const i of this.data[n])t(i.value)||e.push(i);for(const t of e)this.remove(t.value.tileID,t)}}class Up extends ve{constructor(t,e,n){super(),this.id=t,this._onlySymbols=n,e.on("data",(t=>{"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))})),e.on("error",(()=>{this._sourceErrored=!0})),this._source=e,this._tiles={},this._cache=new Fp(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=null,this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Op}onAdd(t){this.map=t,this._minTileCacheSize=t?t._minTileCacheSize:null,this._maxTileCacheSize=t?t._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const t in this._tiles){const e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,e){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,e)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,(()=>{}))}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,(()=>{}))}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const e in this._tiles){const n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}}getIds(){return Q(this._tiles).map((t=>t.tileID)).sort(Hp).map((t=>t.key))}getRenderableIds(t){const e=[];for(const n in this._tiles)this._isIdRenderable(+n,t)&&e.push(this._tiles[n]);return t?e.sort(((t,e)=>{const n=t.tileID,i=e.tileID,o=new r(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),s=new r(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-i.overscaledZ||s.y-o.y||s.x-o.x})).map((t=>t.tileID.key)):e.map((t=>t.tileID)).sort(Hp).map((t=>t.key))}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(+t,"reloading")}}_reloadTile(t,e){const n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))}_tileLoaded(t,e,n,i){if(i)if(t.state="errored",404!==i.status)this._source.fire(new ye(i,{tile:t}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const t=this.map.painter.terrain;this.update(this.transform,t.getScaledDemTileSize(),!0),t.resetTileLookupCache(this.id)}else this.update(this.transform);else t.timeAdded=$t.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this._source.type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new me("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const e=this.getRenderableIds();for(let i=0;i<e.length;i++){const r=e[i];if(t.neighboringTiles&&t.neighboringTiles[r]){const e=this.getTileByID(r);n(t,e),n(e,t)}}function n(t,e){if(!t.dem||t.dem.borderReady)return;t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0;let n=e.tileID.canonical.x-t.tileID.canonical.x;const i=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,i),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,n,i){for(const r in this._tiles){let o=this._tiles[r];if(i[r]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)continue;let s=o.tileID;for(;o&&o.tileID.overscaledZ>e+1;){const t=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[t.key],o&&o.hasData()&&(s=t)}let a=s;for(;a.overscaledZ>e;)if(a=a.scaledTo(a.overscaledZ-1),t[a.key]){i[s.key]=s;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(let n=t.overscaledZ-1;n>=e;n--){const e=t.scaledTo(n),i=this._getLoadedTile(e);if(i)return i}}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,e){e=e||this._source.tileSize;const n=Math.ceil(t.width/e)+1,i=Math.ceil(t.height/e)+1,r=Math.floor(n*i*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,r):r,s="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(s)}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),t[i.tileID.key]=i}this._tiles=t;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t])}}update(t,e,n){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!n)return;let i;this.updateCacheSize(t,e),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new wp(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(i=t.coveringTiles({tileSize:e||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(i=i.filter((t=>this._source.hasTile(t))))):i=[];const r=this._updateRetainedTiles(i);if(Vp(this._source.type)&&0!==i.length){const t={},e={},n=Object.keys(r);for(const i of n){const n=r[i],o=this._tiles[i];if(!o||o.fadeEndTime&&o.fadeEndTime<=$t.now())continue;const s=this.findLoadedParent(n,Math.max(n.overscaledZ-Up.maxOverzooming,this._source.minzoom));s&&(this._addTile(s.tileID),t[s.tileID.key]=s.tileID),e[i]=n}const o=i[i.length-1].overscaledZ;for(const t in this._tiles){const n=this._tiles[t];if(r[t]||!n.hasData())continue;let i=n.tileID;for(;i.overscaledZ>o;){i=i.scaledTo(i.overscaledZ-1);const o=this._tiles[i.key];if(o&&o.hasData()&&e[i.key]){r[t]=n.tileID;break}}}for(const e in t)r[e]||(this._coveredTiles[e]=!0,r[e]=t[e])}for(const t in r)this._tiles[t].clearFadeHold();const o=function(t,e){const n=[];for(const i in t)i in e||n.push(i);return n}(this._tiles,r);for(const t of o){const e=this._tiles[t];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+t)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const e={};if(0===t.length)return e;const n={},i=t.reduce(((t,e)=>Math.min(t,e.overscaledZ)),1/0),r=t[0].overscaledZ,o=Math.max(r-Up.maxOverzooming,this._source.minzoom),s=Math.max(r+Up.maxUnderzooming,this._source.minzoom),a={};for(const n of t){const t=this._addTile(n);e[n.key]=n,t.hasData()||i<this._source.maxzoom&&(a[n.key]=n)}this._retainLoadedChildren(a,i,s,e);for(const i of t){let t=this._tiles[i.key];if(t.hasData())continue;if(i.canonical.z>=this._source.maxzoom){const t=i.children(this._source.maxzoom)[0],n=this.getTile(t);if(n&&n.hasData()){e[t.key]=t;continue}}else{const t=i.children(this._source.maxzoom);if(e[t[0].key]&&e[t[1].key]&&e[t[2].key]&&e[t[3].key])continue}let r=t.wasRequested();for(let s=i.overscaledZ-1;s>=o;--s){const o=i.scaledTo(s);if(n[o.key])break;if(n[o.key]=!0,t=this.getTile(o),!t&&r&&(t=this._addTile(o)),t&&(e[o.key]=o,r=t.wasRequested(),t.hasData()))break}}return e}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let n,i=this._tiles[t].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}e.push(i.key);const t=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(t),n)break;i=t}for(const t of e)this._loadedParentTiles[t]=n}}_addTile(t){let e=this._tiles[t.key];if(e)return e;e=this._cache.getAndRemove(t),e&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));const n=Boolean(e);if(!n){const n=this.map?this.map.painter:null,i="raster"===this._source.type||"raster-dem"===this._source.type;e=new s_(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,n,i),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))}return e?(e.uses++,this._tiles[t.key]=e,n||this._source.fire(new me("dataloading",{tile:e,coord:e.tileID,dataType:"source"})),e):null}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,"expired"),delete this._timers[t]}),n))}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset()}tilesIn(t,e,n){const i=[],r=this.transform;if(!r)return i;for(const o in this._tiles){const s=this._tiles[o];if(n&&s.clearQueryDebugViz(),s.holdingForFade())continue;const a=t.containsTile(s,r,e);a&&i.push(a)}return i}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map((t=>this._tiles[t].tileID));for(const t of e)t.projMatrix=this.transform.calculateProjMatrix(t.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return!0;if(Vp(this._source.type))for(const t in this._tiles){const e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=$t.now())return!0}return!1}setFeatureState(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)}removeFeatureState(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)}getFeatureState(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)}setDependencies(t,e,n){const i=this._tiles[t];i&&i.setDependencies(e,n)}reloadTilesForDependencies(t,e){for(const n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(+n,"reloading");this._cache.filter((n=>!n.hasDependency(t,e)))}_preloadTiles(t,e){const n=new Map,i=Array.isArray(t)?t:[t],r=this.map.painter.terrain,o=this.usedForTerrain&&r?r.getScaledDemTileSize():this._source.tileSize;for(const t of i){const e=t.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const t of e)n.set(t.key,t);this.usedForTerrain&&t.updateElevation(!1)}const s=Array.from(n.values()),a="raster"===this._source.type||"raster-dem"===this._source.type;J(s,((t,e)=>{const n=new s_(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,this.map.painter,a);this._loadTile(n,(t=>{"raster-dem"===this._source.type&&n.dem&&this._backfillDEM(n),e(t,n)}))}),e)}}function Hp(t,e){const n=Math.abs(2*t.wrap)-+(t.wrap<0),i=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||i-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Vp(t){return"raster"===t||"image"===t||"video"===t}Up.maxOverzooming=10,Up.maxUnderzooming=3;class Yp{constructor(t,e,n){this._demTile=t,this._dem=this._demTile.dem,this._scale=e,this._offset=n}static create(t,e,n){const i=n||t.findDEMTileFor(e);if(!i||!i.dem)return;const r=i.dem,o=i.tileID,s=1<<e.canonical.z-o.canonical.z;return new Yp(i,i.tileSize/Ta/s,[(e.canonical.x/s-o.canonical.x)*r.dim,(e.canonical.y/s-o.canonical.y)*r.dim])}tileCoordToPixel(t,e){const n=e*this._scale+this._offset[1],i=Math.floor(t*this._scale+this._offset[0]),o=Math.floor(n);return new r(i,o)}getElevationAt(t,e,n,i){const r=t*this._scale+this._offset[0],o=e*this._scale+this._offset[1],s=Math.floor(r),a=Math.floor(o),u=this._dem;return i=!!i,n?Nn(Nn(u.get(s,a,i),u.get(s,a+1,i),o-a),Nn(u.get(s+1,a,i),u.get(s+1,a+1,i),o-a),r-s):u.get(s,a,i)}getElevationAtPixel(t,e,n){return this._dem.get(t,e,!!n)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*ja(1,t)*this._dem.stride}}class Wp{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Br(Ta,16,0),this.featureIndexArray=new Vs,this.promoteId=e}insert(t,e,n,i,r,o=0){const s=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r,o);const a=this.grid;for(let t=0;t<e.length;t++){const n=e[t],i=[1/0,1/0,-1/0,-1/0];for(let t=0;t<n.length;t++){const e=n[t];i[0]=Math.min(i[0],e.x),i[1]=Math.min(i[1],e.y),i[2]=Math.max(i[2],e.x),i[3]=Math.max(i[3],e.y)}i[0]<Ta&&i[1]<Ta&&i[2]>=0&&i[3]>=0&&a.insert(s,i[0],i[1],i[2],i[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Il.VectorTile(new yc(this.rawTileData)).layers,this.sourceLayerCoder=new Tp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[]}return this.vtLayers}query(t,e,n,i){this.loadVTLayers();const r=t.params||{},o=or(r.filter),s=t.tileResult,a=t.transform,u=s.bufferedTilespaceBounds,l=this.grid.query(u.min.x,u.min.y,u.max.x,u.max.y,((t,e,n,i)=>uu(s.bufferedTilespaceGeometry,t,e,n,i)));l.sort(Zp);let c=null;a.elevation&&l.length>0&&(c=Yp.create(a.elevation,this.tileID));const h={};let p;for(let a=0;a<l.length;a++){const u=l[a];if(u===p)continue;p=u;const _=this.featureIndexArray.get(u);let f=null;this.loadMatchingFeature(h,_,o,r.layers,r.availableImages,e,n,i,((e,n,i,r=0)=>(f||(f=Ga(e,this.tileID.canonical,t.tileTransform)),n.queryIntersectsFeature(s,e,i,f,this.z,t.transform,t.pixelPosMatrix,c,r))))}return h}loadMatchingFeature(t,e,n,i,r,o,s,a,u){const{featureIndex:l,bucketIndex:c,sourceLayerIndex:h,layoutVertexArrayOffset:p}=e,_=this.bucketLayerIDs[c];if(i&&!function(t,e){for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(i,_))return;const f=this.sourceLayerCoder.decode(h),d=this.vtLayers[f].feature(l);if(n.needGeometry){const t=Za(d,!0);if(!n.filter(new Yo(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!n.filter(new Yo(this.tileID.overscaledZ),d))return;const m=this.getId(d,f);for(let e=0;e<_.length;e++){const n=_[e];if(i&&i.indexOf(n)<0)continue;const c=o[n];if(!c)continue;let h={};void 0!==m&&a&&(h=a.getState(c.sourceLayer||"_geojsonTileLayer",m));const f=tt({},s[n]);f.paint=Gp(f.paint,c.paint,d,h,r),f.layout=Gp(f.layout,c.layout,d,h,r);const y=!u||u(d,c,h,p);if(!y)continue;const v=new Ip(d,this.z,this.x,this.y,m);v.layer=f;let g=t[n];void 0===g&&(g=t[n]=[]),g.push({featureIndex:l,feature:v,intersectionZ:y})}}lookupSymbolFeatures(t,e,n,i,r,o,s,a){const u={};this.loadVTLayers();const l=or(r);for(const r of t)this.loadMatchingFeature(u,{bucketIndex:n,sourceLayerIndex:i,featureIndex:r,layoutVertexArrayOffset:0},l,o,s,a,e);return u}loadFeature(t){const{featureIndex:e,sourceLayerIndex:n}=t;this.loadVTLayers();const i=this.sourceLayerCoder.decode(n),r=this.vtFeatures[i];if(r[e])return r[e];const o=this.vtLayers[i].feature(e);return r[e]=o,o}hasLayer(t){for(const e of this.bucketLayerIDs)for(const n of e)if(t===n)return!0;return!1}getId(t,e){let n=t.id;return this.promoteId&&(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]],"boolean"==typeof n&&(n=Number(n))),n}}function Gp(t,e,n,i,r){return ut(t,((t,o)=>{const s=e instanceof ts?e.get(o):null;return s&&s.evaluate?s.evaluate(n,i,r):s}))}function Zp(t,e){return e-t}Yr("FeatureIndex",Wp,{omit:["rawTileData","sourceLayerCoder"]});var Kp=hs([{name:"a_pos",type:"Int16",components:2}]);const Xp=32,Jp=33,Qp=new Uint16Array(8184);for(let t=0;t<2046;t++){let e=t+2,n=0,i=0,r=0,o=0,s=0,a=0;for(1&e?r=o=s=Xp:n=i=a=Xp;(e>>=1)>1;){const t=n+r>>1,u=i+o>>1;1&e?(r=n,o=i,n=s,i=a):(n=r,i=o,r=s,o=a),s=t,a=u}const u=4*t;Qp[u+0]=n,Qp[u+1]=i,Qp[u+2]=r,Qp[u+3]=o}const t_=new Uint16Array(2178),e_=new Uint8Array(1089),n_=new Uint16Array(1089);function i_(t){return 0===t?-.03125:32===t?.03125:0}var r_=hs([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const o_={type:2,extent:Ta,loadGeometry:()=>[[new r(0,0),new r(8193,0),new r(8193,8193),new r(0,8193),new r(0,0)]]};class s_{constructor(t,e,n,i,r){this.tileID=t,this.uid=nt(),this.uses=0,this.tileSize=e,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=r,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}registerFadeDuration(t){const e=t+this.timeAdded;e<$t.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=$_(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,e,n){if(this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){const n={};if(!e)return n;for(const i of t){const t=i.layerIds.map((t=>e.getLayer(t))).filter(Boolean);if(0!==t.length){i.layers=t,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map((e=>t.filter((t=>t.id===e))[0])));for(const e of t)n[e.id]=i}}return n}(t.buckets,e.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const e=this.buckets[t];if(e instanceof Zh){if(this.hasSymbolBuckets=!0,!n)break;e.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const e=this.buckets[t];if(e instanceof Zh&&e.hasRTLText){this.hasRTLText=!0,Vo.isLoading()||Vo.isLoaded()||"deferred"!==Uo()||Ho();break}}this.queryPadding=0;for(const t in this.buckets){const n=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(t).queryRadius(n))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new js}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this.globeGridBuffer&&(this.globeGridBuffer.destroy(),this.globeGridBuffer=null),this.globePoleBuffer&&(this.globePoleBuffer.destroy(),this.globePoleBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(t){return this.buckets[t.id]}upload(t){for(const e in this.buckets){const n=this.buckets[e];n.uploadPending()&&n.upload(t)}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new hp(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new hp(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new hp(t,this.lineAtlas.image,e.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,e,n,i,r,o,s,a){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:i,pixelPosMatrix:s,transform:o,params:r,tileTransform:this.tileTransform},t,e,n):{}}querySourceFeatures(t,e){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const i=n.loadVTLayers(),r=e?e.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(!o)return;const s=or(e&&e.filter),{z:a,x:u,y:l}=this.tileID.canonical,c={z:a,x:u,y:l};for(let e=0;e<o.length;e++){const i=o.feature(e);if(s.needGeometry){const t=Za(i,!0);if(!s.filter(new Yo(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new Yo(this.tileID.overscaledZ),i))continue;const h=n.getId(i,r),p=new Ip(i,a,u,l,h);p.tile=c,t.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const e=this.expirationTime;if(t.cacheControl){const e=mt(t.cacheControl);e["max-age"]&&(this.expirationTime=Date.now()+1e3*e["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const t=Date.now();let n=!1;if(this.expirationTime>t)n=!1;else if(e)if(this.expirationTime<e)n=!0;else{const i=this.expirationTime-e;i?this.expirationTime=t+Math.max(i,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length||!e)return;const n=this.latestFeatureIndex.loadVTLayers(),i=e.style.listImages();for(const r in this.buckets){if(!e.style.hasLayer(r))continue;const o=this.buckets[r],s=o.layers[0].sourceLayer||"_geojsonTileLayer",a=n[s],u=t[s];if(!a||!u||0===Object.keys(u).length)continue;if(o.update(u,a,i,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Gl||o instanceof ml){const t=e.style._getSourceCache(o.layers[0].source);e._terrain&&e._terrain.enabled&&t&&o.programConfigurations.needsUpload&&e._terrain._clearRenderCacheForTile(t.id,this.tileID)}const l=e&&e.style&&e.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$t.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=$t.now()+t}setDependencies(t,e){const n={};for(const t of e)n[t]=!0;this.dependencies[t]=n}hasDependency(t,e){for(const n of t){const t=this.dependencies[n];if(t)for(const n of e)if(t[n])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,e){if(!e||"mercator"===e.name||this._tileDebugBuffer)return;const n=Ga(o_,this.tileID.canonical,this.tileTransform)[0],i=new _s,r=new Ms;for(let t=0;t<n.length;t++){const{x:e,y:o}=n[t];i.emplaceBack(e,o),r.emplaceBack(t)}r.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(r),this._tileDebugBuffer=t.createVertexBuffer(i,r_.members),this._tileDebugSegments=Sa.simpleSegment(0,0,i.length,r.length)}_makeTileBoundsBuffers(t,e){if(this._tileBoundsBuffer||!e||"mercator"===e.name)return;const n=Ga(o_,this.tileID.canonical,this.tileTransform)[0];let i,r;if(this.isRaster){const t=function(t,e){const n=$_(t,e),i=Math.pow(2,t.z);for(let r=0;r<Jp;r++)for(let o=0;o<Jp;o++){const s=Na((t.x+(o+i_(o))/Xp)/i),a=La((t.y+(r+i_(r))/Xp)/i),u=e.project(s,a),l=r*Jp+o;t_[2*l+0]=Math.round((u.x*n.scale-n.x)*Ta),t_[2*l+1]=Math.round((u.y*n.scale-n.y)*Ta)}e_.fill(0),n_.fill(0);for(let t=2045;t>=0;t--){const e=4*t,n=Qp[e+0],i=Qp[e+1],r=Qp[e+2],o=Qp[e+3],s=n+r>>1,a=i+o>>1,u=s+a-i,l=a+n-s,c=i*Jp+n,h=o*Jp+r,p=a*Jp+s,_=Math.hypot((t_[2*c+0]+t_[2*h+0])/2-t_[2*p+0],(t_[2*c+1]+t_[2*h+1])/2-t_[2*p+1])>=16;if(e_[p]=e_[p]||(_?1:0),t<1022){const t=(i+l>>1)*Jp+(n+u>>1),e=(o+l>>1)*Jp+(r+u>>1);e_[p]=e_[p]||e_[t]||e_[e]}}const r=new fs,o=new Es;let s=0;function a(t,e){const n=e*Jp+t;return 0===n_[n]&&(r.emplaceBack(t_[2*n+0],t_[2*n+1],t*Ta/Xp,e*Ta/Xp),n_[n]=++s),n_[n]-1}function u(t,e,n,i,r,s){const l=t+n>>1,c=e+i>>1;if(Math.abs(t-r)+Math.abs(e-s)>1&&e_[c*Jp+l])u(r,s,t,e,l,c),u(n,i,r,s,l,c);else{const u=a(t,e),l=a(n,i),c=a(r,s);o.emplaceBack(u,l,c)}}return u(0,0,Xp,Xp,Xp,0),u(Xp,Xp,0,0,0,Xp),{vertices:r,indices:o}}(this.tileID.canonical,e);i=t.vertices,r=t.indices}else{i=new fs,r=new Es;for(const{x:t,y:e}of n)i.emplaceBack(t,e,0,0);const t=Du(i.int16,void 0,4);for(let e=0;e<t.length;e+=3)r.emplaceBack(t[e],t[e+1],t[e+2])}this._tileBoundsBuffer=t.createVertexBuffer(i,r_.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(r),this._tileBoundsSegments=Sa.simpleSegment(0,0,i.length,r.length)}}const a_=hs([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_merc_pos",components:2},{type:"Float32",name:"a_uv",components:2}]),u_=hs([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:l_}=a_;function c_(t,e){const n=t.fovAboveCenter,i=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,r=(t._camera.position[2]*t.worldSize-i)/Math.cos(t._pitch),o=Math.sin(n)*r/Math.sin(Math.max(Math.PI/2-t._pitch-n,.01)),s=Math.sin(t._pitch)*o+r;return Math.min(1.01*s,r*(1/t._horizonShift))}const h_=Ta/Math.PI/2,p_=-h_,__=h_,f_=[new yu([p_,p_,p_],[__,__,__]),new yu([p_,p_,p_],[0,0,__]),new yu([0,p_,p_],[__,0,__]),new yu([p_,0,p_],[0,__,__]),new yu([0,0,p_],[__,__,__])];function d_(t){if(t.z<=1)return f_[t.z+2*t.y+t.x];const[e,n]=m_(t),i=[v_(e[0],e[1]),v_(e[0],n[1]),v_(n[0],e[1]),v_(n[0],n[1])],r=[__,__,__],o=[p_,p_,p_];for(const t of i)r[0]=Math.min(r[0],t[0]),r[1]=Math.min(r[1],t[1]),r[2]=Math.min(r[2],t[2]),o[0]=Math.max(o[0],t[0]),o[1]=Math.max(o[1],t[1]),o[2]=Math.max(o[2],t[2]);return new yu(r,o)}function m_(t){const e=Math.pow(2,t.z),n=t.x/e,i=(t.x+1)/e,r=(t.y+1)/e;return[[La(t.y/e),Na(n)],[La(r),Na(i)]]}function y_(t,e,n,i){return n=U(n),i||(i=h_),[t*Math.sin(n)*i,-e*i,t*Math.cos(n)*i]}function v_(t,e,n){return y_(Math.cos(U(t)),Math.sin(U(t)),e,n)}function g_(t){return 16383/Math.max(...M([],t.max,t.min))}function w_(t){const e=c(new Float64Array(16)),n=1/g_(t);return p(e,e,t.min),_(e,e,[n,n,n]),e}function b_(t,e,n){const i=e/(2*Math.PI),r=function(t){const e=Ta/(2*Math.PI);return t/(2*Math.PI)/e}(e);if(!n){const i=Z(t.center.lat,-85.051129,Ba);n=[Ra(t.center.lng)*e,Pa(i)*e]}const o=c(new Float64Array(16));return p(o,o,[n[0],n[1],-i]),_(o,o,[r,r,r]),f(o,o,U(-t._center.lat)),d(o,o,U(-t._center.lng)),o}class x_{constructor(t){const e=this._createGridIndices();this.gridIndexBuffer=t.createIndexBuffer(e,!0),this.gridSegments=Sa.simpleSegment(0,0,4225,8192);const n=this._createPoleTriangleIndices();this.poleIndexBuffer=t.createIndexBuffer(n,!0),this.poleSegments=Sa.simpleSegment(0,0,66,64);const i=new Is;i.emplaceBack(-1,1,1,0,0,0,0),i.emplaceBack(1,1,1,0,0,1,0),i.emplaceBack(1,-1,1,0,0,1,1),i.emplaceBack(-1,-1,1,0,0,0,1);const r=new Es;r.emplaceBack(0,1,2),r.emplaceBack(2,3,0),this.atmosphereVertexBuffer=t.createVertexBuffer(i,u_.members),this.atmosphereIndexBuffer=t.createIndexBuffer(r),this.atmosphereSegments=Sa.simpleSegment(0,0,4,2)}destroy(){this.poleIndexBuffer.destroy(),this.gridIndexBuffer.destroy(),this.poleSegments.destroy(),this.gridSegments.destroy(),this.atmosphereVertexBuffer.destroy(),this.atmosphereIndexBuffer.destroy(),this.atmosphereSegments.destroy(),this.wireframeIndexBuffer&&(this.wireframeIndexBuffer.destroy(),this.wireframeSegments.destroy())}static createPoleTriangleVertices(t,e,n){const i=new Is,r=e/Math.PI/2;i.emplaceBack(0,-r,0,0,0,.5,n?0:1);const o=360/t,s=Math.cos(U(85)),a=Math.sin(U(85));for(let t=0;t<=64;t++){const e=t/64,l=y_(s,a,0*(1-(u=e))+o*u,r);i.emplaceBack(l[0],l[1],l[2],0,0,e,n?0:1)}var u;return i}_createPoleTriangleIndices(){const t=new Es;for(let e=0;e<=64;e++)t.emplaceBack(0,e+1,e+2);return t}static createGridVertices(t){const e=Math.pow(2,t.z),n=(t,e,n)=>t*(1-n)+e*n,[i,r]=m_(t),o=new Is,s=function(t){const e=c(new Float64Array(16)),n=g_(t);var i,r;return _(e,e,[n,n,n]),p(e,e,((i=[])[0]=-(r=t.min)[0],i[1]=-r[1],i[2]=-r[2],i)),e}(d_(t));o.reserve(4096);for(let a=0;a<65;a++){const u=n(i[0],r[0],a/64),l=Pa(u),c=l*e-t.y,h=Math.sin(U(u)),p=Math.cos(U(u));for(let t=0;t<65;t++){const e=t/64,a=n(i[1],r[1],e),u=y_(p,h,a);I(u,u,s);const _=Ra(a);o.emplaceBack(u[0],u[1],u[2],_,l,e,c)}}return o}_createGridIndices(){const t=new Es,e=(e,n)=>{const i=65*n+e;t.emplaceBack(i+1,i,i+65),t.emplaceBack(i+65,i+65+1,i+1)};for(let t=0;t<64;t++)for(let n=0;n<64;n++)e(n,t);return t}getWirefameBuffer(t){if(!this.wireframeSegments){const e=this._createWireframeGrid();this.wireframeIndexBuffer=t.createIndexBuffer(e),this.wireframeSegments=Sa.simpleSegment(0,0,4096,e.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}_createWireframeGrid(){const t=new zs,e=(e,n)=>{const i=65*n+e;t.emplaceBack(i,i+1),t.emplaceBack(i,i+65),t.emplaceBack(i,i+65+1)};for(let t=0;t<64;t++)for(let n=0;n<64;n++)e(n,t);return t}}function $_(t,e){if(!e.isReprojectedInTileSpace)return{scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};const n=Math.pow(2,-t.z),i=t.x*n,r=(t.x+1)*n,o=t.y*n,s=(t.y+1)*n,a=Na(i),u=Na(r),l=La(o),c=La(s),h=e.project(a,l),p=e.project(u,l),_=e.project(u,c),f=e.project(a,c);let d=Math.min(h.x,p.x,_.x,f.x),m=Math.min(h.y,p.y,_.y,f.y),y=Math.max(h.x,p.x,_.x,f.x),v=Math.max(h.y,p.y,_.y,f.y);const g=n/16;function w(t,n,i,r,o,s){const a=(i+o)/2,u=(r+s)/2,l=e.project(Na(a),La(u)),c=Math.max(0,d-l.x,m-l.y,l.x-y,l.y-v);d=Math.min(d,l.x),y=Math.max(y,l.x),m=Math.min(m,l.y),v=Math.max(v,l.y),c>g&&(w(t,l,i,r,a,u),w(l,n,a,u,o,s))}w(h,p,i,o,r,o),w(p,_,r,o,r,s),w(_,f,r,s,i,s),w(f,h,i,s,i,o),d-=g,m-=g,y+=g,v+=g;const b=1/Math.max(y-d,v-m);return{scale:b,x:d*b,y:m*b,x2:y*b,y2:v*b,projection:e}}class C_{constructor(t){const e={},n=[];for(const i in t){const r=t[i],o=e[i]={};for(const t in r.glyphs){const e=r.glyphs[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const i=e.metrics.localGlyph?2:1,s={x:0,y:0,w:e.bitmap.width+2*i,h:e.bitmap.height+2*i};n.push(s),o[t]=s}}const{w:i,h:r}=qc(n),o=new ku({width:i||1,height:r||1});for(const n in t){const i=t[n];for(const t in i.glyphs){const r=i.glyphs[+t];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const s=e[n][t],a=r.metrics.localGlyph?2:1;ku.copy(r.bitmap,o,{x:0,y:0},{x:s.x+a,y:s.y+a},r.bitmap)}}this.image=o,this.positions=e}}Yr("GlyphAtlas",C_);class E_{constructor(t){this.tileID=new wp(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=$_(t.tileID.canonical,t.projection),this.projection=t.projection}parse(t,e,n,i,r){this.status="parsing",this.data=t,this.collisionBoxArray=new js;const o=new Tp(Object.keys(t.layers).sort()),s=new Wp(this.tileID,this.promoteId);s.bucketLayerIDs=[];const a={},u=new pp(256,256),l={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:u,availableImages:n},c=e.familiesBySource[this.source];for(const e in c){const i=t.layers[e];if(!i)continue;let r=!1,u=!1;for(const t of c[e])"symbol"===t[0].type?r=!0:u=!0;if(!0===this.isSymbolTile&&!r)continue;if(!1===this.isSymbolTile&&!u)continue;1===i.version&&pt(`Vector tile source "${this.source}" layer "${e}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=o.encode(e),p=[];for(let t=0;t<i.length;t++){const n=i.feature(t),r=s.getId(n,e);p.push({feature:n,id:r,index:t,sourceLayerIndex:h})}for(const t of c[e]){const e=t[0];void 0!==this.isSymbolTile&&"symbol"===e.type!==this.isSymbolTile||e.minzoom&&this.zoom<Math.floor(e.minzoom)||e.maxzoom&&this.zoom>=e.maxzoom||"none"!==e.visibility&&(A_(t,this.zoom,n),(a[e.id]=e.createBucket({index:s.bucketLayerIDs.length,layers:t,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,availableImages:n})).populate(p,l,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(t.map((t=>t.id))))}}let h,p,_,f;u.trim();const d={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},m=ut(l.glyphDependencies,(t=>Object.keys(t).map(Number)));Object.keys(m).length?i.send("getGlyphs",{uid:this.uid,stacks:m},((t,e)=>{h||(h=t,p=e,g.call(this))}),void 0,!1,d):p={};const y=Object.keys(l.iconDependencies);y.length?i.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},((t,e)=>{h||(h=t,_=e,g.call(this))}),void 0,!1,d):_={};const v=Object.keys(l.patternDependencies);function g(){if(h)return r(h);if(p&&_&&f){const t=new C_(p),e=new Fc(_,f);for(const i in a){const r=a[i];r instanceof Zh?(A_(r.layers,this.zoom,n),Mh(r,p,t.positions,_,e.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection),r.projection=this.projection.name):r.hasPattern&&(r instanceof Gl||r instanceof ml||r instanceof Rl)&&(A_(r.layers,this.zoom,n),r.addFeatures(l,this.tileID.canonical,e.patternPositions,n))}this.status="done",r(null,{buckets:Q(a).filter((t=>!t.isEmpty())),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:u,imageAtlas:e,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?_:null,glyphPositions:this.returnDependencies?t.positions:null})}}v.length?i.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"patterns"},((t,e)=>{h||(h=t,f=e,g.call(this))}),void 0,!1,d):f={},g.call(this)}}function A_(t,e,n){const i=new Yo(e);for(const e of t)e.recalculate(i,n)}class k_{constructor(t){this.entries={},this.scheduler=t}request(t,e,n,i){const r=this.entries[t]=this.entries[t]||{callbacks:[]};if(r.result){const[t,n]=r.result;return this.scheduler?this.scheduler.add((()=>{i(t,n)}),e):i(t,n),()=>{}}return r.callbacks.push(i),r.cancel||(r.cancel=n(((n,i)=>{r.result=[n,i];for(const t of r.callbacks)this.scheduler?this.scheduler.add((()=>{t(n,i)}),e):t(n,i);setTimeout((()=>delete this.entries[t]),3e3)}))),()=>{r.result||(r.callbacks=r.callbacks.filter((t=>t!==i)),r.callbacks.length||(r.cancel(),delete this.entries[t]))}}}function S_(t,e,n){const i=JSON.stringify(t.request);return t.data&&(this.deduped.entries[i]={result:[null,t.data]}),this.deduped.request(i,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},(e=>{const i=se(t.request,((t,i,r,o)=>{t?e(t):i&&e(null,{vectorTile:n?void 0:new Il.VectorTile(new yc(i)),rawData:i,cacheControl:r,expires:o})}));return()=>{i.cancel(),e()}}),e)}const T_=c(new Float64Array(16));class I_{constructor(t,e){this._tr=t,this._worldSize=e}createInversionMatrix(){return T_}createTileMatrix(t){let e,n,i;const r=t.canonical,o=c(new Float64Array(16)),s=this._tr.projection;if(s.isReprojectedInTileSpace){const a=$_(r,s);e=1,n=a.x+t.wrap*a.scale,i=a.y,_(o,o,[e/a.scale,e/a.scale,this._tr.pixelsPerMeter/this._worldSize])}else e=this._worldSize/this._tr.zoomScale(r.z),n=(r.x+Math.pow(2,r.z)*t.wrap)*e,i=r.y*e;return p(o,o,[n,i,0]),_(o,o,[e/Ta,e/Ta,1]),o}pointCoordinate(t,e,n){const i=this._tr.horizonLineFromTop(!1),o=new r(t,Math.max(i,e));return this._tr.rayIntersectionCoordinate(this._tr.pointRayIntersection(o,n))}upVector(){return[0,0,1]}upVectorScale(){return 1}}var O_={name:"albers",range:[4,7],center:[-96,37.5],parallels:[29.5,45.5],zAxisUnit:"meters",conic:!0,isReprojectedInTileSpace:!0,unsupportedLayers:["custom"],initializeConstants(){if(this.constants&&q(this.parallels,this.constants.parallels))return;const t=Math.sin(U(this.parallels[0])),e=(t+Math.sin(U(this.parallels[1])))/2,n=1+t*(2*e-t),i=Math.sqrt(n)/e;this.constants={n:e,c:n,r0:i,parallels:this.parallels}},project(t,e){this.initializeConstants();const n=U(t-this.center[0]),i=U(e),{n:r,c:o,r0:s}=this.constants,a=Math.sqrt(o-2*r*Math.sin(i))/r;return{x:a*Math.sin(n*r),y:a*Math.cos(n*r)-s,z:0}},unproject(t,e){this.initializeConstants();const{n,c:i,r0:r}=this.constants,o=r+e;let s=Math.atan2(t,Math.abs(o))*Math.sign(o);o*n<0&&(s-=Math.PI*Math.sign(t)*Math.sign(o));const a=U(this.center[0])*n;s=X(s,-Math.PI-a,Math.PI-a);const u=H(s/n)+this.center[0],l=Math.asin(Z((i-(t*t+o*o)*n*n)/(2*n),-1,1)),c=Z(H(l),-85.051129,Ba);return new za(u,c)},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)};const z_=1.340264,M_=-.081106,D_=893e-6,R_=.003796,P_=Math.sqrt(3)/2;var j_={name:"equalEarth",center:[0,0],range:[3.5,7],zAxisUnit:"meters",isReprojectedInTileSpace:!0,unsupportedLayers:["custom"],project(t,e){e=e/180*Math.PI,t=t/180*Math.PI;const n=Math.asin(P_*Math.sin(e)),i=n*n,r=i*i*i;return{x:.5*(t*Math.cos(n)/(P_*(z_+3*M_*i+r*(7*D_+9*R_*i)))/Math.PI+.5),y:1-.5*(n*(z_+M_*i+r*(D_+R_*i))/Math.PI+1),z:0}},unproject(t,e){t=(2*t-.5)*Math.PI;let n=e=(2*(1-e)-1)*Math.PI,i=n*n,r=i*i*i;for(let t,o,s,a=0;a<12&&(o=n*(z_+M_*i+r*(D_+R_*i))-e,s=z_+3*M_*i+r*(7*D_+9*R_*i),t=o/s,n=Z(n-t,-Math.PI/3,Math.PI/3),i=n*n,r=i*i*i,!(Math.abs(t)<1e-12));++a);const o=P_*t*(z_+3*M_*i+r*(7*D_+9*R_*i))/Math.cos(n),s=Math.asin(Math.sin(n)/P_),a=Z(180*o/Math.PI,-180,180),u=Z(180*s/Math.PI,-85.051129,Ba);return new za(a,u)},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)},N_={name:"equirectangular",supportsWorldCopies:!0,center:[0,0],range:[3.5,7],zAxisUnit:"meters",wrap:!0,isReprojectedInTileSpace:!0,unsupportedLayers:["custom"],project:(t,e)=>({x:.5+t/360,y:.5-e/360,z:0}),unproject(t,e){const n=360*(t-.5),i=Z(360*(.5-e),-85.051129,Ba);return new za(n,i)},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)};const L_=Math.PI/2;function q_(t){return Math.tan((L_+t)/2)}var B_={name:"lambertConformalConic",range:[3.5,7],zAxisUnit:"meters",center:[0,30],parallels:[30,30],conic:!0,isReprojectedInTileSpace:!0,unsupportedLayers:["custom"],initializeConstants(){if(this.constants&&q(this.parallels,this.constants.parallels))return;const t=U(this.parallels[0]),e=U(this.parallels[1]),n=Math.cos(t),i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(q_(e)/q_(t)),r=n*Math.pow(q_(t),i)/i;this.constants={n:i,f:r,parallels:this.parallels}},project(t,e){this.initializeConstants(),e=U(e),t=U(t-this.center[0]);const n=1e-6,{n:i,f:r}=this.constants;r>0?e<-L_+n&&(e=-L_+n):e>L_-n&&(e=L_-n);const o=r/Math.pow(q_(e),i),s=o*Math.sin(i*t),a=r-o*Math.cos(i*t);return{x:.5*(s/Math.PI+.5),y:1-.5*(a/Math.PI+.5),z:0}},unproject(t,e){this.initializeConstants(),t=(2*t-.5)*Math.PI,e=(2*(1-e)-.5)*Math.PI;const{n,f:i}=this.constants,r=i-e,o=Math.sign(r),s=Math.sign(n)*Math.sqrt(t*t+r*r);let a=Math.atan2(t,Math.abs(r))*o;r*n<0&&(a-=Math.PI*Math.sign(t)*o);const u=Z(H(a/n)+this.center[0],-180,180),l=Z(H(2*Math.atan(Math.pow(i/s,1/n))-L_),-85.051129,Ba);return new za(u,l)},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)},F_={name:"mercator",wrap:!0,requiresDraping:!1,supportsWorldCopies:!0,supportsTerrain:!0,supportsFog:!0,supportsFreeCamera:!0,zAxisUnit:"meters",center:[0,0],project:(t,e)=>({x:Ra(t),y:Pa(e),z:0}),unproject(t,e){const n=Na(t),i=La(e);return new za(n,i)},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)};const U_=U(Ba);var H_={name:"naturalEarth",center:[0,0],range:[3.5,7],isReprojectedInTileSpace:!0,zAxisUnit:"meters",unsupportedLayers:["custom"],project(t,e){const n=(e=U(e))*e,i=n*n;return{x:.5*((t=U(t))*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791))/Math.PI+.5),y:1-.5*(e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))/Math.PI+1),z:0}},unproject(t,e){t=(2*t-.5)*Math.PI;let n=e=(2*(1-e)-1)*Math.PI,i=25,r=0,o=n*n;do{o=n*n;const t=o*o;r=(n*(1.007226+o*(.015085+t*(.028874*o-.044475-.005916*t)))-e)/(1.007226+o*(.045255+t*(.259866*o-.311325-.005916*11*t))),n=Z(n-r,-U_,U_)}while(Math.abs(r)>1e-6&&--i>0);o=n*n;const s=Z(H(t/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),a=H(n);return new za(s,a)},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)};const V_=U(Ba),Y_={albers:O_,equalEarth:j_,equirectangular:N_,lambertConformalConic:B_,mercator:F_,naturalEarth:H_,winkelTripel:{name:"winkelTripel",center:[0,0],range:[3.5,7],zAxisUnit:"meters",isReprojectedInTileSpace:!0,unsupportedLayers:["custom"],project(t,e){e=U(e),t=U(t);const n=Math.cos(e),i=2/Math.PI,r=Math.acos(n*Math.cos(t/2)),o=Math.sin(r)/r,s=.5*(t*i+2*n*Math.sin(t/2)/o)||0,a=.5*(e+Math.sin(e)/o)||0;return{x:.5*(s/Math.PI+.5),y:1-.5*(a/Math.PI+1),z:0}},unproject(t,e){let n=t=(2*t-.5)*Math.PI,i=e=(2*(1-e)-1)*Math.PI,r=25;const o=1e-6;let s=0,a=0;do{const r=Math.cos(i),o=Math.sin(i),u=2*o*r,l=o*o,c=r*r,h=Math.cos(n/2),p=Math.sin(n/2),_=2*h*p,f=p*p,d=1-c*h*h,m=d?1/d:0,y=d?Math.acos(r*h)*Math.sqrt(1/d):0,v=.5*(2*y*r*p+2*n/Math.PI)-t,g=.5*(y*o+i)-e,w=.5*m*(c*f+y*r*h*l)+1/Math.PI,b=m*(_*u/4-y*o*p),x=.125*m*(u*p-y*o*c*_),$=.5*m*(l*h+y*f*r)+.5,C=b*x-$*w;s=(g*b-v*$)/C,a=(v*x-g*w)/C,n=Z(n-s,-Math.PI,Math.PI),i=Z(i-a,-V_,V_)}while((Math.abs(s)>o||Math.abs(a)>o)&&--r>0);return new za(H(n),H(i))},projectTilePoint:(t,e)=>({x:t,y:e,z:0}),locationPoint:(t,e)=>t._coordinatePoint(t.locationCoordinate(e),!1),pixelsPerMeter:(t,e)=>ja(1,t)*e,farthestPixelDistance(t){return c_(t,this.pixelsPerMeter(t.center.lat,t.worldSize))},createTileTransform:(t,e)=>new I_(t,e)}};t.ARRAY_TYPE=u,t.AUTH_ERR_MSG=Mt,t.Aabb=yu,t.Actor=class{constructor(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.cancelCallbacks={},st(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=dt()?t:s,this.scheduler=new mp}send(t,e,n,i,r=!1,o){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[s]=n);const a=bt(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:t,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Zr(e,a)},a),{cancel:()=>{n&&delete this.callbacks[s],this.target.postMessage({id:s,type:"<cancel>",targetMapId:i,sourceMapId:this.mapId})}}}receive(t){const e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const t=this.cancelCallbacks[n];delete this.cancelCallbacks[n],t&&t.cancel()}else if(e.mustQueue||dt()){const t=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add((()=>this.processTask(n,e)),t&&t.metadata||{type:"message"})}else this.processTask(n,e)}processTask(t,e){if("<response>"===e.type){const n=this.callbacks[t];delete this.callbacks[t],n&&(e.error?n(Kr(e.error)):n(null,Kr(e.data)))}else{const n=bt(this.globalScope)?void 0:[],i=e.hasCallback?(e,i)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:"<response>",sourceMapId:this.mapId,error:e?Zr(e):null,data:Zr(i,n)},n)}:t=>{},r=Kr(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,r,i);else if(this.parent.getWorkerSource){const t=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,t[0],r.source)[t[1]](r,i)}else i(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},t.CanonicalTileID=vp,t.Color=Ve,t.ColorMode=Ep,t.CullFaceMode=Sp,t.DEMData=Bp,t.DataConstantProperty=es,t.DedupedRequest=k_,t.DepthMode=xp,t.EXTENT=Ta,t.Elevation=class{getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,n=!0){null==e&&(e=null);const i=this._source();if(!i)return e;if(t.y<0||t.y>1)return e;const r=i.getSource().maxzoom,o=1<<r,s=Math.floor(t.x),a=t.x-s,u=new wp(r,s,r,Math.floor(a*o),Math.floor(t.y*o)),l=this.findDEMTileFor(u);if(!l||!l.dem)return e;const c=l.dem,h=1<<l.tileID.canonical.z,p=(a*h-l.tileID.canonical.x)*c.dim,_=(t.y*h-l.tileID.canonical.y)*c.dim,f=Math.floor(p),d=Math.floor(_);return(n?this.exaggeration():1)*Nn(Nn(c.get(f,d),c.get(f,d+1),_-d),Nn(c.get(f+1,d),c.get(f+1,d+1),_-d),p-f)}getAtTileOffset(t,e,n){const i=1<<t.canonical.z;return this.getAtPointOrZero(new Fa(t.wrap+(t.canonical.x+e/Ta)/i,(t.canonical.y+n/Ta)/i))}getAtTileOffsetFunc(t,e){return n=>{const i=this.getAtTileOffset(t,n.x,n.y),r=e.upVector(t.canonical,n.x,n.y);return E(r,r,i*e.upVectorScale(t.canonical)),r}}getForTilePoints(t,e,n,i){const r=Yp.create(this,t,i);return!!r&&(e.forEach((t=>{t[2]=this.exaggeration()*r.getElevationAt(t[0],t[1],n)})),!0)}getMinMaxForTile(t){const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const n=e.dem.tree,i=e.tileID,r=1<<t.canonical.z-i.canonical.z;let o=t.canonical.x/r-i.canonical.x,s=t.canonical.y/r-i.canonical.y,a=0;for(let e=0;e<t.canonical.z-i.canonical.z&&!n.leaves[a];e++){o*=2,s*=2;const t=2*Math.floor(s)+Math.floor(o);a=n.childOffsets[a]+t,o%=1,s%=1}return{min:this.exaggeration()*n.minimums[a],max:this.exaggeration()*n.maximums[a]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(t,e,n){throw new Error("Pure virtual method called.")}pointCoordinate(t){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(t){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},t.ErrorEvent=ye,t.EvaluationParameters=Yo,t.Event=me,t.Evented=ve,t.Frustum=mu,t.GLOBE_ZOOM_THRESHOLD_MAX=6,t.GlobeSharedBuffers=x_,t.GlyphManager=vh,t.ImagePosition=Bc,t.LineAtlas=pp,t.LngLat=za,t.LngLatBounds=Ia,t.LocalGlyphMode=yh,t.MAX_MERCATOR_LATITUDE=Ba,t.MercatorCoordinate=Fa,t.ONE_EM=oc,t.OverscaledTileID=wp,t.Properties=ss,t.RGBAImage=Su,t.Ray=class{constructor(t,e){this.pos=t,this.dir=e}intersectsPlane(t,e,n){const i=S(e,this.dir);if(Math.abs(i)<1e-6)return!1;const r=((t[0]-this.pos[0])*e[0]+(t[1]-this.pos[1])*e[1]+(t[2]-this.pos[2])*e[2])/i;return n[0]=this.pos[0]+this.dir[0]*r,n[1]=this.pos[1]+this.dir[1]*r,n[2]=this.pos[2]+this.dir[2]*r,!0}closestPointOnSphere(t,e,n){if(function(t,e){var n=t[0],i=t[1],r=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-u)<=a*Math.max(1,Math.abs(r),Math.abs(u))}(this.pos,t)||0===e)return n[0]=n[1]=n[2]=0,!1;const[i,r,o]=this.dir,s=this.pos[0]-t[0],u=this.pos[1]-t[1],l=this.pos[2]-t[2],c=i*i+r*r+o*o,h=2*(s*i+u*r+l*o),p=h*h-4*c*(s*s+u*u+l*l-e*e);if(p<0){const t=Math.max(-h/2,0),a=s+i*t,c=u+r*t,p=l+o*t,_=Math.hypot(a,c,p);return n[0]=a*e/_,n[1]=c*e/_,n[2]=p*e/_,!1}{const t=(-h-Math.sqrt(p))/(2*c);if(t<0){const t=Math.hypot(s,u,l);return n[0]=s*e/t,n[1]=u*e/t,n[2]=l*e/t,!1}return n[0]=s+i*t,n[1]=u+r*t,n[2]=l+o*t,!0}}},t.RequestManager=class{constructor(t,e,n){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const t=function(){let t="";for(let e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",zt,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!Dt(t))return t;const n=jt(t);return n.path=`/styles/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!Dt(t))return t;const n=jt(t);return n.path=`/fonts/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||e)}normalizeSourceURL(t,e){if(!Dt(t))return t;const n=jt(t);return n.path=`/v4/${n.authority}.json`,n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)}normalizeSpriteURL(t,e,n,i){const r=jt(t);return Dt(t)?(r.path=`/styles/v1${r.path}/sprite${e}${n}`,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=`${e}${n}`,Nt(r))}normalizeTileURL(t,e,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!Dt(t))return t;const i=jt(t);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||n&&"raster"!==i.authority&&512===n?"@2x":""}${At.supported?".webp":"$1"}`),"raster"===i.authority?i.path=`/${Et.RASTER_URL_PREFIX}${i.path}`:(i.path=i.path.replace(/^.+\/v4\//,"/"),i.path=`/${Et.TILE_URL_VERSION}${i.path}`);const r=this._customAccessToken||function(t){for(const e of t){const t=e.match(/^access_token=(.*)$/);if(t)return t[1]}return null}(i.params)||Et.ACCESS_TOKEN;return Et.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&i.params.push(`sku=${this._skuToken}`),this._makeAPIURL(i,r)}canonicalizeTileURL(t,e){const n=jt(t);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return t;let i="mapbox://";n.path.match(/^\/raster\/v1\//)?i+=`raster/${n.path.replace(`/${Et.RASTER_URL_PREFIX}/`,"")}`:i+=`tiles/${n.path.replace(`/${Et.TILE_URL_VERSION}/`,"")}`;let r=n.params;return e&&(r=r.filter((t=>!t.match(/^access_token=/)))),r.length&&(i+=`?${r.join("&")}`),i}canonicalizeTileset(t,e){const n=!!e&&Dt(e),i=[];for(const e of t.tiles||[])Rt(e)?i.push(this.canonicalizeTileURL(e,n)):i.push(e);return i}_makeAPIURL(t,e){const n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",i=jt(Et.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"http"===t.protocol){const e=t.params.indexOf("secure");e>=0&&t.params.splice(e,1)}if("/"!==i.path&&(t.path=`${i.path}${t.path}`),!Et.REQUIRE_ACCESS_TOKEN)return Nt(t);if(e=e||Et.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${n}`);if("s"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${n}`)}return t.params=t.params.filter((t=>-1===t.indexOf("access_token"))),t.params.push(`access_token=${e||""}`),Nt(t)}},t.ResourceType=ne,t.SegmentVector=Sa,t.SourceCache=Up,t.StencilMode=Cp,t.StructArrayLayout1ui2=Ms,t.StructArrayLayout2f1f2i16=$s,t.StructArrayLayout2i4=_s,t.StructArrayLayout2ui4=zs,t.StructArrayLayout3f12=ms,t.StructArrayLayout3ui6=Es,t.StructArrayLayout4i8=fs,t.Texture=hp,t.Tile=s_,t.Transitionable=Zo,t.Uniform1f=oa,t.Uniform1i=class extends ra{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))}},t.Uniform2f=class extends ra{constructor(t,e){super(t,e),this.current=[0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))}},t.Uniform3f=class extends ra{constructor(t,e){super(t,e),this.current=[0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))}},t.Uniform4f=sa,t.UniformColor=aa,t.UniformMatrix2f=class extends ra{constructor(t,e){super(t,e),this.current=ca}set(t){for(let e=0;e<4;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix2fv(this.location,!1,t);break}}},t.UniformMatrix3f=class extends ra{constructor(t,e){super(t,e),this.current=la}set(t){for(let e=0;e<9;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix3fv(this.location,!1,t);break}}},t.UniformMatrix4f=class extends ra{constructor(t,e){super(t,e),this.current=ua}set(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(let e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}},t.UnwrappedTileID=gp,t.ValidationError=we,t.VectorTileWorkerSource=class extends ve{constructor(t,e,n,i,r){super(),this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||S_,this.loading={},this.loaded={},this.deduped=new k_(t.scheduler),this.isSpriteLoaded=i,this.scheduler=t.scheduler}loadTile(t,e){const n=t.uid,i=t&&t.request,r=i&&i.collectResourceTiming,o=this.loading[n]=new E_(t);o.abort=this.loadVectorData(t,((s,a)=>{const u=!this.loading[n];if(delete this.loading[n],u||s||!a)return o.status="done",u||(this.loaded[n]=o),e(s);const l=a.rawData,c={};a.expires&&(c.expires=a.expires),a.cacheControl&&(c.cacheControl=a.cacheControl),o.vectorTile=a.vectorTile||new Il.VectorTile(new yc(l));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,n)=>{if(t||!n)return e(t);const o={};if(r){const t=dp(i);t.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(t)))}e(null,tt({rawTileData:l.slice(0)},n,c,o))}))};this.isSpriteLoaded?h():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):h()})),this.loaded=this.loaded||{},this.loaded[n]=o}))}reloadTile(t,e){const n=this.loaded,i=t.uid,r=this;if(n&&n[i]){const o=n[i];o.showCollisionBoxes=t.showCollisionBoxes,o.enableTerrain=!!t.enableTerrain,o.projection=t.projection;const s=(t,n)=>{const i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,this.availableImages,r.actor,i)),e(t,n)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}abortTile(t,e){const n=t.uid,i=this.loading[n];i&&(i.abort&&i.abort(),delete this.loading[n]),e()}removeTile(t,e){const n=this.loaded,i=t.uid;n&&n[i]&&delete n[i],e()}},t.WritingMode=Uc,t.ZoomHistory=Xr,t.add=b,t.addDynamicAttributes=Vh,t.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8];return t[0]=s*c-a*l,t[1]=r*l-i*c,t[2]=i*a-r*s,t[3]=a*u-o*c,t[4]=n*c-r*u,t[5]=r*o-n*a,t[6]=o*l-s*u,t[7]=i*u-n*l,t[8]=n*s-i*o,t},t.asyncAll=J,t.bezier=W,t.bindAll=st,t.boundsAttributes=r_,t.bufferConvexPolygon=function(t,e){const n=[];for(let i=0;i<t.length;i++){const r=X(i-1,-1,t.length-1),o=X(i+1,-1,t.length-1),s=t[i],a=t[o],u=t[r].sub(s).unit(),l=a.sub(s).unit(),c=l.angleWithSep(u.x,u.y),h=u.add(l).unit().mult(-1*e/Math.sin(c/2));n.push(s.add(h))}return n},t.cacheEntryPossiblyAdded=function(t){ee++,ee>Jt&&(t.getActor().send("enforceCacheSizeLimit",Xt),ee=0)},t.calculateGlobeMatrix=b_,t.calculateGlobeMercatorMatrix=function(t){const e=t.worldSize,n=Z(t.center.lat,-85.051129,Ba),i=new r(Ra(t.center.lng)*e,Pa(n)*e),o=ja(1,t.center.lat)*e,s=t.pixelsPerMeter,a=e/(o/t.pixelsPerMeter),u=c(new Float64Array(16));return p(u,u,[i.x,i.y,0]),_(u,u,[a,a,s]),u},t.clamp=Z,t.clearTileCache=function(t){const e=s.caches.delete(Gt);t&&e.catch(t).then((()=>t()))},t.clipLine=_h,t.clone=function(t){var e=new u(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=ct,t.collisionCircleLayout=rc,t.config=Et,t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.create=function(){var t=new u(16);return u!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=l,t.createExpression=Vi,t.createLayout=hs,t.createStyleLayer=function(t){return"custom"===t.type?new np(t):new op[t.type](t)},t.cross=T,t.degToRad=U,t.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},t.dot=S,t.ease=G,t.easeCubicInOut=Y,t.emitValidationErrors=qr,t.endsWith=at,t.enforceCacheSizeLimit=function(t){Qt(),Zt&&Zt.then((e=>{e.keys().then((n=>{for(let i=0;i<n.length-t;i++)e.delete(n[i])}))}))},t.evaluateSizeForFeature=uc,t.evaluateSizeForZoom=lc,t.evaluateVariableOffset=zh,t.evented=Fo,t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.exported=$t,t.exported$1=At,t.extend=tt,t.extend$1=xe,t.filterObject=lt,t.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},t.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n+n,a=i+i,u=r+r,l=n*s,c=i*s,h=i*a,p=r*s,_=r*a,f=r*u,d=o*s,m=o*a,y=o*u;return t[0]=1-h-f,t[1]=c+y,t[2]=p-m,t[3]=0,t[4]=c-y,t[5]=1-l-f,t[6]=_+d,t[7]=0,t[8]=p+m,t[9]=_-d,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return V[e]},t.getAABBPointSquareDist=function(t,e,n){let i=0;for(let r=0;r<2;++r){const o=n?n[r]:0;t[r]>o&&(i+=(t[r]-o)*(t[r]-o)),e[r]<o&&(i+=(o-e[r])*(o-e[r]))}return i},t.getAnchorAlignment=eh,t.getAnchorJustification=Dh,t.getBounds=function(t){let e=1/0,n=1/0,i=-1/0,o=-1/0;for(const r of t)e=Math.min(e,r.x),n=Math.min(n,r.y),i=Math.max(i,r.x),o=Math.max(o,r.y);return{min:new r(e,n),max:new r(i,o)}},t.getColumn=function(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]},t.getImage=_e,t.getJSON=function(t,e){return oe(tt(t,{type:"json"}),e)},t.getMapSessionAPI=Yt,t.getPerformanceMeasurement=dp,t.getProjection=function(t){const e=Y_[t.name];if(!e)throw new Error(`Invalid projection name: ${t.name}`);return e.conic?function(t,e){if(e.parallels&&Math.abs(e.parallels[0]+e.parallels[1])<.01){let n=function(t){const e=Math.max(.01,Math.cos(U(t))),n=1/(2*Math.max(Math.PI*e,1/e));return{wrap:!0,supportsWorldCopies:!0,unsupportedLayers:["custom"],project(t,i){const r=U(t)*e,o=Math.sin(U(i))/e;return{x:r*n+.5,y:-o*n+.5,z:0}},unproject(t,i){const r=-(i-.5)/n,o=Z(H((t-.5)/n)/e,-180,180),s=Math.asin(Z(r*e,-1,1)),a=Z(H(s),-85.051129,Ba);return new za(o,a)}}}(e.parallels[0]);if("lambertConformalConic"===e.name){const{project:t,unproject:e}=Y_.mercator;n={wrap:!0,supportsWorldCopies:!0,project:t,unproject:e}}return tt({},t,e,n)}return tt({},t,e)}(e,t):e},t.getRTLTextPluginStatus=Uo,t.getReferrer=re,t.getTilePoint=function(t,{x:e,y:n},i=0){return new r(((e-i)*t.scale-t.x)*Ta,(n*t.scale-t.y)*Ta)},t.getTileVec3=function(t,e,n=0){return w(((e.x-n)*t.scale-t.x)*Ta,(e.y*t.scale-t.y)*Ta,qa(e.z,e.y))},t.getVideo=function(t,e){const n=s.document.createElement("video");n.muted=!0,n.onloadstart=function(){e(null,n)};for(let e=0;e<t.length;e++){const i=s.document.createElement("source");le(t[e])||(n.crossOrigin="Anonymous"),i.src=t[e],n.appendChild(i)}return{cancel:()=>{}}},t.globeBuffersForTileMesh=function(t,e,n,i){const r=t.context,o=t.transform;let s=e.globeGridBuffer,a=e.globePoleBuffer;if(!s){const t=x_.createGridVertices(n.canonical);s=e.globeGridBuffer=r.createVertexBuffer(t,l_,!1)}if(!a){const t=x_.createPoleTriangleVertices(i,o.tileSize*i,0===n.canonical.y);a=e.globePoleBuffer=r.createVertexBuffer(t,l_,!1)}return[s,a]},t.globeDenormalizeECEF=w_,t.globeMatrixForTile=function(t,e){const n=w_(d_(t)),i=((r=new Float64Array(16))[0]=(o=e)[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],r[9]=o[9],r[10]=o[10],r[11]=o[11],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15],r);var r,o;return m(i,i,n),i},t.globePoleMatrixForTile=function(t,e,n){const i=c(new Float64Array(16)),r=Math.pow(2,t.z),o=(t.x-r/2)/r*Math.PI*2,s=n.point,a=n.worldSize/(n.tileSize*r);return p(i,i,[s.x,s.y,-n.worldSize/Math.PI/2]),_(i,i,[a,a,a]),f(i,i,U(-n._center.lat)),d(i,i,U(-n._center.lng)),d(i,i,o),e&&_(i,i,[1,-1,1]),i},t.globeTileBounds=d_,t.globeToMercatorTransition=function(t){return K(5,6,t)},t.identity=c,t.identity$1=N,t.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],_=e[11],f=e[12],d=e[13],m=e[14],y=e[15],v=n*a-i*s,g=n*u-r*s,w=n*l-o*s,b=i*u-r*a,x=i*l-o*a,$=r*l-o*u,C=c*d-h*f,E=c*m-p*f,A=c*y-_*f,k=h*m-p*d,S=h*y-_*d,T=p*y-_*m,I=v*T-g*S+w*k+b*A-x*E+$*C;return I?(t[0]=(a*T-u*S+l*k)*(I=1/I),t[1]=(r*S-i*T-o*k)*I,t[2]=(d*$-m*x+y*b)*I,t[3]=(p*x-h*$-_*b)*I,t[4]=(u*A-s*T-l*E)*I,t[5]=(n*T-r*A+o*E)*I,t[6]=(m*w-f*$-y*g)*I,t[7]=(c*$-p*w+_*g)*I,t[8]=(s*S-a*A+l*C)*I,t[9]=(i*A-n*S-o*C)*I,t[10]=(f*x-d*w+y*v)*I,t[11]=(h*w-c*x-_*v)*I,t[12]=(a*E-s*k-u*C)*I,t[13]=(n*k-i*E+r*C)*I,t[14]=(d*g-f*b-m*v)*I,t[15]=(c*b-h*g+p*v)*I,t):null},t.isMapAuthenticated=function(t){return Wt.has(t)},t.isMapboxURL=Dt,t.latFromMercatorY=La,t.len=R,t.length=g,t.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},t.loadVectorTile=S_,t.makeRequest=oe,t.mercatorXfromLng=Ra,t.mercatorYfromLat=Pa,t.mercatorZfromAltitude=ja,t.mul=m,t.mul$1=D,t.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=n[0],_=n[1],f=n[2],d=n[3],m=n[4],y=n[5],v=n[6],g=n[7],w=n[8];return t[0]=p*i+_*s+f*l,t[1]=p*r+_*a+f*c,t[2]=p*o+_*u+f*h,t[3]=d*i+m*s+y*l,t[4]=d*r+m*a+y*c,t[5]=d*o+m*u+y*h,t[6]=v*i+g*s+w*l,t[7]=v*r+g*a+w*c,t[8]=v*o+g*u+w*h,t},t.multiply$1=h,t.multiply$2=$,t.nextPowerOfTwo=rt,t.normalize=k,t.normalize$1=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n*n+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=i*s,t[2]=r*s,t[3]=o*s,t},t.number=Nn,t.ortho=function(t,e,n,i,r,o,s){var a=1/(e-n),u=1/(i-r),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*a,t[13]=(r+i)*u,t[14]=(s+o)*l,t[15]=1,t},t.pbf=yc,t.perspective=function(t,e,n,i,r){var o,s=1/Math.tan(e/2);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+i)*(o=1/(i-r)),t[14]=2*r*i*o):(t[10]=-1,t[14]=-2*i),t},t.pick=function(t,e){const n={};for(let i=0;i<e.length;i++){const r=e[i];r in t&&(n[r]=t[r])}return n},t.plugin=Vo,t.pointGeometry=r,t.polygonIntersectsBox=uu,t.polygonIntersectsPolygon=Ja,t.polygonizeBounds=function(t,e,n=0,i=!0){const o=new r(n,n),s=t.sub(o),a=e.add(o),u=[s,new r(a.x,s.y),a,new r(s.x,a.y)];return i&&u.push(s),u},t.posAttributes=Kp,t.postMapLoadEvent=Ht,t.postTurnstileEvent=Ft,t.potpack=qc,t.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.radToDeg=H,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.registerForPluginStateChange=function(t){return t({pluginStatus:No,pluginURL:Lo}),Fo.on("pluginStateChange",t),t},t.removeAuthState=function(t){Wt.delete(t)},t.renderColorRamp=Iu,t.rotateX=f,t.rotateX$1=L,t.rotateY=d,t.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],s=e[1],a=e[2],u=e[3],l=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*i,t[1]=s*r+c*i,t[2]=a*r+h*i,t[3]=u*r+p*i,t[4]=l*r-o*i,t[5]=c*r-s*i,t[6]=h*r-a*i,t[7]=p*r-u*i,t},t.rotateZ$1=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*a,t[1]=r*u-i*a,t[2]=o*u+s*a,t[3]=s*u-o*a,t},t.scale=_,t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=E,t.scaleAndAdd=A,t.setCacheLimits=function(t,e){Xt=t,Jt=e},t.setColumn=function(t,e,n){t[4*e+0]=n[0],t[4*e+1]=n[1],t[4*e+2]=n[2],t[4*e+3]=n[3]},t.setRTLTextPlugin=function(t,e,n=!1){if(No===Do||No===Ro||No===Po)throw new Error("setRTLTextPlugin cannot be called multiple times.");Lo=$t.resolveURL(t),No=Do,jo=e,Bo(),n||Ho()},t.smoothstep=K,t.spec=ge,t.storeAuthState=function(t,e){e?Wt.add(t):Wt.delete(t)},t.sub=M,t.subtract=x,t.symbolSize=cc,t.tileAABB=function(t,e,n,i,r,o,s,a,u){if("globe"===u.name){const s=d_(new gp(o,new vp(n,i,r)).canonical).getCorners(),a=Number.MAX_VALUE,u=[-a,-a,-a],p=[a,a,a],_=b_(t,e);for(let t=0;t<s.length;t++)I(s[t],s[t],_),c=p,h=s[t],(l=p)[0]=Math.min(c[0],h[0]),l[1]=Math.min(c[1],h[1]),l[2]=Math.min(c[2],h[2]),C(u,u,s[t]);return new yu(p,u)}var l,c,h;const p=$_({z:n,x:i,y:r},u);return new yu([(o+p.x/p.scale)*e,e*(p.y/p.scale),s],[(o+p.x2/p.scale)*e,e*(p.y2/p.scale),a])},t.tileTransform=$_,t.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},t.transformMat4=I,t.transformMat4$1=P,t.transformQuat=O,t.translate=p,t.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},t.triggerPluginCompletionEvent=qo,t.uniqueId=nt,t.validateCustomStyleLayer=function(t){const e=[],n=t.id;return void 0===n&&e.push({message:`layers.${n}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${n}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),e},t.validateFog=jr,t.validateLight=Pr,t.validateStyle=Rr,t.values=Q,t.vectorTile=Il,t.version=e,t.warnOnce=pt,t.window=s,t.wrap=X})),i(0,(function(t){function e(t){const n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){let n="[";for(const i of t)n+=`${e(i)},`;return`${n}]`}const i=Object.keys(t).sort();let r="{";for(let n=0;n<i.length;n++)r+=`${JSON.stringify(i[n])}:${e(t[i[n]])},`;return`${r}}`}function n(n){let i="";for(const r of t.refProperties)i+=`/${e(n[r])}`;return i}class i{constructor(t){this.keyCache={},t&&this.replace(t)}replace(t){this._layerConfigs={},this._layers={},this.update(t,[])}update(e,i){for(const n of e)this._layerConfigs[n.id]=n,(this._layers[n.id]=t.createStyleLayer(n)).compileFilter(),this.keyCache[n.id]&&delete this.keyCache[n.id];for(const t of i)delete this.keyCache[t],delete this._layerConfigs[t],delete this._layers[t];this.familiesBySource={};const r=function(t,e){const i={};for(let r=0;r<t.length;r++){const o=e&&e[t[r].id]||n(t[r]);e&&(e[t[r].id]=o);let s=i[o];s||(s=i[o]=[]),s.push(t[r])}const r=[];for(const t in i)r.push(i[t]);return r}(t.values(this._layerConfigs),this.keyCache);for(const t of r){const e=t.map((t=>this._layers[t.id])),n=e[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const o=n.sourceLayer||"_geojsonTileLayer";let s=r[o];s||(s=r[o]=[]),s.push(e)}}}const{ImageBitmap:r}=t.window;class o{loadTile(e,n){const{uid:i,encoding:o,rawImageData:s,padding:a,buildQuadTree:u}=e,l=r&&s instanceof r?this.getImageData(s,a):s;n(null,new t.DEMData(i,l,o,a<1,u))}getImageData(e,n){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const i=this.offscreenCanvasContext.getImageData(-n,-n,e.width+2*n,e.height+2*n);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:i.width,height:i.height},i.data)}}var s=function t(e,n){var i,r=e&&e.type;if("FeatureCollection"===r)for(i=0;i<e.features.length;i++)t(e.features[i],n);else if("GeometryCollection"===r)for(i=0;i<e.geometries.length;i++)t(e.geometries[i],n);else if("Feature"===r)t(e.geometry,n);else if("Polygon"===r)a(e.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<e.coordinates.length;i++)a(e.coordinates[i],n);return e};function a(t,e){if(0!==t.length){u(t[0],e);for(var n=1;n<t.length;n++)u(t[n],!e)}}function u(t,e){for(var n=0,i=0,r=0,o=t.length,s=o-1;r<o;s=r++){var a=(t[r][0]-t[s][0])*(t[s][1]+t[r][1]),u=n+a;i+=Math.abs(n)>=Math.abs(a)?n-u+a:a-u+n,n=u}n+i>=0!=!!e&&t.reverse()}const l=t.vectorTile.VectorTileFeature.prototype.toGeoJSON;class c{constructor(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}loadGeometry(){if(1===this._feature.type){const e=[];for(const n of this._feature.geometry)e.push([new t.pointGeometry(n[0],n[1])]);return e}{const e=[];for(const n of this._feature.geometry){const i=[];for(const e of n)i.push(new t.pointGeometry(e[0],e[1]));e.push(i)}return e}}toGeoJSON(t,e,n){return l.call(this,t,e,n)}}class h{constructor(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e}feature(t){return new c(this._features[t])}}var p=t.vectorTile.VectorTileFeature,_=f;function f(t,e){this.options=e||{},this.features=t,this.length=t.length}function d(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}f.prototype.feature=function(t){return new d(this.features[t],this.options.extent)},d.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var i=e[n],r=[],o=0;o<i.length;o++)r.push(new t.pointGeometry(i[o][0],i[o][1]));this.geometry.push(r)}return this.geometry},d.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var u=s[a];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},d.prototype.toGeoJSON=p.prototype.toGeoJSON;var m=v,y=_;function v(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,g,t.layers[n])}(e,n),n.finish()}function g(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)i.feature=t.feature(n),e.writeMessage(2,w,i);var r=i.keys;for(n=0;n<r.length;n++)e.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)e.writeMessage(4,E,o[n])}function w(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,b,t),e.writeVarintField(3,n.type),e.writeMessage(4,C,n)}function b(t,e){var n=t.feature,i=t.keys,r=t.values,o=t.keycache,s=t.valuecache;for(var a in n.properties){var u=n.properties[a],l=o[a];if(null!==u){void 0===l&&(i.push(a),o[a]=l=i.length-1),e.writeVarint(l);var c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,p=s[h];void 0===p&&(r.push(u),s[h]=p=r.length-1),e.writeVarint(p)}}}function x(t,e){return(e<<3)+(7&t)}function $(t){return t<<1^t>>31}function C(t,e){for(var n=t.loadGeometry(),i=t.type,r=0,o=0,s=n.length,a=0;a<s;a++){var u=n[a],l=1;1===i&&(l=u.length),e.writeVarint(x(1,l));for(var c=3===i?u.length-1:u.length,h=0;h<c;h++){1===h&&1!==i&&e.writeVarint(x(2,c-1));var p=u[h].x-r,_=u[h].y-o;e.writeVarint($(p)),e.writeVarint($(_)),r+=p,o+=_}3===i&&e.writeVarint(x(7,1))}}function E(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function A(t,e,n,i,r,o){if(r-i<=n)return;const s=i+r>>1;k(t,e,s,i,r,o%2),A(t,e,n,i,s-1,o+1),A(t,e,n,s+1,r,o+1)}function k(t,e,n,i,r,o){for(;r>i;){if(r-i>600){const s=r-i+1,a=n-i+1,u=Math.log(s),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);k(t,e,n,Math.max(i,Math.floor(n-a*l/s+c)),Math.min(r,Math.floor(n+(s-a)*l/s+c)),o)}const s=e[2*n+o];let a=i,u=r;for(S(t,e,i,n),e[2*r+o]>s&&S(t,e,i,r);a<u;){for(S(t,e,a,u),a++,u--;e[2*a+o]<s;)a++;for(;e[2*u+o]>s;)u--}e[2*i+o]===s?S(t,e,i,u):(u++,S(t,e,u,r)),u<=n&&(i=u+1),n<=u&&(r=u-1)}}function S(t,e,n,i){T(t,n,i),T(e,2*n,2*i),T(e,2*n+1,2*i+1)}function T(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function I(t,e,n,i){const r=t-n,o=e-i;return r*r+o*o}m.fromVectorTileJs=v,m.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var i in t)n[i]=new _(t[i].features,e),n[i].name=i,n[i].version=e.version,n[i].extent=e.extent;return v({layers:n})},m.GeoJSONWrapper=y;const O=t=>t[0],z=t=>t[1];class M{constructor(t,e=O,n=z,i=64,r=Float64Array){this.nodeSize=i,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(t.length),a=this.coords=new r(2*t.length);for(let i=0;i<t.length;i++)s[i]=i,a[2*i]=e(t[i]),a[2*i+1]=n(t[i]);A(s,a,i,0,s.length-1,0)}range(t,e,n,i){return function(t,e,n,i,r,o,s){const a=[0,t.length-1,0],u=[];let l,c;for(;a.length;){const h=a.pop(),p=a.pop(),_=a.pop();if(p-_<=s){for(let s=_;s<=p;s++)l=e[2*s],c=e[2*s+1],l>=n&&l<=r&&c>=i&&c<=o&&u.push(t[s]);continue}const f=Math.floor((_+p)/2);l=e[2*f],c=e[2*f+1],l>=n&&l<=r&&c>=i&&c<=o&&u.push(t[f]);const d=(h+1)%2;(0===h?n<=l:i<=c)&&(a.push(_),a.push(f-1),a.push(d)),(0===h?r>=l:o>=c)&&(a.push(f+1),a.push(p),a.push(d))}return u}(this.ids,this.coords,t,e,n,i,this.nodeSize)}within(t,e,n){return function(t,e,n,i,r,o){const s=[0,t.length-1,0],a=[],u=r*r;for(;s.length;){const l=s.pop(),c=s.pop(),h=s.pop();if(c-h<=o){for(let r=h;r<=c;r++)I(e[2*r],e[2*r+1],n,i)<=u&&a.push(t[r]);continue}const p=Math.floor((h+c)/2),_=e[2*p],f=e[2*p+1];I(_,f,n,i)<=u&&a.push(t[p]);const d=(l+1)%2;(0===l?n-r<=_:i-r<=f)&&(s.push(h),s.push(p-1),s.push(d)),(0===l?n+r>=_:i+r>=f)&&(s.push(p+1),s.push(c),s.push(d))}return a}(this.ids,this.coords,t,e,n,this.nodeSize)}}const D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},R=Math.fround||(P=new Float32Array(1),t=>(P[0]=+t,P[0]));var P;class j{constructor(t){this.options=V(Object.create(D),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:n,maxZoom:i,nodeSize:r}=this.options;e&&console.time("total time");const o=`prepare ${t.length} points`;e&&console.time(o),this.points=t;let s=[];for(let e=0;e<t.length;e++)t[e].geometry&&s.push(L(t[e],e));this.trees[i+1]=new M(s,Y,W,r,Float32Array),e&&console.timeEnd(o);for(let t=i;t>=n;t--){const n=+Date.now();s=this._cluster(s,t),this.trees[t]=new M(s,Y,W,r,Float32Array),e&&console.log("z%d: %d clusters in %dms",t,s.length,+Date.now()-n)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let n=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let r=180===t[2]?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,r=180;else if(n>r){const t=this.getClusters([n,i,180,o],e),s=this.getClusters([-180,i,r,o],e);return t.concat(s)}const s=this.trees[this._limitZoom(e)],a=s.range(F(n),U(o),F(r),U(i)),u=[];for(const t of a){const e=s.points[t];u.push(e.numPoints?q(e):this.points[e.index])}return u}getChildren(t){const e=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const o=r.points[e];if(!o)throw new Error(i);const s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=r.within(o.x,o.y,s),u=[];for(const e of a){const n=r.points[e];n.parentId===t&&u.push(n.numPoints?q(n):this.points[n.index])}if(0===u.length)throw new Error(i);return u}getLeaves(t,e,n){const i=[];return this._appendLeaves(i,t,e=e||10,n=n||0,0),i}getTile(t,e,n){const i=this.trees[this._limitZoom(t)],r=Math.pow(2,t),{extent:o,radius:s}=this.options,a=s/o,u=(n-a)/r,l=(n+1+a)/r,c={features:[]};return this._addTileFeatures(i.range((e-a)/r,u,(e+1+a)/r,l),i.points,e,n,r,c),0===e&&this._addTileFeatures(i.range(1-a/r,u,1,l),i.points,r,n,r,c),e===r-1&&this._addTileFeatures(i.range(0,u,a/r,l),i.points,-1,n,r,c),c.features.length?c:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e}_appendLeaves(t,e,n,i,r){const o=this.getChildren(e);for(const e of o){const o=e.properties;if(o&&o.cluster?r+o.point_count<=i?r+=o.point_count:r=this._appendLeaves(t,o.cluster_id,n,i,r):r<i?r++:t.push(e),t.length===n)break}return r}_addTileFeatures(t,e,n,i,r,o){for(const s of t){const t=e[s],a=t.numPoints;let u,l,c;if(a)u=B(t),l=t.x,c=t.y;else{const e=this.points[t.index];u=e.properties,l=F(e.geometry.coordinates[0]),c=U(e.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(l*r-n)),Math.round(this.options.extent*(c*r-i))]],tags:u};let p;a?p=t.id:this.options.generateId?p=t.index:this.points[t.index].id&&(p=this.points[t.index].id),void 0!==p&&(h.id=p),o.features.push(h)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}_cluster(t,e){const n=[],{radius:i,extent:r,reduce:o,minPoints:s}=this.options,a=i/(r*Math.pow(2,e));for(let i=0;i<t.length;i++){const r=t[i];if(r.zoom<=e)continue;r.zoom=e;const u=this.trees[e+1],l=u.within(r.x,r.y,a),c=r.numPoints||1;let h=c;for(const t of l){const n=u.points[t];n.zoom>e&&(h+=n.numPoints||1)}if(h>c&&h>=s){let t=r.x*c,s=r.y*c,a=o&&c>1?this._map(r,!0):null;const p=(i<<5)+(e+1)+this.points.length;for(const n of l){const i=u.points[n];if(i.zoom<=e)continue;i.zoom=e;const l=i.numPoints||1;t+=i.x*l,s+=i.y*l,i.parentId=p,o&&(a||(a=this._map(r,!0)),o(a,this._map(i)))}r.parentId=p,n.push(N(t/h,s/h,p,h,a))}else if(n.push(r),h>1)for(const t of l){const i=u.points[t];i.zoom<=e||(i.zoom=e,n.push(i))}}return n}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?V({},t.properties):t.properties;const n=this.points[t.index].properties,i=this.options.map(n);return e&&i===n?V({},i):i}}function N(t,e,n,i,r){return{x:R(t),y:R(e),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function L(t,e){const[n,i]=t.geometry.coordinates;return{x:R(F(n)),y:R(U(i)),zoom:1/0,index:e,parentId:-1}}function q(t){return{type:"Feature",id:t.id,properties:B(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),H(t.y)]}};var e}function B(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?Math.round(e/100)/10+"k":e;return V(V({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function F(t){return t/360+.5}function U(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function H(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function V(t,e){for(const n in e)t[n]=e[n];return t}function Y(t){return t.x}function W(t){return t.y}function G(t,e,n,i){for(var r,o=i,s=n-e>>1,a=n-e,u=t[e],l=t[e+1],c=t[n],h=t[n+1],p=e+3;p<n;p+=3){var _=Z(t[p],t[p+1],u,l,c,h);if(_>o)r=p,o=_;else if(_===o){var f=Math.abs(p-s);f<a&&(r=p,a=f)}}o>i&&(r-e>3&&G(t,e,r,i),t[r+2]=o,n-r>3&&G(t,r,n,i))}function Z(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var u=((t-n)*s+(e-i)*a)/(s*s+a*a);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=a*u)}return(s=t-n)*s+(a=e-i)*a}function K(t,e,n,i){var r={id:void 0===t?null:t,type:e,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)X(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<e.length;i++)X(t,e[i]);else if("MultiPolygon"===n)for(i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)X(t,e[i][r])}(r),r}function X(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function J(t,e,n,i){if(e.geometry){var r=e.geometry.coordinates,o=e.geometry.type,s=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),a=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=i||0),"Point"===o)Q(r,a);else if("MultiPoint"===o)for(var l=0;l<r.length;l++)Q(r[l],a);else if("LineString"===o)tt(r,a,s,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<r.length;l++)tt(r[l],a=[],s,!1),t.push(K(u,"LineString",a,e.properties));return}et(r,a,s,!1)}else if("Polygon"===o)et(r,a,s,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)J(t,{id:u,geometry:e.geometry.geometries[l],properties:e.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<r.length;l++){var c=[];et(r[l],c,s,!0),a.push(c)}}t.push(K(u,o,a,e.properties))}}function Q(t,e){e.push(nt(t[0])),e.push(it(t[1])),e.push(0)}function tt(t,e,n,i){for(var r,o,s=0,a=0;a<t.length;a++){var u=nt(t[a][0]),l=it(t[a][1]);e.push(u),e.push(l),e.push(0),a>0&&(s+=i?(r*l-u*o)/2:Math.sqrt(Math.pow(u-r,2)+Math.pow(l-o,2))),r=u,o=l}var c=e.length-3;e[2]=1,G(e,0,c,n),e[c+2]=1,e.size=Math.abs(s),e.start=0,e.end=e.size}function et(t,e,n,i){for(var r=0;r<t.length;r++){var o=[];tt(t[r],o,n,i),e.push(o)}}function nt(t){return t/360+.5}function it(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function rt(t,e,n,i,r,o,s,a){if(i/=e,o>=(n/=e)&&s<i)return t;if(s<n||o>=i)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],h=c.geometry,p=c.type,_=0===r?c.minX:c.minY,f=0===r?c.maxX:c.maxY;if(_>=n&&f<i)u.push(c);else if(!(f<n||_>=i)){var d=[];if("Point"===p||"MultiPoint"===p)ot(h,d,n,i,r);else if("LineString"===p)st(h,d,n,i,r,!1,a.lineMetrics);else if("MultiLineString"===p)ut(h,d,n,i,r,!1);else if("Polygon"===p)ut(h,d,n,i,r,!0);else if("MultiPolygon"===p)for(var m=0;m<h.length;m++){var y=[];ut(h[m],y,n,i,r,!0),y.length&&d.push(y)}if(d.length){if(a.lineMetrics&&"LineString"===p){for(m=0;m<d.length;m++)u.push(K(c.id,p,d[m],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===d.length?(p="LineString",d=d[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===d.length?"Point":"MultiPoint"),u.push(K(c.id,p,d,c.tags))}}}return u.length?u:null}function ot(t,e,n,i,r){for(var o=0;o<t.length;o+=3){var s=t[o+r];s>=n&&s<=i&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function st(t,e,n,i,r,o,s){for(var a,u,l=at(t),c=0===r?ct:ht,h=t.start,p=0;p<t.length-3;p+=3){var _=t[p],f=t[p+1],d=t[p+2],m=t[p+3],y=t[p+4],v=0===r?_:f,g=0===r?m:y,w=!1;s&&(a=Math.sqrt(Math.pow(_-m,2)+Math.pow(f-y,2))),v<n?g>n&&(u=c(l,_,f,m,y,n),s&&(l.start=h+a*u)):v>i?g<i&&(u=c(l,_,f,m,y,i),s&&(l.start=h+a*u)):lt(l,_,f,d),g<n&&v>=n&&(u=c(l,_,f,m,y,n),w=!0),g>i&&v<=i&&(u=c(l,_,f,m,y,i),w=!0),!o&&w&&(s&&(l.end=h+a*u),e.push(l),l=at(t)),s&&(h+=a)}var b=t.length-3;_=t[b],f=t[b+1],d=t[b+2],(v=0===r?_:f)>=n&&v<=i&&lt(l,_,f,d),b=l.length-3,o&&b>=3&&(l[b]!==l[0]||l[b+1]!==l[1])&&lt(l,l[0],l[1],l[2]),l.length&&e.push(l)}function at(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ut(t,e,n,i,r,o){for(var s=0;s<t.length;s++)st(t[s],e,n,i,r,o,!1)}function lt(t,e,n,i){t.push(e),t.push(n),t.push(i)}function ct(t,e,n,i,r,o){var s=(o-e)/(i-e);return t.push(o),t.push(n+(r-n)*s),t.push(1),s}function ht(t,e,n,i,r,o){var s=(o-n)/(r-n);return t.push(e+(i-e)*s),t.push(o),t.push(1),s}function pt(t,e){for(var n=[],i=0;i<t.length;i++){var r,o=t[i],s=o.type;if("Point"===s||"MultiPoint"===s||"LineString"===s)r=_t(o.geometry,e);else if("MultiLineString"===s||"Polygon"===s){r=[];for(var a=0;a<o.geometry.length;a++)r.push(_t(o.geometry[a],e))}else if("MultiPolygon"===s)for(r=[],a=0;a<o.geometry.length;a++){for(var u=[],l=0;l<o.geometry[a].length;l++)u.push(_t(o.geometry[a][l],e));r.push(u)}n.push(K(o.id,s,r,o.tags))}return n}function _t(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var i=0;i<t.length;i+=3)n.push(t[i]+e,t[i+1],t[i+2]);return n}function ft(t,e){if(t.transformed)return t;var n,i,r,o=1<<t.z,s=t.x,a=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(i=0;i<l.length;i+=2)u.geometry.push(dt(l[i],l[i+1],e,o,s,a));else for(i=0;i<l.length;i++){var h=[];for(r=0;r<l[i].length;r+=2)h.push(dt(l[i][r],l[i][r+1],e,o,s,a));u.geometry.push(h)}}return t.transformed=!0,t}function dt(t,e,n,i,r,o){return[Math.round(n*(t*i-r)),Math.round(n*(e*i-o))]}function mt(t,e,n,i,r){for(var o=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<t.length;a++){s.numFeatures++,yt(s,t[a],o,r);var u=t[a].minX,l=t[a].minY,c=t[a].maxX,h=t[a].maxY;u<s.minX&&(s.minX=u),l<s.minY&&(s.minY=l),c>s.maxX&&(s.maxX=c),h>s.maxY&&(s.maxY=h)}return s}function yt(t,e,n,i){var r=e.geometry,o=e.type,s=[];if("Point"===o||"MultiPoint"===o)for(var a=0;a<r.length;a+=3)s.push(r[a]),s.push(r[a+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)vt(s,r,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(a=0;a<r.length;a++)vt(s,r[a],t,n,"Polygon"===o,0===a);else if("MultiPolygon"===o)for(var u=0;u<r.length;u++){var l=r[u];for(a=0;a<l.length;a++)vt(s,l[a],t,n,!0,0===a)}if(s.length){var c=e.tags||null;if("LineString"===o&&i.lineMetrics){for(var h in c={},e.tags)c[h]=e.tags[h];c.mapbox_clip_start=r.start/r.size,c.mapbox_clip_end=r.end/r.size}var p={geometry:s,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(p.id=e.id),t.features.push(p)}}function vt(t,e,n,i,r,o){var s=i*i;if(i>0&&e.size<(r?s:i))n.numPoints+=e.length/3;else{for(var a=[],u=0;u<e.length;u+=3)(0===i||e[u+2]>s)&&(n.numSimplified++,a.push(e[u]),a.push(e[u+1])),n.numPoints++;r&&function(t,e){for(var n=0,i=0,r=t.length,o=r-2;i<r;o=i,i+=2)n+=(t[i]-t[o])*(t[i+1]+t[o+1]);if(n>0===e)for(i=0,r=t.length;i<r/2;i+=2){var s=t[i],a=t[i+1];t[i]=t[r-2-i],t[i+1]=t[r-1-i],t[r-2-i]=s,t[r-1-i]=a}}(a,o),t.push(a)}}function gt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)J(n,t.features[i],e,i);else J(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(t,e){var n=e.buffer/e.extent,i=t,r=rt(t,1,-1-n,n,0,-1,2,e),o=rt(t,1,1-n,2+n,0,-1,2,e);return(r||o)&&(i=rt(t,1,-n,1+n,0,-1,2,e)||[],r&&(i=pt(r,1).concat(i)),o&&(i=i.concat(pt(o,-1)))),i}(i,e)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function wt(t,e,n){return 32*((1<<t)*n+e)+t}function bt(t,e){const n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);const i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return e(null,null);const r=new h(i.features);let o=m(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:r,rawData:o.buffer})}gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gt.prototype.splitTile=function(t,e,n,i,r,o,s){for(var a=[t,e,n,i],u=this.options,l=u.debug;a.length;){i=a.pop(),n=a.pop(),e=a.pop(),t=a.pop();var c=1<<e,h=wt(e,n,i),p=this.tiles[h];if(!p&&(l>1&&console.time("creation"),p=this.tiles[h]=mt(t,e,n,i,u),this.tileCoords.push({z:e,x:n,y:i}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var _="z"+e;this.stats[_]=(this.stats[_]||0)+1,this.total++}if(p.source=t,r){if(e===u.maxZoom||e===r)continue;var f=1<<r-e;if(n!==Math.floor(o/f)||i!==Math.floor(s/f))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){l>1&&console.time("clipping");var d,m,y,v,g,w,b=.5*u.buffer/u.extent,x=.5-b,$=.5+b,C=1+b;d=m=y=v=null,g=rt(t,c,n-b,n+$,0,p.minX,p.maxX,u),w=rt(t,c,n+x,n+C,0,p.minX,p.maxX,u),t=null,g&&(d=rt(g,c,i-b,i+$,1,p.minY,p.maxY,u),m=rt(g,c,i+x,i+C,1,p.minY,p.maxY,u),g=null),w&&(y=rt(w,c,i-b,i+$,1,p.minY,p.maxY,u),v=rt(w,c,i+x,i+C,1,p.minY,p.maxY,u),w=null),l>1&&console.timeEnd("clipping"),a.push(d||[],e+1,2*n,2*i),a.push(m||[],e+1,2*n,2*i+1),a.push(y||[],e+1,2*n+1,2*i),a.push(v||[],e+1,2*n+1,2*i+1)}}},gt.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,o=i.debug;if(t<0||t>24)return null;var s=1<<t,a=wt(t,e=(e%s+s)%s,n);if(this.tiles[a])return ft(this.tiles[a],r);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,h=n;!u&&l>0;)l--,c=Math.floor(c/2),h=Math.floor(h/2),u=this.tiles[wt(l,c,h)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,h),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,h,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[a]?ft(this.tiles[a],r):null):null};class xt extends t.VectorTileWorkerSource{constructor(t,e,n,i,r){super(t,e,n,i,bt),r&&(this.loadGeoJSON=r)}loadData(e,n){const i=e&&e.request,r=i&&i.collectResourceTiming;this.loadGeoJSON(e,((o,a)=>{if(o||!a)return n(o);if("object"!=typeof a)return n(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));{s(a,!0);try{if(e.filter){const n=t.createExpression(e.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((t=>`${t.key}: ${t.message}`)).join(", "));const i=a.features.filter((t=>n.value.evaluate({zoom:0},t)));a={type:"FeatureCollection",features:i}}this._geoJSONIndex=e.cluster?new j(function({superclusterOptions:e,clusterProperties:n}){if(!n||!e)return e;const i={},r={},o={accumulated:null,zoom:0},s={properties:null},a=Object.keys(n);for(const e of a){const[o,s]=n[e],a=t.createExpression(s),u=t.createExpression("string"==typeof o?[o,["accumulated"],["get",e]]:o);i[e]=a.value,r[e]=u.value}return e.map=t=>{s.properties=t;const e={};for(const t of a)e[t]=i[t].evaluate(o,s);return e},e.reduce=(t,e)=>{s.properties=e;for(const e of a)o.accumulated=t[e],t[e]=r[e].evaluate(o,s)},e}(e)).load(a.features):function(t,e){return new gt(t,e)}(a,e.geojsonVtOptions)}catch(o){return n(o)}this.loaded={};const u={};if(r){const n=t.getPerformanceMeasurement(i);n&&(u.resourceTiming={},u.resourceTiming[e.source]=JSON.parse(JSON.stringify(n)))}n(null,u)}}))}reloadTile(t,e){const n=this.loaded;return n&&n[t.uid]?super.reloadTile(t,e):this.loadTile(t,e)}loadGeoJSON(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}}getClusterChildren(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}}getClusterLeaves(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}}}class $t{constructor(e){this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=t.getProjection({name:"mercator"}),this.workerSourceTypes={vector:t.VectorTileWorkerSource,geojson:xt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(t,e)=>{if(this.workerSourceTypes[t])throw new Error(`Worker source with name "${t}" already registered.`);this.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=e=>{if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}}clearCaches(t,e,n){delete this.layerIndexes[t],delete this.availableImages[t],delete this.workerSources[t],delete this.demWorkerSources[t],n()}checkIfReady(t,e,n){n()}setReferrer(t,e){this.referrer=e}spriteLoaded(e,n){this.isSpriteLoaded[e]=n;for(const i in this.workerSources[e]){const r=this.workerSources[e][i];for(const e in r)r[e]instanceof t.VectorTileWorkerSource&&(r[e].isSpriteLoaded=n,r[e].fire(new t.Event("isSpriteLoaded")))}}setImages(t,e,n){this.availableImages[t]=e;for(const n in this.workerSources[t]){const i=this.workerSources[t][n];for(const t in i)i[t].availableImages=e}n()}enableTerrain(t,e,n){this.terrain=e,n()}setProjection(e,n){this.projections[e]=t.getProjection(n)}setLayers(t,e,n){this.getLayerIndex(t).replace(e),n()}updateLayers(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()}loadTile(e,n,i){const r=this.enableTerrain?t.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,n.type,n.source).loadTile(r,i)}loadDEMTile(e,n,i){const r=this.enableTerrain?t.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(e,n.source).loadTile(r,i)}reloadTile(e,n,i){const r=this.enableTerrain?t.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,n.type,n.source).reloadTile(r,i)}abortTile(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)}removeTile(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)}removeSource(t,e,n){if(!this.workerSources[t]||!this.workerSources[t][e.type]||!this.workerSources[t][e.type][e.source])return;const i=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==i.removeSource?i.removeSource(e,n):n()}loadWorkerSource(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}}syncRTLPluginState(e,n,i){try{t.plugin.setState(n);const e=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=e){this.self.importScripts(e);const n=t.plugin.isParsed();i(n?void 0:new Error(`RTL Text Plugin failed to import scripts from ${e}`),n)}}catch(t){i(t.toString())}}getAvailableImages(t){let e=this.availableImages[t];return e||(e=[]),e}getLayerIndex(t){let e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e}getWorkerSource(t,e,n){return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:(e,n,i,r,o,s)=>{this.actor.send(e,n,i,t,o,s)},scheduler:this.actor.scheduler},this.getLayerIndex(t),this.getAvailableImages(t),this.isSpriteLoaded[t])),this.workerSources[t][e][n]}getDEMWorkerSource(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new o),this.demWorkerSources[t][e]}enforceCacheSizeLimit(e,n){t.enforceCacheSizeLimit(n)}getWorkerPerformanceMetrics(t,e,n){n(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new $t(self)),$t})),i(0,(function(t){var e=n;function n(t){return!function(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{e=new Worker(i),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(i),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===i[e=t&&t.failIfMajorPerformanceCaveat]&&(i[e]=function(t){var e,i=function(t){var e=document.createElement("canvas"),i=Object.create(n.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,e.getContext("webgl",i)||e.getContext("experimental-webgl",i)}(t);if(!i)return!1;try{e=i.createShader(i.VERTEX_SHADER)}catch(t){return!1}return!(!e||i.isContextLost())&&(i.shaderSource(e,"void main() {}"),i.compileShader(e),!0===i.getShaderParameter(e,i.COMPILE_STATUS))}(e)),i[e]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var e}(t)}var i={};function r(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n*o-r*i;return s?(t[0]=o*(s=1/s),t[1]=-i*s,t[2]=-r*s,t[3]=n*s,t):null}function o(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!o(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!o(t[n],e[n]))return!1;return!0}return t===e}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s={create:function(e,n,i){const r=t.window.document.createElement(e);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r},createSVG:function(e,n,i){const r=t.window.document.createElementNS("http://www.w3.org/2000/svg",e);for(const t of Object.keys(n))r.setAttributeNS(null,t,n[t]);return i&&i.appendChild(r),r}},a=t.window.document&&t.window.document.documentElement.style,u=a&&void 0!==a.userSelect?"userSelect":"WebkitUserSelect";let l;s.disableDrag=function(){a&&u&&(l=a[u],a[u]="none")},s.enableDrag=function(){a&&u&&(a[u]=l)};const c=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",c,!0)};function h(e,n,i){const r=e.offsetWidth===n.width?1:e.offsetWidth/n.width;return new t.pointGeometry((i.clientX-n.left)*r,(i.clientY-n.top)*r)}function p(t){const{userImage:e}=t;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}s.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout((()=>{t.window.removeEventListener("click",c,!0)}),0)},s.mousePos=function(t,e){const n=t.getBoundingClientRect();return h(t,n,e)},s.touchPos=function(t,e){const n=t.getBoundingClientRect(),i=[];for(let r=0;r<e.length;r++)i.push(h(t,n,e[r]));return i},s.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button};class _ extends t.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:t,callback:e}of this.requestors)this._notify(t,e);this.requestors=[]}}getImage(t){return this.images[t]}addImage(t,e){this._validate(t,e)&&(this.images[t]=e)}_validate(e,n){let i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "stretchX" value`))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "stretchY" value`))),i=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error(`Image "${e}" has invalid "content" value`))),i=!1),i}_validateStretch(t,e){if(!t)return!0;let n=0;for(const i of t){if(i[0]<n||i[1]<i[0]||e<i[1])return!1;n=i[1]}return!0}_validateContent(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))}updateImage(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0}removeImage(t){const e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t,e){let n=!0;if(!this.isLoaded())for(const e of t)this.images[e]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})}_notify(e,n){const i={};for(const n of e){this.images[n]||this.fire(new t.Event("styleimagemissing",{id:n}));const e=this.images[n];e?i[n]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.warnOnce(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,i)}getPixelSize(){const{width:t,height:e}=this.atlasImage;return{width:t,height:e}}getPattern(e){const n=this.patterns[e],i=this.getImage(e);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new t.ImagePosition(n,i);this.patterns[e]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:n,h:i}=t.potpack(e),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const e in this.patterns){const{bin:n}=this.patterns[e],i=n.x+1,o=n.y+1,s=this.images[e].data,a=s.width,u=s.height;t.RGBAImage.copy(s,r,{x:0,y:0},{x:i,y:o},{width:a,height:u}),t.RGBAImage.copy(s,r,{x:0,y:u-1},{x:i,y:o-1},{width:a,height:1}),t.RGBAImage.copy(s,r,{x:0,y:0},{x:i,y:o+u},{width:a,height:1}),t.RGBAImage.copy(s,r,{x:a-1,y:0},{x:i-1,y:o},{width:1,height:u}),t.RGBAImage.copy(s,r,{x:0,y:0},{x:i+a,y:o},{width:1,height:u})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const e of t){if(this.callbackDispatchedThisFrame[e])continue;this.callbackDispatchedThisFrame[e]=!0;const t=this.images[e];p(t)&&this.updateImage(e,t)}}}const f=new t.Properties({anchor:new t.DataConstantProperty(t.spec.light.anchor),position:new class{constructor(){this.specification=t.spec.light.position}possiblyEvaluate(e,n){return function([e,n,i]){const r=t.degToRad(n+90),o=t.degToRad(i);return{x:e*Math.cos(r)*Math.sin(o),y:e*Math.sin(r)*Math.sin(o),z:e*Math.cos(o),azimuthal:n,polar:i}}(e.expression.evaluate(n))}interpolate(e,n,i){return{x:t.number(e.x,n.x,i),y:t.number(e.y,n.y,i),z:t.number(e.z,n.z,i),azimuthal:t.number(e.azimuthal,n.azimuthal,i),polar:t.number(e.polar,n.polar,i)}}},color:new t.DataConstantProperty(t.spec.light.color),intensity:new t.DataConstantProperty(t.spec.light.intensity)}),d="-transition";class m extends t.Evented{constructor(e){super(),this._transitionable=new t.Transitionable(f),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,n={}){if(!this._validate(t.validateLight,e,n))for(const n in e){const i=e[n];t.endsWith(n,d)?this._transitionable.setTransition(n.slice(0,-d.length),i):this._transitionable.setValue(n,i)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,n,i){return(!i||!1!==i.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}const y=new t.Properties({source:new t.DataConstantProperty(t.spec.terrain.source),exaggeration:new t.DataConstantProperty(t.spec.terrain.exaggeration)}),v="-transition";class g extends t.Evented{constructor(e,n){super(),this._transitionable=new t.Transitionable(y),this.set(e),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=n}get(){return this._transitionable.serialize()}set(e){for(const n in e){const i=e[n];t.endsWith(n,v)?this._transitionable.setTransition(n.slice(0,-v.length),i):this._transitionable.setValue(n,i)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}}function w(e,n,i,r){const o=t.smoothstep(45,65,i),[s,a]=b(e,r),u=t.length(n);let l=1-Math.min(1,Math.exp((u-s)/(a-s)*-6));return l*=l*l,l=Math.min(1,1.00747*l),l*o*e.alpha}function b(t,e){const n=.5/Math.tan(.5*e);return[t.range[0]+n,t.range[1]+n]}const x=new t.Properties({range:new t.DataConstantProperty(t.spec.fog.range),color:new t.DataConstantProperty(t.spec.fog.color),"horizon-blend":new t.DataConstantProperty(t.spec.fog["horizon-blend"])}),$="-transition";class C extends t.Evented{constructor(e,n){super(),this._transitionable=new t.Transitionable(x),this.set(e),this._transitioning=this._transitionable.untransitioned(),this._transform=n}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(e,n={}){if(!this._validate(t.validateFog,e,n))for(const n in e){const i=e[n];t.endsWith(n,$)?this._transitionable.setTransition(n.slice(0,-$.length),i):this._transitionable.setValue(n,i)}}getOpacity(e){if(!this._transform.projection.supportsFog)return 0;const n=this.properties&&this.properties.get("color")||1;return t.smoothstep(45,65,e)*n.a}getOpacityAtLatLng(e,n){return this._transform.projection.supportsFog?function(e,n,i){const r=t.MercatorCoordinate.fromLngLat(n),o=i.elevation?i.elevation.getAtPointOrZero(r):0,s=[r.x,r.y,o];return t.transformMat4(s,s,i.mercatorFogMatrix),w(e,s,i.pitch,i._fov)}(this.state,e,n):0}getFovAdjustedRange(t){return this._transform.projection.supportsFog?b(this.state,t):[0,1]}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(e,n,i){return(!i||!1!==i.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.spec})))}}class E{constructor(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=t.uniqueId();const i=this.workerPool.acquire(this.id);for(let t=0;t<i.length;t++){const e=new E.Actor(i[t],n,this.id);e.name=`Worker ${t}`,this.actors.push(e)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(e,n,i){t.asyncAll(this.actors,((t,i)=>{t.send(e,n,i)}),i=i||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((t=>{t.remove()})),this.actors=[],this.workerPool.release(this.id)}}function A(e,n,i){return n*(t.EXTENT/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}E.Actor=t.Actor;class k{constructor(t,e,n){this.context=t;const i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const S={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class T{constructor(t,e,n,i){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.context=t;const r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,e){for(let n=0;n<this.attributes.length;n++){const i=e.attributes[this.attributes[n].name];void 0!==i&&t.enableVertexAttribArray(i)}}setVertexAttribPointers(t,e,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],o=e.attributes[r.name];void 0!==o&&t.vertexAttribPointer(o,r.components,t[S[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class I{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class O extends I{getDefault(){return t.Color.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class z extends I{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class M extends I{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class D extends I{getDefault(){return[!0,!0,!0,!0]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class R extends I{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class P extends I{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class j extends I{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class N extends I{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class L extends I{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}}class q extends I{getDefault(){return[0,1]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class B extends I{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}}class F extends I{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class U extends I{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}}class H extends I{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class V extends I{getDefault(){return t.Color.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class Y extends I{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class W extends I{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}}class G extends I{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class Z extends I{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class K extends I{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class X extends I{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class J extends I{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class Q extends I{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class tt extends I{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class et extends I{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class nt extends I{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class it extends I{getDefault(){return null}set(t){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class rt extends I{constructor(t){super(t),this.vao=t.extVertexArrayObject}getDefault(){return null}set(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)}}class ot extends I{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class st extends I{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class at extends I{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class ut extends I{constructor(t,e){super(t),this.context=t,this.parent=e}getDefault(){return null}}class lt extends ut{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class ct extends ut{attachment(){return this.gl.DEPTH_ATTACHMENT}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,this.attachment(),e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class ht extends ct{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class pt{constructor(t,e,n,i){this.context=t,this.width=e,this.height=n;const r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new lt(t,r),i&&(this.depthAttachment=new ct(t,r))}destroy(){const t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){const e=this.depthAttachment.get();e&&t.deleteRenderbuffer(e)}t.deleteFramebuffer(this.framebuffer)}}class _t{constructor(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new O(this),this.clearDepth=new z(this),this.clearStencil=new M(this),this.colorMask=new D(this),this.depthMask=new R(this),this.stencilMask=new P(this),this.stencilFunc=new j(this),this.stencilOp=new N(this),this.stencilTest=new L(this),this.depthRange=new q(this),this.depthTest=new B(this),this.depthFunc=new F(this),this.blend=new U(this),this.blendFunc=new H(this),this.blendColor=new V(this),this.blendEquation=new Y(this),this.cullFace=new W(this),this.cullFaceSide=new G(this),this.frontFace=new Z(this),this.program=new K(this),this.activeTexture=new X(this),this.viewport=new J(this),this.bindFramebuffer=new Q(this),this.bindRenderbuffer=new tt(this),this.bindTexture=new et(this),this.bindVertexBuffer=new nt(this),this.bindElementBuffer=new it(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new rt(this),this.pixelStoreUnpack=new ot(this),this.pixelStoreUnpackPremultiplyAlpha=new st(this),this.pixelStoreUnpackFlipY=new at(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,e){return new k(this,t,e)}createVertexBuffer(t,e,n){return new T(this,t,e,n)}createRenderbuffer(t,e,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),r}createFramebuffer(t,e,n){return new pt(this,t,e,n)}clear({color:t,depth:e,stencil:n}){const i=this.gl;let r=0;t&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==e&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(e),this.depthMask.set(!0)),void 0!==n&&(r|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),i.clear(r)}setCullFace(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(e){o(e.blendFunction,t.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class ft{constructor(t,e,n,i){this.screenBounds=t,this.cameraPoint=e,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map((t=>i.pointCoordinate3D(t))),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(e,n){let i,r;if(e instanceof t.pointGeometry||"number"==typeof e[0]){const o=t.pointGeometry.convert(e);i=[t.pointGeometry.convert(e)],r=n.isPointAboveHorizon(o)}else{const o=t.pointGeometry.convert(e[0]),s=t.pointGeometry.convert(e[1]);i=[o,s],r=t.polygonizeBounds(o,s).every((t=>n.isPointAboveHorizon(t)))}return new ft(i,n.getCameraPoint(),r,n)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(e){return t.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}bufferedCameraGeometry(e){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new t.pointGeometry(1,1)):this.screenBounds[1],r=t.polygonizeBounds(n,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(r[3]=this.cameraPoint)),t.bufferConvexPolygon(r,e)}containsTile(e,n,i){const r=e.queryPadding+1,o=e.tileID.wrap,s=i?this._bufferedCameraMercator(r,n).map((n=>t.getTilePoint(e.tileTransform,n,o))):this._bufferedScreenMercator(r,n).map((n=>t.getTilePoint(e.tileTransform,n,o))),a=this.screenGeometryMercator.map((n=>t.getTileVec3(e.tileTransform,n,o))),u=a.map((e=>new t.pointGeometry(e[0],e[1]))),l=n.getFreeCameraOptions().position||new t.MercatorCoordinate(0,0,0),c=t.getTileVec3(e.tileTransform,l,o),h=a.map((e=>{const n=t.sub(e,e,c);return t.normalize(n,n),new t.Ray(c,n)})),p=A(e,1,n.zoom);if(t.polygonIntersectsBox(s,0,0,t.EXTENT,t.EXTENT))return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:h,bufferedTilespaceGeometry:s,bufferedTilespaceBounds:(_=t.getBounds(s),_.min.x=t.clamp(_.min.x,0,t.EXTENT),_.min.y=t.clamp(_.min.y,0,t.EXTENT),_.max.x=t.clamp(_.max.x,0,t.EXTENT),_.max.y=t.clamp(_.max.y,0,t.EXTENT),_),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:p};var _}_bufferedScreenMercator(t,e){const n=dt(t);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];{const i=this.bufferedScreenGeometry(t).map((t=>e.pointCoordinate3D(t)));return this._screenRaycastCache[n]=i,i}}_bufferedCameraMercator(t,e){const n=dt(t);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];{const i=this.bufferedCameraGeometry(t).map((t=>e.pointCoordinate3D(t)));return this._cameraRaycastCache[n]=i,i}}}function dt(t){return 100*t|0}function mt(e,n,i){const r=function(r,o){if(r)return i(r);if(o){const r=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(r.vectorLayers=o.vector_layers,r.vectorLayerIds=r.vectorLayers.map((t=>t.id))),r.tiles=n.canonicalizeTileset(r,e.url),i(null,r)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),r):t.exported.frame((()=>r(null,e)))}class yt{constructor(e,n,i){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=i||24}validateBounds(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(e){const n=Math.pow(2,e.z),i=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),s=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=i&&e.x<o&&e.y>=r&&e.y<s}}class vt extends t.Evented{constructor(e,n,i,r){super(),this.id=e,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=mt(this._options,this.map._requestManager,((e,n)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):n&&(t.extend(this,n),n.bounds&&(this.tileBounds=new yt(n.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(n.tiles),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return t.extend({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(e,n){const i=t.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),((i,r,o,s)=>{if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:o,expires:s});const i=this.map.painter.context,a=i.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.Texture(i,r,a.RGBA,{useMipmap:!0}),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),i.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(this.dispatcher),n(null)}}))}abortTile(t,e){t.request&&(t.request.cancel(),delete t.request),e()}unloadTile(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()}hasTransition(){return!1}}let gt;function wt(e,n,i,r,o,s,a,u){const l=[e,i,o,n,r,s,1,1,1],c=[a,u,1],h=t.adjoint([],l),[p,_,f]=t.transformMat3(c,c,t.transpose(h,h));return t.multiply(l,[p,0,0,0,_,0,0,0,f],l)}class bt extends t.Evented{constructor(t,e,n,i){super(),this.id=t,this.dispatcher=n,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=e}load(e,n){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),((i,r)=>{this._loaded=!0,i?this.fire(new t.ErrorEvent(i)):r&&(this.image=t.exported.getImageData(r),this.width=this.image.width,this.height=this.image.height,e&&(this.coordinates=e),n&&n(),this._finishLoading())}))}loaded(){return this._loaded}updateImage(t){return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}setCoordinates(e){this.coordinates=e,delete this._boundsArray;const n=e.map(t.MercatorCoordinate.fromLngLat);return this.tileID=function(e){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const t of e)n=Math.min(n,t.x),i=Math.min(i,t.y),r=Math.max(r,t.x),o=Math.max(o,t.y);const s=Math.max(r-n,o-i),a=Math.max(0,Math.floor(-Math.log(s)/Math.LN2)),u=Math.pow(2,a);return new t.CanonicalTileID(a,Math.floor((n+r)/2*u),Math.floor((i+o)/2*u))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){delete this._boundsArray}_makeBoundsArray(){const e=t.tileTransform(this.tileID,this.map.transform.projection),[n,i,r,o]=this.coordinates.map((n=>{const i=e.projection.project(n[0],n[1]);return t.getTilePoint(e,i)._round()}));return this.perspectiveTransform=function(e,n,i,r,o,s,a,u,l,c){const h=wt(0,0,e,0,0,n,e,n),p=wt(i,r,o,s,a,u,l,c);return t.multiply(p,t.adjoint(h,h),p),[p[6]/p[8]*e/t.EXTENT,p[7]/p[8]*n/t.EXTENT]}(this.width,this.height,n.x,n.y,i.x,i.y,o.x,o.y,r.x,r.y),this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(n.x,n.y,0,0),this._boundsArray.emplaceBack(i.x,i.y,t.EXTENT,0),this._boundsArray.emplaceBack(o.x,o.y,0,t.EXTENT),this._boundsArray.emplaceBack(r.x,r.y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,n=e.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}loadTile(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const xt={vector:class extends t.Evented{constructor(e,n,i,r){if(super(),this.id=e,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(n,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new t.DedupedRequest}load(){this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=mt(this._options,this.map._requestManager,((e,n)=>{this._tileJSONRequest=null,this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):n&&(t.extend(this,n),n.bounds&&(this.tileBounds=new yt(n.bounds,this.minzoom,this.maxzoom)),t.postTurnstileEvent(n.tiles,this.map._requestManager._customAccessToken),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}onAdd(t){this.map=t,this.load()}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t();const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles();this.load()}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}setUrl(t){return this.setSourceProperty((()=>{this.url=t,this._options.url=t})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return t.extend({},this._options)}loadTile(e,n){const i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,t.ResourceType.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state)"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",r,o.bind(this));else if(e.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send("loadTile",r,o.bind(this),void 0,!0);else{const n=t.loadVectorTile.call({deduped:this._deduped},r,((t,n)=>{t||!n?o.call(this,t):(r.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},e.actor&&e.actor.send("loadTile",r,o.bind(this),void 0,!0))}),!0);e.request={cancel:n}}function o(i,r){return delete e.request,e.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id})}unloadTile(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:vt,"raster-dem":class extends vt{constructor(e,n,i,r){super(e,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}loadTile(e,n){const i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(t,i){t&&(e.state="errored",n(t)),i&&(e.dem=i,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),function(i,o,s,a){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:s,expires:a});const n=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&(null==gt&&(gt=t.window.OffscreenCanvas&&new t.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof t.window.createImageBitmap),gt),i=1-(o.width-t.prevPowerOfTwo(o.width))/2;i<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));const u=n?o:t.exported.getImageData(o,i),l={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:u,encoding:this.encoding,padding:i};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",l,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(e){const n=e.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?e.wrap-1:e.wrap,s=(n.x+1+i)%i,a=n.x+1===i?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,a,n.z,s,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,a,n.z,s,n.y-1).key]={backfilled:!1}),n.y+1<i&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,a,n.z,s,n.y+1).key]={backfilled:!1}),u}unloadTile(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded"}},geojson:class extends t.Evented{constructor(e,n,i,r){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:t.EXTENT,radius:(void 0!==n.clusterRadius?n.clusterRadius:50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}onAdd(t){this.map=t,this.setData(this._data)}setData(t){return this._data=t,this._updateWorkerData(),this}getClusterExpansionZoom(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this}getClusterChildren(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this}getClusterLeaves(t,e,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},i),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new t.Event("dataloading",{dataType:"source"})),this._loaded=!1;const e=t.extend({},this.workerOptions),n=this._data;"string"==typeof n?(e.request=this.map._requestManager.transformRequest(t.exported.resolveURL(n),t.ResourceType.Source),e.request.collectResourceTiming=this._collectResourceTiming):e.data=JSON.stringify(n),this._pendingLoad=this.actor.send(`${this.type}.loadData`,e,((e,n)=>{if(this._loaded=!0,this._pendingLoad=null,e)this.fire(new t.ErrorEvent(e));else{const e={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[this.id]&&(e.resourceTiming=n.resourceTiming[this.id]),this.fire(new t.Event("data",e)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(e,n){const i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((t,r)=>(delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(r,this.map.painter,"reloadTile"===i),n(null)))),void 0,"loadTile"===i)}abortTile(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0}unloadTile(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return t.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends bt{constructor(t,e,n,i){super(t,e,n,i),this.roundZoom=!0,this.type="video",this.options=e}load(){this._loaded=!1;const e=this.options;this.urls=[];for(const n of e.urls)this.urls.push(this.map._requestManager.transformRequest(n,t.ResourceType.Source).url);t.getVideo(this.urls,((e,n)=>{this._loaded=!0,e?this.fire(new t.ErrorEvent(e)):n&&(this.video=n,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,n=e.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2));for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:bt,canvas:class extends bt{constructor(e,n,i,r){super(e,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((t=>!Array.isArray(t)||2!==t.length||t.some((t=>"number"!=typeof t))))||this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${e}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError(`sources.${e}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,i=n.gl;this._boundsArray||this._makeBoundsArray(),this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,t.boundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,i.RGBA,{premultiply:!0});for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const t of[this.canvas.width,this.canvas.height])if(isNaN(t)||t<=0)return!0;return!1}}},$t=function(e,n,i,r){const o=new xt[n.type](e,n,i,r);if(o.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${o.id}`);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o};function Ct(e,n){const i=t.identity([]);return t.scale(i,i,[.5*e.width,.5*-e.height,1]),t.translate(i,i,[1,-1,0]),t.multiply$1(i,i,e.calculateProjMatrix(n.toUnwrapped()))}function Et(t,e,n,i,r,o,s,a=!1){const u=t.tilesIn(i,s,a);u.sort(kt);const l=[];for(const i of u)l.push({wrappedTileID:i.tile.tileID.wrapped().key,queryResults:i.tile.queryRenderedFeatures(e,n,t._state,i,r,o,Ct(t.transform,i.tile.tileID),a)});const c=function(t){const e={},n={};for(const i of t){const t=i.queryResults,r=i.wrappedTileID,o=n[r]=n[r]||{};for(const n in t){const i=t[n],r=o[n]=o[n]||{},s=e[n]=e[n]||[];for(const t of i)r[t.featureIndex]||(r[t.featureIndex]=!0,s.push(t))}}return e}(l);for(const e in c)c[e].forEach((e=>{const n=e.feature,i=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return c}function At(t,e){const n=t.getRenderableIds().map((e=>t.getTileByID(e))),i=[],r={};for(let t=0;t<n.length;t++){const o=n[t],s=o.tileID.canonical.key;r[s]||(r[s]=!0,o.querySourceFeatures(i,e))}return i}function kt(t,e){const n=t.tileID,i=e.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function St(){return null!=Kr.workerClass?new Kr.workerClass:new t.window.Worker(Kr.workerUrl)}const Tt="mapboxgl_preloaded_worker_pool";class It{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<It.workerCount;)this.workers.push(new St);return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((t=>{t.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Tt]}numActive(){return Object.keys(this.active).length}}let Ot;function zt(){return Ot||(Ot=new It),Ot}function Mt(e,n){const i={};for(const t in e)"ref"!==t&&(i[t]=e[t]);return t.refProperties.forEach((t=>{t in n&&(i[t]=n[t])})),i}function Dt(t){t=t.slice();const e=Object.create(null);for(let n=0;n<t.length;n++)e[t[n].id]=t[n];for(let n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=Mt(t[n],e[t[n].ref]));return t}It.workerCount=2;const Rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Pt(t,e,n){n.push({command:Rt.addSource,args:[t,e[t]]})}function jt(t,e,n){e.push({command:Rt.removeSource,args:[t]}),n[t]=!0}function Nt(t,e,n,i){jt(t,n,i),Pt(t,e,n)}function Lt(t,e,n){let i;for(i in t[n])if(t[n].hasOwnProperty(i)&&"data"!==i&&!o(t[n][i],e[n][i]))return!1;for(i in e[n])if(e[n].hasOwnProperty(i)&&"data"!==i&&!o(t[n][i],e[n][i]))return!1;return!0}function qt(t,e,n,i,r,s){let a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&(o(t[a],e[a])||n.push({command:s,args:[i,a,e[a],r]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(o(t[a],e[a])||n.push({command:s,args:[i,a,e[a],r]}))}function Bt(t){return t.id}function Ft(t,e){return t[e.id]=e,t}class Ut{constructor(t,e){this.reset(t,e)}reset(t,e){this.points=t||[],this._distances=[0];for(let t=1;t<this.points.length;t++)this._distances[t]=this._distances[t-1]+this.points[t].dist(this.points[t-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);let n=1,i=this._distances[n];const r=e*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const o=n-1,s=this._distances[o],a=i-s,u=a>0?(r-s)/a:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))}}class Ht{constructor(t,e,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(let t=0;t<this.xCellCount*this.yCellCount;t++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(t,e,n,i){this._forEachCell(e-i,n-i,e+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(i)}_insertBoxCell(t,e,n,i,r,o){this.boxCells[r].push(o)}_insertCircleCell(t,e,n,i,r,o){this.circleCells[r].push(o)}_query(t,e,n,i,r,o){if(n<0||t>this.width||i<0||e>this.height)return!r&&[];const s=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(let t=0;t<this.boxKeys.length;t++)s.push({key:this.boxKeys[t],x1:this.bboxes[4*t],y1:this.bboxes[4*t+1],x2:this.bboxes[4*t+2],y2:this.bboxes[4*t+3]});for(let t=0;t<this.circleKeys.length;t++){const e=this.circles[3*t],n=this.circles[3*t+1],i=this.circles[3*t+2];s.push({key:this.circleKeys[t],x1:e-i,y1:n-i,x2:e+i,y2:n+i})}return o?s.filter(o):s}return this._forEachCell(t,e,n,i,this._queryCell,s,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?s.length>0:s}_queryCircle(t,e,n,i,r){const o=t-n,s=t+n,a=e-n,u=e+n;if(s<0||o>this.width||u<0||a>this.height)return!i&&[];const l=[];return this._forEachCell(o,a,s,u,this._queryCellCircle,l,{hitTest:i,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},r),i?l.length>0:l}query(t,e,n,i,r){return this._query(t,e,n,i,!1,r)}hitTest(t,e,n,i,r){return this._query(t,e,n,i,!0,r)}hitTestCircle(t,e,n,i){return this._queryCircle(t,e,n,!0,i)}_queryCell(t,e,n,i,r,o,s,a){const u=s.seenUids,l=this.boxCells[r];if(null!==l){const r=this.bboxes;for(const c of l)if(!u.box[c]){u.box[c]=!0;const l=4*c;if(t<=r[l+2]&&e<=r[l+3]&&n>=r[l+0]&&i>=r[l+1]&&(!a||a(this.boxKeys[c]))){if(s.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[c],x1:r[l],y1:r[l+1],x2:r[l+2],y2:r[l+3]})}}}const c=this.circleCells[r];if(null!==c){const r=this.circles;for(const l of c)if(!u.circle[l]){u.circle[l]=!0;const c=3*l;if(this._circleAndRectCollide(r[c],r[c+1],r[c+2],t,e,n,i)&&(!a||a(this.circleKeys[l]))){if(s.hitTest)return o.push(!0),!0;{const t=r[c],e=r[c+1],n=r[c+2];o.push({key:this.circleKeys[l],x1:t-n,y1:e-n,x2:t+n,y2:e+n})}}}}}_queryCellCircle(t,e,n,i,r,o,s,a){const u=s.circle,l=s.seenUids,c=this.boxCells[r];if(null!==c){const t=this.bboxes;for(const e of c)if(!l.box[e]){l.box[e]=!0;const n=4*e;if(this._circleAndRectCollide(u.x,u.y,u.radius,t[n+0],t[n+1],t[n+2],t[n+3])&&(!a||a(this.boxKeys[e])))return o.push(!0),!0}}const h=this.circleCells[r];if(null!==h){const t=this.circles;for(const e of h)if(!l.circle[e]){l.circle[e]=!0;const n=3*e;if(this._circlesCollide(t[n],t[n+1],t[n+2],u.x,u.y,u.radius)&&(!a||a(this.circleKeys[e])))return o.push(!0),!0}}}_forEachCell(t,e,n,i,r,o,s,a){const u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i);for(let p=u;p<=c;p++)for(let u=l;u<=h;u++)if(r.call(this,t,e,n,i,this.xCellCount*u+p,o,s,a))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,e,n,i,r,o){const s=i-t,a=r-e,u=n+o;return u*u>s*s+a*a}_circleAndRectCollide(t,e,n,i,r,o,s){const a=(o-i)/2,u=Math.abs(t-(i+a));if(u>a+n)return!1;const l=(s-r)/2,c=Math.abs(e-(r+l));if(c>l+n)return!1;if(u<=a||c<=l)return!0;const h=u-a,p=c-l;return h*h+p*p<=n*n}}const Vt=Math.tan(85*Math.PI/180);function Yt(e,n,i,o,s,a){let u=t.create();if(i){if("globe"===s.projection.name)u=t.calculateGlobeMatrix(s,s.worldSize/s._projectionScaler,[0,0]),t.multiply$1(u,u,t.globeDenormalizeECEF(t.globeTileBounds(n)));else{const t=r([],a);u[0]=t[0],u[1]=t[1],u[4]=t[2],u[5]=t[3]}o||t.rotateZ(u,u,s.angle)}else t.multiply$1(u,s.labelPlaneMatrix,e);return u}function Wt(e,n,i,r,o,s){if(i){if("globe"===o.projection.name){const a=Yt(e,n,i,r,o,s);return t.invert(a,a),t.multiply$1(a,e,a),a}{const n=t.clone(e),i=t.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],t.multiply$1(n,n,i),r||t.rotateZ(n,n,-o.angle),n}}return o.glCoordMatrix}function Gt(e,n,i=0){const r=[e.x,e.y,i,1];i?t.transformMat4$1(r,r,n):se(r,r,n);const o=r[3];return{point:new t.pointGeometry(r[0]/o,r[1]/o),signedDistanceFromCamera:o}}function Zt(t,e){return Math.min(.5+t/e*.5,1.5)}function Kt(t,e){const n=t[0]/t[3],i=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&i>=-e[1]&&i<=e[1]}function Xt(e,n,i,r,o,s,a,u,l,c){const h=i.transform,p=r?e.textSizeData:e.iconSizeData,_=t.evaluateSizeForZoom(p,i.transform.zoom),f=[256/i.width*2+1,256/i.height*2+1],d=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();const m=e.lineVertexArray,y=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,v=i.transform.width/i.transform.height;let g=!1;for(let r=0;r<y.length;r++){const w=y.get(r);if(w.writingMode!==t.WritingMode.vertical||g||0!==r&&y.get(r-1).writingMode===t.WritingMode.horizontal||(g=!0),w.hidden||w.writingMode===t.WritingMode.vertical&&!g){oe(w.numGlyphs,d);continue}g=!1;const b=new t.pointGeometry(w.tileAnchorX,w.tileAnchorY),x=l?l(b):[0,0,0],$=h.projection.projectTilePoint(b.x,b.y,c.canonical),C=[$.x+x[0],$.y+x[1],$.z+x[2]],E=[...C,1];if(t.transformMat4$1(E,E,n),!Kt(E,f)){oe(w.numGlyphs,d);continue}const A=Zt(i.transform.cameraToCenterDistance,E[3]),k=t.evaluateSizeForFeature(p,_,w),S=a?k/A:k*A,T=Gt(new t.pointGeometry(C[0],C[1]),o,C[2]);if(T.signedDistanceFromCamera<=0){oe(w.numGlyphs,d);continue}let I={};const O=a?null:l,z=te(w,S,!1,u,n,o,s,e.glyphOffsetArray,m,d,T.point,b,I,v,O,h.projection,c);g=z.useVertical,O&&z.needsFlipping&&(I={}),(z.notEnoughRoom||g||z.needsFlipping&&te(w,S,!0,u,n,o,s,e.glyphOffsetArray,m,d,T.point,b,I,v,O,h.projection,c).notEnoughRoom)&&oe(w.numGlyphs,d)}r?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function Jt(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f){const d=a.glyphStartIndex+a.numGlyphs,m=a.lineStartIndex,y=a.lineStartIndex+a.lineLength,v=e.getoffsetX(a.glyphStartIndex),g=e.getoffsetX(d-1),w=ie(t*v,n,i,r,o,s,a.segment,m,y,u,l,c,h,p,!0,_,f);if(!w)return null;const b=ie(t*g,n,i,r,o,s,a.segment,m,y,u,l,c,h,p,!0,_,f);return b?{first:w,last:b}:null}function Qt(e,n,i,r){return e.writingMode===t.WritingMode.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:e.writingMode===t.WritingMode.vertical?n.y<i.y?{needsFlipping:!0}:null:0!==e.flipState&&function(t,e,n){const i=(e.x-t.x)*n;return 0===i||Math.abs((e.y-t.y)/i)>Vt}(n,i,r)?1===e.flipState?{needsFlipping:!0}:null:n.x>i.x?{needsFlipping:!0}:null}function te(e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y){const v=n/24,g=e.lineOffsetX*v,w=e.lineOffsetY*v;let b;if(e.numGlyphs>1){const t=e.glyphStartIndex+e.numGlyphs,n=e.lineStartIndex,o=e.lineStartIndex+e.lineLength,c=Jt(v,u,g,w,i,h,p,e,l,s,_,d,!1,m,y);if(!c)return{notEnoughRoom:!0};const x=Gt(c.first.point,a).point,$=Gt(c.last.point,a).point;if(r&&!i){const t=Qt(e,x,$,f);if(e.flipState=t&&t.needsFlipping?1:2,t)return t}b=[c.first];for(let r=e.glyphStartIndex+1;r<t-1;r++)b.push(ie(v*u.getoffsetX(r),g,w,i,h,p,e.segment,n,o,l,s,_,d,!1,!1,m,y));b.push(c.last)}else{if(r&&!i){const n=Gt(p,o).point,i=e.lineStartIndex+e.segment+1,r=new t.pointGeometry(l.getx(i),l.gety(i)),s=Gt(r,o),a=Qt(e,n,s.signedDistanceFromCamera>0?s.point:ne(p,r,n,1,o,void 0,m,y.canonical),f);if(e.flipState=a&&a.needsFlipping?1:2,a)return a}const n=ie(v*u.getoffsetX(e.glyphStartIndex),g,w,i,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,s,_,d,!1,!1,m,y);if(!n)return{notEnoughRoom:!0};b=[n]}for(const e of b)t.addDynamicAttributes(c,e.point,e.angle);return{}}function ee(e,n,i,r,o){const s=r.projectTilePoint(e.x,e.y,n);if(!o)return Gt(s,i,s.z);const a=o(e);return Gt(new t.pointGeometry(s.x+a[0],s.y+a[1]),i,s.z+a[2])}function ne(t,e,n,i,r,o,s,a){const u=ee(t.add(t.sub(e)._unit()),a,r,s,o).point,l=n.sub(u);return n.add(l._mult(i/l.mag()))}function ie(e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y){const v=r?e-n:e+n;let g=v>0?1:-1,w=0;r&&(g*=-1,w=Math.PI),g<0&&(w+=Math.PI);let b=g>0?u+a:u+a+1,x=o,$=o,C=0,E=0;const A=Math.abs(v),k=[],S=[];let T=s;const I=()=>{const e=b-g;return 0===C?s:new t.pointGeometry(c.getx(e),c.gety(e))},O=()=>ne(I(),T,$,A-C+1,h,_,m,y.canonical);for(;C+E<=A;){if(b+=g,b<u||b>=l)return null;if($=x,k.push(x),f&&S.push(T||I()),x=p[b],void 0===x){T=new t.pointGeometry(c.getx(b),c.gety(b));const e=ee(T,y.canonical,h,m,_);x=e.signedDistanceFromCamera>0?p[b]=e.point:O()}else T=null;C+=E,E=$.dist(x)}d&&_&&(T=T||new t.pointGeometry(c.getx(b),c.gety(b)),p[b]=x=void 0===p[b]?x:O(),E=$.dist(x));const z=(A-C)/E,M=x.sub($),D=M.mult(z)._add($);i&&D._add(M._unit()._perp()._mult(i*g));const R=w+Math.atan2(x.y-$.y,x.x-$.x);return k.push(D),f&&(T=T||new t.pointGeometry(c.getx(b),c.gety(b)),S.push(function(e,n,i){const r=1-i;return new t.pointGeometry(e.x*r+n.x*i,e.y*r+n.y*i)}(S.length>0?S[S.length-1]:T,T,z))),{point:D,angle:R,path:k,tilePath:S}}const re=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function oe(t,e){for(let n=0;n<t;n++){const t=e.length;e.resize(t+4),e.float32.set(re,3*t)}}function se(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t[3]=n[3]*i+n[7]*r+n[15],t}const ae=100;class ue{constructor(t,e,n=new Ht(t.width+200,t.height+200,25),i=new Ht(t.width+200,t.height+200,25)){this.transform=t,this.grid=n,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+ae,this.screenBottomBoundary=t.height+ae,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.fogState=e}placeCollisionBox(t,e,n,i,r,o,s){let a=e.projectedAnchorX,u=e.projectedAnchorY,l=e.projectedAnchorZ;const c=e.elevation,h=e.tileID;if(c&&h){const t=this.transform.projection.createTileTransform(this.transform,this.transform.worldSize),n=t.upVector(h.canonical,e.tileAnchorX,e.tileAnchorY),i=t.upVectorScale(h.canonical);a+=n[0]*c*i,u+=n[1]*c*i,l+=n[2]*c*i}const p=this.projectAndGetPerspectiveRatio(o,a,u,l,e.tileID),_=r*p.perspectiveRatio,f=(e.x1*t+n.x-e.padding)*_+p.point.x,d=(e.y1*t+n.y-e.padding)*_+p.point.y,m=(e.x2*t+n.x+e.padding)*_+p.point.x,y=(e.y2*t+n.y+e.padding)*_+p.point.y,v=p.perspectiveRatio<=.55||p.aboveHorizon;return!this.isInsideGrid(f,d,m,y)||!i&&this.grid.hitTest(f,d,m,y,s)||v?{box:[],offscreen:!1}:{box:[f,d,m,y],offscreen:this.isOffscreen(f,d,m,y)}}placeCollisionCircles(e,n,i,r,o,s,a,u,l,c,h,p,_,f){const d=[],m=this.transform.elevation,y=this.transform.projection.createTileTransform(this.transform,this.transform.worldSize),v=m?m.getAtTileOffsetFunc(f,y):t=>[0,0,0],g=new t.pointGeometry(n.tileAnchorX,n.tileAnchorY),w=this.transform.projection.projectTilePoint(n.tileAnchorX,n.tileAnchorY,f.canonical),b=v(g),x=[w.x+b[0],w.y+b[1],w.z+b[2]],$=this.projectAndGetPerspectiveRatio(s,x[0],x[1],x[2],f),{perspectiveRatio:C}=$,E=(c?o/C:o*C)/t.ONE_EM,A=Gt(new t.pointGeometry(x[0],x[1]),a,x[2]).point,k=$.signedDistanceFromCamera>0?Jt(E,r,n.lineOffsetX*E,n.lineOffsetY*E,!1,A,g,n,i,a,{},m&&!c?v:null,c&&!!m,this.transform.projection,f):null;let S=!1,T=!1,I=!0;if(k&&!$.aboveHorizon){const n=.5*p*C+_,i=new t.pointGeometry(-100,-100),r=new t.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Ut,s=k.first,a=k.last;let c=[];for(let t=s.path.length-1;t>=1;t--)c.push(s.path[t]);for(let t=1;t<a.path.length;t++)c.push(a.path[t]);const f=2.5*n;if(u){const t=c.map(m?(t,e)=>{const n=v(e<s.path.length-1?s.tilePath[s.path.length-1-e]:a.tilePath[e-s.path.length+2]);return Gt(t,u,n[2])}:t=>Gt(t,u));c=t.some((t=>t.signedDistanceFromCamera<=0))?[]:t.map((t=>t.point))}let y=[];if(c.length>0){const e=c[0].clone(),n=c[0].clone();for(let t=1;t<c.length;t++)e.x=Math.min(e.x,c[t].x),e.y=Math.min(e.y,c[t].y),n.x=Math.max(n.x,c[t].x),n.y=Math.max(n.y,c[t].y);y=e.x>=i.x&&n.x<=r.x&&e.y>=i.y&&n.y<=r.y?[c]:n.x<i.x||e.x>r.x||n.y<i.y||e.y>r.y?[]:t.clipLine([c],i.x,i.y,r.x,r.y)}for(const t of y){o.reset(t,.25*n);let i=0;i=o.length<=.5*n?1:Math.ceil(o.paddedLength/f)+1;for(let t=0;t<i;t++){const r=t/Math.max(i-1,1),s=o.lerp(r),a=s.x+ae,u=s.y+ae;d.push(a,u,n,0);const c=a-n,p=u-n,_=a+n,f=u+n;if(I=I&&this.isOffscreen(c,p,_,f),T=T||this.isInsideGrid(c,p,_,f),!e&&this.grid.hitTestCircle(a,u,n,h)&&(S=!0,!l))return{circles:[],offscreen:!1,collisionDetected:S}}}}return{circles:!l&&S||!T?[]:d,offscreen:I,collisionDetected:S}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,o=-1/0,s=-1/0;for(const a of e){const e=new t.pointGeometry(a.x+ae,a.y+ae);i=Math.min(i,e.x),r=Math.min(r,e.y),o=Math.max(o,e.x),s=Math.max(s,e.y),n.push(e)}const a=this.grid.query(i,r,o,s).concat(this.ignoredGrid.query(i,r,o,s)),u={},l={};for(const e of a){const i=e.key;if(void 0===u[i.bucketInstanceId]&&(u[i.bucketInstanceId]={}),u[i.bucketInstanceId][i.featureIndex])continue;const r=[new t.pointGeometry(e.x1,e.y1),new t.pointGeometry(e.x2,e.y1),new t.pointGeometry(e.x2,e.y2),new t.pointGeometry(e.x1,e.y2)];t.polygonIntersectsPolygon(n,r)&&(u[i.bucketInstanceId][i.featureIndex]=!0,void 0===l[i.bucketInstanceId]&&(l[i.bucketInstanceId]=[]),l[i.bucketInstanceId].push(i.featureIndex))}return l}insertCollisionBox(t,e,n,i,r){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,e,n,i,r){const o=e?this.ignoredGrid:this.grid,s={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};for(let e=0;e<t.length;e+=4)o.insertCircle(s,t[e],t[e+1],t[e+2])}projectAndGetPerspectiveRatio(e,n,i,r,o){const s=[n,i,r||0,1];let a=!1;if(r||this.transform.pitch>0){t.transformMat4$1(s,s,e);let u=!1;this.fogState&&o&&(u=function(e,n,i,r,o,s){const a=s.calculateFogTileMatrix(o),u=[n,i,r];return t.transformMat4(u,u,a),w(e,u,s.pitch,s._fov)}(this.fogState,n,i,r||0,o.toUnwrapped(),this.transform)>.9),a=s[2]>s[3]||u}else se(s,s,e);return{point:new t.pointGeometry((s[0]/s[3]+1)/2*this.transform.width+ae,(-s[1]/s[3]+1)/2*this.transform.height+ae),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/s[3]*.5,1.5),signedDistanceFromCamera:s[3],aboveHorizon:a}}isOffscreen(t,e,n,i){return n<ae||t>=this.screenRightBoundary||i<ae||e>this.screenBottomBoundary}isInsideGrid(t,e,n,i){return n>=0&&t<this.gridRightBoundary&&i>=0&&e<this.gridBottomBoundary}getViewportMatrix(){const e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e}}class le{constructor(t,e,n,i){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class ce{constructor(t,e,n,i,r,o=!1){this.text=new le(t?t.text:null,e,n,r),this.icon=new le(t?t.icon:null,e,i,r),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class he{constructor(t,e,n,i=!1){this.text=t,this.icon=e,this.skipFade=n,this.clipped=i}}class pe{constructor(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]}}class _e{constructor(t,e,n,i,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class fe{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:t=>t.collisionGroupID===e}}return this.collisionGroups[t]}}function de(e,n,i,r,o){const{horizontalAlign:s,verticalAlign:a}=t.getAnchorAlignment(e),u=-(s-.5)*n,l=-(a-.5)*i,c=t.evaluateVariableOffset(e,r);return new t.pointGeometry(u+c[0]*o,l+c[1]*o)}function me(e,n,i,r,o){const s=new t.pointGeometry(e,n);return i&&s._rotate(r?o:-o),s}class ye{constructor(t,e,n,i,r){this.transform=t.clone(),this.collisionIndex=new ue(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new fe(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(e,n,i,r){const o=i.getBucket(n),s=i.latestFeatureIndex;if(!o||!s||n.id!==o.layerIds[0])return;const a=o.layers[0].layout,u=i.collisionBoxArray,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),c=i.tileSize/t.EXTENT,h=i.tileID.toUnwrapped(),p=this.transform.calculateProjMatrix(h),_="map"===a.get("text-pitch-alignment"),f="map"===a.get("text-rotation-alignment");n.compileFilter();const d=n.dynamicFilter(),m=n.dynamicFilterNeedsFeature(),y=this.transform.calculatePixelsToTileUnitsMatrix(i),v=Yt(p,i.tileID.canonical,_,f,this.transform,y);let g=null;if(_){const e=Wt(p,i.tileID.canonical,_,f,this.transform,y);g=t.multiply$1([],this.transform.labelPlaneMatrix,e)}let w=null;d&&i.latestFeatureIndex&&(w={unwrappedTileID:h,dynamicFilter:d,dynamicFilterNeedsFeature:m,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new _e(o.bucketInstanceId,s,o.sourceLayerIndex,o.index,i.tileID);const b={bucket:o,layout:a,posMatrix:p,textLabelPlaneMatrix:v,labelToScreenMatrix:g,clippingData:w,scale:l,textPixelRatio:c,holdingForFade:i.holdingForFade(),collisionBoxArray:u,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:t.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(const t of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=t;e.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:b})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:b})}attemptAnchorPlacement(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y){const v=[h.textOffset0,h.textOffset1],g=de(t,n,i,v,r),w=this.collisionIndex.placeCollisionBox(r,e,me(g.x,g.y,o,s,this.transform.angle),c,a,u,l.predicate);if((!d||0!==this.collisionIndex.placeCollisionBox(_.getSymbolInstanceIconSize(y,this.transform.zoom,p),d,me(g.x,g.y,o,s,this.transform.angle),c,a,u,l.predicate).box.length)&&w.box.length>0){let e;return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(e=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:v,width:n,height:i,anchor:t,textScale:r,prevAnchor:e},this.markUsedJustification(_,t,h,f),_.allowVerticalPlacement&&(this.markUsedOrientation(_,f,h),this.placedOrientations[h.crossTileID]=f),{shift:g,placedGlyphBoxes:w}}}placeLayerBucketPart(e,n,i,r){const{bucket:o,layout:s,posMatrix:a,textLabelPlaneMatrix:u,labelToScreenMatrix:l,clippingData:c,textPixelRatio:h,holdingForFade:p,collisionBoxArray:_,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:d,collisionGroup:m}=e.parameters,y=s.get("text-optional"),v=s.get("icon-optional"),g=s.get("text-allow-overlap"),w=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),$="none"!==s.get("icon-text-fit"),C="viewport-y"===s.get("symbol-z-order"),E=g&&(w||!o.hasIconData()||v),A=w&&(g||!o.hasTextData()||y);!o.collisionArrays&&_&&o.deserializeCollisionBoxes(_),i&&r&&o.updateCollisionDebugBuffers(this.transform.zoom,_);const k=(e,r,_)=>{if(c){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(c.dynamicFilterNeedsFeature){const t=this.retainedQueryData[o.bucketInstanceId];r=c.featureIndex.loadFeature({featureIndex:e.featureIndex,bucketIndex:t.bucketIndex,sourceLayerIndex:t.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,c.dynamicFilter)(i,r,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new t.pointGeometry(e.tileAnchorX,e.tileAnchorY),this.transform.calculateDistanceTileData(c.unwrappedTileID)))return this.placements[e.crossTileID]=new he(!1,!1,!1,!0),void(n[e.crossTileID]=!0)}if(n[e.crossTileID])return;if(p)return void(this.placements[e.crossTileID]=new he(!1,!1,!1));let C=!1,k=!1,S=!0,T=null,I={box:null,offscreen:null},O={box:null,offscreen:null},z=null,M=null,D=null,R=0,P=0,j=0;_.textFeatureIndex?R=_.textFeatureIndex:e.useRuntimeCollisionCircles&&(R=e.featureIndex),_.verticalTextFeatureIndex&&(P=_.verticalTextFeatureIndex);const N=t=>{t.tileID=this.retainedQueryData[o.bucketInstanceId].tileID,(this.transform.elevation||t.elevation)&&(t.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[o.bucketInstanceId].tileID,t.tileAnchorX,t.tileAnchorY):0)},L=_.textBox;if(L){N(L);const n=n=>{let i=t.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,i=t,this.markUsedOrientation(o,i,e))}return i},i=(n,i)=>{if(o.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&_.verticalTextBox){for(const e of o.writingModes)if(e===t.WritingMode.vertical?(I=i(),O=I):I=n(),I&&I.box&&I.box.length)break}else I=n()};if(s.get("text-variable-anchor")){let u=s.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[e.crossTileID]){const t=this.prevPlacement.variableOffsets[e.crossTileID];u.indexOf(t.anchor)>0&&(u=u.filter((e=>e!==t.anchor)),u.unshift(t.anchor))}const l=(t,n,i)=>{const s=o.getSymbolInstanceTextSize(f,e,this.transform.zoom,r),l=(t.x2-t.x1)*s+2*t.padding,c=(t.y2-t.y1)*s+2*t.padding,p=$&&!w?n:null;p&&N(p);let _={box:[],offscreen:!1};const y=g?2*u.length:u.length;for(let n=0;n<y;++n){const y=this.attemptAnchorPlacement(u[n%u.length],t,l,c,s,b,x,h,a,m,n>=u.length,e,r,o,i,p,f,d);if(y&&(_=y.placedGlyphBoxes,_&&_.box&&_.box.length)){C=!0,T=y.shift;break}}return _};i((()=>l(L,_.iconBox,t.WritingMode.horizontal)),(()=>{const n=_.verticalTextBox;return n&&N(n),o.allowVerticalPlacement&&!(I&&I.box&&I.box.length)&&e.numVerticalGlyphVertices>0&&n?l(n,_.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),I&&(C=I.box,S=I.offscreen);const c=n(I&&I.box);if(!C&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(o,t.anchor,e,c))}}else{const s=(n,i)=>{const s=o.getSymbolInstanceTextSize(f,e,this.transform.zoom,r),u=this.collisionIndex.placeCollisionBox(s,n,new t.pointGeometry(0,0),g,h,a,m.predicate);return u&&u.box&&u.box.length&&(this.markUsedOrientation(o,i,e),this.placedOrientations[e.crossTileID]=i),u};i((()=>s(L,t.WritingMode.horizontal)),(()=>{const n=_.verticalTextBox;return o.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?(N(n),s(n,t.WritingMode.vertical)):{box:null,offscreen:null}})),n(I&&I.box&&I.box.length)}}if(z=I,C=z&&z.box&&z.box.length>0,S=z&&z.offscreen,e.useRuntimeCollisionCircles){const n=o.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex),r=t.evaluateSizeForFeature(o.textSizeData,f,n),c=s.get("text-padding");M=this.collisionIndex.placeCollisionCircles(g,n,o.lineVertexArray,o.glyphOffsetArray,r,a,u,l,i,x,m.predicate,e.collisionCircleDiameter*r/t.ONE_EM,c,this.retainedQueryData[o.bucketInstanceId].tileID),C=g||M.circles.length>0&&!M.collisionDetected,S=S&&M.offscreen}if(_.iconFeatureIndex&&(j=_.iconFeatureIndex),_.iconBox){const e=e=>{N(e);const n=$&&T?me(T.x,T.y,b,x,this.transform.angle):new t.pointGeometry(0,0),i=o.getSymbolInstanceIconSize(d,this.transform.zoom,r);return this.collisionIndex.placeCollisionBox(i,e,n,w,h,a,m.predicate)};O&&O.box&&O.box.length&&_.verticalIconBox?(D=e(_.verticalIconBox),k=D.box.length>0):(D=e(_.iconBox),k=D.box.length>0),S=S&&D.offscreen}const q=y||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,B=v||0===e.numIconVertices;if(q||B?B?q||(k=k&&C):C=k&&C:k=C=k&&C,C&&z&&z.box&&this.collisionIndex.insertCollisionBox(z.box,s.get("text-ignore-placement"),o.bucketInstanceId,O&&O.box&&P?P:R,m.ID),k&&D&&this.collisionIndex.insertCollisionBox(D.box,s.get("icon-ignore-placement"),o.bucketInstanceId,j,m.ID),M&&(C&&this.collisionIndex.insertCollisionCircles(M.circles,s.get("text-ignore-placement"),o.bucketInstanceId,R,m.ID),i)){const t=o.bucketInstanceId;let e=this.collisionCircleArrays[t];void 0===e&&(e=this.collisionCircleArrays[t]=new pe);for(let t=0;t<M.circles.length;t+=4)e.circles.push(M.circles[t+0]),e.circles.push(M.circles[t+1]),e.circles.push(M.circles[t+2]),e.circles.push(M.collisionDetected?1:0)}this.placements[e.crossTileID]=new he(C||E,k||A,S||o.justReloaded),n[e.crossTileID]=!0};if(C){const t=o.getSortedSymbolIndexes(this.transform.angle);for(let e=t.length-1;e>=0;--e){const n=t[e];k(o.symbolInstances.get(n),n,o.collisionArrays[n])}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)k(o.symbolInstances.get(t),t,o.collisionArrays[t]);if(i&&o.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[o.bucketInstanceId];t.invert(e.invProjMatrix,a),e.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(e,n,i,r){let o;o=r===t.WritingMode.vertical?i.verticalPlacedTextSymbolIndex:{left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];const s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];for(const t of s)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=o>=0&&t!==o?0:i.crossTileID)}markUsedOrientation(e,n,i){const r=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];for(const t of s)e.text.placedSymbolArray.get(t).placedOrientation=r;i.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const e=this.prevPlacement;let n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;const i=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},o=e?e.variableOffsets:{},s=e?e.placedOrientations:{};for(const t in this.placements){const e=this.placements[t],o=r[t];o?(this.opacities[t]=new ce(o,i,e.text,e.icon,null,e.clipped),n=n||e.text!==o.text.placed||e.icon!==o.icon.placed):(this.opacities[t]=new ce(null,i,e.text,e.icon,e.skipFade,e.clipped),n=n||e.text||e.icon)}for(const t in r){const e=r[t];if(!this.opacities[t]){const r=new ce(e,i,!1,!1);r.isHidden()||(this.opacities[t]=r,n=n||e.text.placed||e.icon.placed)}}for(const t in o)this.variableOffsets[t]||!this.opacities[t]||this.opacities[t].isHidden()||(this.variableOffsets[t]=o[t]);for(const t in s)this.placedOrientations[t]||!this.opacities[t]||this.opacities[t].isHidden()||(this.placedOrientations[t]=s[t]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)}updateLayerOpacities(t,e){const n={};for(const i of e){const e=i.getBucket(t);e&&i.latestFeatureIndex&&t.id===e.layerIds[0]&&this.updateBucketOpacities(e,n,i.collisionBoxArray)}}updateBucketOpacities(e,n,i){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0].layout,o=!!e.layers[0].dynamicFilter(),s=new ce(null,0,!1,!1,!0),a=r.get("text-allow-overlap"),u=r.get("icon-allow-overlap"),l=r.get("text-variable-anchor"),c="map"===r.get("text-rotation-alignment"),h="map"===r.get("text-pitch-alignment"),p="none"!==r.get("icon-text-fit"),_=new ce(null,0,a&&(u||!e.hasIconData()||r.get("icon-optional")),u&&(a||!e.hasTextData()||r.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);const f=(t,e,n)=>{for(let i=0;i<e/4;i++)t.opacityVertexArray.emplaceBack(n)};let d=0;for(let i=0;i<e.symbolInstances.length;i++){const r=e.symbolInstances.get(i),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:u,crossTileID:m}=r;let y=this.opacities[m];n[m]?y=s:y||(y=_,this.opacities[m]=y),n[m]=!0;const v=a>0||u>0,g=r.numIconVertices>0,w=this.placedOrientations[r.crossTileID],b=w===t.WritingMode.vertical,x=w===t.WritingMode.horizontal||w===t.WritingMode.horizontalOnly;if(!v&&!g||y.isHidden()||d++,v){const t=Ae(y.text);f(e.text,a,b?ke:t),f(e.text,u,x?ke:t);const n=y.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach((t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=n||b?1:0)})),r.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=n||x?1:0);const i=this.variableOffsets[r.crossTileID];i&&this.markUsedJustification(e,i.anchor,r,w);const o=this.placedOrientations[r.crossTileID];o&&(this.markUsedJustification(e,"left",r,o),this.markUsedOrientation(e,o,r))}if(g){const t=Ae(y.icon);r.placedIconSymbolIndex>=0&&(f(e.icon,r.numIconVertices,b?ke:t),e.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=y.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,r.numVerticalIconVertices,x?ke:t),e.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=y.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const n=e.collisionArrays[i];if(n){let i=new t.pointGeometry(0,0),r=!0;if(n.textBox||n.verticalTextBox){if(l){const t=this.variableOffsets[m];t?(i=de(t.anchor,t.width,t.height,t.textOffset,t.textScale),c&&i._rotate(h?this.transform.angle:-this.transform.angle)):r=!1}o&&(r=!y.clipped),n.textBox&&ve(e.textCollisionBox.collisionVertexArray,y.text.placed,!r||b,i.x,i.y),n.verticalTextBox&&ve(e.textCollisionBox.collisionVertexArray,y.text.placed,!r||x,i.x,i.y)}const s=r&&Boolean(!x&&n.verticalIconBox);n.iconBox&&ve(e.iconCollisionBox.collisionVertexArray,y.icon.placed,s,p?i.x:0,p?i.y:0),n.verticalIconBox&&ve(e.iconCollisionBox.collisionVertexArray,y.icon.placed,!s,p?i.x:0,p?i.y:0)}}}if(e.fullyClipped=0===d,e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}symbolFadeChange(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,e){const n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t}setStale(){this.stale=!0}}function ve(t,e,n,i,r){t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0)}const ge=Math.pow(2,25),we=Math.pow(2,24),be=Math.pow(2,17),xe=Math.pow(2,16),$e=Math.pow(2,9),Ce=Math.pow(2,8),Ee=Math.pow(2,1);function Ae(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;const e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*ge+e*we+n*be+e*xe+n*$e+e*Ce+n*Ee+e}const ke=0;class Se{constructor(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,e,n,i,r){const o=this._bucketParts;for(;this._currentTileIndex<t.length;)if(e.getBucketParts(o,i,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((t,e)=>t.sortKey-e.sortKey)));this._currentPartIndex<o.length;){const t=o[this._currentPartIndex];if(e.placeLayerBucketPart(t,this._seenCrossTileIDs,n,0===t.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class Te{constructor(t,e,n,i,r,o,s,a){this.placement=new ye(t,r,o,s,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(e,n,i){const r=t.exported.now(),o=()=>{const e=t.exported.now()-r;return!this._forceFullPlacement&&e>2};for(;this._currentPlacementIndex>=0;){const t=n[e[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===t.type&&(!t.minzoom||t.minzoom<=r)&&(!t.maxzoom||t.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Se(t)),this._inProgressLayer.continuePlacement(i[t.source],this.placement,this._showCollisionBoxes,t,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const Ie=512/t.EXTENT/2;class Oe{constructor(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<e.length;n++){const i=e.get(n),r=i.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}}getScaledCoordinates(e,n){const i=Ie/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.tileAnchorX)*i),y:Math.floor((n.canonical.y*t.EXTENT+e.tileAnchorY)*i)}}findMatches(t,e,n){const i=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z);for(let r=0;r<t.length;r++){const o=t.get(r);if(o.crossTileID)continue;const s=this.indexedSymbolInstances[o.key];if(!s)continue;const a=this.getScaledCoordinates(o,e);for(const t of s)if(Math.abs(t.coord.x-a.x)<=i&&Math.abs(t.coord.y-a.y)<=i&&!n[t.crossTileID]){n[t.crossTileID]=!0,o.crossTileID=t.crossTileID;break}}}}class ze{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Me{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const e=Math.round((t-this.lng)/360);if(0!==e)for(const t in this.indexes){const n=this.indexes[t],i={};for(const t in n){const r=n[t];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),i[r.tileID.key]=r}this.indexes[t]=i}this.lng=t}addBucket(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let t=0;t<e.symbolInstances.length;t++)e.symbolInstances.get(t).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const i=this.usedCrossTileIDs[t.overscaledZ];for(const n in this.indexes){const r=this.indexes[n];if(Number(n)>t.overscaledZ)for(const n in r){const o=r[n];o.tileID.isChildOf(t)&&o.findMatches(e.symbolInstances,t,i)}else{const o=r[t.scaledTo(Number(n)).key];o&&o.findMatches(e.symbolInstances,t,i)}}for(let t=0;t<e.symbolInstances.length;t++){const r=e.symbolInstances.get(t);r.crossTileID||(r.crossTileID=n.generate(),i[r.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Oe(t,e.symbolInstances,e.bucketInstanceId),!0}removeBucketCrossTileIDs(t,e){for(const n in e.indexedSymbolInstances)for(const i of e.indexedSymbolInstances[n])delete this.usedCrossTileIDs[t][i.crossTileID]}removeStaleBuckets(t){let e=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)t[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],e=!0)}return e}}class De{constructor(){this.layerIndexes={},this.crossTileIDs=new ze,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,e,n,i){let r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Me);let o=!1;const s={};"globe"!==i.name&&r.handleWrapJump(n);for(const n of e){const e=n.getBucket(t);e&&t.id===e.layerIds[0]&&(e.bucketInstanceId||(e.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,e,this.crossTileIDs)&&(o=!0),s[e.bucketInstanceId]=!0)}return r.removeStaleBuckets(s)&&(o=!0),o}pruneUnusedLayers(t){const e={};t.forEach((t=>{e[t]=!0}));for(const t in this.layerIndexes)e[t]||delete this.layerIndexes[t]}}const Re=(e,n)=>t.emitValidationErrors(e,n&&n.filter((t=>"source.canvas"!==t.identifier))),Pe=t.pick(Rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),je=t.pick(Rt,["setCenter","setZoom","setBearing","setPitch"]),Ne=function(){const e={},n=t.spec.$version;for(const i in t.spec.$root){const r=t.spec.$root[i];if(r.required){let t=null;t="version"===i?n:"array"===r.type?[]:{},null!=t&&(e[i]=t)}}return e}(),Le={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class qe extends t.Evented{constructor(e,n={}){super(),this.map=e,this.dispatcher=new E(zt(),this),this.imageManager=new _,this.imageManager.setEventedParent(this),this.glyphManager=new t.GlyphManager(e._requestManager,n.localFontFamily?t.LocalGlyphMode.all:n.localIdeographFontFamily?t.LocalGlyphMode.ideographs:t.LocalGlyphMode.none,n.localFontFamily||n.localIdeographFontFamily),this.lineAtlas=new t.LineAtlas(256,512),this.crossTileSymbolIndex=new De,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());const i=this;this._rtlTextPluginCallback=qe.registerForPluginStateChange((e=>{i.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},((e,n)=>{if(t.triggerPluginCompletionEvent(e),n&&n.every((t=>t)))for(const t in i._sourceCaches){const e=i._sourceCaches[t],n=e.getSource().type;"vector"!==n&&"geojson"!==n||e.reload()}}))})),this.on("data",(t=>{if("source"!==t.dataType||"metadata"!==t.sourceDataType)return;const e=this.getSource(t.sourceId);if(e&&e.vectorLayerIds)for(const t in this._layers){const n=this._layers[t];n.source===e.id&&this._validateLayer(n)}}))}loadURL(e,n={}){this.fire(new t.Event("dataloading",{dataType:"style"}));const i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);const r=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,((e,n)=>{this._request=null,e?this.fire(new t.ErrorEvent(e)):n&&this._load(n,i)}))}loadJSON(e,n={}){this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.exported.frame((()=>{this._request=null,this._load(e,!1!==n.validate)}))}loadEmpty(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ne,!1)}_updateLayerCount(t,e){const n=e?1:-1;t.is3D()&&(this._num3DLayers+=n),"circle"===t.type&&(this._numCircleLayers+=n),"symbol"===t.type&&(this._numSymbolLayers+=n)}_load(e,n){if(n&&Re(this,t.validateStyle(e)))return;this._loaded=!0,this.stylesheet=e,this.updateProjection();for(const t in e.sources)this.addSource(t,e.sources[t],{validate:!1});this._changed=!1,e.sprite?this._loadSprite(e.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(e.glyphs);const i=Dt(this.stylesheet.layers);this._order=i.map((t=>t.id)),this._layers={},this._serializedLayers={};for(let e of i)e=t.createStyleLayer(e),e.setEventedParent(this,{layer:{id:e.id}}),this._layers[e.id]=e,this._serializedLayers[e.id]=e.serialize(),this._updateLayerCount(e,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}terrainSetForDrapingOnly(){return this.terrain&&0===this.terrain.drapeRenderMode}setProjection(t){t?this.stylesheet.projection=t:delete this.stylesheet.projection,this.updateProjection()}updateProjection(){const t=this.map.transform.projection,e=this.map.transform.setProjection(this.map._runtimeProjection||(this.stylesheet?this.stylesheet.projection:void 0)),n=this.map.transform.projection;if(this._loaded&&(n.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null)),this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),e){if(n.isReprojectedInTileSpace||t.isReprojectedInTileSpace){this.map.painter.clearBackgroundTiles();for(const t in this._sourceCaches)this._sourceCaches[t].clearTiles()}else this._forceSymbolLayerUpdate();this.map._update(!0)}}_loadSprite(e){this._spriteRequest=function(e,n,i){let r,o,s;const a=t.exported.devicePixelRatio>1?"@2x":"";let u=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,a,".json"),t.ResourceType.SpriteJSON),((t,e)=>{u=null,s||(s=t,r=e,c())})),l=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,a,".png"),t.ResourceType.SpriteImage),((t,e)=>{l=null,s||(s=t,o=e,c())}));function c(){if(s)i(s);else if(r&&o){const e=t.exported.getImageData(o),n={};for(const i in r){const{width:o,height:s,x:a,y:u,sdf:l,pixelRatio:c,stretchX:h,stretchY:p,content:_}=r[i],f=new t.RGBAImage({width:o,height:s});t.RGBAImage.copy(e,f,{x:a,y:u},{x:0,y:0},{width:o,height:s}),n[i]={data:f,pixelRatio:c,sdf:l,stretchX:h,stretchY:p,content:_}}i(null,n)}}return{cancel(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(e,this.map._requestManager,((e,n)=>{if(this._spriteRequest=null,e)this.fire(new t.ErrorEvent(e));else if(n)for(const t in n)this.imageManager.addImage(t,n[t]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new t.Event("data",{dataType:"style"}))}))}_validateLayer(e){const n=this.getSource(e.source);if(!n)return;const i=e.sourceLayer;i&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire(new t.ErrorEvent(new Error(`Source layer "${i}" does not exist on source "${n.id}" as specified by style layer "${e.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const t in this._sourceCaches)if(!this._sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(t){const e=[];for(const n of t){const t=this._layers[n];"custom"!==t.type&&e.push(t.serialize())}return e}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const t in this._sourceCaches)if(this._sourceCaches[t].hasTransition())return!0;for(const t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(t){return!!this.terrain&&Le[t.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(e){if(!this._loaded)return;const n=this._changed;if(this._changed){const t=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(t.length||n.length)&&this._updateWorkerLayers(t,n);for(const t in this._updatedSources){const e=this._updatedSources[t];"reload"===e?this._reloadSource(t):"clear"===e&&this._clearSource(t)}this._updateTilesForChangedImages();for(const t in this._updatedPaintProps)this._layers[t].updateTransitions(e);this.light.updateTransitions(e),this.fog&&this.fog.updateTransitions(e),this._resetUpdates()}const i={};for(const t in this._sourceCaches){const e=this._sourceCaches[t];i[t]=e.used,e.used=!1}for(const t of this._order){const n=this._layers[t];if(n.recalculate(e,this._availableImages),!n.isHidden(e.zoom)){const t=this._getLayerSourceCache(n);t&&(t.used=!0)}const i=this.map.painter;if(i){const t=n.getProgramIds();if(!t)continue;const r=n.getProgramConfiguration(e.zoom);for(const e of t)i.useProgram(e,r)}}for(const e in i){const n=this._sourceCaches[e];i[e]!==n.used&&n.getSource().fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:n.getSource().id}))}this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.fog&&this.fog.recalculate(e),this.z=e.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new t.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const e in this._sourceCaches)this._sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateWorkerLayers(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(e){if(this._checkLoaded(),Re(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Dt(e.layers);const n=function(t,e){if(!t)return[{command:Rt.setStyle,args:[e]}];let n=[];try{if(!o(t.version,e.version))return[{command:Rt.setStyle,args:[e]}];o(t.center,e.center)||n.push({command:Rt.setCenter,args:[e.center]}),o(t.zoom,e.zoom)||n.push({command:Rt.setZoom,args:[e.zoom]}),o(t.bearing,e.bearing)||n.push({command:Rt.setBearing,args:[e.bearing]}),o(t.pitch,e.pitch)||n.push({command:Rt.setPitch,args:[e.pitch]}),o(t.sprite,e.sprite)||n.push({command:Rt.setSprite,args:[e.sprite]}),o(t.glyphs,e.glyphs)||n.push({command:Rt.setGlyphs,args:[e.glyphs]}),o(t.transition,e.transition)||n.push({command:Rt.setTransition,args:[e.transition]}),o(t.light,e.light)||n.push({command:Rt.setLight,args:[e.light]}),o(t.fog,e.fog)||n.push({command:Rt.setFog,args:[e.fog]}),o(t.projection,e.projection)||n.push({command:Rt.setProjection,args:[e.projection]});const i={},r=[];!function(t,e,n,i){let r;for(r in e=e||{},t=t||{})t.hasOwnProperty(r)&&(e.hasOwnProperty(r)||jt(r,n,i));for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?o(t[r],e[r])||("geojson"===t[r].type&&"geojson"===e[r].type&&Lt(t,e,r)?n.push({command:Rt.setGeoJSONSourceData,args:[r,e[r].data]}):Nt(r,e,n,i)):Pt(r,e,n))}(t.sources,e.sources,r,i);const s=[];t.layers&&t.layers.forEach((t=>{i[t.source]?n.push({command:Rt.removeLayer,args:[t.id]}):s.push(t)}));let a=t.terrain;a&&i[a.source]&&(n.push({command:Rt.setTerrain,args:[void 0]}),a=void 0),n=n.concat(r),o(a,e.terrain)||n.push({command:Rt.setTerrain,args:[e.terrain]}),function(t,e,n){e=e||[];const i=(t=t||[]).map(Bt),r=e.map(Bt),s=t.reduce(Ft,{}),a=e.reduce(Ft,{}),u=i.slice(),l=Object.create(null);let c,h,p,_,f,d,m;for(c=0,h=0;c<i.length;c++)p=i[c],a.hasOwnProperty(p)?h++:(n.push({command:Rt.removeLayer,args:[p]}),u.splice(u.indexOf(p,h),1));for(c=0,h=0;c<r.length;c++)p=r[r.length-1-c],u[u.length-1-c]!==p&&(s.hasOwnProperty(p)?(n.push({command:Rt.removeLayer,args:[p]}),u.splice(u.lastIndexOf(p,u.length-h),1)):h++,d=u[u.length-c],n.push({command:Rt.addLayer,args:[a[p],d]}),u.splice(u.length-c,0,p),l[p]=!0);for(c=0;c<r.length;c++)if(p=r[c],_=s[p],f=a[p],!l[p]&&!o(_,f))if(o(_.source,f.source)&&o(_["source-layer"],f["source-layer"])&&o(_.type,f.type)){for(m in qt(_.layout,f.layout,n,p,null,Rt.setLayoutProperty),qt(_.paint,f.paint,n,p,null,Rt.setPaintProperty),o(_.filter,f.filter)||n.push({command:Rt.setFilter,args:[p,f.filter]}),o(_.minzoom,f.minzoom)&&o(_.maxzoom,f.maxzoom)||n.push({command:Rt.setLayerZoomRange,args:[p,f.minzoom,f.maxzoom]}),_)_.hasOwnProperty(m)&&"layout"!==m&&"paint"!==m&&"filter"!==m&&"metadata"!==m&&"minzoom"!==m&&"maxzoom"!==m&&(0===m.indexOf("paint.")?qt(_[m],f[m],n,p,m.slice(6),Rt.setPaintProperty):o(_[m],f[m])||n.push({command:Rt.setLayerProperty,args:[p,m,f[m]]}));for(m in f)f.hasOwnProperty(m)&&!_.hasOwnProperty(m)&&"layout"!==m&&"paint"!==m&&"filter"!==m&&"metadata"!==m&&"minzoom"!==m&&"maxzoom"!==m&&(0===m.indexOf("paint.")?qt(_[m],f[m],n,p,m.slice(6),Rt.setPaintProperty):o(_[m],f[m])||n.push({command:Rt.setLayerProperty,args:[p,m,f[m]]}))}else n.push({command:Rt.removeLayer,args:[p]}),d=u[u.lastIndexOf(p)+1],n.push({command:Rt.addLayer,args:[f,d]})}(s,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:Rt.setStyle,args:[e]}]}return n}(this.serialize(),e).filter((t=>!(t.command in je)));if(0===n.length)return!1;const i=n.filter((t=>!(t.command in Pe)));if(i.length>0)throw new Error(`Unimplemented: ${i.map((t=>t.command)).join(", ")}.`);return n.forEach((t=>{"setTransition"!==t.command&&this[t.command].apply(this,t.args)})),this.stylesheet=e,this.updateProjection(),!0}addImage(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)}updateImage(t,e){this.imageManager.updateImage(t,e)}getImage(t){return this.imageManager.getImage(t)}removeImage(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(e,n,i={}){if(this._checkLoaded(),void 0!==this.getSource(e))throw new Error("There is already a source with this ID");if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,`sources.${e}`,n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=$t(e,n,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this.loaded(),source:r.serialize(),sourceId:e})));const o=n=>{const i=(n?"symbol:":"other:")+e,o=this._sourceCaches[i]=new t.SourceCache(i,r,n);(n?this._symbolSourceCaches:this._otherSourceCaches)[e]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(e){this._checkLoaded();const n=this.getSource(e);if(void 0===n)throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error(`Source "${e}" cannot be removed while layer "${n}" is using it.`)));if(this.terrain&&this.terrain.get().source===e)return this.fire(new t.ErrorEvent(new Error(`Source "${e}" cannot be removed while terrain is using it.`)));const i=this._getSourceCaches(e);for(const e of i)delete this._sourceCaches[e.id],delete this._updatedSources[e.id],e.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e.getSource().id})),e.setEventedParent(null),e.clearTiles();delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,e){this._checkLoaded(),this.getSource(t).setData(e),this._changed=!0}getSource(t){const e=this._getSourceCache(t);return e&&e.getSource()}addLayer(e,n,i={}){this._checkLoaded();const r=e.id;if(this.getLayer(r))return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let o;if("custom"===e.type){if(Re(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=t.clone$1(e),e=t.extend(e,{source:r})),this._validate(t.validateStyle.layer,`layers.${r}`,e,{arrayIndex:-1},i))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const s=n?this._order.indexOf(n):this._order.length;if(n&&-1===s)return void this.fire(new t.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`)));this._order.splice(s,0,r),this._layerOrderChanged=!0,this._layers[r]=o;const a=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&a&&"custom"!==o.type){const t=this._removedLayers[r];delete this._removedLayers[r],t.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",a.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(e,n){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===n)return;const i=this._order.indexOf(e);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new t.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`))):(this._order.splice(r,0,e),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(e){this._checkLoaded();const n=this._layers[e];if(!n)return void this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be removed.`)));n.setEventedParent(null),this._updateLayerCount(n,!1);const i=this._order.indexOf(e);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(t){return this._layers[t]}hasLayer(t){return t in this._layers}hasLayerType(t){for(const e in this._layers)if(this._layers[e].type===t)return!0;return!1}setLayerZoomRange(e,n,i){this._checkLoaded();const r=this.getLayer(e);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(e,n,i={}){this._checkLoaded();const r=this.getLayer(e);if(r){if(!o(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,`layers.${r.id}.filter`,n,{layerType:r.type},i)||(r.filter=t.clone$1(n),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be filtered.`)))}getFilter(e){return t.clone$1(this.getLayer(e).filter)}setLayoutProperty(e,n,i,r={}){this._checkLoaded();const s=this.getLayer(e);s?o(s.getLayoutProperty(n),i)||(s.setLayoutProperty(n,i,r),this._updateLayer(s)):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(e,n){const i=this.getLayer(e);if(i)return i.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style.`)))}setPaintProperty(e,n,i,r={}){this._checkLoaded();const s=this.getLayer(e);s?o(s.getPaintProperty(n),i)||(s.setPaintProperty(n,i,r)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(t,e){return this.getLayer(t).getPaintProperty(e)}setFeatureState(e,n){this._checkLoaded();const i=e.source,r=e.sourceLayer,o=this.getSource(i);if(void 0===o)return void this.fire(new t.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const s=o.type;if("geojson"===s&&r)return void this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===s&&!r)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided.")));const a=this._getSourceCaches(i);for(const t of a)t.setFeatureState(r,e.id,n)}removeFeatureState(e,n){this._checkLoaded();const i=e.source,r=this.getSource(i);if(void 0===r)return void this.fire(new t.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const o=r.type,s="vector"===o?e.sourceLayer:void 0;if("vector"===o&&!s)return void this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(n&&"string"!=typeof e.id&&"number"!=typeof e.id)return void this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const a=this._getSourceCaches(i);for(const t of a)t.removeFeatureState(s,e.id,n)}getFeatureState(e){this._checkLoaded();const n=e.source,i=e.sourceLayer,r=this.getSource(n);if(void 0!==r){if("vector"!==r.type||i)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(i,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const e={};for(const t in this._sourceCaches){const n=this._sourceCaches[t].getSource();e[n.id]||(e[n.id]=n.serialize())}return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:e,layers:this._serializeLayers(this._order)},(t=>void 0!==t))}_updateLayer(t){this._updatedLayers[t.id]=!0;const e=this._getLayerSourceCache(t);t.source&&!this._updatedSources[t.source]&&e&&"raster"!==e.getSource().type&&(this._updatedSources[t.source]="reload",e.pause()),this._changed=!0,t.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(t){const e=t=>"fill-extrusion"===this._layers[t].type,n={},i=[];for(let r=this._order.length-1;r>=0;r--){const o=this._order[r];if(e(o)){n[o]=r;for(const e of t){const t=e[o];if(t)for(const e of t)i.push(e)}}}i.sort(((t,e)=>e.intersectionZ-t.intersectionZ));const r=[];for(let o=this._order.length-1;o>=0;o--){const s=this._order[o];if(e(s))for(let t=i.length-1;t>=0;t--){const e=i[t].feature;if(n[e.layer.id]<o)break;r.push(e),i.pop()}else for(const e of t){const t=e[s];if(t)for(const e of t)r.push(e.feature)}}return r}queryRenderedFeatures(e,n,i){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const e of n.layers){const n=this._layers[e];if(!n)return this.fire(new t.ErrorEvent(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const s=n&&n.layers?n.layers.some((t=>{const e=this.getLayer(t);return e&&e.is3D()})):this.has3DLayers(),a=ft.createFromScreenPoints(e,i);for(const t in this._sourceCaches){const e=this._sourceCaches[t].getSource().id;n.layers&&!r[e]||o.push(Et(this._sourceCaches[t],this._layers,this._serializedLayers,a,n,i,s,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(t,e,n,i,r,o,s){const a={},u=o.queryRenderedSymbols(i),l=[];for(const t of Object.keys(u).map(Number))l.push(s[t]);l.sort(kt);for(const n of l){const i=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,r.filter,r.layers,r.availableImages,t);for(const t in i){const e=a[t]=a[t]||[],r=i[t];r.sort(((t,e)=>{const i=n.featureSortOrder;if(i){const n=i.indexOf(t.featureIndex);return i.indexOf(e.featureIndex)-n}return e.featureIndex-t.featureIndex}));for(const t of r)e.push(t)}}for(const e in a)a[e].forEach((i=>{const r=i.feature,o=n(t[e]).getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o}));return a}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),a.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);const i=this._getSourceCaches(e);let r=[];for(const t of i)r=r.concat(At(t,n));return r}addSourceType(t,e,n){return qe.getSourceType(t)?n(new Error(`A source type called "${t}" already exists.`)):(qe.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const i=this.light.getLight();let r=!1;for(const t in e)if(!o(e[t],i[t])){r=!0;break}if(!r)return;const s={now:t.exported.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(s)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(e,n=1){if(this._checkLoaded(),!e)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===n){if("object"==typeof e.source){const n="terrain-dem-src";this.addSource(n,e.source),e=t.clone$1(e),e=t.extend(e,{source:n})}if(this._validate(t.validateStyle.terrain,"terrain",e))return}if(!this.terrain||this.terrain&&n!==this.terrain.drapeRenderMode)this._createTerrain(e,n);else{const n=this.terrain,i=n.get();for(const r in e)if(!o(e[r],i[r])){n.set(e),this.stylesheet.terrain=e;const i={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};n.updateTransitions(i);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const n=this.fog=new C(e,this.map.transform);this.stylesheet.fog=e;const i={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};n.updateTransitions(i)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const t of this.map._markers)t._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const n=this.fog,i=n.get();for(const r in e)if(!o(e[r],i[r])){n.set(e),this.stylesheet.fog=e;const i={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};n.updateTransitions(i);break}}else this._createFog(e);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const t=this._order.filter((t=>this.isLayerDraped(this._layers[t]))),e=this._order.filter((t=>!this.isLayerDraped(this._layers[t])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...t),this._drapedFirstOrder.push(...e)}_createTerrain(e,n){const i=this.terrain=new g(e,n);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const r={now:t.exported.now(),transition:t.extend({duration:0},this.stylesheet.transition)};i.updateTransitions(r)}_force3DLayerUpdate(){for(const t in this._layers){const e=this._layers[t];"fill-extrusion"===e.type&&this._updateLayer(e)}}_forceSymbolLayerUpdate(){for(const t in this._layers){const e=this._layers[t];"symbol"===e.type&&this._updateLayer(e)}}_validate(e,n,i,r,o={}){return(!o||!1!==o.validate)&&Re(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:i,styleSpec:t.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this._sourceCaches)this._sourceCaches[t].clearTiles(),this._sourceCaches[t].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(t){const e=this._getSourceCaches(t);for(const t of e)t.clearTiles()}_reloadSource(t){const e=this._getSourceCaches(t);for(const t of e)t.resume(),t.reload()}_updateSources(t){for(const e in this._sourceCaches)this._sourceCaches[e].update(t)}_generateCollisionBoxes(){for(const t in this._sourceCaches){const e=this._sourceCaches[t];e.resume(),e.reload()}}_updatePlacement(e,n,i,r,o=!1){let s=!1,a=!1;const u={};for(const t of this._order){const n=this._layers[t];if("symbol"!==n.type)continue;if(!u[n.source]){const t=this._getLayerSourceCache(n);if(!t)continue;u[n.source]=t.getRenderableIds(!0).map((e=>t.getTileByID(e))).sort(((t,e)=>e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)))}const i=this.crossTileSymbolIndex.addLayer(n,u[n.source],e.center.lng,e.projection);s=s||i}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new t.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.exported.now(),e.zoom))&&(this.pauseablePlacement=new Te(e,this._order,o,n,i,r,this.placement,this.fog&&e.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.exported.now()),a=!0),s&&this.pauseablePlacement.placement.setStale()),a||s)for(const t of this._order){const e=this._layers[t];"symbol"===e.type&&this.placement.updateLayerOpacities(e,u[e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.exported.now())}_releaseSymbolFadeTiles(){for(const t in this._sourceCaches)this._sourceCaches[t].releaseSymbolFadeTiles()}getImages(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();const i=t=>{t&&t.setDependencies(e.tileID.key,e.type,e.icons)};i(this._otherSourceCaches[e.source]),i(this._symbolSourceCaches[e.source])}getGlyphs(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)}getResource(e,n,i){return t.makeRequest(n,i)}_getSourceCache(t){return this._otherSourceCaches[t]}_getLayerSourceCache(t){return"symbol"===t.type?this._symbolSourceCaches[t.source]:this._otherSourceCaches[t.source]}_getSourceCaches(t){const e=[];return this._otherSourceCaches[t]&&e.push(this._otherSourceCaches[t]),this._symbolSourceCaches[t]&&e.push(this._symbolSourceCaches[t]),e}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}qe.getSourceType=function(t){return xt[t]},qe.setSourceType=function(t,e){xt[t]=e},qe.registerForPluginStateChange=t.registerForPluginStateChange;var Be="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",Fe="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Ue={},He={};Ue=Ge("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),He=Ge("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const Ve=Ge("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {\n#if defined(PROJECTION_GLOBE_VIEW) && !defined(PROJECTED_POS_ON_VIEWPORT)\nreturn mix(globe,mercator,t);\n#else\nreturn globe;\n#endif\n}\n#ifdef PROJECTION_GLOBE_VIEW\nmat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),Ye=Be;var We={background:Ge("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Ge("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Ge("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec2 scaled_extrude=extrude*a_scale;vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=scaled_extrude.x*surface_vectors[0]+scaled_extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);\n#else \nmat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\n#if defined(SCALE_WITH_MAP) && defined(PROJECTION_GLOBE_VIEW)\nview_scale*=a_scale;\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Ge("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ge("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nextrude*=a_scale;vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Ge("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ge("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Ge("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Ge("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:Ge("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Ge("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Ge("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Ge("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Ge("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(pos.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Ge("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Ge("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ge("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Ge("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nvec4 out_color=texture2D(u_gradient_image,v_uv);\n#else\nvec4 out_color=color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#ifdef RENDER_LINE_GRADIENT\nattribute vec3 a_packed;\n#else\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Ge("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Ge("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Ge("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Ge("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Ge("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchorZ=a_z_tile_anchor.x;vec2 tileAnchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tileAnchor)*elevation(tileAnchor);vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tileAnchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchorZ)+h,mercator_pos,u_zoom_transition);vec4 projectedPoint=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),anchorZ,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchorZ),mercator_pos,u_zoom_transition);\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Ge("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:Ge("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Ge("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Fe),skyboxGradient:Ge("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Fe),skyboxCapture:Ge("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Ge("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {gl_FragColor=texture2D(u_image0,v_pos0);\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;varying vec2 v_pos0;const float wireframeOffset=1e3;void main() {v_pos0=a_uv;vec2 uv=a_uv*EXTENT;vec4 up_vector=vec4(elevationVector(uv),1.0);float height=elevation(uv);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nvec4 globe=u_globe_matrix*vec4(a_globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(0.0);if (u_zoom_transition > 0.0) {mercator=vec4(a_merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;}vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);}"),globeAtmosphere:Ge("uniform vec2 u_center;uniform float u_radius;uniform vec2 u_screen_size;uniform float u_opacity;uniform highp float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform float u_pixel_ratio;void main() {highp vec2 fragCoord=gl_FragCoord.xy/u_pixel_ratio;fragCoord.y=u_screen_size.y-fragCoord.y;float distFromCenter=length(fragCoord-u_center);float normDistFromCenter=length(fragCoord-u_center)/u_radius;if (normDistFromCenter < 1.0)\ndiscard;float t=clamp(1.0-sqrt(normDistFromCenter-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}","attribute vec3 a_pos;void main() {gl_Position=vec4(a_pos,1.0);}")};function Ge(t,e,n){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,o=e.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),s=t.match(r),a=e.match(r),u=Be.match(r);let l=a?a.concat(s):s;n||(Ue.staticUniforms&&(l=Ue.staticUniforms.concat(l)),He.staticUniforms&&(l=He.staticUniforms.concat(l))),l&&(l=l.concat(u));const c={};return{fragmentSource:t=t.replace(i,((t,e,n,i,r)=>(c[r]=!0,"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nvarying ${n} ${i} ${r};\n#else\nuniform ${n} ${i} u_${r};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${r}\n    ${n} ${i} ${r} = u_${r};\n#endif\n`))),vertexSource:e=e.replace(i,((t,e,n,i,r)=>{const o="float"===i?"vec2":"vec4",s=r.match(/color/)?"color":o;return c[r]?"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${n} ${o} a_${r};\nvarying ${n} ${i} ${r};\n#else\nuniform ${n} ${i} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = a_${r};\n#else\n    ${n} ${i} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${n} ${i} ${r} = u_${r};\n#endif\n`:"define"===e?`\n#ifndef HAS_UNIFORM_u_${r}\nuniform lowp float u_${r}_t;\nattribute ${n} ${o} a_${r};\n#else\nuniform ${n} ${i} u_${r};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${r}\n    ${n} ${i} ${r} = a_${r};\n#else\n    ${n} ${i} ${r} = u_${r};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${r}\n    ${n} ${i} ${r} = unpack_mix_${s}(a_${r}, u_${r}_t);\n#else\n    ${n} ${i} ${r} = u_${r};\n#endif\n`})),staticAttributes:o,staticUniforms:l}}class Ze{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,e,n,i,r,o,s,a){this.context=t;let u=this.boundPaintVertexBuffers.length!==i.length;for(let t=0;!u&&t<i.length;t++)this.boundPaintVertexBuffers[t]!==i[t]&&(u=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===r&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===s&&this.boundDynamicVertexBuffer2===a?(t.bindVertexArrayOES.set(this.vao),s&&s.bind(),r&&r.dynamicDraw&&r.bind(),a&&a.bind()):this.freshBind(e,n,i,r,o,s,a)}freshBind(t,e,n,i,r,o,s){let a;const u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=s;else{a=l.currentNumAttributes||0;for(let t=u;t<a;t++)c.disableVertexAttribArray(t)}e.enableAttributes(c,t);for(const e of n)e.enableAttributes(c,t);o&&o.enableAttributes(c,t),s&&s.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,r);for(const e of n)e.bind(),e.setVertexAttribPointers(c,t,r);o&&(o.bind(),o.setVertexAttribPointers(c,t,r)),i&&i.bind(),s&&(s.bind(),s.setVertexAttribPointers(c,t,r)),l.currentNumAttributes=u}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Ke(e,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new t.MercatorCoordinate(0,r/i).toLngLat().lat,new t.MercatorCoordinate(0,(r+1)/i).toLngLat().lat]}function Xe(e,n,i,r,o,s,a){const u=e.context,l=u.gl,c=i.fbo;if(!c)return;e.prepareDrawTile(n);const h=e.useProgram("hillshade");u.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get());const p=((t,e,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),s=n.paint.get("hillshade-accent-color");let a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);const u=!t.options.moving;return{u_matrix:i||t.transform.calculateProjMatrix(e.tileID.toUnwrapped(),u),u_image:0,u_latrange:Ke(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:o,u_accent:s}})(e,i,r,e.terrain?n.projMatrix:null);e.prepareDrawProgram(u,h,n.toUnwrapped());const{tileBoundsBuffer:_,tileBoundsIndexBuffer:f,tileBoundsSegments:d}=e.getTileBoundsBuffers(i);h.draw(u,l.TRIANGLES,o,s,a,t.CullFaceMode.disabled,p,r.id,_,f,d)}function Je(e,n,i){if(!n.needsDEMTextureUpload)return;const r=e.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(i.stride);const s=i.getPixels();n.demTexture?n.demTexture.update(s,{premultiply:!1}):n.demTexture=new t.Texture(r,s,o.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}function Qe(e,n,i,r,o,s){const a=e.context,u=a.gl;if(!n.dem)return;const l=n.dem;if(a.activeTexture.set(u.TEXTURE1),Je(e,n,l),!n.demTexture)return;n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);const c=l.dim;a.activeTexture.set(u.TEXTURE0);let h=n.fbo;if(!h){const e=new t.Texture(a,{width:c,height:c,data:null},u.RGBA);e.bind(u.LINEAR,u.CLAMP_TO_EDGE),h=n.fbo=a.createFramebuffer(c,c,!0),h.colorAttachment.set(e.texture)}a.bindFramebuffer.set(h.framebuffer),a.viewport.set([0,0,c,c]);const{tileBoundsBuffer:p,tileBoundsIndexBuffer:_,tileBoundsSegments:f}=e.getMercatorTileBoundsBuffers();e.useProgram("hillshadePrepare").draw(a,u.TRIANGLES,r,o,s,t.CullFaceMode.disabled,((e,n)=>{const i=n.stride,r=t.create();return t.ortho(r,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(r,r,[0,-t.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_unpack:n.unpackVector}})(n.tileID,l),i.id,p,_,f),n.needsHillshadePrepare=!1}const tn=(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image0:new t.Uniform1i(e,n.u_image0),u_skirt_height:new t.Uniform1f(e,n.u_skirt_height)}),en=(t,e)=>({u_matrix:t,u_image0:0,u_skirt_height:e}),nn=(t,e,n,i,r)=>({u_proj_matrix:Float32Array.from(t),u_globe_matrix:e,u_merc_matrix:n,u_zoom_transition:i,u_merc_center:r,u_image0:0});function rn(t,e){return null!=t&&null!=e&&!(!t.hasData()||!e.hasData())&&null!=t.demTexture&&null!=e.demTexture&&t.tileID.key!==e.tileID.key}const on=new class{constructor(){this.operations={}}newMorphing(t,e,n,i,r){if(t in this.operations){const e=this.operations[t];e.to.tileID.key!==n.tileID.key&&(e.queued=n)}else this.operations[t]={startTime:i,phase:0,duration:r,from:e,to:n,queued:null}}getMorphValuesForProxy(t){if(!(t in this.operations))return null;const e=this.operations[t];return{from:e.from,to:e.to,phase:e.phase}}update(t){for(const e in this.operations){const n=this.operations[e];for(n.phase=(t-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,t)){delete this.operations[e];break}}}_nextOp(t,e){return!!t.queued&&(t.from=t.to,t.to=t.queued,t.queued=null,t.phase=0,t.startTime=e,!0)}_validOp(t){return t.from.hasData()&&t.to.hasData()}},sn={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function an(t,e){const n=1<<t.z;return!e&&(0===t.x||t.x===n-1)||0===t.y||t.y===n-1}const un=t=>({u_matrix:t});function ln(e,n,i,r,o){if(o>0){const s=t.exported.now(),a=(s-e.timeAdded)/o,u=n?(s-n.timeAdded)/o:-1,l=i.getSource(),c=r.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-c)>Math.abs(e.tileID.overscaledZ-c),p=h&&e.refreshedUponExpiration?1:t.clamp(h?a:1-u,0,1);return e.refreshedUponExpiration&&a>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}class cn extends t.SourceCache{constructor(t){const e={type:"raster-dem",maxzoom:t.transform.maxZoom},n=new E(zt(),null),i=$t("mock-dem",e,n,t.style);super("mock-dem",i,!1),i.setEventedParent(this),this._sourceLoaded=!0}_loadTile(t,e){t.state="loaded",e(null)}}class hn extends t.SourceCache{constructor(t){const e=$t("proxy",{type:"geojson",maxzoom:t.transform.maxZoom},new E(zt(),null),t.style);super("proxy",e,!1),e.setEventedParent(this),this.map=this.getSource().map=t,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(e,n,i){if(e.freezeTileCoverage)return;this.transform=e;const r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((n,i)=>{if(n[i.key]="",!this._tiles[i.key]){const n=new t.Tile(i,this._source.tileSize*i.overscaleFactor(),e.tileZoom);n.state="loaded",this._tiles[i.key]=n}return n}),{});for(const t in this._tiles)t in r||(this.freeFBO(t),this._tiles[t].unloadVectorData(),delete this._tiles[t])}freeFBO(t){const e=this.proxyCachedFBO[t];if(void 0!==e){const n=Object.values(e);this.renderCachePool.push(...n),delete this.proxyCachedFBO[t]}}deallocRenderCache(){this.renderCache.forEach((t=>t.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class pn extends t.OverscaledTileID{constructor(t,e,n){super(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y),this.proxyTileKey=e,this.projMatrix=n}}class _n extends t.Elevation{constructor(e,n){super(),this.painter=e,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,o]=function(e){const n=new t.StructArrayLayout4i8,i=new t.StructArrayLayout3ui6,r=131;n.reserve(17161),i.reserve(33800);const o=t.EXTENT/128,s=t.EXTENT+o/2,a=s+o;for(let e=-o;e<a;e+=o)for(let i=-o;i<a;i+=o){const r=i<0||i>s||e<0||e>s?24575:0,o=t.clamp(Math.round(i),0,t.EXTENT),a=t.clamp(Math.round(e),0,t.EXTENT);n.emplaceBack(o+r,a,o,a)}const u=(t,e)=>{const n=e*r+t;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1)};for(let t=1;t<129;t++)for(let e=1;e<129;e++)u(e,t);return[0,129].forEach((t=>{for(let e=0;e<130;e++)u(e,t),u(t,e)})),[n,i,32768]}(),s=e.context;this.gridBuffer=s.createVertexBuffer(i,t.boundsAttributes.members),this.gridIndexBuffer=s.createIndexBuffer(r),this.gridSegments=t.SegmentVector.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=t.SegmentVector.simpleSegment(0,0,i.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new hn(n.map),this.orthoMatrix=t.create(),t.ortho(this.orthoMatrix,0,t.EXTENT,0,t.EXTENT,0,1);const a=s.gl;this._overlapStencilMode=new t.StencilMode({func:a.GEQUAL,mask:255},0,255,a.KEEP,a.KEEP,a.REPLACE),this._previousZoom=e.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=n,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new cn(n.map)}set style(t){t.on("data",this._onStyleDataEvent.bind(this)),t.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=t,this._checkRenderCacheEfficiency()}update(e,n,i){if(e&&e.terrain){this._style!==e&&(this.style=e),this.enabled=!0;const r=e.terrain.properties;this.sourceCache=0===e.terrain.drapeRenderMode?this._mockSourceCache:e._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const o=()=>{this.sourceCache.used&&t.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const e=this.getScaledDemTileSize();this.sourceCache.update(n,e,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(t){this._findCoveringTileCache[t]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const e=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==e.efficiency&&t.warnOnce(`Terrain render cache efficiency is not optimal (${e.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${e.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(t){t.coord&&"source"===t.dataType?this._clearRenderCacheForTile(t.sourceCacheId,t.coord):"style"===t.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const t in this._style._sourceCaches)this._style._sourceCaches[t].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((t=>t.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const t=2*this.proxySourceCache.getSource().tileSize;return[t,t]}set useVertexMorphing(t){this._useVertexMorphing=t}updateTileBinding(e){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const n=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=n.getIds().map((t=>{const e=n.getTileByID(t).tileID;return e.projMatrix=i.calculateProjMatrix(e.toUnwrapped()),e}));!function(e,n){const i=n.transform.pointCoordinate(n.transform.getCameraPoint()),r=new t.pointGeometry(i.x,i.y);e.sort(((e,n)=>{if(n.overscaledZ-e.overscaledZ)return n.overscaledZ-e.overscaledZ;const i=new t.pointGeometry(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),o=new t.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),s=r.mult(1<<e.canonical.z);return s.x-=.5,s.y-=.5,s.distSqr(i)-s.distSqr(o)}))}(r,this.painter),this._previousZoom=i.zoom;const o=this.proxyToSource||{};this.proxyToSource={},r.forEach((t=>{this.proxyToSource[t.key]={}})),this.terrainTileForTile={};const s=this._style._sourceCaches;for(const t in s){const n=s[t];if(!n.used)continue;if(n!==this.sourceCache&&this.resetTileLookupCache(n.id),this._setupProxiedCoordsForOrtho(n,e[t],o),n.usedForTerrain)continue;const i=e[t];n.getSource().reparseOverscaled&&this._assignTerrainTiles(i)}this.proxiedCoords[n.id]=r.map((t=>new pn(t,t.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=t.exported.now();const a={};this._visibleDemTiles=[];for(const t of this.proxyCoords){const e=this.terrainTileForTile[t.key];if(!e)continue;const n=e.tileID.key;n in a||(this._visibleDemTiles.push(e),a[n]=n)}}_assignTerrainTiles(t){this._initializing||t.forEach((t=>{if(this.terrainTileForTile[t.key])return;const e=this._findTileCoveringTileID(t,this.sourceCache);e&&(this.terrainTileForTile[t.key]=e)}))}_prepareDEMTextures(){const t=this.painter.context,e=t.gl;for(const n in this.terrainTileForTile){const i=this.terrainTileForTile[n],r=i.dem;!r||i.demTexture&&!i.needsDEMTextureUpload||(t.activeTexture.set(e.TEXTURE1),Je(this.painter,i,r))}}_prepareDemTileUniforms(t,e,n,i){if(!e||null==e.demTexture)return!1;const r=t.tileID.canonical,o=Math.pow(2,e.tileID.canonical.z-r.z),s=i||"";return n[`u_dem_tl${s}`]=[r.x*o%1,r.y*o%1],n[`u_dem_scale${s}`]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const e=this.painter.context,n=e.gl;if(!this._emptyDepthBufferTexture){const i={width:1,height:1,data:new Uint8Array([255,255,255,255])};this._emptyDepthBufferTexture=new t.Texture(e,i,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let t=0;const e=this._visibleDemTiles.reduce(((e,n)=>{if(!n.dem)return e;const i=n.dem.tree.minimums[0];return i>0&&t++,e+i}),0);return t?e/t:0}_updateEmptyDEMTexture(){const e=this.painter.context,n=e.gl;e.activeTexture.set(n.TEXTURE2);const i=this._getLoadedAreaMinimum(),r={width:1,height:1,data:new Uint8Array(t.DEMData.pack(i,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new t.Texture(e,r,n.RGBA,{premultiply:!1}),o}setupElevationDraw(e,n,i){const r=this.painter.context,o=r.gl,s=(a=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:t.DEMData.getUnpackVector(a),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var a;s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();const u=this.painter.transform,l=u.projection.createTileTransform(u,u.worldSize),c=e.tileID.canonical;s.u_tile_tl_up=l.upVector(c,0,0),s.u_tile_tr_up=l.upVector(c,t.EXTENT,0),s.u_tile_br_up=l.upVector(c,t.EXTENT,t.EXTENT),s.u_tile_bl_up=l.upVector(c,0,t.EXTENT),s.u_tile_up_scale=l.upVectorScale(c);let h=null,p=null,_=1;if(i&&i.morphing&&this._useVertexMorphing){const t=i.morphing.srcDemTile,n=i.morphing.dstDemTile;_=i.morphing.phase,t&&n&&(this._prepareDemTileUniforms(e,t,s,"_prev")&&(p=t),this._prepareDemTileUniforms(e,n,s)&&(h=n))}if(p&&h?(r.activeTexture.set(o.TEXTURE2),h.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),r.activeTexture.set(o.TEXTURE4),p.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),s.u_dem_lerp=_):(h=this.terrainTileForTile[e.tileID.key],r.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(e,h,s)?h.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),r.activeTexture.set(o.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&h){const e=(1<<h.tileID.canonical.z)*t.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=e}i&&i.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),n.setTerrainUniformValues(r,s)}renderToBackBuffer(e){const n=this.painter,i=this.painter.context;0!==e.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),this.renderingToTexture=!1,function(e,n,i,r,o){if("globe"===e.transform.projection.name)!function(e,n,i,r,o){const s=e.context,a=s.gl;let u,l;const c=e.options.showTerrainWireframe?2:0,h=(t,n)=>{if(l===t)return;const i=[];n&&i.push(sn[c]),i.push(sn[t]),i.push("PROJECTION_GLOBE_VIEW"),u=e.useProgram("globeRaster",null,i),l=t},p=e.colorModeForRenderPass(),_=new t.DepthMode(a.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);on.update(o);const f=e.transform,d=t.calculateGlobeMatrix(f,f.worldSize),m=t.calculateGlobeMercatorMatrix(f),y=[t.mercatorXfromLng(f.center.lng),t.mercatorYfromLat(f.center.lat)],v=e.globeSharedBuffers;(c?[!1,!0]:[!1]).forEach((c=>{l=-1;const g=c?a.LINES:a.TRIANGLES;for(const l of r){const r=i.getTile(l),w=Math.pow(2,l.canonical.z),[b,x]=t.globeBuffersForTileMesh(e,r,l,w),$=t.StencilMode.disabled,C=n.prevTerrainTileForTile[l.key],E=n.terrainTileForTile[l.key];rn(C,E)&&on.newMorphing(l.key,C,E,o,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const A=on.getMorphValuesForProxy(l.key),k=A?1:0,S={};A&&t.extend$1(S,{morphing:{srcDemTile:A.from,dstDemTile:A.to,phase:t.easeCubicInOut(A.phase)}});const T=t.globeMatrixForTile(l.canonical,d),I=nn(f.projMatrix,T,m,t.globeToMercatorTransition(f.zoom),y);if(h(k,c),n.setupElevationDraw(r,u,S),e.prepareDrawProgram(s,u,l.toUnwrapped()),v){const[n,i]=c?v.getWirefameBuffer(e.context):[v.gridIndexBuffer,v.gridSegments];u.draw(s,g,_,$,p,t.CullFaceMode.backCCW,I,"globe_raster",b,n,i)}if(!c){const e=[0===l.canonical.y?t.globePoleMatrixForTile(l.canonical,!1,f):null,l.canonical.y===w-1?t.globePoleMatrixForTile(l.canonical,!0,f):null];for(const n of e){if(!n)continue;const e=nn(f.projMatrix,n,n,0,y);v&&u.draw(s,g,_,$,p,t.CullFaceMode.disabled,e,"globe_pole_raster",x,v.poleIndexBuffer,v.poleSegments)}}}}))}(e,n,i,r,o);else{const s=e.context,a=s.gl;let u,l;const c=e.options.showTerrainWireframe?2:0,h=(t,n)=>{if(l===t)return;const i=[sn[t]];n&&i.push(sn[c]),u=e.useProgram("terrainRaster",null,i),l=t},p=e.colorModeForRenderPass(),_=new t.DepthMode(a.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);on.update(o);const f=e.transform,d=6*Math.pow(1.5,22-f.zoom)*n.exaggeration();(c?[!1,!0]:[!1]).forEach((c=>{l=-1;const m=c?a.LINES:a.TRIANGLES,[y,v]=c?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments];for(const l of r){const r=i.getTile(l),g=t.StencilMode.disabled,w=n.prevTerrainTileForTile[l.key],b=n.terrainTileForTile[l.key];rn(w,b)&&on.newMorphing(l.key,w,b,o,250),s.activeTexture.set(a.TEXTURE0),r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);const x=on.getMorphValuesForProxy(l.key),$=x?1:0;let C;x&&(C={morphing:{srcDemTile:x.from,dstDemTile:x.to,phase:t.easeCubicInOut(x.phase)}});const E=en(l.projMatrix,an(l.canonical,f.renderWorldCopies)?d/10:d);h($,c),n.setupElevationDraw(r,u,C),e.prepareDrawProgram(s,u,l.toUnwrapped()),u.draw(s,m,_,g,p,t.CullFaceMode.backCCW,E,"terrain_raster",n.gridBuffer,y,v)}}))}}(n,this,this.proxySourceCache,e,this._updateTimestamp),this.renderingToTexture=!0,e.splice(0,e.length))}renderBatch(e){if(0===this._drapedRenderBatches.length)return e+1;this.renderingToTexture=!0;const n=this.painter,i=this.painter.context,r=this.proxySourceCache,o=this.proxiedCoords[r.id],s=this._drapedRenderBatches.shift(),a=[],u=n.style.order;let l=0;for(const c of o){const o=r.getTileByID(c.proxyTileKey),h=r.proxyCachedFBO[c.key]?r.proxyCachedFBO[c.key][e]:void 0,p=void 0!==h?r.renderCache[h]:this.pool[l++],_=void 0!==h;if(o.texture=p.tex,_&&!p.dirty){a.push(o.tileID);continue}let f;i.bindFramebuffer.set(p.fb.framebuffer),this.renderedToTile=!1,p.dirty&&(i.clear({color:t.Color.transparent,stencil:0}),p.dirty=!1);for(let t=s.start;t<=s.end;++t){const e=n.style._layers[u[t]];if(e.isHidden(n.transform.zoom))continue;const r=n.style._getLayerSourceCache(e),o=r?this.proxyToSource[c.key][r.id]:[c];if(!o)continue;const s=o;i.viewport.set([0,0,p.fb.width,p.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(p,o,e,r),f=r?r.id:null),n.renderLayer(n,r,e,s)}this.renderedToTile?(p.dirty=!0,a.push(o.tileID)):_||--l,5===l&&(l=0,this.renderToBackBuffer(a))}return this.renderToBackBuffer(a),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),s.end+1}postRender(){}renderCacheEfficiency(t){const e=t.order.length;if(0===e)return{efficiency:100};let n,i=0,r=0,o=!1;for(let s=0;s<e;++s){const e=t._layers[t.order[s]];this._style.isLayerDraped(e)?(o&&++i,++r):o||(o=!0,n=e.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-i/r),firstUndrapedLayer:n}}getMinElevationBelowMSL(){let t=0;return this._visibleDemTiles.filter((t=>t.dem)).forEach((e=>{t=Math.min(t,e.dem.tree.minimums[0])})),0===t?t:(t-30)*this._exaggeration}raycast(t,e,n){if(!this._visibleDemTiles)return null;const i=this._visibleDemTiles.filter((t=>t.dem)).map((i=>{const r=i.tileID,o=Math.pow(2,r.overscaledZ),{x:s,y:a}=r.canonical,u=s/o,l=(s+1)/o,c=a/o,h=(a+1)/o;return{minx:u,miny:c,maxx:l,maxy:h,t:i.dem.tree.raycastRoot(u,c,l,h,t,e,n),tile:i}}));i.sort(((t,e)=>(null!==t.t?t.t:Number.MAX_VALUE)-(null!==e.t?e.t:Number.MAX_VALUE)));for(const r of i){if(null==r.t)return null;const i=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,t,e,n);if(null!=i)return i}return null}_createFBO(){const e=this.painter.context,n=e.gl,i=this.drapeBufferSize;e.activeTexture.set(n.TEXTURE0);const r=new t.Texture(e,{width:i[0],height:i[1],data:null},n.RGBA);r.bind(n.LINEAR,n.CLAMP_TO_EDGE);const o=e.createFramebuffer(i[0],i[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new ht(e,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=e.createRenderbuffer(e.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),e.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),e.extTextureFilterAnisotropic&&!e.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some((t=>{const e=this._style._layers[t],n=e.isHidden(this.painter.transform.zoom),i=e.getCrossfadeParameters(),r=!!i&&1!==i.t,o=e.hasTransition();return"custom"!==e.type&&!n&&(r||o)}))}_clearRasterFadeFromRenderCache(){let t=!1;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e]._source instanceof vt){t=!0;break}if(t)for(let t=0;t<this._style.order.length;++t){const e=this._style._layers[this._style.order[t]],n=e.isHidden(this.painter.transform.zoom),i=this._style._getLayerSourceCache(e);if("raster"!==e.type||n||!i)continue;const r=e.paint.get("raster-fade-duration");for(const t of this.proxyCoords){const e=this.proxyToSource[t.key][i.id];if(e)for(const t of e){const e=ln(i.getTile(t),i.findLoadedParent(t,0),i,this.painter.transform,r);(1!==e.opacity||0!==e.mix)&&this._clearRenderCacheForTile(i.id,t)}}}}_setupDrapedRenderBatches(){const t=this._style.order,e=t.length;if(0===e)return;const n=[];let i,r=0,o=this._style._layers[t[r]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<e;)o=this._style._layers[t[r]];for(;r<e;++r){const e=this._style._layers[t[r]];e.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(e)?void 0===i&&(i=r):void 0!==i&&(n.push({start:i,end:r-1}),i=void 0))}void 0!==i&&n.push({start:i,end:r-1}),this._drapedRenderBatches=n}_setupRenderCache(t){const e=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,e.renderCache.length>e.renderCachePool.length){const t=Object.values(e.proxyCachedFBO);e.proxyCachedFBO={};for(let n=0;n<t.length;++n){const i=Object.values(t[n]);e.renderCachePool.push(...i)}}return}this._clearRasterFadeFromRenderCache();const n=this.proxyCoords,i=this._tilesDirty;for(let r=n.length-1;r>=0;r--){const o=n[r];if(e.getTileByID(o.key),void 0!==e.proxyCachedFBO[o.key]){const n=t[o.key],r=this.proxyToSource[o.key];let s=0;for(const t in r){const e=r[t],o=n[t];if(!o||o.length!==e.length||e.some(((e,n)=>e!==o[n]||i[t]&&i[t].hasOwnProperty(e.key)))){s=-1;break}++s}for(const t in e.proxyCachedFBO[o.key])e.renderCache[e.proxyCachedFBO[o.key][t]].dirty=s<0||s!==Object.values(n).length}}const r=[...this._drapedRenderBatches];r.sort(((t,e)=>e.end-e.start-(t.end-t.start)));for(const t of r)for(const i of n){if(e.proxyCachedFBO[i.key])continue;let n=e.renderCachePool.pop();void 0===n&&e.renderCache.length<50&&(n=e.renderCache.length,e.renderCache.push(this._createFBO())),void 0!==n&&(e.proxyCachedFBO[i.key]={},e.proxyCachedFBO[i.key][t.start]=n,e.renderCache[n].dirty=!0)}this._tilesDirty={}}_setupStencil(t,e,n,i){if(!i||!this._sourceTilesOverlap[i.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,o=r.gl;if(e.length<=1)return void(this._overlapStencilType=!1);let s;if(n.isTileClipped())s=e.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(e[0].overscaledZ>e[e.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+s>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=s,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(e,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):t.StencilMode.disabled}_renderTileClippingMasks(e,n){const i=this.painter,r=this.painter.context,o=r.gl;i._tileClippingMaskIDs={},r.setColorMode(t.ColorMode.disabled),r.setDepthMode(t.DepthMode.disabled);const s=i.useProgram("clippingMask");for(const a of e){const e=i._tileClippingMaskIDs[a.key]=--n;s.draw(r,o.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:o.ALWAYS,mask:0},e,255,o.KEEP,o.KEEP,o.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,un(a.projMatrix),"$clipping",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments)}}pointCoordinate(e){const n=this.painter.transform;if(e.x<0||e.x>n.width||e.y<0||e.y>n.height)return null;const i=[e.x,e.y,1,1];t.transformMat4$1(i,i,n.pixelMatrixInverse),t.scale$1(i,i,1/i[3]),i[0]/=n.worldSize,i[1]/=n.worldSize;const r=n._camera.position,o=t.mercatorZfromAltitude(1,n.center.lat),s=[r[0],r[1],r[2]/o,0],a=t.subtract([],i.slice(0,3),s);t.normalize(a,a);const u=this.raycast(s,a,this._exaggeration);return null!==u&&u?(t.scaleAndAdd(s,s,a,u),s[3]=s[2],s[2]*=o,s):null}drawDepth(){const e=this.painter,n=e.context,i=this.proxySourceCache,r=Math.ceil(e.width),o=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const e=n.gl,i=n.createFramebuffer(r,o,!0);n.activeTexture.set(e.TEXTURE0);const s=new t.Texture(n,{width:r,height:o,data:null},e.RGBA);s.bind(e.NEAREST,e.CLAMP_TO_EDGE),i.colorAttachment.set(s.texture);const a=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,r,o);i.depthAttachment.set(a),this._depthFBO=i,this._depthTexture=s}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,r,o]),function(e,n,i,r){if("globe"===e.transform.projection.name)return;const o=e.context,s=o.gl;o.clear({depth:1});const a=e.useProgram("terrainDepth"),u=new t.DepthMode(s.LESS,t.DepthMode.ReadWrite,e.depthRangeFor3D);for(const e of r){const r=i.getTile(e),l=en(e.projMatrix,0);n.setupElevationDraw(r,a),a.draw(o,s.TRIANGLES,u,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.backCCW,l,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}(e,this,i,this.proxyCoords)}_setupProxiedCoordsForOrtho(t,e,n){if(t.getSource()instanceof bt)return this._setupProxiedCoordsForImageSource(t,e,n);this._findCoveringTileCache[t.id]=this._findCoveringTileCache[t.id]||{};const i=this.proxiedCoords[t.id]=[],r=this.proxyCoords;for(let e=0;e<r.length;e++){const o=r[e],s=this._findTileCoveringTileID(o,t);if(s){const e=this._createProxiedId(o,s,n[o.key]&&n[o.key][t.id]);i.push(e),this.proxyToSource[o.key][t.id]=[e]}}let o=!1;for(let r=0;r<e.length;r++){const s=t.getTile(e[r]);if(!s||!s.hasData())continue;const a=this._findTileCoveringTileID(s.tileID,this.proxySourceCache);if(a&&a.tileID.canonical.z!==s.tileID.canonical.z){const e=this.proxyToSource[a.tileID.key][t.id],r=this._createProxiedId(a.tileID,s,n[a.tileID.key]&&n[a.tileID.key][t.id]);e?e.splice(e.length-1,0,r):this.proxyToSource[a.tileID.key][t.id]=[r],i.push(r),o=!0}}this._sourceTilesOverlap[t.id]=o}_setupProxiedCoordsForImageSource(e,n,i){if(!e.getSource().loaded())return;const r=this.proxiedCoords[e.id]=[],o=this.proxyCoords,s=e.getSource(),a=new t.pointGeometry(s.tileID.x,s.tileID.y)._div(1<<s.tileID.z),u=s.coordinates.map(t.MercatorCoordinate.fromLngLat).reduce(((t,e)=>(t.min.x=Math.min(t.min.x,e.x-a.x),t.min.y=Math.min(t.min.y,e.y-a.y),t.max.x=Math.max(t.max.x,e.x-a.x),t.max.y=Math.max(t.max.y,e.y-a.y),t)),{min:new t.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new t.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),l=(e,n)=>{const i=e.wrap+e.canonical.x/(1<<e.canonical.z),r=e.canonical.y/(1<<e.canonical.z),o=t.EXTENT/(1<<e.canonical.z),s=n.wrap+n.canonical.x/(1<<n.canonical.z),a=n.canonical.y/(1<<n.canonical.z);return i+o<s+u.min.x||i>s+u.max.x||r+o<a+u.min.y||r>a+u.max.y};for(let t=0;t<o.length;t++){const s=o[t];for(let t=0;t<n.length;t++){const o=e.getTile(n[t]);if(!o||!o.hasData())continue;if(l(s,o.tileID))continue;const a=this._createProxiedId(s,o,i[s.key]&&i[s.key][e.id]),u=this.proxyToSource[s.key][e.id];u?u.push(a):this.proxyToSource[s.key][e.id]=[a],r.push(a)}}}_createProxiedId(e,n,i){let r=this.orthoMatrix;if(i){const t=i.find((t=>t.key===n.tileID.key));if(t)return t}if(n.tileID.key!==e.key){const i=e.canonical.z-n.tileID.canonical.z;let o,s,a;r=t.create();const u=n.tileID.wrap-e.wrap<<e.overscaledZ;i>0?(o=t.EXTENT>>i,s=o*((n.tileID.canonical.x<<i)-e.canonical.x+u),a=o*((n.tileID.canonical.y<<i)-e.canonical.y)):(o=t.EXTENT<<-i,s=t.EXTENT*(n.tileID.canonical.x-(e.canonical.x+u<<-i)),a=t.EXTENT*(n.tileID.canonical.y-(e.canonical.y<<-i))),t.ortho(r,0,o,0,o,0,1),t.translate(r,r,[s,a,0])}return new pn(n.tileID,e.key,r)}_findTileCoveringTileID(e,n){let i=n.getTile(e);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[n.id],o=r[e.key];if(i=o?n.getTileByID(o):null,i&&i.hasData()||null===o)return i;let s=i?i.tileID:e,a=s.overscaledZ;const u=n.getSource().minzoom,l=[];if(!o){const r=n.getSource().maxzoom;if(e.canonical.z>=r){const i=e.canonical.z-r;n.getSource().reparseOverscaled?(a=Math.max(e.canonical.z+2,n.transform.tileZoom),s=new t.OverscaledTileID(a,e.wrap,r,e.canonical.x>>i,e.canonical.y>>i)):0!==i&&(a=r,s=new t.OverscaledTileID(a,e.wrap,r,e.canonical.x>>i,e.canonical.y>>i))}s.key!==e.key&&(l.push(s.key),i=n.getTile(s))}const c=t=>{l.forEach((e=>{r[e]=t})),l.length=0};for(a-=1;a>=u&&(!i||!i.hasData());a--){i&&c(i.tileID.key);const t=s.calculateScaledKey(a);if(i=n.getTileByID(t),i&&i.hasData())break;const e=r[t];if(null===e)break;void 0===e?l.push(t):i=n.getTileByID(e)}return c(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(t){return this.enabled?this._findTileCoveringTileID(t,this.sourceCache):null}prepareDrawTile(t){this.renderedToTile=!0}_clearRenderCacheForTile(t,e){let n=this._tilesDirty[t];n||(n=this._tilesDirty[t]={}),n[e.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const e=function(e){let n,i,r;const o=new t.StructArrayLayout2ui4,s=131;for(i=1;i<129;i++){for(n=1;n<129;n++)r=i*s+n,o.emplaceBack(r,r+1),o.emplaceBack(r,r+s),o.emplaceBack(r+1,r+s),128===i&&o.emplaceBack(r+s,r+s+1);o.emplaceBack(r+1,r+1+s)}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(e),this.wireframeSegments=t.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,e.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function fn(t){const e=[];for(let n=0;n<t.length;n++){if(null===t[n])continue;const i=t[n].split(" ");e.push(i.pop())}return e}class dn{static cacheKey(t,e,n){let i=`${t}${n?n.cacheKey:""}`;for(const t of e)i+=`/${t}`;return i}constructor(e,n,i,r,o,s){const a=e.gl;this.program=a.createProgram();const u=fn(i.staticAttributes),l=r?r.getBinderAttributes():[],c=u.concat(l),h=i.staticUniforms?fn(i.staticUniforms):[],p=r?r.getBinderUniforms():[],_=h.concat(p),f=[];for(const t of _)f.indexOf(t)<0&&f.push(t);let d=r?r.defines():[];d=d.concat(s.map((t=>`#define ${t}`)));const m=d.concat("\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Ye,Ve.fragmentSource,He.fragmentSource,i.fragmentSource).join("\n"),y=d.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Ye,Ve.vertexSource,He.vertexSource,Ue.vertexSource,i.vertexSource).join("\n"),v=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(v,m),a.compileShader(v),a.attachShader(this.program,v);const g=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(g,y),a.compileShader(g),a.attachShader(this.program,g),this.attributes={};const w={};this.numAttributes=c.length;for(let t=0;t<this.numAttributes;t++)c[t]&&(a.bindAttribLocation(this.program,t,c[t]),this.attributes[c[t]]=t);a.linkProgram(this.program),a.deleteShader(g),a.deleteShader(v);for(let t=0;t<f.length;t++){const e=f[t];if(e&&!w[e]){const t=a.getUniformLocation(this.program,e);t&&(w[e]=t)}}this.fixedUniforms=o(e,w),this.binderUniforms=r?r.getUniforms(e,w):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=((e,n)=>({u_dem:new t.Uniform1i(e,n.u_dem),u_dem_prev:new t.Uniform1i(e,n.u_dem_prev),u_dem_unpack:new t.Uniform4f(e,n.u_dem_unpack),u_dem_tl:new t.Uniform2f(e,n.u_dem_tl),u_dem_scale:new t.Uniform1f(e,n.u_dem_scale),u_dem_tl_prev:new t.Uniform2f(e,n.u_dem_tl_prev),u_dem_scale_prev:new t.Uniform1f(e,n.u_dem_scale_prev),u_dem_size:new t.Uniform1f(e,n.u_dem_size),u_dem_lerp:new t.Uniform1f(e,n.u_dem_lerp),u_exaggeration:new t.Uniform1f(e,n.u_exaggeration),u_depth:new t.Uniform1i(e,n.u_depth),u_depth_size_inv:new t.Uniform2f(e,n.u_depth_size_inv),u_meter_to_dem:new t.Uniform1f(e,n.u_meter_to_dem),u_label_plane_matrix_inv:new t.UniformMatrix4f(e,n.u_label_plane_matrix_inv),u_tile_tl_up:new t.Uniform3f(e,n.u_tile_tl_up),u_tile_tr_up:new t.Uniform3f(e,n.u_tile_tr_up),u_tile_br_up:new t.Uniform3f(e,n.u_tile_br_up),u_tile_bl_up:new t.Uniform3f(e,n.u_tile_bl_up),u_tile_up_scale:new t.Uniform1f(e,n.u_tile_up_scale)}))(e,w)),-1!==s.indexOf("FOG")&&(this.fogUniforms=((e,n)=>({u_fog_matrix:new t.UniformMatrix4f(e,n.u_fog_matrix),u_fog_range:new t.Uniform2f(e,n.u_fog_range),u_fog_color:new t.Uniform4f(e,n.u_fog_color),u_fog_horizon_blend:new t.Uniform1f(e,n.u_fog_horizon_blend),u_fog_temporal_offset:new t.Uniform1f(e,n.u_fog_temporal_offset)}))(e,w))}setTerrainUniformValues(t,e){if(!this.terrainUniforms)return;const n=this.terrainUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const t in e)n[t].set(e[t])}}setFogUniformValues(t,e){if(!this.fogUniforms)return;const n=this.fogUniforms;if(!this.failedToCreate){t.program.set(this.program);for(const t in e)n[t].location&&n[t].set(e[t])}}draw(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f,d){const m=t.gl;if(this.failedToCreate)return;t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(i),t.setColorMode(r),t.setCullFace(o);for(const t of Object.keys(this.fixedUniforms))this.fixedUniforms[t].set(s[t]);_&&_.setUniforms(t,this.binderUniforms,h,{zoom:p});const y={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[e];for(const n of c.get()){const i=n.vaos||(n.vaos={});(i[a]||(i[a]=new Ze)).bind(t,this,u,_?_.getPaintVertexBuffers():[],l,n.vertexOffset,f,d),m.drawElements(e,n.primitiveLength*y,m.UNSIGNED_SHORT,n.primitiveOffset*y*2)}}}function mn(t,e,n){const i=1/A(n,1,e.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/r,s=o*(n.tileID.canonical.x+n.tileID.wrap*r),a=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[i,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,a>>16],u_pixel_coord_lower:[65535&s,65535&a]}}const yn=(e,n,i,r)=>{const o=n.style.light,s=o.properties.get("position"),a=[s.x,s.y,s.z],u=t.create$1();"viewport"===o.properties.get("anchor")&&(t.fromRotation(u,-n.transform.angle),t.transformMat3(a,a,u));const l=o.properties.get("color");return{u_matrix:e,u_lightpos:a,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+i,u_opacity:r}},vn=(e,n,i,r,o,s,a)=>t.extend(yn(e,n,i,r),mn(s,n,a),{u_height_factor:-Math.pow(2,o.overscaledZ)/a.tileSize/8}),gn=t=>({u_matrix:t}),wn=(e,n,i,r)=>t.extend(gn(e),mn(i,n,r)),bn=(t,e)=>({u_matrix:t,u_world:e}),xn=(e,n,i,r,o)=>t.extend(wn(e,n,i,r),{u_world:o}),$n=(e,n,i,r)=>{const o=e.transform;let s;return s="map"===r.paint.get("circle-pitch-alignment")?o.calculatePixelsToTileUnitsMatrix(i):new Float32Array([o.pixelsToGLUnits[0],0,0,o.pixelsToGLUnits[1]]),{u_camera_to_center_distance:o.cameraToCenterDistance,u_matrix:e.translatePosMatrix(n.projMatrix,i,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_device_pixel_ratio:t.exported.devicePixelRatio,u_extrude_scale:s}},Cn=t=>{const e=[];return"map"===t.paint.get("circle-pitch-alignment")&&e.push("PITCH_WITH_MAP"),"map"===t.paint.get("circle-pitch-scale")&&e.push("SCALE_WITH_MAP"),e},En=(e,n,i)=>{const r=t.EXTENT/i.tileSize;return{u_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_extrude_scale:[n.pixelsToGLUnits[0]/r,n.pixelsToGLUnits[1]/r]}},An=(t,e,n=1)=>({u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}),kn=(t,e,n,i)=>({u_matrix:t,u_extrude_scale:A(e,1,n),u_intensity:i}),Sn=(e,n,i,r,o,s)=>{const a=e.transform,u=a.calculatePixelsToTileUnitsMatrix(n),l={u_matrix:On(e,n,i,o),u_pixels_to_tile_units:u,u_device_pixel_ratio:t.exported.devicePixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:s,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0};if(zn(i)){const t=In(n,e.transform);l.u_texsize=n.lineAtlasTexture.size,l.u_scale=[t,r.fromScale,r.toScale],l.u_mix=r.t}return l},Tn=(e,n,i,r,o)=>{const s=e.transform,a=In(n,s);return{u_matrix:On(e,n,i,o),u_texsize:n.imageAtlasTexture.size,u_pixels_to_tile_units:s.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:t.exported.devicePixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function In(t,e){return 1/A(t,1,e.tileZoom)}function On(t,e,n,i){return t.translatePosMatrix(i||e.tileID.projMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function zn(t){const e=t.paint.get("line-dasharray").value;return e.value||"constant"!==e.kind}const Mn=(t,e,n,i,r,o)=>{return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(s=r.paint.get("raster-contrast"),s>0?1/(1-s):1+s),u_spin_weights:Dn(r.paint.get("raster-hue-rotate")),u_perspective_transform:o};var s,a};function Dn(t){t*=Math.PI/180;const e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}const Rn=(t,e,n,i,r,o,s,a,u,l,c,h,p,_)=>{const f=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:f.cameraToCenterDistance,u_pitch:f.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:f.width/f.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:a,u_is_text:+u,u_pitch_with_map:+i,u_texsize:l,u_tile_id:c,u_zoom_transition:h,u_inv_rot_matrix:p,u_merc_center:_,u_texture:0}},Pn=(e,n,i,r,o,s,a,u,l,c,h,p,_,f,d)=>{const{cameraToCenterDistance:m,_pitch:y}=o.transform;return t.extend(Rn(e,n,i,r,o,s,a,u,l,c,p,_,f,d),{u_gamma_scale:r?m*Math.cos(o.terrain?0:y):1,u_device_pixel_ratio:t.exported.devicePixelRatio,u_is_halo:+h})},jn=(e,n,i,r,o,s,a,u,l,c,h,p,_,f)=>t.extend(Pn(e,n,i,r,o,s,a,u,!0,l,!0,h,p,_,f),{u_texsize_icon:c,u_texture_icon:1}),Nn=(t,e,n)=>({u_matrix:t,u_opacity:e,u_color:n}),Ln=(e,n,i,r,o,s)=>t.extend(function(t,e,n,i){const r=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),{width:s,height:a}=n.imageManager.getPixelSize(),u=Math.pow(2,i.tileID.overscaledZ),l=i.tileSize*Math.pow(2,n.transform.tileZoom)/u,c=l*(i.tileID.canonical.x+i.tileID.wrap*u),h=l*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,a],u_mix:e.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/A(i,1,n.transform.tileZoom),u_pixel_coord_upper:[c>>16,h>>16],u_pixel_coord_lower:[65535&c,65535&h]}}(r,s,i,o),{u_matrix:e,u_opacity:n}),qn={fillExtrusion:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}),fillExtrusionPattern:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}),fill:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}),fillPattern:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}),fillOutline:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}),fillOutlinePattern:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}),circle:(e,n)=>({u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_extrude_scale:new t.UniformMatrix2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}),collisionBox:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale)}),collisionCircle:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}),debug:(e,n)=>({u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}),clippingMask:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}),heatmap:(e,n)=>({u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}),heatmapTexture:(e,n)=>({u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}),hillshade:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}),hillshadePrepare:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}),line:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_pixels_to_tile_units:new t.UniformMatrix2f(e,n.u_pixels_to_tile_units),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_dash_image:new t.Uniform1i(e,n.u_dash_image),u_gradient_image:new t.Uniform1i(e,n.u_gradient_image),u_image_height:new t.Uniform1f(e,n.u_image_height),u_texsize:new t.Uniform2f(e,n.u_texsize),u_scale:new t.Uniform3f(e,n.u_scale),u_mix:new t.Uniform1f(e,n.u_mix),u_alpha_discard_threshold:new t.Uniform1f(e,n.u_alpha_discard_threshold)}),linePattern:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixels_to_tile_units:new t.UniformMatrix2f(e,n.u_pixels_to_tile_units),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_alpha_discard_threshold:new t.Uniform1f(e,n.u_alpha_discard_threshold)}),raster:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights),u_perspective_transform:new t.Uniform2f(e,n.u_perspective_transform)}),symbolIcon:(e,n)=>({u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_tile_id:new t.Uniform3f(e,n.u_tile_id),u_zoom_transition:new t.Uniform1f(e,n.u_zoom_transition),u_inv_rot_matrix:new t.UniformMatrix4f(e,n.u_inv_rot_matrix),u_merc_center:new t.Uniform2f(e,n.u_merc_center),u_texture:new t.Uniform1i(e,n.u_texture)}),symbolSDF:(e,n)=>({u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_tile_id:new t.Uniform3f(e,n.u_tile_id),u_zoom_transition:new t.Uniform1f(e,n.u_zoom_transition),u_inv_rot_matrix:new t.UniformMatrix4f(e,n.u_inv_rot_matrix),u_merc_center:new t.Uniform2f(e,n.u_merc_center),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}),symbolTextAndIcon:(e,n)=>({u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}),background:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}),backgroundPattern:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}),terrainRaster:tn,terrainDepth:tn,skybox:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_sun_direction:new t.Uniform3f(e,n.u_sun_direction),u_cubemap:new t.Uniform1i(e,n.u_cubemap),u_opacity:new t.Uniform1f(e,n.u_opacity),u_temporal_offset:new t.Uniform1f(e,n.u_temporal_offset)}),skyboxGradient:(e,n)=>({u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_center_direction:new t.Uniform3f(e,n.u_center_direction),u_radius:new t.Uniform1f(e,n.u_radius),u_opacity:new t.Uniform1f(e,n.u_opacity),u_temporal_offset:new t.Uniform1f(e,n.u_temporal_offset)}),skyboxCapture:(e,n)=>({u_matrix_3f:new t.UniformMatrix3f(e,n.u_matrix_3f),u_sun_direction:new t.Uniform3f(e,n.u_sun_direction),u_sun_intensity:new t.Uniform1f(e,n.u_sun_intensity),u_color_tint_r:new t.Uniform4f(e,n.u_color_tint_r),u_color_tint_m:new t.Uniform4f(e,n.u_color_tint_m),u_luminance:new t.Uniform1f(e,n.u_luminance)}),globeRaster:(e,n)=>({u_proj_matrix:new t.UniformMatrix4f(e,n.u_proj_matrix),u_globe_matrix:new t.UniformMatrix4f(e,n.u_globe_matrix),u_merc_matrix:new t.UniformMatrix4f(e,n.u_merc_matrix),u_zoom_transition:new t.Uniform1f(e,n.u_zoom_transition),u_merc_center:new t.Uniform2f(e,n.u_merc_center),u_image0:new t.Uniform1i(e,n.u_image0)}),globeAtmosphere:(e,n)=>({u_center:new t.Uniform2f(e,n.u_center),u_radius:new t.Uniform1f(e,n.u_radius),u_screen_size:new t.Uniform2f(e,n.u_screen_size),u_pixel_ratio:new t.Uniform1f(e,n.u_pixel_ratio),u_opacity:new t.Uniform1f(e,n.u_opacity),u_fadeout_range:new t.Uniform1f(e,n.u_fadeout_range),u_start_color:new t.Uniform3f(e,n.u_start_color),u_end_color:new t.Uniform3f(e,n.u_end_color)})};let Bn;function Fn(e,n,i,r,o,s,a){const u=e.context,l=u.gl,c=e.useProgram("collisionBox"),h=[];let p=0,_=0;for(let f=0;f<r.length;f++){const d=r[f],m=n.getTile(d),y=m.getBucket(i);if(!y)continue;let v=d.projMatrix;0===o[0]&&0===o[1]||(v=e.translatePosMatrix(d.projMatrix,m,o,s));const g=a?y.textCollisionBox:y.iconCollisionBox,w=y.collisionCircleArray;if(w.length>0){const n=t.create(),i=v;t.mul(n,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(n,n,y.placementViewportMatrix),h.push({circleArray:w,circleOffset:_,transform:i,invTransform:n}),p+=w.length/4,_=p}g&&(e.terrain&&e.terrain.setupElevationDraw(m,c),c.draw(u,l.LINES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,En(v,e.transform,m),i.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,e.transform.zoom,null,g.collisionVertexBuffer,g.collisionVertexBufferExt))}if(!a||!h.length)return;const f=e.useProgram("collisionCircle"),d=new t.StructArrayLayout2f1f2i16;d.resize(4*p),d._trim();let m=0;for(const t of h)for(let e=0;e<t.circleArray.length/4;e++){const n=4*e,i=t.circleArray[n+0],r=t.circleArray[n+1],o=t.circleArray[n+2],s=t.circleArray[n+3];d.emplace(m++,i,r,o,s,0),d.emplace(m++,i,r,o,s,1),d.emplace(m++,i,r,o,s,2),d.emplace(m++,i,r,o,s,3)}(!Bn||Bn.length<2*p)&&(Bn=function(e){const n=2*e,i=new t.StructArrayLayout3ui6;i.resize(n),i._trim();for(let t=0;t<n;t++){const e=6*t;i.uint16[e+0]=4*t+0,i.uint16[e+1]=4*t+1,i.uint16[e+2]=4*t+2,i.uint16[e+3]=4*t+2,i.uint16[e+4]=4*t+3,i.uint16[e+5]=4*t+0}return i}(p));const y=u.createIndexBuffer(Bn,!0),v=u.createVertexBuffer(d,t.collisionCircleLayout.members,!0);for(const n of h){const r={u_matrix:n.transform,u_inv_matrix:n.invTransform,u_camera_to_center_distance:(g=e.transform).cameraToCenterDistance,u_viewport_size:[g.width,g.height]};f.draw(u,l.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,r,i.id,v,y,t.SegmentVector.simpleSegment(0,2*n.circleOffset,n.circleArray.length,n.circleArray.length/2),null,e.transform.zoom,null,null,null)}var g;v.destroy(),y.destroy()}const Un=t.identity(new Float32Array(16));function Hn(e,n,i,r,o,s){const{horizontalAlign:a,verticalAlign:u}=t.getAnchorAlignment(e),l=-(a-.5)*n,c=-(u-.5)*i,h=t.evaluateVariableOffset(e,r);return new t.pointGeometry((l/o+h[0])*s,(c/o+h[1])*s)}function Vn(e,n,i,r,o,s,a,u,l,c,h,p){const _=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,d=e.icon.dynamicLayoutVertexArray,m={},y=u.projMatrix,v=s.elevation,g=v?v.getAtTileOffsetFunc(u,p):t=>[0,0,0];f.clear();for(let u=0;u<_.length;u++){const p=_.get(u),d=e.allowVerticalPlacement&&!p.placedOrientation,v=p.hidden||!p.crossTileID||d?null:r[p.crossTileID];if(v){const r=new t.pointGeometry(p.tileAnchorX,p.tileAnchorY),u=g(r),_=Gt(r,i?y:a,u[2]),d=Zt(s.cameraToCenterDistance,_.signedDistanceFromCamera);let w=o.evaluateSizeForFeature(e.textSizeData,c,p)*d/t.ONE_EM;i&&(w*=e.tilePixelRatio/l);const{width:b,height:x,anchor:$,textOffset:C,textScale:E}=v,A=Hn($,b,x,C,E,w),k=i?Gt(r.add(A),a,u[2]).point:_.point.add(n?A.rotate(-s.angle):A),S=e.allowVerticalPlacement&&p.placedOrientation===t.WritingMode.vertical?Math.PI/2:0;for(let e=0;e<p.numGlyphs;e++)t.addDynamicAttributes(f,k,S);h&&p.associatedIconIndex>=0&&(m[p.associatedIconIndex]={shiftedAnchor:k,angle:S})}else oe(p.numGlyphs,f)}if(h){d.clear();const n=e.icon.placedSymbolArray;for(let e=0;e<n.length;e++){const i=n.get(e);if(i.hidden)oe(i.numGlyphs,d);else{const n=m[e];if(n)for(let e=0;e<i.numGlyphs;e++)t.addDynamicAttributes(d,n.shiftedAnchor,n.angle);else oe(i.numGlyphs,d)}}e.icon.dynamicLayoutVertexBuffer.updateData(d)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function Yn(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Wn(e,n,i,r,o,s,a,u,l,c,h,p){const _=e.context,f=_.gl,d=e.transform,m=d.projection.createTileTransform(d,d.worldSize),y="map"===u,v="map"===l,g=y&&"point"!==i.layout.get("symbol-placement"),w=y&&!v&&!g,b=void 0!==i.layout.get("symbol-sort-key").constantOr(1);let x=!1;const $=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),C=[t.mercatorXfromLng(d.center.lng),t.mercatorYfromLat(d.center.lat)],E=i.layout.get("text-variable-anchor"),A="globe"===d.projection.name,k=A?t.globeToMercatorTransition(d.zoom):0,S=[],T=[];e.terrain&&v&&T.push("PITCH_WITH_MAP_TERRAIN"),A&&T.push("PROJECTION_GLOBE_VIEW"),g&&T.push("PROJECTED_POS_ON_VIEWPORT");for(const u of r){const r=n.getTile(u),l=r.getBucket(i);if(!l||l.projection!==d.projection.name)continue;const h=o?l.text:l.icon;if(!h||l.fullyClipped||!h.segments.get().length)continue;const p=h.programConfigurations.get(i.id),_=o||l.sdfIcons,$=o?l.textSizeData:l.iconSizeData,A=v||0!==d.pitch,I=e.useProgram(Yn(_,o,l),p,T),O=t.evaluateSizeForZoom($,d.zoom),z=[u.canonical.x,u.canonical.y,1<<u.canonical.z];let M,D,R,P,j=[0,0],N=null;if(o){if(D=r.glyphAtlasTexture,R=f.LINEAR,M=r.glyphAtlasTexture.size,l.iconsInText){j=r.imageAtlasTexture.size,N=r.imageAtlasTexture;const t="composite"===$.kind||"camera"===$.kind;P=A||e.options.rotating||e.options.zooming||t?f.LINEAR:f.NEAREST}}else{const t=1!==i.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;D=r.imageAtlasTexture,R=_||e.options.rotating||e.options.zooming||t||A?f.LINEAR:f.NEAREST,M=r.imageAtlasTexture.size}const L=e.transform.calculatePixelsToTileUnitsMatrix(r),q=Yt(u.projMatrix,r.tileID.canonical,v,y,e.transform,L),B=e.terrain&&v&&g?t.invert(new Float32Array(16),q):Un,F=Wt(u.projMatrix,r.tileID.canonical,v,y,e.transform,L),U=E&&l.hasTextData(),H="none"!==i.layout.get("icon-text-fit")&&U&&l.hasIconData();if(g){const t=d.elevation,n=t?t.getAtTileOffsetFunc(u,m):t=>[0,0,0];Xt(l,u.projMatrix,e,o,q,F,v,c,n,u)}const V=e.translatePosMatrix(u.projMatrix,r,s,a),Y=g||o&&E||H?Un:q,W=e.translatePosMatrix(F,r,s,a,!0),G=_&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let Z;const K=m.createInversionMatrix(u.toUnwrapped());Z=_?l.iconsInText?jn($.kind,O,w,v,e,V,Y,W,M,j,z,k,K,C):Pn($.kind,O,w,v,e,V,Y,W,o,M,!0,z,k,K,C):Rn($.kind,O,w,v,e,V,Y,W,o,M,z,k,K,C);const X={program:I,buffers:h,uniformValues:Z,atlasTexture:D,atlasTextureIcon:N,atlasInterpolation:R,atlasInterpolationIcon:P,isSDF:_,hasHalo:G,tile:r,labelPlaneMatrixInv:B};if(b&&l.canOverlap){x=!0;const e=h.segments.get();for(const n of e)S.push({segments:new t.SegmentVector([n]),sortKey:n.sortKey,state:X})}else S.push({segments:h.segments,sortKey:0,state:X})}x&&S.sort(((t,e)=>t.sortKey-e.sortKey));for(const t of S){const n=t.state;if(e.terrain&&e.terrain.setupElevationDraw(n.tile,n.program,{useDepthForOcclusion:!A,labelPlaneMatrixInv:n.labelPlaneMatrixInv}),_.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(_.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,Gn(n.buffers,t.segments,i,e,n.program,$,h,p,r)),r.u_is_halo=0}Gn(n.buffers,t.segments,i,e,n.program,$,h,p,n.uniformValues)}}function Gn(e,n,i,r,o,s,a,u,l){const c=r.context;o.draw(c,c.gl.TRIANGLES,s,a,u,t.CullFaceMode.disabled,l,i.id,e.layoutVertexBuffer,e.indexBuffer,n,i.paint,r.transform.zoom,e.programConfigurations.get(i.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Zn(e,n,i,r,o,s,a){const u=e.context.gl,l=i.paint.get("fill-pattern"),c=l&&l.constantOr(1),h=i.getCrossfadeParameters();let p,_,f,d,m;a?(_=c&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",p=u.LINES):(_=c?"fillPattern":"fill",p=u.TRIANGLES);for(const y of r){const r=n.getTile(y);if(c&&!r.patternsLoaded())continue;const v=r.getBucket(i);if(!v)continue;e.prepareDrawTile(y);const g=v.programConfigurations.get(i.id),w=e.useProgram(_,g);c&&(e.context.activeTexture.set(u.TEXTURE0),r.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),g.updatePaintBuffers(h));const b=l.constantOr(null);if(b&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[b.to.toString()],n=t.patternPositions[b.from.toString()];e&&n&&g.setConstantPatternPositions(e,n)}const x=e.translatePosMatrix(y.projMatrix,r,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(a){d=v.indexBuffer2,m=v.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[u.drawingBufferWidth,u.drawingBufferHeight];f="fillOutlinePattern"===_&&c?xn(x,e,h,r,t):bn(x,t)}else d=v.indexBuffer,m=v.segments,f=c?wn(x,e,h,r):gn(x);e.prepareDrawProgram(e.context,w,y.toUnwrapped()),w.draw(e.context,p,o,e.stencilModeForClipping(y),s,t.CullFaceMode.disabled,f,i.id,v.layoutVertexBuffer,d,m,i.paint,e.transform.zoom,g)}}function Kn(e,n,i,r,o,s,a){const u=e.context,l=u.gl,c=i.paint.get("fill-extrusion-pattern"),h=c.constantOr(1),p=i.getCrossfadeParameters(),_=i.paint.get("fill-extrusion-opacity");for(const f of r){const r=n.getTile(f),d=r.getBucket(i);if(!d)continue;const m=d.programConfigurations.get(i.id),y=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",m);if(e.terrain){const t=e.terrain;if(!d.enableTerrain)continue;if(t.setupElevationDraw(r,y,{useMeterToDem:!0}),Xn(u,n,f,d,i,t),!d.centroidVertexBuffer){const t=y.attributes.a_centroid_pos;void 0!==t&&l.vertexAttrib2f(t,0,0)}}h&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),m.updatePaintBuffers(p));const v=c.constantOr(null);if(v&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[v.to.toString()],n=t.patternPositions[v.from.toString()];e&&n&&m.setConstantPatternPositions(e,n)}const g=e.translatePosMatrix(f.projMatrix,r,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),w=i.paint.get("fill-extrusion-vertical-gradient"),b=h?vn(g,e,w,_,f,p,r):yn(g,e,w,_);e.prepareDrawProgram(u,y,f.toUnwrapped()),y.draw(u,u.gl.TRIANGLES,o,s,a,t.CullFaceMode.backCCW,b,i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,i.paint,e.transform.zoom,m,e.terrain?d.centroidVertexBuffer:null)}}function Xn(e,n,i,r,o,s){const a=[e=>{let n=e.canonical.x-1,i=e.wrap;return n<0&&(n=(1<<e.canonical.z)-1,i--),new t.OverscaledTileID(e.overscaledZ,i,e.canonical.z,n,e.canonical.y)},e=>{let n=e.canonical.x+1,i=e.wrap;return n===1<<e.canonical.z&&(n=0,i++),new t.OverscaledTileID(e.overscaledZ,i,e.canonical.z,n,e.canonical.y)},e=>new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1),e=>new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)],u=t=>{const e=n.getSource().maxzoom,i=t=>{const e=n.getTileByID(t);if(e&&e.hasData())return e.getBucket(o)};let r,s,a;return(t.overscaledZ===t.canonical.z||t.overscaledZ>=e)&&(r=i(t.key)),t.overscaledZ>=e&&(s=i(t.calculateScaledKey(t.overscaledZ+1))),t.overscaledZ>e&&(a=i(t.calculateScaledKey(t.overscaledZ-1))),r||s||a},l=[0,0,0],c=(e,n)=>(l[0]=Math.min(e.min.y,n.min.y),l[1]=Math.max(e.max.y,n.max.y),l[2]=t.EXTENT-n.min.x>e.max.x?n.min.x-t.EXTENT:e.max.x,l),h=(e,n)=>(l[0]=Math.min(e.min.x,n.min.x),l[1]=Math.max(e.max.x,n.max.x),l[2]=t.EXTENT-n.min.y>e.max.y?n.min.y-t.EXTENT:e.max.y,l),p=[(t,e)=>c(t,e),(t,e)=>c(e,t),(t,e)=>h(t,e),(t,e)=>h(e,t)],_=new t.pointGeometry(0,0);let f,d,m;const y=(e,n,r,o,a)=>{const u=[[o?r:e,o?e:r,0],[o?r:n,o?n:r,0]],l=a<0?t.EXTENT+a:a,c=[o?l:(e+n)/2,o?(e+n)/2:l,0];return 0===r&&a<0||0!==r&&a>0?s.getForTilePoints(m,[c],!0,d):u.push(c),s.getForTilePoints(i,u,!0,f),Math.max(u[0][2],u[1][2],c[2])/s.exaggeration()};for(let e=0;e<4;e++){const n=r.borders[e];if(0===n.length&&(r.borderDone[e]=!0),r.borderDone[e])continue;const o=m=a[e](i),l=u(o);if(!l||!l.enableTerrain)continue;if(d=s.findDEMTileFor(o),!d||!d.dem)continue;if(!f){const t=s.findDEMTileFor(i);if(!t||!t.dem)return;f=t}const c=(e<2?1:5)-e,h=l.borders[c];let v=0;for(let i=0;i<n.length;i++){const o=r.featuresOnBorder[n[i]],s=o.borders[e];let a;for(;v<h.length&&(a=l.featuresOnBorder[h[v]],!(a.borders[c][1]>s[0]+3));)l.borderDone[c]||l.encodeCentroid(void 0,a,!1),v++;if(a&&v<h.length){const n=v;let i=0;for(;!(a.borders[c][0]>s[1]-3)&&(i++,++v!==h.length);)a=l.featuresOnBorder[h[v]];if(a=l.featuresOnBorder[h[n]],o.intersectsCount()>1||a.intersectsCount()>1||1!==i){1!==i&&(v=n),r.encodeCentroid(void 0,o,!1),l.borderDone[c]||l.encodeCentroid(void 0,a,!1);continue}const u=p[e](o,a),f=e%2?t.EXTENT-1:0;_.x=y(u[0],Math.min(t.EXTENT-1,u[1]),f,e<2,u[2]),_.y=0,r.encodeCentroid(_,o,!1),l.borderDone[c]||l.encodeCentroid(_,a,!1)}else r.encodeCentroid(void 0,o,!1)}r.borderDone[e]=r.needsCentroidUpdate=!0,l.borderDone[c]||(l.borderDone[c]=l.needsCentroidUpdate=!0)}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(e)}const Jn=new t.Color(1,0,0,1),Qn=new t.Color(0,1,0,1),ti=new t.Color(0,0,1,1),ei=new t.Color(1,0,1,1),ni=new t.Color(0,1,1,1);function ii(t,e,n,i){oi(t,0,e+n/2,t.transform.width,n,i)}function ri(t,e,n,i){oi(t,e-n/2,0,n,t.transform.height,i)}function oi(e,n,i,r,o,s){const a=e.context,u=a.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*t.exported.devicePixelRatio,i*t.exported.devicePixelRatio,r*t.exported.devicePixelRatio,o*t.exported.devicePixelRatio),a.clear({color:s}),u.disable(u.SCISSOR_TEST)}function si(e,n,i){const r=e.context,o=r.gl,s=i.projMatrix,a=e.useProgram("debug"),u=n.getTileByID(i.key);e.terrain&&e.terrain.setupElevationDraw(u,a);const l=t.DepthMode.disabled,c=t.StencilMode.disabled,h=e.colorModeForRenderPass(),p="$debug";r.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),u._makeDebugTileBoundsBuffers(e.context,e.transform.projection);const _=u._tileDebugBuffer||e.debugBuffer,f=u._tileDebugIndexBuffer||e.debugIndexBuffer,d=u._tileDebugSegments||e.debugSegments;a.draw(r,o.LINE_STRIP,l,c,h,t.CullFaceMode.disabled,An(s,t.Color.red),p,_,f,d);const m=u.latestRawTileData,y=Math.floor((m&&m.byteLength||0)/1024),v=n.getTile(i).tileSize,g=512/Math.min(v,512)*(i.overscaledZ/e.transform.zoom)*.5;let w=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(w+=` => ${i.overscaledZ}`),function(t,e){t.initDebugOverlayCanvas();const n=t.debugOverlayCanvas,i=t.context.gl,r=t.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(e,5,5),r.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(e,`${w} ${y}kb`),a.draw(r,o.TRIANGLES,l,c,t.ColorMode.alphaBlended,t.CullFaceMode.disabled,An(s,t.Color.transparent,g),p,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}const ai=t.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ui}=ai;function li(t,e,n,i){t.emplaceBack(e,n,i)}class ci{constructor(e){this.vertexArray=new t.StructArrayLayout3f12,this.indices=new t.StructArrayLayout3ui6,li(this.vertexArray,-1,-1,1),li(this.vertexArray,1,-1,1),li(this.vertexArray,-1,1,1),li(this.vertexArray,1,1,1),li(this.vertexArray,-1,-1,-1),li(this.vertexArray,1,-1,-1),li(this.vertexArray,-1,1,-1),li(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=e.createVertexBuffer(this.vertexArray,ui),this.indexBuffer=e.createIndexBuffer(this.indices),this.segment=t.SegmentVector.simpleSegment(0,0,36,12)}}function hi(e,n,i,r,o,s){const a=e.gl,u=n.paint.get("sky-atmosphere-color"),l=n.paint.get("sky-atmosphere-halo-color"),c=n.paint.get("sky-atmosphere-sun-intensity"),h=((t,e,n,i,r)=>({u_matrix_3f:t,u_sun_direction:e,u_sun_intensity:n,u_color_tint_r:[i.r,i.g,i.b,i.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(t.fromMat4([],r),o,c,u,l);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+s,n.skyboxTexture,0),i.draw(e,a.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.frontCW,h,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}const pi={symbol:function(e,n,i,r,o){if("translucent"!==e.renderPass)return;const s=t.StencilMode.disabled,a=e.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(e,n,i,r,o,s,a){const u=n.transform,l="map"===o,c="map"===s,h=u.projection.createTileTransform(u,u.worldSize);for(const o of e){const e=r.getTile(o),s=e.getBucket(i);if(!s||s.projection!==u.projection.name||!s.text||!s.text.segments.get().length)continue;const p=t.evaluateSizeForZoom(s.textSizeData,u.zoom),_=n.transform.calculatePixelsToTileUnitsMatrix(e),f=Yt(o.projMatrix,e.tileID.canonical,c,l,n.transform,_),d="none"!==i.layout.get("icon-text-fit")&&s.hasIconData();if(p){const n=Math.pow(2,u.zoom-e.tileID.overscaledZ);Vn(s,l,c,a,t.symbolSize,u,f,o,n,p,d,h)}}}(r,e,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&Wn(e,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),s,a),0!==i.paint.get("text-opacity").constantOr(1)&&Wn(e,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),s,a),n.map.showCollisionBoxes&&(Fn(e,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),Fn(e,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))},circle:function(e,n,i,r){if("translucent"!==e.renderPass)return;const o=i.paint.get("circle-opacity"),s=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity"),u=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===s.constantOr(1)||0===a.constantOr(1)))return;const l=e.context,c=l.gl,h=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),p=t.StencilMode.disabled,_=e.colorModeForRenderPass(),f=[];for(let o=0;o<r.length;o++){const s=r[o],a=n.getTile(s),l=a.getBucket(i);if(!l)continue;const c=l.programConfigurations.get(i.id),h=Cn(i),p={programConfiguration:c,program:e.useProgram("circle",c,h),layoutVertexBuffer:l.layoutVertexBuffer,indexBuffer:l.indexBuffer,uniformValues:$n(e,s,a,i),tile:a};if(u){const e=l.segments.get();for(const n of e)f.push({segments:new t.SegmentVector([n]),sortKey:n.sortKey,state:p})}else f.push({segments:l.segments,sortKey:0,state:p})}u&&f.sort(((t,e)=>t.sortKey-e.sortKey));const d={useDepthForOcclusion:!("globe"===e.transform.projection.name)};for(const n of f){const{programConfiguration:r,program:o,layoutVertexBuffer:s,indexBuffer:a,uniformValues:u,tile:f}=n.state,m=n.segments;e.terrain&&e.terrain.setupElevationDraw(f,o,d),e.prepareDrawProgram(l,o,f.tileID.toUnwrapped()),o.draw(l,c.TRIANGLES,h,p,_,t.CullFaceMode.disabled,u,i.id,s,a,m,i.paint,e.transform.zoom,r)}},heatmap:function(e,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){const o=e.context,s=o.gl,a=t.StencilMode.disabled,u=new t.ColorMode([s.ONE,s.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){const i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);let r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{const o=i.createTexture();i.bindTexture(i.TEXTURE_2D,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,i){const r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(t,e,o,r)}}(o,e,i),o.clear({color:t.Color.transparent});for(let l=0;l<r.length;l++){const c=r[l];if(n.hasRenderableParent(c))continue;const h=n.getTile(c),p=h.getBucket(i);if(!p)continue;const _=p.programConfigurations.get(i.id),f=e.useProgram("heatmap",_),{zoom:d}=e.transform;e.terrain&&e.terrain.setupElevationDraw(h,f),e.prepareDrawProgram(o,f,c.toUnwrapped()),f.draw(o,s.TRIANGLES,t.DepthMode.disabled,a,u,t.CullFaceMode.disabled,kn(c.projMatrix,h,d,i.paint.get("heatmap-intensity")),i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,i.paint,e.transform.zoom,_)}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){const i=e.context,r=i.gl,o=n.heatmapFbo;if(!o)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let s=n.colorRampTexture;s||(s=n.colorRampTexture=new t.Texture(i,n.colorRamp,r.RGBA)),s.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(i,r.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,((t,e,n,i)=>({u_image:0,u_color_ramp:1,u_opacity:e.paint.get("heatmap-opacity")}))(0,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}(e,i))},line:function(e,n,i,r){if("translucent"!==e.renderPass)return;const o=i.paint.get("line-opacity"),s=i.paint.get("line-width");if(0===o.constantOr(1)||0===s.constantOr(1))return;const a=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),u=e.colorModeForRenderPass(),l=i.paint.get("line-dasharray"),c=l.constantOr(1),h=i.layout.get("line-cap"),p=i.paint.get("line-pattern"),_=p.constantOr(1),f=i.paint.get("line-gradient"),d=i.getCrossfadeParameters(),m=_?"linePattern":"line",y=e.context,v=y.gl,g=(t=>{const e=[];zn(t)&&e.push("RENDER_LINE_DASH"),t.paint.get("line-gradient")&&e.push("RENDER_LINE_GRADIENT");const n=t.paint.get("line-pattern").constantOr(1),i=1!==t.paint.get("line-opacity").constantOr(1);return!n&&i&&e.push("RENDER_LINE_ALPHA_DISCARD"),e})(i);let w=g.includes("RENDER_LINE_ALPHA_DISCARD");e.terrain&&e.terrain.clipOrMaskOverlapStencilType()&&(w=!1);for(const o of r){const r=n.getTile(o);if(_&&!r.patternsLoaded())continue;const s=r.getBucket(i);if(!s)continue;e.prepareDrawTile(o);const b=s.programConfigurations.get(i.id),x=e.useProgram(m,b,g),$=p.constantOr(null);if($&&r.imageAtlas){const t=r.imageAtlas,e=t.patternPositions[$.to.toString()],n=t.patternPositions[$.from.toString()];e&&n&&b.setConstantPatternPositions(e,n)}const C=l.constantOr(null),E=h.constantOr(null);if(!_&&C&&E&&r.lineAtlas){const t=r.lineAtlas,e=t.getDash(C.to,E),n=t.getDash(C.from,E);e&&n&&b.setConstantPatternPositions(e,n)}const A=e.terrain?o.projMatrix:null,k=_?Tn(e,r,i,d,A):Sn(e,r,i,d,A,s.lineClipsArray.length);if(f){const r=s.gradients[i.id];let a=r.texture;if(i.gradientVersion!==r.version){let u=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=o.canonical.z===i?Math.ceil(1<<e.transform.maxZoom-o.canonical.z):1;u=t.clamp(t.nextPowerOfTwo(s.maxLineLength/t.EXTENT*1024*r),256,y.maxTextureSize)}r.gradient=t.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:u,image:r.gradient||void 0,clips:s.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new t.Texture(y,r.gradient,v.RGBA),r.version=i.gradientVersion,a=r.texture}y.activeTexture.set(v.TEXTURE1),a.bind(i.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}c&&(y.activeTexture.set(v.TEXTURE0),r.lineAtlasTexture.bind(v.LINEAR,v.REPEAT),b.updatePaintBuffers(d)),_&&(y.activeTexture.set(v.TEXTURE0),r.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),b.updatePaintBuffers(d)),e.prepareDrawProgram(y,x,o.toUnwrapped());const S=n=>{x.draw(y,v.TRIANGLES,a,n,u,t.CullFaceMode.disabled,k,i.id,s.layoutVertexBuffer,s.indexBuffer,s.segments,i.paint,e.transform.zoom,b,s.layoutVertexBuffer2)};if(w){const n=e.stencilModeForClipping(o).ref;0===n&&e.terrain&&y.clear({stencil:0});const i={func:v.EQUAL,mask:255};k.u_alpha_discard_threshold=.8,S(new t.StencilMode(i,n,255,v.KEEP,v.KEEP,v.INVERT)),k.u_alpha_discard_threshold=0,S(new t.StencilMode(i,n,255,v.KEEP,v.KEEP,v.KEEP))}else S(e.stencilModeForClipping(o))}w&&(e.resetStencilClippingMasks(),e.terrain&&y.clear({stencil:0}))},fill:function(e,n,i,r){const o=i.paint.get("fill-color"),s=i.paint.get("fill-opacity");if(0===s.constantOr(1))return;const a=e.colorModeForRenderPass(),u=i.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){const o=e.depthModeForSublayer(1,"opaque"===e.renderPass?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly);Zn(e,n,i,r,o,a,!1)}if("translucent"===e.renderPass&&i.paint.get("fill-antialias")){const o=e.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,t.DepthMode.ReadOnly);Zn(e,n,i,r,o,a,!0)}},"fill-extrusion":function(e,n,i,r){const o=i.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===e.renderPass){const s=new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);if(1!==o||i.paint.get("fill-extrusion-pattern").constantOr(1))Kn(e,n,i,r,s,t.StencilMode.disabled,t.ColorMode.disabled),Kn(e,n,i,r,s,e.stencilModeFor3D(),e.colorModeForRenderPass()),e.resetStencilClippingMasks();else{const o=e.colorModeForRenderPass();Kn(e,n,i,r,s,t.StencilMode.disabled,o)}}},hillshade:function(e,n,i,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const o=e.context,s=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),a=e.colorModeForRenderPass(),u=e.terrain&&e.terrain.renderingToTexture,[l,c]="translucent"!==e.renderPass||u?[{},r]:e.stencilConfigForOverlap(r);for(const r of c){const o=n.getTile(r);if(o.needsHillshadePrepare&&"offscreen"===e.renderPass)Qe(e,o,i,s,t.StencilMode.disabled,a);else if("translucent"===e.renderPass){const t=u&&e.terrain?e.terrain.stencilModeForRTTOverlap(r):l[r.overscaledZ];Xe(e,r,o,i,s,t,a)}}o.viewport.set([0,0,e.width,e.height]),e.resetStencilClippingMasks()},raster:function(e,n,i,r,o,s){if("translucent"!==e.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!r.length)return;const a=e.context,u=a.gl,l=n.getSource(),c=e.useProgram("raster"),h=e.colorModeForRenderPass(),p=e.terrain&&e.terrain.renderingToTexture,[_,f]=l instanceof bt||p?[{},r]:e.stencilConfigForOverlap(r),d=f[f.length-1].overscaledZ,m=!e.options.moving;for(const r of f){const o=p?t.DepthMode.disabled:e.depthModeForSublayer(r.overscaledZ-d,1===i.paint.get("raster-opacity")?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly,u.LESS),f=r.toUnwrapped(),y=n.getTile(r);if(p&&(!y||!y.hasData()))continue;const v=p?r.projMatrix:e.transform.calculateProjMatrix(f,m),g=e.terrain&&p?e.terrain.stencilModeForRTTOverlap(r):_[r.overscaledZ],w=s?0:i.paint.get("raster-fade-duration");y.registerFadeDuration(w);const b=n.findLoadedParent(r,0),x=ln(y,b,n,e.transform,w);let $,C;e.terrain&&e.terrain.prepareDrawTile(r);const E="nearest"===i.paint.get("raster-resampling")?u.NEAREST:u.LINEAR;a.activeTexture.set(u.TEXTURE0),y.texture.bind(E,u.CLAMP_TO_EDGE),a.activeTexture.set(u.TEXTURE1),b?(b.texture.bind(E,u.CLAMP_TO_EDGE),$=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),C=[y.tileID.canonical.x*$%1,y.tileID.canonical.y*$%1]):y.texture.bind(E,u.CLAMP_TO_EDGE);const A=Mn(v,C||[0,0],$||1,x,i,l instanceof bt?l.perspectiveTransform:[0,0]);if(e.prepareDrawProgram(a,c,f),l instanceof bt)c.draw(a,u.TRIANGLES,o,t.StencilMode.disabled,h,t.CullFaceMode.disabled,A,i.id,l.boundsBuffer,e.quadTriangleIndexBuffer,l.boundsSegments);else{const{tileBoundsBuffer:n,tileBoundsIndexBuffer:r,tileBoundsSegments:s}=e.getTileBoundsBuffers(y);c.draw(a,u.TRIANGLES,o,g,h,t.CullFaceMode.disabled,A,i.id,n,r,s)}}e.resetStencilClippingMasks()},background:function(e,n,i,r){const o=i.paint.get("background-color"),s=i.paint.get("background-opacity");if(0===s)return;const a=e.context,u=a.gl,l=e.transform,c=l.tileSize,h=i.paint.get("background-pattern");if(e.isPatternMissing(h))return;const p=!h&&1===o.a&&1===s&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==p)return;const _=t.StencilMode.disabled,f=e.depthModeForSublayer(0,"opaque"===p?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly),d=e.colorModeForRenderPass(),m=e.useProgram(h?"backgroundPattern":"background");let y,v=r;v||(y=e.getBackgroundTiles(),v=Object.values(y).map((t=>t.tileID))),h&&(a.activeTexture.set(u.TEXTURE0),e.imageManager.bind(e.context));const g=i.getCrossfadeParameters();for(const p of v){const v=p.toUnwrapped(),w=r?p.projMatrix:e.transform.calculateProjMatrix(v);e.prepareDrawTile(p);const b=n?n.getTile(p):y?y[p.key]:new t.Tile(p,c,l.zoom,e),x=h?Ln(w,s,e,h,{tileID:p,tileSize:c},g):Nn(w,s,o);e.prepareDrawProgram(a,m,v);const{tileBoundsBuffer:$,tileBoundsIndexBuffer:C,tileBoundsSegments:E}=e.getTileBoundsBuffers(b);m.draw(a,u.TRIANGLES,f,_,d,t.CullFaceMode.disabled,x,i.id,$,C,E)}},sky:function(e,n,i){const r=e.transform,o="mercator"===r.projection.name||"globe"===r.projection.name?1:t.smoothstep(7,8,r.zoom),s=i.paint.get("sky-opacity")*o;if(0===s)return;const a=e.context,u=i.paint.get("sky-type"),l=new t.DepthMode(a.gl.LEQUAL,t.DepthMode.ReadOnly,[0,1]),c=e.frameCounter/1e3%1;"atmosphere"===u?"offscreen"===e.renderPass?i.needsSkyboxCapture(e)&&(function(e,n,i,r){const o=e.context,s=o.gl;let a=n.skyboxFbo;if(!a){a=n.skyboxFbo=o.createFramebuffer(32,32,!1),n.skyboxGeometry=new ci(o),n.skyboxTexture=o.gl.createTexture(),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,s.LINEAR);for(let t=0;t<6;++t)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,s.RGBA,32,32,0,s.RGBA,s.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(a.framebuffer),o.viewport.set([0,0,32,32]);const u=n.getCenter(e,!0),l=e.useProgram("skyboxCapture"),c=new Float64Array(16);t.identity(c),t.rotateY(c,c,.5*-Math.PI),hi(o,n,l,c,u,0),t.identity(c),t.rotateY(c,c,.5*Math.PI),hi(o,n,l,c,u,1),t.identity(c),t.rotateX(c,c,.5*-Math.PI),hi(o,n,l,c,u,2),t.identity(c),t.rotateX(c,c,.5*Math.PI),hi(o,n,l,c,u,3),t.identity(c),hi(o,n,l,c,u,4),t.identity(c),t.rotateY(c,c,Math.PI),hi(o,n,l,c,u,5),o.viewport.set([0,0,e.width,e.height])}(e,i),i.markSkyboxValid(e)):"sky"===e.renderPass&&function(e,n,i,r,o){const s=e.context,a=s.gl,u=e.transform,l=e.useProgram("skybox");s.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_CUBE_MAP,n.skyboxTexture);const c=((t,e,n,i,r)=>({u_matrix:t,u_sun_direction:e,u_cubemap:0,u_opacity:i,u_temporal_offset:r}))(u.skyboxMatrix,n.getCenter(e,!1),0,r,o);e.prepareDrawProgram(s,l),l.draw(s,a.TRIANGLES,i,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,c,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(e,i,l,s,c):"gradient"===u&&"sky"===e.renderPass&&function(e,n,i,r,o){const s=e.context,a=s.gl,u=e.transform,l=e.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new ci(s)),s.activeTexture.set(a.TEXTURE0);let c=n.colorRampTexture;c||(c=n.colorRampTexture=new t.Texture(s,n.colorRamp,a.RGBA)),c.bind(a.LINEAR,a.CLAMP_TO_EDGE);const h=((e,n,i,r,o)=>({u_matrix:e,u_color_ramp:0,u_center_direction:n,u_radius:t.degToRad(i),u_opacity:r,u_temporal_offset:o}))(u.skyboxMatrix,n.getCenter(e,!1),n.paint.get("sky-gradient-radius"),r,o);e.prepareDrawProgram(s,l),l.draw(s,a.TRIANGLES,i,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,h,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(e,i,l,s,c)},debug:function(t,e,n){for(let i=0;i<n.length;i++)si(t,e,n[i])},custom:function(e,n,i){const r=e.context,o=i.implementation;if(e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes("custom"))t.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===e.renderPass){const t=o.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(o,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(t.StencilMode.disabled);const n="3d"===o.renderingMode?new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,t.DepthMode.ReadOnly);r.setDepthMode(n),o.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class _i{constructor(e,n){this.context=new _t(e),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=t.SourceCache.maxUnderzooming+t.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new De,this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(t,e){const n=!!t&&!!t.terrain&&this.transform.projection.supportsTerrain;if(!(n||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new _n(this,t));const i=this._terrain;this.transform.elevation=n?i:null,i.update(t,this.transform,e)}_updateFog(t){const e=t.fog;if(!e||e.getOpacity(this.transform.pitch)<1||e.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[n,i]=e.getFovAdjustedRange(this.transform._fov);if(n>i)return void(this.transform.fogCullDistSq=null);const r=n+.78*(i-n);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(e,n){if(this.width=e*t.exported.devicePixelRatio,this.height=n*t.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const t of this.style.order)this.style._layers[t].resize()}setup(){const e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,t.posAttributes.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);const i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(i,t.posAttributes.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);const r=new t.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,t.posAttributes.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);const o=new t.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(t.EXTENT,0,t.EXTENT,0),o.emplaceBack(0,t.EXTENT,0,t.EXTENT),o.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.mercatorBoundsBuffer=e.createVertexBuffer(o,t.boundsAttributes.members),this.mercatorBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);const s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);const a=new t.StructArrayLayout1ui2;for(const t of[0,1,3,2,0])a.emplaceBack(t);this.debugIndexBuffer=e.createIndexBuffer(a),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA),this.identityMat=t.create();const u=this.context.gl;this.stencilClearMode=new t.StencilMode({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO),this.loadTimeStamps.push(t.window.performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(t){return t._makeTileBoundsBuffers(this.context,this.transform.projection),t._tileBoundsBuffer?{tileBoundsBuffer:t._tileBoundsBuffer,tileBoundsIndexBuffer:t._tileBoundsIndexBuffer,tileBoundsSegments:t._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(e,n.TRIANGLES,t.DepthMode.disabled,this.stencilClearMode,t.ColorMode.disabled,t.CullFaceMode.disabled,un(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(e,n,i){if(!n||this.currentStencilSource===n.id||!e.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let t=!1;for(const e of i)if(void 0===this._tileClippingMaskIDs[e.key]){t=!0;break}if(!t)return}this.currentStencilSource=n.id;const r=this.context,o=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(t.ColorMode.disabled),r.setDepthMode(t.DepthMode.disabled);const s=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of i){const i=n.getTile(e),a=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,{tileBoundsBuffer:u,tileBoundsIndexBuffer:l,tileBoundsSegments:c}=this.getTileBoundsBuffers(i);s.draw(r,o.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:o.ALWAYS,mask:0},a,255,o.KEEP,o.KEEP,o.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,un(e.projMatrix),"$clipping",u,l,c)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,n=this.context.gl;return new t.StencilMode({func:n.NOTEQUAL,mask:255},e,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const n=this.context.gl;return new t.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,n.KEEP,n.KEEP,n.REPLACE)}stencilConfigForOverlap(e){const n=this.context.gl,i=e.sort(((t,e)=>e.overscaledZ-t.overscaledZ)),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const e={};for(let i=0;i<o;i++)e[i+r]=new t.StencilMode({func:n.GEQUAL,mask:255},i+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[e,i]}return[{[r]:t.StencilMode.disabled},i]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new t.ColorMode([e.CONSTANT_COLOR,e.ONE],new t.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?t.ColorMode.unblended:t.ColorMode.alphaBlended}depthModeForSublayer(e,n,i){if(!this.opaquePassEnabledForLayer())return t.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new t.DepthMode(i||this.context.gl.LEQUAL,n,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,n){this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.exported.now()),this.imageManager.beginFrame();const i=this.style.order,r=this.style._sourceCaches;for(const t in r){const e=r[t];e.used&&e.prepare(this.context)}const o={},s={},a={};for(const t in r){const e=r[t];o[t]=e.getVisibleCoordinates(),s[t]=o[t].slice().reverse(),a[t]=e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let t=0;t<i.length;t++)if(this.style._layers[i[t]].is3D()){this.opaquePassCutoff=t;break}if(this.terrain&&(this.terrain.updateTileBinding(a),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new t.GlobeSharedBuffers(this.context)),!t.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const t of i){const n=this.style._layers[t],i=e._getLayerSourceCache(n);if(!n.hasOffscreenPass()||n.isHidden(this.transform.zoom))continue;const r=i?s[i.id]:void 0;("custom"===n.type||n.isSky()||r&&r.length)&&this.renderLayer(this,i,n,r)}this.depthRangeFor3D=[0,1-(e.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let u=t.Color.transparent;if(this.style.fog&&this.style.fog.getOpacity(this.transform.pitch)&&(u=this.style.fog.properties.get("color")),this.context.clear({color:n.showOverdrawInspector?t.Color.black:u,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const t=this.style._layers[i[this.currentLayer]],n=e._getLayerSourceCache(t);if(t.isSky())continue;const r=n?s[n.id]:void 0;this._renderTileClippingMasks(t,n,r),this.renderLayer(this,n,t,r)}if(this.renderPass="sky",(t.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const t=this.style._layers[i[this.currentLayer]],n=e._getLayerSourceCache(t);t.isSky()&&this.renderLayer(this,n,t,n?s[n.id]:void 0)}for("globe"===this.transform.projection.name&&function(e){const n=e.context,i=n.gl,r=e.transform,o=new t.DepthMode(i.LEQUAL,t.DepthMode.ReadOnly,[0,1]),s=e.useProgram("globeAtmosphere"),a=r._camera.getWorldToCamera(r.worldSize,1),u=r._camera.getCameraToClipPerspective(r._fov,r.width/r.height,r._nearZ,r._farZ),l=t.mul([],a,t.calculateGlobeMatrix(r,r.worldSize)),c=t.mul([],r.labelPlaneMatrix,u),h=t.transformMat4([],[0,0,0],l),p=t.add([],h,[r.worldSize/Math.PI/2,0,0]),_=t.transformMat4([],h,c),f=t.transformMat4([],p,c),d=t.length(t.sub([],f,_)),m=1-t.globeToMercatorTransition(r.zoom),y={u_center:_,u_radius:d,u_screen_size:[r.width,r.height],u_pixel_ratio:t.exported.devicePixelRatio,u_opacity:m,u_fadeout_range:2,u_start_color:[1,1,1],u_end_color:[.0118,.7451,.9882]};e.prepareDrawProgram(n,s);const v=e.globeSharedBuffers;v&&s.draw(n,i.TRIANGLES,o,t.StencilMode.disabled,t.ColorMode.alphaBlended,t.CullFaceMode.backCW,y,"skybox",v.atmosphereVertexBuffer,v.atmosphereIndexBuffer,v.atmosphereSegments)}(this),this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){const t=this.style._layers[i[this.currentLayer]],n=e._getLayerSourceCache(t);if(t.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(t)){if(t.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=n?("symbol"===t.type?a:s)[n.id]:void 0;this._renderTileClippingMasks(t,n,n?o[n.id]:void 0),this.renderLayer(this,n,t,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let n=null;t.values(this.style._layers).forEach((t=>{const i=e._getLayerSourceCache(t);i&&!t.isHidden(this.transform.zoom)&&(!n||n.getSource().maxzoom<i.getSource().maxzoom)&&(n=i)})),n&&this.options.showTileBoundaries&&pi.debug(this,n,n.getVisibleCoordinates())}this.options.showPadding&&function(t){const e=t.transform.padding;ii(t,t.transform.height-(e.top||0),3,Jn),ii(t,e.bottom||0,3,Qn),ri(t,e.left||0,3,ti),ri(t,t.transform.width-(e.right||0),3,ei);const n=t.transform.centerPoint;!function(t,e,n,i){oi(t,e-1,n-10,2,20,i),oi(t,e-10,n-1,20,2,i)}(t,n.x,t.transform.height-n.y,ni)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.window.performance.now()),this.saveCanvasCopy())}renderLayer(t,e,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||i&&i.length)&&(this.id=n.id,this.gpuTimingStart(n),t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes(n.type)||pi[n.type](t,e,n,i,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(t){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;let n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}collectGpuTimers(){const t=this.gpuTimers;return this.gpuTimers={},t}queryGpuTimers(t){const e={};for(const n in t){const i=t[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),e[n]=o}return e}translatePosMatrix(e,n,i,r,o){if(!i[0]&&!i[1])return e;const s=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(s){const t=Math.sin(s),e=Math.cos(s);i=[i[0]*e-i[1]*t,i[0]*t+i[1]*e]}const a=[o?i[0]:A(n,i[0],this.transform.zoom),o?i[1]:A(n,i[1],this.transform.zoom),0],u=new Float32Array(16);return t.translate(u,e,a),u}saveTileTexture(t){const e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const e=this._tileTextures[t];return e&&e.length>0?e.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n}currentGlobalDefines(){const t=this.terrain&&this.terrain.renderingToTexture,e=this.style&&this.style.fog,n=[];return this.terrain&&!this.terrain.renderingToTexture&&n.push("TERRAIN"),e&&!t&&0!==e.getOpacity(this.transform.pitch)&&n.push("FOG"),t&&n.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&n.push("OVERDRAW_INSPECTOR"),n}useProgram(t,e,n){this.cache=this.cache||{};const i=n||[],r=this.currentGlobalDefines().concat(i),o=dn.cacheKey(t,r,e);return this.cache[o]||(this.cache[o]=new dn(this.context,t,We[t],e,qn[t],r)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(t){this.terrain&&this.terrain.prepareDrawTile(t)}prepareDrawProgram(t,e,n){if(this.terrain&&this.terrain.renderingToTexture)return;const i=this.style.fog;if(i){const r=i.getOpacity(this.transform.pitch);0!==r&&e.setFogUniformValues(t,((t,e,n,i)=>{const r=e.properties.get("color"),o=t.frameCounter/1e3%1,s=[r.r/r.a,r.g/r.a,r.b/r.a,i];return{u_fog_matrix:n?t.transform.calculateFogTileMatrix(n):t.identityMat,u_fog_range:e.getFovAdjustedRange(t.transform._fov),u_fog_color:s,u_fog_horizon_blend:e.properties.get("horizon-blend"),u_fog_temporal_offset:o}})(this,i,n,r))}}setTileLoadedFlag(t){this.tileLoaded=t}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const t=this.context.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,t.drawingBufferWidth,t.drawingBufferHeight,0),e}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const t=this.style&&this.style.fog;return!!t&&0!==t.getOpacity(this.transform.pitch)}getBackgroundTiles(){const e=this._backgroundTiles,n=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)n[r.key]=e[r.key]||new t.Tile(r,512,this.transform.tileZoom,this);return n}clearBackgroundTiles(){this._backgroundTiles={}}}class fi{constructor(t=0,e=0,n=0,i=0){if(isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=i}interpolate(e,n,i){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,i)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,i)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,i)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,i)),this}getCenter(e,n){const i=t.clamp((this.left+e-this.right)/2,0,e),r=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.pointGeometry(i,r)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new fi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function di(e,n){const i=t.getColumn(e,3);t.fromQuat(e,n),t.setColumn(e,3,i)}function mi(e,n){t.setColumn(e,3,[n[0],n[1],n[2],1])}function yi(e,n){const i=t.identity$1([]);return t.rotateZ$1(i,i,-n),t.rotateX$1(i,i,-e),i}function vi(e,n){const i=[e[0],e[1],0],r=[n[0],n[1],0];if(t.length(i)>=1e-15){const e=t.normalize([],i);t.scale$2(r,e,t.dot(r,e)),n[0]=r[0],n[1]=r[1]}const o=t.cross([],n,e);if(t.len(o)<1e-15)return null;const s=Math.atan2(-o[1],o[0]);return yi(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),s)}class gi{constructor(t,e){this.position=t,this.orientation=e}get position(){return this._position}set position(e){this._position=this._renderWorldCopies?function(e){if(!e)return;const n=Array.isArray(e)?new t.MercatorCoordinate(e[0],e[1],e[2]):e;return n.x=t.wrap(n.x,0,1),n}(e):e}lookAtPoint(e,n){if(this.orientation=null,!this.position)return;const i=this._elevation?this._elevation.getAtPointOrZero(t.MercatorCoordinate.fromLngLat(e)):0,r=this.position,o=t.MercatorCoordinate.fromLngLat(e,i),s=[o.x-r.x,o.y-r.y,o.z-r.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=vi(s,n)}setPitchBearing(e,n){this.orientation=yi(t.degToRad(e),t.degToRad(-n))}}class wi{constructor(e,n){this._transform=t.identity([]),this._orientation=t.identity$1([]),n&&(this._orientation=n,di(this._transform,this._orientation)),e&&mi(this._transform,e)}get mercatorPosition(){const e=this.position;return new t.MercatorCoordinate(e[0],e[1],e[2])}get position(){const e=t.getColumn(this._transform,3);return[e[0],e[1],e[2]]}set position(t){mi(this._transform,t)}get orientation(){return this._orientation}set orientation(t){this._orientation=t,di(this._transform,this._orientation)}getPitchBearing(){const t=this.forward(),e=this.right();return{bearing:Math.atan2(-e[1],e[0]),pitch:Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2])}}setPitchBearing(t,e){this._orientation=yi(t,e),di(this._transform,this._orientation)}forward(){const e=t.getColumn(this._transform,2);return[-e[0],-e[1],-e[2]]}up(){const e=t.getColumn(this._transform,1);return[-e[0],-e[1],-e[2]]}right(){const e=t.getColumn(this._transform,0);return[e[0],e[1],e[2]]}getCameraToWorld(e,n){const i=new Float64Array(16);return t.invert(i,this.getWorldToCamera(e,n)),i}getWorldToCameraPosition(e,n,i){const r=this.position;t.scale$2(r,r,-e);const o=new Float64Array(16);return t.fromScaling(o,[i,i,i]),t.translate(o,o,r),o[10]*=n,o}getWorldToCamera(e,n){const i=new Float64Array(16),r=new Float64Array(4),o=this.position;return t.conjugate(r,this._orientation),t.scale$2(o,o,-e),t.fromQuat(i,r),t.translate(i,i,o),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=n,i[9]*=n,i[10]*=n,i[11]*=n,i}getCameraToClipPerspective(e,n,i,r){const o=new Float64Array(16);return t.perspective(o,e,n,i,r),o}getDistanceToElevation(e){const n=0===e?0:t.mercatorZfromAltitude(e,this.position[1]),i=this.forward();return(n-this.position[2])/i[2]}clone(){return new wi([...this.position],[...this.orientation])}}function bi(e,n){const i=$i(e),r=function(e,n,i,r,o){const s=new t.LngLat(i.lng-180*Ci,i.lat),a=new t.LngLat(i.lng+180*Ci,i.lat),u=e.project(s.lng,s.lat),l=e.project(a.lng,a.lat),c=-Math.atan2(l.y-u.y,l.x-u.x),h=t.MercatorCoordinate.fromLngLat(i);h.y=t.clamp(h.y,-.999975,.999975);const p=h.toLngLat(),_=e.project(p.lng,p.lat),f=t.MercatorCoordinate.fromLngLat(p);f.x+=Ci;const d=f.toLngLat(),m=e.project(d.lng,d.lat),y=Ai(m.x-_.x,m.y-_.y,c),v=t.MercatorCoordinate.fromLngLat(p);v.y+=Ci;const g=v.toLngLat(),w=e.project(g.lng,g.lat),b=Ai(w.x-_.x,w.y-_.y,c),x=Math.abs(y.x)/Math.abs(b.y),$=t.identity([]);t.rotateZ($,$,-c*(1-(o?0:r)));const C=t.identity([]);return t.scale(C,C,[1,1-(1-x)*r,1]),C[4]=-b.x/b.y*r,t.rotateZ(C,C,c),t.multiply$1(C,$,C),C}(e.projection,0,e.center,i,n),o=xi(e);return t.scale(r,r,[o,o,1]),r}function xi(e){const n=e.projection,i=$i(e),r=Ei(n,e.center),o=Ei(n,t.LngLat.convert(n.center));return Math.pow(2,r*i+(1-i)*o)}function $i(e){const n=e.projection.range;if(!n)return 0;const i=Math.max(e.width,e.height),r=Math.log(i/1024)/Math.LN2;return t.smoothstep(n[0]+r,n[1]+r,e.zoom)}const Ci=1/4e4;function Ei(e,n){const i=t.clamp(n.lat,-t.MAX_MERCATOR_LATITUDE,t.MAX_MERCATOR_LATITUDE),r=new t.LngLat(n.lng-180*Ci,i),o=new t.LngLat(n.lng+180*Ci,i),s=e.project(r.lng,i),a=e.project(o.lng,i),u=t.MercatorCoordinate.fromLngLat(r),l=t.MercatorCoordinate.fromLngLat(o),c=a.x-s.x,h=a.y-s.y,p=l.x-u.x,_=l.y-u.y,f=Math.sqrt((p*p+_*_)/(c*c+h*h));return Math.log(f)/Math.LN2}function Ai(t,e,n){const i=Math.cos(n),r=Math.sin(n);return{x:t*i-e*r,y:t*r+e*i}}class ki{constructor(e,n,i,r,o){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(),this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new fi,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new wi,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._projectionScaler=1,this._horizonShift=.1}clone(){const t=new ki(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.setProjection(this.getProjection()),t._elevation=this._elevation,t._centerAltitude=this._centerAltitude,t.tileSize=this.tileSize,t.setMaxBounds(this.getMaxBounds()),t.width=this.width,t.height=this.height,t.cameraElevationReference=this.cameraElevationReference,t._center=this._center,t._setZoom(this.zoom),t._cameraZoom=this._cameraZoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._nearZ=this._nearZ,t._farZ=this._farZ,t._averageElevation=this._averageElevation,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._camera=this._camera.clone(),t._calcMatrices(),t.freezeTileCoverage=this.freezeTileCoverage,t}get elevation(){return this._elevation}set elevation(t){this._elevation!==t&&(this._elevation=t,t?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(t){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),t&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return t.pick(this.projection,["name","center","parallels"])}setProjection(e){null==e&&(e={name:"mercator"}),this.projectionOptions=e;const n=this.projection?this.getProjection():void 0;return this.projection=t.getProjection(e),!o(n,this.getProjection())&&(this._calcMatrices(),!0)}get minZoom(){return this._minZoom}set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}get maxZoom(){return this._maxZoom}set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}get minPitch(){return this._minPitch}set minPitch(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}get maxPitch(){return this._maxPitch}set maxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const t=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(t))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.pointGeometry(this.width,this.height)}get bearing(){return t.wrap(this.rotation,-180,180)}set bearing(t){this.rotation=t}get rotation(){return-this.angle/Math.PI*180}set rotation(e){const n=-e*Math.PI/180;var i;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(i=new t.ARRAY_TYPE(4),t.ARRAY_TYPE!=Float32Array&&(i[1]=0,i[2]=0),i[0]=1,i[3]=1,i),function(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);t[0]=i*u+o*a,t[1]=r*u+s*a,t[2]=i*-a+o*u,t[3]=r*-a+s*u}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(t){this._averageElevation=t,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(t){const e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._setZoom(e),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(t){this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center),-1);return-1===t?(this._cameraZoom=null,!1):(this._centerAltitude=t,!0)}_updateCameraOnTerrain(){this._cameraZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize)}sampleAverageElevation(){if(!this._elevation)return 0;const e=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,o=0;for(let s=0;s<n.length;s++){const a=new t.pointGeometry(n[s][0]*this.width,i+n[s][1]*(this.height-i)),u=e.pointCoordinate(a);if(!u)continue;const l=1/Math.hypot(u[0]-this._camera.position[0],u[1]-this._camera.position[1]);r+=u[3]*l,o+=l}return 0===o?NaN:r/o}get center(){return this._center}set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const t=this._cameraZoom,e=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*e,i=this._mercatorZfromZoom(t),r=this._mercatorZfromZoom(this._maxZoom),o=Math.max(i-n,r);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}computeZoomRelativeTo(e){const n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));let i;i=e.z<this._camera.position[2]?[n.x,n.y,n.z]:[e.x,e.y,e.z];const r=t.length(t.sub([],this._camera.position,i));return t.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(e){if(!this.height)return;if(!e.position&&!e.orientation)return;this._updateCameraState();let n=!1;if(e.orientation&&!t.exactEquals(e.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(e.orientation)),e.position){const i=[e.position.x,e.position.y,e.position.z];t.exactEquals$1(i,this._camera.position)||(this._setCameraPosition(i),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const e=this._camera.position,n=new gi;return n.position=new t.MercatorCoordinate(e[0],e[1],e[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}_setCameraOrientation(e){if(!t.length$1(e))return!1;t.normalize$1(e,e);const n=t.transformQuat([],[0,0,-1],e),i=t.transformQuat([],[0,-1,0],e);if(i[2]<0)return!1;const r=vi(n,i);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(e){const n=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;e[2]=t.clamp(e[2],r/i,r/n),this._camera.position=e}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(t){const e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}getVisibleUnwrappedCoordinates(e){const n=[new t.UnwrappedTileID(0,e)];if(this.renderWorldCopies){const i=this.pointCoordinate(new t.pointGeometry(0,0)),r=this.pointCoordinate(new t.pointGeometry(this.width,0)),o=this.pointCoordinate(new t.pointGeometry(this.width,this.height)),s=this.pointCoordinate(new t.pointGeometry(0,this.height)),a=Math.floor(Math.min(i.x,r.x,o.x,s.x)),u=Math.floor(Math.max(i.x,r.x,o.x,s.x)),l=1;for(let i=a-l;i<=u+l;i++)0!==i&&n.push(new t.UnwrappedTileID(i,e))}return n}coveringTiles(e){let n=this.coveringZoomLevel(e);const i=n,r=this.elevation&&!e.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);const s=this.locationCoordinate(this.center),a=1<<n,u=[a*s.x,a*s.y,0],l=t.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n,"globe"!==this.projection.name),c=this.pointCoordinate(this.getCameraPoint()),h=a*t.mercatorZfromAltitude(1,this.center.lat),p=this._camera.position[2]/t.mercatorZfromAltitude(1,this.center.lat),_=[a*c.x,a*c.y,p],f=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),d=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?n:0,m=e.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,y=e.isTerrainDEM?-m:this._elevation?this._elevation.getMinElevationBelowMSL():0,v=this.projection.isReprojectedInTileSpace?xi(this):1,g=e=>{const n=1/4e4,i=new t.MercatorCoordinate(e.x+n,e.y,e.z),r=new t.MercatorCoordinate(e.x,e.y+n,e.z),o=e.toLngLat(),s=i.toLngLat(),a=r.toLngLat(),u=this.locationCoordinate(o),l=this.locationCoordinate(s),c=this.locationCoordinate(a),h=Math.hypot(l.x-u.x,l.y-u.y),p=Math.hypot(c.x-u.x,c.y-u.y);return Math.sqrt(h*p)*v/n},w=e=>{const n=m,i=y;return{aabb:t.tileAABB(this,a,0,0,0,e,i,n,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:n,wrap:e,fullyVisible:!1}},b=[];let x=[];const $=n,C=e.reparseOverscaled?i:n,E=t=>t*t,A=E((p-this._centerAltitude)*h),k=t=>{if(!this._elevation||!t.tileID||!o)return;const e=this._elevation.getMinMaxForTile(t.tileID),n=t.aabb;e?(n.min[2]=e.min,n.max[2]=e.max,n.center[2]=(n.min[2]+n.max[2])/2):(t.shouldSplit=S(t),t.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=this._centerAltitude))},S=e=>{if(e.zoom<d)return!0;if(e.zoom===$)return!1;if(null!=e.shouldSplit)return e.shouldSplit;const n=e.aabb.distanceX(_),o=e.aabb.distanceY(_);let s=A;r&&(s=E(e.aabb.distanceZ(_)*h));let a=1;if(this.projection.isReprojectedInTileSpace&&i<=5){const n=Math.pow(2,e.zoom),i=g(new t.MercatorCoordinate((e.x+.5)/n,(e.y+.5)/n));a=i>.85?1:i}const u=n*n+o*o+s;return u<E((1<<$-e.zoom)*f*a*((t,e)=>{if(e*E(.707)<t)return 1;const n=Math.sqrt(e/t);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(s,A),u))};if(this.renderWorldCopies)for(let t=1;t<=3;t++)b.push(w(-t)),b.push(w(t));for(b.push(w(0));b.length>0;){const i=b.pop(),s=i.x,c=i.y;let h=i.fullyVisible;if(!h){const t=i.aabb.intersects(l);if(0===t)continue;h=2===t}if(i.zoom!==$&&S(i))for(let e=0;e<4;e++){const n=(s<<1)+e%2,u=(c<<1)+(e>>1),l={aabb:o?i.aabb.quadrant(e):t.tileAABB(this,a,i.zoom+1,n,u,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:n,y:u,wrap:i.wrap,fullyVisible:h,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};r&&(l.tileID=new t.OverscaledTileID(i.zoom+1===$?C:i.zoom+1,i.wrap,i.zoom+1,n,u),k(l)),b.push(l)}else{const r=i.zoom===$?C:i.zoom;if(e.minzoom&&e.minzoom>r)continue;const o=u[0]-(.5+s+(i.wrap<<i.zoom))*(1<<n-i.zoom),a=u[1]-.5-c,l=i.tileID?i.tileID:new t.OverscaledTileID(r,i.wrap,i.zoom,s,c);x.push({tileID:l,distanceSq:o*o+a*a})}}if(this.fogCullDistSq){const n=this.fogCullDistSq,i=this.horizonLineFromTop();x=x.filter((r=>{const o=[0,0,0,1],s=[t.EXTENT,t.EXTENT,0,1],a=this.calculateFogTileMatrix(r.tileID.toUnwrapped());t.transformMat4$1(o,o,a),t.transformMat4$1(s,s,a);const u=t.getAABBPointSquareDist(o,s);if(0===u)return!0;let l=!1;const c=this._elevation;if(c&&u>n&&0!==i){const n=this.calculateProjMatrix(r.tileID.toUnwrapped());let o;e.isTerrainDEM||(o=c.getMinMaxForTile(r.tileID)),o||(o={min:y,max:m});const s=t.furthestTileCorner(this.rotation),a=[s[0]*t.EXTENT,s[1]*t.EXTENT,o.max];t.transformMat4(a,a,n),l=(1-a[1])*this.height*.5<i}return u<n||l}))}return x.sort(((t,e)=>t.distanceSq-e.distanceSq)).map((t=>t.tileID))}resize(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(t){return Math.pow(2,t)}scaleZoom(t){return Math.log(t)/Math.LN2}project(e){const n=t.clamp(e.lat,-t.MAX_MERCATOR_LATITUDE,t.MAX_MERCATOR_LATITUDE),i=this.projection.project(e.lng,n);return new t.pointGeometry(i.x*this.worldSize,i.y*this.worldSize)}unproject(t){return this.projection.unproject(t.x/this.worldSize,t.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(e,n){const i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e);this.setLocation(new t.MercatorCoordinate(o.x-(i.x-r.x),o.y-(i.y-r.y)))}setLocation(t){this.center=this.coordinateLocation(t),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(t){return this.projection.locationPoint(this,t)}locationPoint3D(t){return this._coordinatePoint(this.locationCoordinate(t),!0)}pointLocation(t){return this.coordinateLocation(this.pointCoordinate(t))}pointLocation3D(t){return this.coordinateLocation(this.pointCoordinate3D(t))}locationCoordinate(e,n){const i=n?t.mercatorZfromAltitude(n,e.lat):void 0,r=this.projection.project(e.lng,e.lat);return new t.MercatorCoordinate(r.x,r.y,i)}coordinateLocation(t){return this.projection.unproject(t.x,t.y)}pointRayIntersection(e,n){const i=null!=n?n:this._centerAltitude,r=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.transformMat4$1(r,r,this.pixelMatrixInverse),t.transformMat4$1(o,o,this.pixelMatrixInverse);const s=o[3];t.scale$1(r,r,1/r[3]),t.scale$1(o,o,1/s);const a=r[2],u=o[2];return{p0:r,p1:o,t:a===u?0:(i-a)/(u-a)}}screenPointToMercatorRay(e){const n=[e.x,e.y,0,1],i=[e.x,e.y,1,1];return t.transformMat4$1(n,n,this.pixelMatrixInverse),t.transformMat4$1(i,i,this.pixelMatrixInverse),t.scale$1(n,n,1/n[3]),t.scale$1(i,i,1/i[3]),n[2]=t.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,i[2]=t.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,t.scale$1(n,n,1/this.worldSize),t.scale$1(i,i,1/this.worldSize),new t.Ray([n[0],n[1],n[2]],t.normalize([],t.sub([],i,n)))}rayIntersectionCoordinate(e){const{p0:n,p1:i,t:r}=e,o=t.mercatorZfromAltitude(n[2],this._center.lat),s=t.mercatorZfromAltitude(i[2],this._center.lat);return new t.MercatorCoordinate(t.number(n[0],i[0],r)/this.worldSize,t.number(n[1],i[1],r)/this.worldSize,t.number(o,s,r))}pointCoordinate(t,e=this._centerAltitude){return this.projection.createTileTransform(this,this.worldSize).pointCoordinate(t.x,t.y,e)}pointCoordinate3D(e){if(!this.elevation)return this.pointCoordinate(e);const n=this.elevation;let i=this.elevation.pointCoordinate(e);if(i)return new t.MercatorCoordinate(i[0],i[1],i[2]);let r=0,o=this.horizonLineFromTop();if(e.y>o)return this.pointCoordinate(e);const s=.02*o,a=e.clone();for(let e=0;e<10&&o-r>s;e++){a.y=t.number(r,o,.66);const e=n.pointCoordinate(a);e?(o=a.y,i=e):r=a.y}return i?new t.MercatorCoordinate(i[0],i[1],i[2]):this.pointCoordinate(e)}isPointAboveHorizon(t){if(this.elevation)return!this.elevation.pointCoordinate(t);{const e=this.horizonLineFromTop();return t.y<e}}_coordinatePoint(e,n){const i=n&&this.elevation?this.elevation.getAtPointOrZero(e,this._centerAltitude):this._centerAltitude,r=[e.x*this.worldSize,e.y*this.worldSize,i+e.toAltitude(),1];return t.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new t.pointGeometry(r[0]/r[3],r[1]/r[3]):new t.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(e,n){const i=new t.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new t.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new t.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),s=new t.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let a=this.pointCoordinate(i,e),u=this.pointCoordinate(r,e);const l=this.pointCoordinate(o,n),c=this.pointCoordinate(s,n),h=(t,e)=>(e.y-t.y)/(e.x-t.x);return a.y>1&&u.y>=0?a=new t.MercatorCoordinate((1-c.y)/h(c,a)+c.x,1):a.y<0&&u.y<=1&&(a=new t.MercatorCoordinate(-c.y/h(c,a)+c.x,0)),u.y>1&&a.y>=0?u=new t.MercatorCoordinate((1-l.y)/h(l,u)+l.x,1):u.y<0&&a.y<=1&&(u=new t.MercatorCoordinate(-l.y/h(l,u)+l.x,0)),(new t.LngLatBounds).extend(this.coordinateLocation(a)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c)).extend(this.coordinateLocation(l))}_getBounds3D(){const t=this.elevation;if(!t.visibleDemTiles.length)return this._getBounds(0,0);const e=t.visibleDemTiles.reduce(((t,e)=>{if(e.dem){const n=e.dem.tree;t.min=Math.min(t.min,n.minimums[0]),t.max=Math.max(t.max,n.maximums[0])}return t}),{min:Number.MAX_VALUE,max:0});return this._getBounds(e.min*t.exaggeration(),e.max*t.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(t=!0){const e=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-e*(1-this._horizonShift);return t?Math.max(0,n):n}getMaxBounds(){return this.maxBounds}setMaxBounds(e){this.maxBounds=e,this.minLat=-t.MAX_MERCATOR_LATITUDE,this.maxLat=t.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,e&&(this.minLat=e.getSouth(),this.maxLat=e.getNorth(),this.minLng=e.getWest(),this.maxLng=e.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=t.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=t.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=t.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=t.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(t,e){return this.projection.createTileTransform(this,e).createTileMatrix(t)}calculateDistanceTileData(e){const n=e.key,i=this._distanceTileDataCache;if(i[n])return i[n];const r=e.canonical,o=1/this.height,s=this.cameraWorldSize/this.zoomScale(r.z),a=(r.x+Math.pow(2,r.z)*e.wrap)*s,u=r.y*s,l=this.point,c=this.angle,h=Math.sin(-c),p=-Math.cos(-c);return i[n]={bearing:[h,p],center:[(l.x-a)*o,(l.y-u)*o],scale:s/t.EXTENT*o},i[n]}calculateFogTileMatrix(e){const n=e.key,i=this._fogTileMatrixCache;if(i[n])return i[n];const r=this.calculatePosMatrix(e,this.cameraWorldSize);return t.multiply$1(r,this.worldToFogMatrix,r),i[n]=new Float32Array(r),i[n]}calculateProjMatrix(e,n=!1){const i=e.key,r=n?this._alignedProjMatrixCache:this._projMatrixCache;if(r[i])return r[i];const o=this.calculatePosMatrix(e,this.worldSize);return t.multiply$1(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,o),r[i]=new Float32Array(o),r[i]}calculatePixelsToTileUnitsMatrix(e){const n=e.tileID.key,i=this._pixelsToTileUnitsCache;if(i[n])return i[n];const r=function(e,n){const{scale:i}=e.tileTransform,r=i*t.EXTENT/(e.tileSize*Math.pow(2,n.zoom-e.tileID.overscaledZ+e.tileID.canonical.z));return o=new Float32Array(4),u=(s=n.inverseAdjustmentMatrix)[1],l=s[2],c=s[3],p=(a=[r,r])[1],o[0]=s[0]*(h=a[0]),o[1]=u*h,o[2]=l*p,o[3]=c*p,o;var o,s,a,u,l,c,h,p}(e,this);return i[n]=r,i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const n=t.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(n),r=this._camera.forward(),o=t.mercatorZfromAltitude(1,this._center.lat);i[2]/=o,r[2]/=o,t.normalize(r,r);const s=e.raycast(i,r,e.exaggeration());if(s){const e=t.scaleAndAdd([],i,r,s),n=new t.MercatorCoordinate(e[0],e[1],t.mercatorZfromAltitude(e[2],t.latFromMercatorY(e[1]))),a=(n.z+t.length([n.x-i[0],n.y-i[1],n.z-i[2]*o]))*this._projectionScaler;this._cameraZoom=this._zoomFromMercatorZ(a),this._centerAltitude=n.toAltitude(),this._center=this.coordinateLocation(n),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const e=this._elevation;this._updateCameraState();const n=t.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(n),r=e.getAtPointOrZero(new t.MercatorCoordinate(...i)),o=this._minimumHeightOverTerrain()*Math.cos(t.degToRad(this._maxPitch)),s=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*r;if(s<o){const e=this.locationCoordinate(this._center,this._centerAltitude),n=[e.x-i[0],e.y-i[1],e.z-i[2]],r=t.length(n);n[2]-=(o-s)/this._projectionScaler;const a=t.length(n);if(0===a)return;t.scale$2(n,n,r/a*this._projectionScaler),this._camera.position=[e.x-n[0],e.y-n[1],e.z*this._projectionScaler-n[2]],this._camera.orientation=vi(n,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;if(this._constraining=!0,this.projection.isReprojectedInTileSpace){const e=this.center;return e.lat=t.clamp(e.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(e.lng=t.clamp(e.lng,this.minLng,this.maxLng)),this.center=e,void(this._constraining=!1)}const e=this._unmodified,{x:n,y:i}=this.point;let r=0,o=n,s=i;const a=this.width/2,u=this.height/2,l=this.worldMinY*this.scale,c=this.worldMaxY*this.scale;if(i-u<l&&(s=l+u),i+u>c&&(s=c-u),c-l<this.height&&(r=Math.max(r,this.height/(c-l)),s=(c+l)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const t=this.worldMinX*this.scale,e=this.worldMaxX*this.scale,i=this.worldSize/2-(t+e)/2;o=(n+i+this.worldSize)%this.worldSize-i,o-a<t&&(o=t+a),o+a>e&&(o=e-a),e-t<this.width&&(r=Math.max(r,this.width/(e-t)),o=(e+t)/2)}o===n&&s===i||(this.center=this.unproject(new t.pointGeometry(o,s))),r&&(this.zoom+=this.scaleZoom(r)),this._constrainCameraAltitude(),this._unmodified=e,this._constraining=!1}_minZoomForBounds(){let t=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(t=Math.max(t,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),t}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const e=this._fov/2,n=this.centerOffset,i=this.pixelsPerMeter;this._projectionScaler=i/(t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize),this.cameraToCenterDistance=.5/Math.tan(e)*this.height*this._projectionScaler,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const o=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?i:1),s=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);s[8]=2*-n.x/this.width,s[9]=2*n.y/this.height;let a=t.mul([],s,o);if(this.projection.isReprojectedInTileSpace){const e=this.locationCoordinate(this.center),n=t.identity([]);t.translate(n,n,[e.x*this.worldSize,e.y*this.worldSize,0]),t.multiply$1(n,n,bi(this)),t.translate(n,n,[-e.x*this.worldSize,-e.y*this.worldSize,0]),t.multiply$1(a,a,n),this.inverseAdjustmentMatrix=function(t){const e=bi(t,!0);return r([],[e[0],e[1],e[4],e[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=t.scale([],a,[this.worldSize,this.worldSize,this.worldSize/i,1]),this.projMatrix=a,this.invProjMatrix=t.invert(new Float64Array(16),this.projMatrix);const u=new Float32Array(16);t.identity(u),t.scale(u,u,[1,-1,1]),t.rotateX(u,u,this._pitch),t.rotateZ(u,u,this.angle);const l=t.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),c=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;l[8]=2*-n.x/this.width,l[9]=2*(n.y+c)/this.height,this.skyboxMatrix=t.multiply$1(u,l,u);const h=this.point,p=h.x,_=h.y,f=this.width%2/2,d=this.height%2/2,m=Math.cos(this.angle),y=Math.sin(this.angle),v=p-Math.round(p)+m*f+y*d,g=_-Math.round(_)+m*d+y*f,w=new Float64Array(a);if(t.translate(w,w,[v>.5?v-1:v,g>.5?g-1:g,0]),this.alignedProjMatrix=w,a=t.create(),t.scale(a,a,[this.width/2,-this.height/2,1]),t.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=t.create(),t.scale(a,a,[1,-1,1]),t.translate(a,a,[-1,-1,0]),t.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=t.multiply$1(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=t.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const e=this.cameraWorldSize,n=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height,o=[e,e,n];t.scale$2(o,o,r),t.scale$2(i,i,-1),t.multiply$2(i,i,o);const s=t.create();t.translate(s,s,i),t.scale(s,s,o),this.mercatorFogMatrix=s,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(e,n,r)}_computeCameraPosition(t){const e=(t=t||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),i=this.point,r=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)*e-t/this.worldSize*this._centerAltitude;return[i.x/this.worldSize-n[0]*r,i.y/this.worldSize-n[1]*r,t/this.worldSize*this._centerAltitude-n[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(e){const n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=e[2];let r=1;i>0&&(r=Math.min((n-this._camera.position[2])/i,1)),this._camera.position=t.scaleAndAdd([],this._camera.position,e,r),this._updateStateFromCamera()}_updateStateFromCamera(){const e=this._camera.position,n=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),o=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._projectionScaler,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(t.degToRad(this._maxPitch)),a=Math.max((e[2]-o)/Math.cos(i),s),u=this._zoomFromMercatorZ(a);t.scaleAndAdd(e,e,n,a),this._pitch=t.clamp(i,t.degToRad(this.minPitch),t.degToRad(this.maxPitch)),this.angle=t.wrap(r,-Math.PI,Math.PI),this._setZoom(t.clamp(u,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=this.coordinateLocation(new t.MercatorCoordinate(e[0],e[1],e[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(t){return Math.pow(2,t)*this.tileSize}_mercatorZfromZoom(t){return this.cameraToCenterDistance/this._worldSizeFromZoom(t)}_minimumHeightOverTerrain(){const t=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(t)}_zoomFromMercatorZ(t){return this.scaleZoom(this.cameraToCenterDistance/(t*this.tileSize))}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(t.warnOnce("Terrain is not yet supported with alternate projections. Use mercator to enable terrain."),1))}anyCornerOffEdge(e,n){const i=Math.min(e.x,n.x),r=Math.max(e.x,n.x),o=Math.min(e.y,n.y),s=Math.max(e.y,n.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const a=[new t.pointGeometry(i,o),new t.pointGeometry(r,s),new t.pointGeometry(i,s),new t.pointGeometry(r,o)],u=this.renderWorldCopies?-3:0,l=this.renderWorldCopies?4:1;for(const t of a){const e=this.pointRayIntersection(t);if(e.t<0)return!0;const n=this.rayIntersectionCoordinate(e);if(n.x<u||n.y<0||n.x>l||n.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+t.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new t.pointGeometry(0,0),new t.pointGeometry(this.width,this.height))}zoomDeltaToMovement(e,n){const i=t.length(t.sub([],this._camera.position,e)),r=this._zoomFromMercatorZ(i)+n;return i-this._mercatorZfromZoom(r)}getCameraPoint(){const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.pointGeometry(0,e))}}function Si(t,e){let n=!1,i=null;const r=()=>{i=null,n&&(t(),i=setTimeout(r,e),n=!1)};return()=>(n=!0,i||r(),i)}class Ti{constructor(e){this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Si(this._updateHashUnthrottled.bind(this),300)}addTo(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const n=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),s=Math.round(n.lng*o)/o,a=Math.round(n.lat*o)/o,u=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?`/${s}/${a}/${i}`:`${i}/${a}/${s}`,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let n=!1;const i=t.window.location.hash.slice(1).split("&").map((t=>{const i=t.split("=")[0];return i===e?(n=!0,`${i}=${c}`):t})).filter((t=>t));return n||i.push(`${e}=${c}`),`#${i.join("&")}`}return`#${c}`}_getCurrentHash(){const e=t.window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((t=>t.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const t=this._getCurrentHash();if(t.length>=3&&!t.some((t=>isNaN(t)))){const e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());t.window.history.replaceState(t.window.history.state,null,e)}}const Ii={linearity:.3,easing:t.bezier(0,0,.3,1)},Oi=t.extend({deceleration:2500,maxSpeed:1400},Ii),zi=t.extend({deceleration:20,maxSpeed:1400},Ii),Mi=t.extend({deceleration:1e3,maxSpeed:360},Ii),Di=t.extend({deceleration:1e3,maxSpeed:90},Ii);class Ri{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.exported.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,n=t.exported.now();for(;e.length>0&&n-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new t.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:t}of this._inertiaBuffer)n.zoom+=t.zoomDelta||0,n.bearing+=t.bearingDelta||0,n.pitch+=t.pitchDelta||0,t.panDelta&&n.pan._add(t.panDelta),t.around&&(n.around=t.around),t.pinchAround&&(n.pinchAround=t.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const o=ji(n.pan.mag(),i,t.extend({},Oi,e||{}));r.offset=n.pan.mult(o.amount/n.pan.mag()),r.center=this._map.transform.center,Pi(r,o)}if(n.zoom){const t=ji(n.zoom,i,zi);r.zoom=this._map.transform.zoom+t.amount,Pi(r,t)}if(n.bearing){const e=ji(n.bearing,i,Mi);r.bearing=this._map.transform.bearing+t.clamp(e.amount,-179,179),Pi(r,e)}if(n.pitch){const t=ji(n.pitch,i,Di);r.pitch=this._map.transform.pitch+t.amount,Pi(r,t)}if(r.zoom||r.bearing){const t=void 0===n.pinchAround?n.around:n.pinchAround;r.around=t?this._map.unproject(t):this._map.getCenter()}return this.clear(),t.extend(r,{noMoveStart:!0})}}function Pi(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function ji(e,n,i){const{maxSpeed:r,linearity:o,deceleration:s}=i,a=t.clamp(e*o/(n/1e3),-r,r),u=Math.abs(a)/(s*o);return{easing:i.easing,duration:1e3*u,amount:a*(u/2)}}class Ni extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,i,r={}){const o=s.mousePos(n.getCanvasContainer(),i),a=n.unproject(o);super(e,t.extend({point:o,lngLat:a,originalEvent:i},r)),this._defaultPrevented=!1,this.target=n}}class Li extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,i){const r="touchend"===e?i.changedTouches:i.touches,o=s.touchPos(n.getCanvasContainer(),r),a=o.map((t=>n.unproject(t))),u=o.reduce(((t,e,n,i)=>t.add(e.div(i.length))),new t.pointGeometry(0,0));super(e,{points:o,point:u,lngLats:a,lngLat:n.unproject(u),originalEvent:i}),this._defaultPrevented=!1}}class qi extends t.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,e,n){super(t,{originalEvent:n}),this._defaultPrevented=!1}}class Bi{constructor(t,e){this._map=t,this._clickTolerance=e.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new qi(t.type,this._map,t))}mousedown(t,e){return this._mousedownPos=e,this._firePreventable(new Ni(t.type,this._map,t))}mouseup(t){this._map.fire(new Ni(t.type,this._map,t))}preclick(e){const n=t.extend({},e);n.type="preclick",this._map.fire(new Ni(n.type,this._map,n))}click(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||(this.preclick(t),this._map.fire(new Ni(t.type,this._map,t)))}dblclick(t){return this._firePreventable(new Ni(t.type,this._map,t))}mouseover(t){this._map.fire(new Ni(t.type,this._map,t))}mouseout(t){this._map.fire(new Ni(t.type,this._map,t))}touchstart(t){return this._firePreventable(new Li(t.type,this._map,t))}touchmove(t){this._map.fire(new Li(t.type,this._map,t))}touchend(t){this._map.fire(new Li(t.type,this._map,t))}touchcancel(t){this._map.fire(new Li(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fi{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(t){this._map.fire(new Ni(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ni("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Ni(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ui{constructor(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(s.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)}mousemoveWindow(t,e){if(!this._active)return;const n=e;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const i=this._startPos;this._lastPos=n,this._box||(this._box=s.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));const r=Math.min(i.x,n.x),o=Math.max(i.x,n.x),a=Math.min(i.y,n.y),u=Math.max(i.y,n.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${r}px,${a}px)`,this._box.style.width=o-r+"px",this._box.style.height=u-a+"px")}))}mouseupWindow(e,n){if(!this._active)return;if(0!==e.button)return;const i=this._startPos,r=n;if(this.reset(),s.suppressClick(),i.x!==r.x||i.y!==r.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:t=>t.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",e)}keydown(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),s.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))}}function Hi(t,e){const n={};for(let i=0;i<t.length;i++)n[t[i].identifier]=e[i];return n}class Vi{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),i.length===this.numTouches&&(this.centroid=function(e){const n=new t.pointGeometry(0,0);for(const t of e)n._add(t);return n.div(e.length)}(n),this.touches=Hi(i,n)))}touchmove(t,e,n){if(this.aborted||!this.centroid)return;const i=Hi(n,e);for(const t in this.touches){const e=this.touches[t],n=i[t];(!n||n.dist(e)>30)&&(this.aborted=!0)}}touchend(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const t=!this.aborted&&this.centroid;if(this.reset(),t)return t}}}class Yi{constructor(t){this.singleTap=new Vi(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,e,n){this.singleTap.touchstart(t,e,n)}touchmove(t,e,n){this.singleTap.touchmove(t,e,n)}touchend(t,e,n){const i=this.singleTap.touchend(t,e,n);if(i){const e=t.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(e&&n||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class Wi{constructor(){this._zoomIn=new Yi({numTouches:1,numTaps:2}),this._zoomOut=new Yi({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)}touchmove(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)}touchend(t,e,n){const i=this._zoomIn.touchend(t,e,n),r=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}):r?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(r)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Gi={0:1,2:2};class Zi{constructor(t){this.reset(),this._clickTolerance=t.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(t,e){return!1}_move(t,e){return{}}mousedown(t,e){if(this._lastPoint)return;const n=s.mouseButton(t);this._correctButton(t,n)&&(this._lastPoint=e,this._eventButton=n)}mousemoveWindow(t,e){const n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){const n=Gi[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)}mouseupWindow(t){this._lastPoint&&s.mouseButton(t)===this._eventButton&&(this._moved&&s.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ki extends Zi{mousedown(t,e){super.mousedown(t,e),this._lastPoint&&(this._active=!0)}_correctButton(t,e){return 0===e&&!t.ctrlKey}_move(t,e){return{around:e,panDelta:e.sub(t)}}}class Xi extends Zi{_correctButton(t,e){return 0===e&&t.ctrlKey||2===e}_move(t,e){const n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(t){t.preventDefault()}}class Ji extends Zi{_correctButton(t,e){return 0===e&&t.ctrlKey||2===e}_move(t,e){const n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(t){t.preventDefault()}}class Qi{constructor(e,n){this._map=e,this._el=e.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),t.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new t.pointGeometry(0,0)}touchstart(t,e,n){return this._calculateTransform(t,e,n)}touchmove(t,e,n){if(this._active&&!(n.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===n.length)return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.preventDefault(),this._calculateTransform(t,e,n)}}touchend(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,n,i){i.length>0&&(this._active=!0);const r=Hi(i,n),o=new t.pointGeometry(0,0),s=new t.pointGeometry(0,0);let a=0;for(const t in r){const e=r[t],n=this._touches[t];n&&(o._add(e),s._add(e.sub(n)),a++,r[t]=e)}if(this._touches=r,a<this._minTouches||!s.mag())return;const u=s.div(a);return this._sum._add(u),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(a),panDelta:u}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=s.create("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")}),500)}}class tr{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(t){}_move(t,e,n){return{}}touchstart(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))}touchmove(t,e,n){if(!this._firstTwoTouches)return;t.preventDefault();const[i,r]=this._firstTwoTouches,o=er(n,e,i),s=er(n,e,r);if(!o||!s)return;const a=this._aroundCenter?null:o.add(s).div(2);return this._move([o,s],a,t)}touchend(t,e,n){if(!this._firstTwoTouches)return;const[i,r]=this._firstTwoTouches,o=er(n,e,i),a=er(n,e,r);o&&a||(this._active&&s.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function er(t,e,n){for(let i=0;i<t.length;i++)if(t[i].identifier===n)return e[i]}function nr(t,e){return Math.log(t/e)/Math.LN2}class ir extends tr{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,e){const n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(nr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:nr(this._distance,n),pinchAround:e}}}function rr(t,e){return 180*t.angleWith(e)/Math.PI}class or extends tr{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,e){const n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:rr(this._vector,n),pinchAround:e}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const e=25/(Math.PI*this._minDiameter)*360,n=rr(t,this._startVector);return Math.abs(n)<e}}function sr(t){return Math.abs(t.y)>Math.abs(t.x)}class ar extends tr{constructor(t){super(),this._map=t}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(t){this._lastPoints=t,sr(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,e,n){const i=t[0].sub(this._lastPoints[0]),r=t[1].sub(this._lastPoints[1]);if(!(this._map._cooperativeGestures&&n.touches.length<3)&&(this._valid=this.gestureBeginsVertically(i,r,n.timeStamp),this._valid))return this._lastPoints=t,this._active=!0,{pitchDelta:(i.y+r.y)/2*-.5}}gestureBeginsVertically(t,e,n){if(void 0!==this._valid)return this._valid;const i=t.mag()>=2,r=e.mag()>=2;if(!i&&!r)return;if(!i||!r)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=t.y>0==e.y>0;return sr(t)&&sr(e)&&o}}const ur={panStep:100,bearingStep:15,pitchStep:10};class lr{constructor(){const t=ur;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let e=0,n=0,i=0,r=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),r=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),r=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:s=>{const a=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:cr,zoom:e?Math.round(a)+e*(t.shiftKey?2:1):a,bearing:s.getBearing()+n*this._bearingStep,pitch:s.getPitch()+i*this._pitchStep,offset:[-r*this._panStep,-o*this._panStep],center:s.getCenter()},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function cr(t){return t*(2-t)}const hr=4.000244140625;class pr{constructor(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,t.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(e){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(e.ctrlKey||e.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const i=t.exported.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%hr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}_onTimeout(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const e=s.mousePos(this._el,t);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:e,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._map.transform,n=()=>e._terrainEnabled()&&this._aroundCoord?e.computeZoomRelativeTo(this._aroundCoord):e.zoom;if(0!==this._delta){const t="wheel"===this._type&&Math.abs(this._delta)>hr?this._wheelZoomRate:this._defaultZoomRate;let i=2/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==i&&(i=1/i);const r=n(),o=Math.pow(2,r),s="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(s*i))),"wheel"===this._type&&(this._startZoom=n(),this._easing=this._smoothOutEasing(200)),this._delta=0}const i="number"==typeof this._targetZoom?this._targetZoom:n(),r=this._startZoom,o=this._easing;let s,a=!1;if("wheel"===this._type&&r&&o){const e=Math.min((t.exported.now()-this._lastWheelEventTime)/200,1),n=o(e);s=t.number(r,i,n),e<1?this._frameId||(this._frameId=!0):a=!0}else s=i,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:s-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let n=t.ease;if(this._prevEase){const e=this._prevEase,i=(t.exported.now()-e.start)/e.duration,r=e.easing(i+.01)-e.easing(i),o=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=t.bezier(o,s,.25,1)}return this._prevEase={start:t.exported.now(),duration:e,easing:n},n}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=s.create("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(t.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_isFullscreen(){return!!t.window.document.fullscreenElement}_showBlockerAlert(){"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")}),200)}}class _r{constructor(t,e){this._clickZoom=t,this._tapZoom=e}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fr{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(t,e){return t.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dr{constructor(){this._tap=new Yi({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))}touchmove(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=e[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e,n)}touchend(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mr{constructor(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class yr{constructor(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class vr{constructor(t,e,n,i){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const gr=t=>t.zoom||t.drag||t.pitch||t.rotate;class wr extends t.Event{}class br{constructor(){this.constants=[1,1,.01],this.radius=0}setup(e,n){const i=t.sub([],n,e);this.radius=t.length(i[2]<0?t.div([],i,this.constants):[i[0],i[1],0])}projectRay(e){t.div(e,e,this.constants),t.normalize(e,e),t.mul$1(e,e,this.constants);const n=t.scale$2([],e,this.radius);if(n[2]>0){const e=t.scale$2([],[0,0,1],t.dot(n,[0,0,1])),i=t.scale$2([],t.normalize([],[n[0],n[1],0]),this.radius),r=t.add([],n,t.scale$2([],t.sub([],t.add([],i,e),n),2));n[0]=r[0],n[1]=r[1]}return n}}function xr(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}class $r{constructor(e,n){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ri(e),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new br,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),t.bindAll(["handleEvent","handleWindowEvent"],this);const i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[t.window,"blur",void 0]];for(const[e,n,i]of this._listeners)e.addEventListener(n,e===t.window.document?this.handleWindowEvent:this.handleEvent,i)}destroy(){for(const[e,n,i]of this._listeners)e.removeEventListener(n,e===t.window.document?this.handleWindowEvent:this.handleEvent,i)}_addDefaultHandlers(t){const e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Bi(e,t));const i=e.boxZoom=new Ui(e,t);this._add("boxZoom",i);const r=new Wi,o=new fr;e.doubleClickZoom=new _r(o,r),this._add("tapZoom",r),this._add("clickZoom",o);const s=new dr;this._add("tapDragZoom",s);const a=e.touchPitch=new ar(e);this._add("touchPitch",a);const u=new Xi(t),l=new Ji(t);e.dragRotate=new yr(t,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);const c=new Ki(t),h=new Qi(e,t);e.dragPan=new mr(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);const p=new or,_=new ir;e.touchZoomRotate=new vr(n,_,p,s),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",_,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Fi(e));const f=e.scrollZoom=new pr(e,this);this._add("scrollZoom",f,["mousePan"]);const d=e.keyboard=new lr;this._add("keyboard",d);for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])t.interactive&&t[n]&&e[n].enable(t[n])}_add(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e}stop(t){if(!this._updatingCamera){for(const{handler:t}of this._handlers)t.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(gr(this._eventsInProgress))||this.isZooming()}_blockedByActive(t,e,n){for(const i in t)if(i!==n&&(!e||e.indexOf(i)<0))return!0;return!1}handleWindowEvent(t){this.handleEvent(t,`${t.type}Window`)}_getMapTouches(t){const e=[];for(const n of t)this._el.contains(n.target)&&e.push(n);return e}handleEvent(t,e){this._updatingCamera=!0;const n="renderFrame"===t.type,i=n?void 0:t,r={needsRenderFrame:!1},o={},a={},u=t.touches?this._getMapTouches(t.touches):void 0,l=u?s.touchPos(this._el,u):n?void 0:s.mousePos(this._el,t);for(const{handlerName:n,handler:s,allowed:c}of this._handlers){if(!s.isEnabled())continue;let h;this._blockedByActive(a,c,n)?s.reset():s[e||t.type]&&(h=s[e||t.type](t,l,u),this.mergeHandlerResult(r,o,h,n,i),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||s.isActive())&&(a[n]=s)}const c={};for(const t in this._previousActiveHandlers)a[t]||(c[t]=i);this._previousActiveHandlers=a,(Object.keys(c).length||xr(r))&&(this._changes.push([r,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||xr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))}mergeHandlerResult(e,n,i,r,o){if(!i)return;t.extend(e,i);const s={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=s),void 0!==i.panDelta&&(n.drag=s),void 0!==i.pitchDelta&&(n.pitch=s),void 0!==i.bearingDelta&&(n.rotate=s)}_applyChanges(){const e={},n={},i={};for(const[r,o,s]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new t.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.aroundCoord&&(e.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),t.extend(n,o),t.extend(i,s);this._updateMapTransform(e,n,i),this._changes=[]}_updateMapTransform(e,n,i){const r=this._map,o=r.transform,s=t=>[t.x,t.y,t.z];if((t=>{const e=this._eventsInProgress.drag;return e&&!this._handlersById[e.handlerName].isActive()})()&&!xr(e)){const t=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",t!==o.zoom&&this._map._update(!0)}if(!xr(e))return this._fireEvents(n,i,!0);let{panDelta:a,zoomDelta:u,bearingDelta:l,pitchDelta:c,around:h,aroundCoord:p,pinchAround:_}=e;void 0!==_&&(h=_),(t=>n.drag&&!this._eventsInProgress.drag)()&&h&&(this._dragOrigin=s(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",r._stop(!0),h=h||r.transform.centerPoint,l&&(o.bearing+=l),c&&(o.pitch+=c),o._updateCameraState();const f=[0,0,0];if(a){const t=o.pointCoordinate(h),e=o.pointCoordinate(h.sub(a));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}const d=o.zoom,m=[0,0,0];if(u){const e=s(p||o.pointCoordinate3D(h)),n={dir:t.normalize([],t.sub([],e,o._camera.position))};if(n.dir[2]<0){const i=o.zoomDeltaToMovement(e,u);t.scale$2(m,n.dir,i)}}const y=t.add(f,f,m);o._translateCameraConstrained(y),u&&Math.abs(o.zoom-d)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(n,i,!0)}_fireEvents(e,n,i){const r=gr(this._eventsInProgress),o=gr(e),s={};for(const t in e){const{originalEvent:n}=e[t];this._eventsInProgress[t]||(s[`${t}start`]=n),this._eventsInProgress[t]=e[t]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const t in s)this._fireEvent(t,s[t]);o&&this._fireEvent("move",o.originalEvent);for(const t in e){const{originalEvent:n}=e[t];this._fireEvent(t,n)}const a={};let u;for(const t in this._eventsInProgress){const{handlerName:e,originalEvent:i}=this._eventsInProgress[t];this._handlersById[e].isActive()||(delete this._eventsInProgress[t],u=n[e]||i,a[`${t}end`]=u)}for(const t in a)this._fireEvent(t,a[t]);const l=gr(this._eventsInProgress);if(i&&(r||o)&&!l){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=t=>0!==t&&-this._bearingSnap<t&&t<this._bearingSnap;e?(n(e.bearing||this._map.getBearing())&&(e.bearing=0),this._map.easeTo(e,{originalEvent:u})):(this._map.fire(new t.Event("moveend",{originalEvent:u})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((t=>{delete this._frameId,this.handleEvent(new wr("renderFrame",{timeStamp:t})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Cr="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Er extends t.Evented{constructor(e,n){super(),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}getCenter(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(t,e){return this.jumpTo({center:t},e)}panBy(e,n,i){return e=t.pointGeometry.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),i)}panTo(e,n,i){return this.easeTo(t.extend({center:e},n),i)}getZoom(){return this.transform.zoom}setZoom(t,e){return this.jumpTo({zoom:t},e),this}zoomTo(e,n,i){return this.easeTo(t.extend({zoom:e},n),i)}zoomIn(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}zoomOut(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}getBearing(){return this.transform.bearing}setBearing(t,e){return this.jumpTo({bearing:t},e),this}getPadding(){return this.transform.padding}setPadding(t,e){return this.jumpTo({padding:t},e),this}rotateTo(e,n,i){return this.easeTo(t.extend({bearing:e},n),i)}resetNorth(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this}resetNorthPitch(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this}snapToNorth(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this}getPitch(){return this.transform.pitch}setPitch(t,e){return this.jumpTo({pitch:t},e),this}cameraForBounds(e,n){e=t.LngLatBounds.convert(e);const i=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),i,n)}_extendCameraOptions(e){const n={top:0,bottom:0,right:0,left:0};if("number"==typeof(e=t.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){const t=e.padding;e.padding={top:t,bottom:t,right:t,left:t}}return e.padding=t.extend(n,e.padding),e}_cameraForBoxAndBearing(e,n,i,r){const o=this._extendCameraOptions(r),s=this.transform,a=s.padding,u=s.project(t.LngLat.convert(e)),l=s.project(t.LngLat.convert(n)),c=u.rotate(-t.degToRad(i)),h=l.rotate(-t.degToRad(i)),p=new t.pointGeometry(Math.max(c.x,h.x),Math.max(c.y,h.y)),_=new t.pointGeometry(Math.min(c.x,h.x),Math.min(c.y,h.y)),f=p.sub(_),d=(s.width-(a.left+a.right+o.padding.left+o.padding.right))/f.x,m=(s.height-(a.top+a.bottom+o.padding.top+o.padding.bottom))/f.y;if(m<0||d<0)return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(s.scaleZoom(s.scale*Math.min(d,m)),o.maxZoom),v="number"==typeof o.offset.x?new t.pointGeometry(o.offset.x,o.offset.y):t.pointGeometry.convert(o.offset),g=new t.pointGeometry((o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2).rotate(i*Math.PI/180),w=v.add(g).mult(s.scale/s.zoomScale(y));return{center:s.unproject(u.add(l).div(2).sub(w)),zoom:y,bearing:i}}_cameraForBox(e,n,i,r,o){const s=this._extendCameraOptions(o);i=i||0,r=r||0,e=t.LngLat.convert(e),n=t.LngLat.convert(n);const a=this.transform.clone();a.padding=s.padding;const u=this.getFreeCameraOptions(),l=new t.LngLat(.5*(e.lng+n.lng),.5*(e.lat+n.lat)),c=.5*(i+r);if(a._camera.position[2]<t.mercatorZfromAltitude(c,l.lat))return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");u.lookAtPoint(l),a.setFreeCameraOptions(u);const h=t.MercatorCoordinate.fromLngLat(e),p=t.MercatorCoordinate.fromLngLat(n),_=a.pointRayIntersection(a.centerPoint,c),f=[(d=a.rayIntersectionCoordinate(_)).x,d.y,d.z];var d;const m=a.screenPointToMercatorRay(a.centerPoint),y="globe"!==a.projection.name;let v,g=0;do{const n=Math.floor(a.zoom),o=1<<n,s=Math.min(o*h.x,o*p.x),u=Math.min(o*h.y,o*p.y),l=Math.max(o*h.x,o*p.x),c=Math.max(o*h.y,o*p.y),_=new t.Aabb([s,u,i],[l,c,r]),d=t.Frustum.fromInvProjectionMatrix(a.invProjMatrix,a.worldSize,n,y);if(2!==_.intersects(d)){v&&(a._camera.position=t.scaleAndAdd([],a._camera.position,m.dir,-v),a._updateStateFromCamera());break}const g=t.sub([],a._camera.position,f);v=.5*t.length(g),a._camera.position=t.scaleAndAdd([],a._camera.position,m.dir,v);try{a._updateStateFromCamera()}catch(e){return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++g<10);return{center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}}fitBounds(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)}_raycastElevationBox(e,n){const i=this.transform.elevation;if(!i)return;const r=new t.pointGeometry(e.x,n.y),o=new t.pointGeometry(n.x,e.y),s=i.pointCoordinate(e);if(!s)return;const a=i.pointCoordinate(n);if(!a)return;const u=i.pointCoordinate(r);if(!u)return;const l=i.pointCoordinate(o);if(!l)return;const c=new t.MercatorCoordinate(s[0],s[1]).toLngLat(),h=new t.MercatorCoordinate(a[0],a[1]).toLngLat(),p=new t.MercatorCoordinate(u[0],u[1]).toLngLat(),_=new t.MercatorCoordinate(l[0],l[1]).toLngLat(),f=Math.min(c.lng,Math.min(h.lng,Math.min(p.lng,_.lng))),d=Math.min(c.lat,Math.min(h.lat,Math.min(p.lat,_.lat))),m=Math.max(c.lng,Math.max(h.lng,Math.max(p.lng,_.lng))),y=Math.max(c.lat,Math.max(h.lat,Math.max(p.lat,_.lat))),v=Math.min(s[3],Math.min(a[3],Math.min(u[3],l[3]))),g=Math.max(s[3],Math.max(a[3],Math.max(u[3],l[3])));return{minLngLat:new t.LngLat(f,d),maxLngLat:new t.LngLat(m,y),minAltitude:v,maxAltitude:g}}fitScreenCoordinates(e,n,i,r,o){let s,a,u,l;const c=t.pointGeometry.convert(e),h=t.pointGeometry.convert(n),p=this._raycastElevationBox(c,h);if(p)s=p.minLngLat,a=p.maxLngLat,u=p.minAltitude,l=p.maxAltitude;else{if(this.transform.anyCornerOffEdge(c,h))return this;s=this.transform.pointLocation(c),a=this.transform.pointLocation(h)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(t.pointGeometry.convert(e)),this.transform.pointLocation(t.pointGeometry.convert(n)),i,r):this._cameraForBox(s,a,u,l,r),r,o)}_fitInternal(e,n,i){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(e,n){this.stop();const i=e.preloadOnly?this.transform.clone():this.transform;let r=!1,o=!1,s=!1;return"zoom"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=t.LngLat.convert(e.center)),"bearing"in e&&i.bearing!==+e.bearing&&(o=!0,i.bearing=+e.bearing),"pitch"in e&&i.pitch!==+e.pitch&&(s=!0,i.pitch=+e.pitch),null==e.padding||i.isPaddingEqual(e.padding)||(i.padding=e.padding),e.preloadOnly?(this._preloadTiles(i),this):(this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),r&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),s&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||t.warnOnce(Cr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(e,n){const i=this.transform;if(!i.projection.supportsFreeCamera)return void t.warnOnce(Cr);this.stop();const r=i.zoom,o=i.pitch,s=i.bearing;i.setFreeCameraOptions(e);const a=r!==i.zoom,u=o!==i.pitch,l=s!==i.bearing;return this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),a&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),l&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),u&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n)),this}easeTo(e,n){this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.exported.prefersReducedMotion)&&(e.duration=0);const i=this.transform,r=this.getZoom(),o=this.getBearing(),s=this.getPitch(),a=this.getPadding(),u="zoom"in e?+e.zoom:r,l="bearing"in e?this._normalizeBearing(e.bearing,o):o,c="pitch"in e?+e.pitch:s,h="padding"in e?e.padding:i.padding,p=t.pointGeometry.convert(e.offset);let _=i.centerPoint.add(p);const f="globe"===i.projection.name?i.pointCoordinate(_).toLngLat():i.pointLocation(_),d=t.LngLat.convert(e.center||f);this._normalizeCenter(d);const m=i.project(f),y=i.project(d).sub(m),v=i.zoomScale(u-r);let g,w;e.around&&(g=t.LngLat.convert(e.around),w=i.locationPoint(g));const b=this._zooming||u!==r,x=this._rotating||o!==l,$=this._pitching||c!==s,C=!i.isPaddingEqual(h),E=i=>f=>{if(b&&(i.zoom=t.number(r,u,f)),x&&(i.bearing=t.number(o,l,f)),$&&(i.pitch=t.number(s,c,f)),C&&(i.interpolatePadding(a,h,f),_=i.centerPoint.add(p)),g)i.setLocationAtPoint(g,w);else{const t=i.zoomScale(i.zoom-r),e=u>r?Math.min(2,v):Math.max(.5,v),n=Math.pow(e,1-f),o=i.unproject(m.add(y.mult(f*n)).mult(t));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,_)}return e.preloadOnly||this._fireMoveEvents(n),i};if(e.preloadOnly){const t=this._emulate(E,e.duration,i);return this._preloadTiles(t),this}const A={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=b,this._rotating=x,this._pitching=$,this._padding=C,this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,A),this._ease(E(i),(t=>{i.recenterOnTerrain(),this._afterEase(n,t)}),e),this}_prepareEase(e,n,i={}){this._moving=!0,this.transform.cameraElevationReference="sea",n||i.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!i.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!i.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!i.pitching&&this.fire(new t.Event("pitchstart",e))}_fireMoveEvents(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))}_afterEase(e,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId,this.transform.cameraElevationReference="ground";const i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}flyTo(e,n){if(!e.essential&&t.exported.prefersReducedMotion){const i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);const i=this.transform,r=this.getZoom(),o=this.getBearing(),s=this.getPitch(),a=this.getPadding(),u="zoom"in e?t.clamp(+e.zoom,i.minZoom,i.maxZoom):r,l="bearing"in e?this._normalizeBearing(e.bearing,o):o,c="pitch"in e?+e.pitch:s,h="padding"in e?e.padding:i.padding,p=i.zoomScale(u-r),_=t.pointGeometry.convert(e.offset);let f=i.centerPoint.add(_);const d=i.pointLocation(f),m=t.LngLat.convert(e.center||d);this._normalizeCenter(m);const y=i.project(d),v=i.project(m).sub(y);let g=e.curve;const w=Math.max(i.width,i.height),b=w/p,x=v.mag();if("minZoom"in e){const n=t.clamp(Math.min(e.minZoom,r,u),i.minZoom,i.maxZoom),o=w/i.zoomScale(n-r);g=Math.sqrt(o/x*2)}const $=g*g;function C(t){const e=(b*b-w*w+(t?-1:1)*$*$*x*x)/(2*(t?b:w)*$*x);return Math.log(Math.sqrt(e*e+1)-e)}function E(t){return(Math.exp(t)-Math.exp(-t))/2}function A(t){return(Math.exp(t)+Math.exp(-t))/2}const k=C(0);let S=function(t){return A(k)/A(k+g*t)},T=function(t){return w*((A(k)*(E(e=k+g*t)/A(e))-E(k))/$)/x;var e},I=(C(1)-k)/g;if(Math.abs(x)<1e-6||!isFinite(I)){if(Math.abs(w-b)<1e-6)return this.easeTo(e,n);const t=b<w?-1:1;I=Math.abs(Math.log(b/w))/g,T=function(){return 0},S=function(e){return Math.exp(t*g*e)}}e.duration="duration"in e?+e.duration:1e3*I/("screenSpeed"in e?+e.screenSpeed/g:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0);const O=o!==l,z=c!==s,M=!i.isPaddingEqual(h),D=i=>p=>{const d=p*I,g=1/S(d);i.zoom=1===p?u:r+i.scaleZoom(g),O&&(i.bearing=t.number(o,l,p)),z&&(i.pitch=t.number(s,c,p)),M&&(i.interpolatePadding(a,h,p),f=i.centerPoint.add(_));const w=1===p?m:i.unproject(y.add(v.mult(T(d))).mult(g));return i.setLocationAtPoint(i.renderWorldCopies?w.wrap():w,f),i._updateCenterElevation(),e.preloadOnly||this._fireMoveEvents(n),i};if(e.preloadOnly){const t=this._emulate(D,e.duration,i);return this._preloadTiles(t),this}return this._zooming=!0,this._rotating=O,this._pitching=z,this._padding=M,this._prepareEase(n,!1),this._ease(D(i),(()=>this._afterEase(n)),e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const t=this._onEaseEnd;delete this._onEaseEnd,t.call(this,e)}if(!t){const t=this.handlers;t&&t.stop(!1)}return this}_ease(e,n,i){!1===i.animate||0===i.duration?(e(1),n()):(this._easeStart=t.exported.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const e=Math.min((t.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(e,n){e=t.wrap(e,-180,180);const i=Math.abs(e-n);return Math.abs(e-360-n)<i&&(e-=360),Math.abs(e+360-n)<i&&(e+=360),e}_normalizeCenter(t){const e=this.transform;if(!e.renderWorldCopies||e.maxBounds)return;const n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}_emulate(t,e,n){const i=Math.ceil(15*e/1e3),r=[],o=t(n.clone());for(let t=0;t<=i;t++){const e=o(t/i);r.push(e.clone())}return r}}class Ar{constructor(e={}){this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(t){const e=this.options&&this.options.compact;return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=s.create("button","mapboxgl-ctrl-attrib-button",this._container),s.create("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden",!0),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=s.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(t,e){const n=this._map._getUIString(`AttributionControl.${e}`);t.setAttribute("aria-label",n),t.removeAttribute("title"),t.firstElementChild&&t.firstElementChild.setAttribute("title",n)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));const n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){const i=n.reduce(((t,e,i)=>(e.value&&(t+=`${e.key}=${e.value}${i<n.length-1?"&":""}`),t)),"?");e.href=`${t.config.FEEDBACK_URL}/${i}${this._map._hash?this._map._hash.getHashString(!0):""}`,e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}}_updateData(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let t=[];if(this._map.style.stylesheet){const t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}const e=this._map.style._sourceCaches;for(const n in e){const i=e[n];if(i.used){const e=i.getSource();e.attribution&&t.indexOf(e.attribution)<0&&t.push(e.attribution)}}t.sort(((t,e)=>t.length-e.length)),t=t.filter(((e,n)=>{for(let i=n+1;i<t.length;i++)if(t[i].indexOf(e)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=[...this.options.customAttribution,...t]:t.unshift(this.options.customAttribution));const n=t.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,t.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class kr{constructor(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)}onAdd(t){this._map=t,this._container=s.create("div","mapboxgl-ctrl");const e=s.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const t=this._map.style._sourceCaches;if(0===Object.entries(t).length)return!0;for(const e in t){const n=t[e].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}_updateCompact(){const t=this._container.children;if(t.length){const e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}}}class Sr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e}remove(t){const e=this._currentlyRunning,n=e?this._queue.concat(e):this._queue;for(const e of n)if(e.id===t)return void(e.cancelled=!0)}run(t=0){const e=this._currentlyRunning=this._queue;this._queue=[];for(const n of e)if(!n.cancelled&&(n.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Tr(e,n,i){if(e=new t.LngLat(e.lng,e.lat),n){const r=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),s=360*Math.ceil(Math.abs(e.lng-i.center.lng)/360),a=i.locationPoint(e).distSqr(n),u=n.x<0||n.y<0||n.x>i.width||n.y>i.height;i.locationPoint(r).distSqr(n)<a&&(u||Math.abs(r.lng-i.center.lng)<s)?e=r:i.locationPoint(o).distSqr(n)<a&&(u||Math.abs(o.lng-i.center.lng)<s)&&(e=o)}for(;Math.abs(e.lng-i.center.lng)>180;){const t=i.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=i.width&&t.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e}const Ir={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Or extends t.Evented{constructor(e,n){if(super(),(e instanceof t.window.HTMLElement||n)&&(e=t.extend({element:e},n)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,this._updateMoving=()=>this._update(!0),e&&e.element)this._element=e.element,this._offset=t.pointGeometry.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=s.create("div");const n=41,i=27,r=s.createSVG("svg",{display:"block",height:n*this._scale+"px",width:i*this._scale+"px",viewBox:`0 0 ${i} ${n}`},this._element),o=s.createSVG("radialGradient",{id:"shadowGradient"},s.createSVG("defs",{},r));s.createSVG("stop",{offset:"10%","stop-opacity":.4},o),s.createSVG("stop",{offset:"100%","stop-opacity":.05},o),s.createSVG("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),s.createSVG("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),s.createSVG("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),s.createSVG("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=t.pointGeometry.convert(e&&e.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(t=>{t.preventDefault()})),this._element.addEventListener("mousedown",(t=>{t.preventDefault()}));const i=this._element.classList;for(const t in Ir)i.remove(`mapboxgl-marker-anchor-${t}`);i.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(t){return t===this._map||(this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._updateMoving),t.on("moveend",this._update),t.on("remove",this._clearFadeTimer),t._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick)),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._updateMoving),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const e=38.1,n=13.5,i=Math.sqrt(Math.pow(n,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[i,-1*(e-n+i)],"bottom-right":[-i,-1*(e-n+i)],left:[n,-1*(e-n)],right:[-n,-1*(e-n)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(t){const e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()}_onMapClick(t){const e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const t=this._popup;return t?(t.isOpen()?(t.remove(),this._element.setAttribute("aria-expanded","false")):(t.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_evaluateOpacity(){const t=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(t))return void this._clearFadeTimer();const e=this._map.unproject(t);let n=!1;if(this._map.transform._terrainEnabled()&&this._map.getTerrain()){const t=this._map.getFreeCameraOptions();if(t.position){const i=t.position.toLngLat();n=i.distanceTo(e)<.9*i.distanceTo(this._lngLat)}}const i=(1-this._map._queryFogOpacity(e))*(n?.2:1);this._element.style.opacity=`${i}`,this._popup&&this._popup._setOpacity(`${i}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(t){const e=this._map.transform;return!!t&&t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height}_updateDOM(){const e=this._pos||new t.pointGeometry(0,0),n=this._calculatePitch(),i=this._calculateRotation();this._element.style.transform=`${Ir[this._anchor]} translate(${e.x}px, ${e.y}px) rotateX(${n}deg) rotateZ(${i}deg)`}_calculatePitch(){return"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?0:"map"===this._pitchAlignment?this._map.getPitch():0}_calculateRotation(){return"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?this._rotation:"map"===this._rotationAlignment?this._rotation-this._map.getBearing():0}_update(e){t.window.cancelAnimationFrame(this._updateFrameId),this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Tr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset()),!0===e?this._updateFrameId=t.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),this._map._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}_transformedOffset(){if(!this._defaultMarker)return this._offset;const t=this._map.transform,e=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&e._rotate(t.angle),"map"===this._pitchAlignment&&(e.y*=Math.cos(t._pitch)),e}getOffset(){return this._offset}setOffset(e){return this._offset=t.pointGeometry.convert(e),this._update(),this}_onMove(e){if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"}_addDragHandler(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class zr{constructor(t){this.jumpTo(t)}getValue(e){if(e<=this._startTime)return this._start;if(e>=this._endTime)return this._end;const n=t.easeCubicInOut((e-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}isEasing(t){return t>=this._startTime&&t<=this._endTime}jumpTo(t){this._startTime=-1/0,this._endTime=-1/0,this._start=t,this._end=t}easeTo(t,e,n){this._start=this.getValue(e),this._end=t,this._startTime=e,this._endTime=e+n}}const Mr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},{HTMLImageElement:Dr,HTMLElement:Rr,ImageBitmap:Pr}=t.window,jr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Nr(t){t.parentNode&&t.parentNode.removeChild(t)}const Lr={showCompass:!0,showZoom:!0,visualizePitch:!1};class qr{constructor(e,n,i=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new Xi({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new Ji({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener("mousedown",this.mousedown),n.addEventListener("touchstart",this.touchstart,{passive:!1}),n.addEventListener("touchmove",this.touchmove),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.reset)}down(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),s.disableDrag()}move(t,e){const n=this.map,i=this.mouseRotate.mousemoveWindow(t,e);if(i&&i.bearingDelta&&n.setBearing(n.getBearing()+i.bearingDelta),this.mousePitch){const i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}}off(){const t=this.element;t.removeEventListener("mousedown",this.mousedown),t.removeEventListener("touchstart",this.touchstart,{passive:!1}),t.removeEventListener("touchmove",this.touchmove),t.removeEventListener("touchend",this.touchend),t.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){s.enableDrag(),t.window.removeEventListener("mousemove",this.mousemove),t.window.removeEventListener("mouseup",this.mouseup)}mousedown(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),s.mousePos(this.element,e)),t.window.addEventListener("mousemove",this.mousemove),t.window.addEventListener("mouseup",this.mouseup)}mousemove(t){this.move(t,s.mousePos(this.element,t))}mouseup(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()}touchstart(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=s.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>t.preventDefault()},this._startPos))}touchmove(t){1!==t.targetTouches.length?this.reset():(this._lastPos=s.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:()=>t.preventDefault()},this._lastPos))}touchend(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Br={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let Fr,Ur=0,Hr=!1;const Vr={maxWidth:100,unit:"metric"};function Yr(t,e,n){const i=n&&n.maxWidth||100,r=t._containerHeight/2,o=t.unproject([0,r]),s=t.unproject([i,r]),a=o.distanceTo(s);if(n&&"imperial"===n.unit){const n=3.2808*a;n>5280?Wr(e,i,n/5280,t._getUIString("ScaleControl.Miles"),t):Wr(e,i,n,t._getUIString("ScaleControl.Feet"),t)}else n&&"nautical"===n.unit?Wr(e,i,a/1852,t._getUIString("ScaleControl.NauticalMiles"),t):a>=1e3?Wr(e,i,a/1e3,t._getUIString("ScaleControl.Kilometers"),t):Wr(e,i,a,t._getUIString("ScaleControl.Meters"),t)}function Wr(t,e,n,i,r){const o=function(t){const e=Math.pow(10,`${Math.floor(t)}`.length-1);let n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(t){const e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(n),e*n}(n),s=o/n;r._requestDomTask((()=>{t.style.width=e*s+"px",t.innerHTML=`${o}&nbsp;${i}`}))}const Gr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Kr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:class extends Er{constructor(e){if(null!=(e=t.extend({},jr,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new ki(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e),this._interactive=e.interactive,this._minTileCacheSize=e.minTileCacheSize,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._optimizeForTerrain=e.optimizeForTerrain,this._renderTaskQueue=new Sr,this._domRenderTaskQueue=new Sr,this._controls=[],this._markers=[],this._mapId=t.uniqueId(),this._locale=t.extend({},Mr,e.locale),this._clickTolerance=e.clickTolerance,this._cooperativeGestures=e.cooperativeGestures,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new zr(0),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken,e.testMode),this._silenceAuthErrors=!!e.testMode,"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container}' not found.`)}else{if(!(e.container instanceof Rr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(this._container.childNodes.length>0&&t.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1),t.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new $r(this,e),this._localFontFamily=e.localFontFamily,this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),e.projection&&this.setProjection(e.projection),this._hash=e.hash&&new Ti("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),e.attributionControl&&this.addControl(new Ar({customAttribution:e.customAttribution})),this._logoControl=new kr,this.addControl(this._logoControl,e.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(e=>{this._update("style"===e.dataType),this.fire(new t.Event(`${e.dataType}data`,e))})),this.on("dataloading",(e=>{this.fire(new t.Event(`${e.dataType}dataloading`,e))}))}_getMapId(){return this._mapId}addControl(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this}hasControl(t){return this._controls.indexOf(t)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(e){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const n=!this._moving;return n&&this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)),this.fire(new t.Event("resize",e)),n&&this.fire(new t.Event("moveend",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e?this.setZoom(e):this.fire(new t.Event("zoomstart")).fire(new t.Event("zoom")).fire(new t.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e?this.setZoom(e):this.fire(new t.Event("zoomstart")).fire(new t.Event("zoom")).fire(new t.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e?this.setPitch(e):this.fire(new t.Event("pitchstart")).fire(new t.Event("pitch")).fire(new t.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?85:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e?this.setPitch(e):this.fire(new t.Event("pitchstart")).fire(new t.Event("pitch")).fire(new t.Event("pitchend")),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(t){return this.transform.renderWorldCopies=t,this._update()}getProjection(){return this.transform.getProjection()}setProjection(t){return this._lazyInitEmptyStyle(),"string"==typeof t&&(t={name:t}),this._runtimeProjection=t,this.style.updateProjection(),this._transitionFromGlobe=!1,this}project(e){return this.transform.locationPoint3D(t.LngLat.convert(e))}unproject(e){return this.transform.pointLocation3D(t.pointGeometry.convert(e))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(t,e,n){if("mouseenter"===t||"mouseover"===t){let i=!1;const r=r=>{const o=e.filter((t=>this.getLayer(t))),s=o.length?this.queryRenderedFeatures(r.point,{layers:o}):[];s.length?i||(i=!0,n.call(this,new Ni(t,this,r.originalEvent,{features:s}))):i=!1},o=()=>{i=!1};return{layers:new Set(e),listener:n,delegates:{mousemove:r,mouseout:o}}}if("mouseleave"===t||"mouseout"===t){let i=!1;const r=r=>{const o=e.filter((t=>this.getLayer(t)));(o.length?this.queryRenderedFeatures(r.point,{layers:o}):[]).length?i=!0:i&&(i=!1,n.call(this,new Ni(t,this,r.originalEvent)))},o=e=>{i&&(i=!1,n.call(this,new Ni(t,this,e.originalEvent)))};return{layers:new Set(e),listener:n,delegates:{mousemove:r,mouseout:o}}}{const i=t=>{const i=e.filter((t=>this.getLayer(t))),r=i.length?this.queryRenderedFeatures(t.point,{layers:i}):[];r.length&&(t.features=r,n.call(this,t),delete t.features)};return{layers:new Set(e),listener:n,delegates:{[t]:i}}}}on(t,e,n){if(void 0===n)return super.on(t,e);Array.isArray(e)||(e=[e]);const i=this._createDelegatedListener(t,e,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(i);for(const t in i.delegates)this.on(t,i.delegates[t]);return this}once(t,e,n){if(void 0===n)return super.once(t,e);Array.isArray(e)||(e=[e]);const i=this._createDelegatedListener(t,e,n);for(const t in i.delegates)this.once(t,i.delegates[t]);return this}off(t,e,n){if(void 0===n)return super.off(t,e);e=new Set(Array.isArray(e)?e:[e]);const i=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[t]:void 0;return r&&(t=>{for(let r=0;r<t.length;r++){const o=t[r];if(o.listener===n&&i(o.layers,e)){for(const t in o.delegates)this.off(t,o.delegates[t]);return t.splice(r,1),this}}})(r),this}queryRenderedFeatures(e,n){return this.style?(void 0!==n||void 0===e||e instanceof t.pointGeometry||Array.isArray(e)||(n=e,e=void 0),this.style.queryRenderedFeatures(e=e||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}querySourceFeatures(t,e){return this.style.querySourceFeatures(t,e)}queryTerrainElevation(e,n){const i=this.transform.elevation;return i?(n=t.extend({},{exaggerated:!0},n),i.getAtPoint(t.MercatorCoordinate.fromLngLat(e),null,n.exaggerated)):null}setStyle(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(e,n))}_getUIString(t){const e=this._locale[t];if(null==e)throw new Error(`Missing UI string '${t}'`);return e}_updateStyle(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),t&&(this.style=new qe(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new qe(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,n){if("string"==typeof e){const i=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(r,((e,i)=>{e?this.fire(new t.ErrorEvent(e)):i&&this._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)}_updateDiff(e,n){try{this.style.setState(e)&&this._update(!0)}catch(i){t.warnOnce(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(e,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")}addSource(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)}isSourceLoaded(e){const n=this.style&&this.style._getSourceCaches(e);if(0!==n.length)return n.every((t=>t.loaded()));this.fire(new t.ErrorEvent(new Error(`There is no source with ID '${e}'`)))}areTilesLoaded(){const t=this.style&&this.style._sourceCaches;for(const e in t){const n=t[e]._tiles;for(const t in n){const e=n[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}}return!0}addSourceType(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)}removeSource(t){return this.style.removeSource(t),this._updateTerrain(),this._update(!0)}getSource(t){return this.style.getSource(t)}addImage(e,n,{pixelRatio:i=1,sdf:r=!1,stretchX:o,stretchY:s,content:a}={}){if(this._lazyInitEmptyStyle(),n instanceof Dr||Pr&&n instanceof Pr){const{width:u,height:l,data:c}=t.exported.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:u,height:l},c),pixelRatio:i,stretchX:o,stretchY:s,content:a,sdf:r,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:u,height:l,data:c}=n,h=n;this.style.addImage(e,{data:new t.RGBAImage({width:u,height:l},new Uint8Array(c)),pixelRatio:i,stretchX:o,stretchY:s,content:a,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,e)}}}updateImage(e,n){const i=this.style.getImage(e);if(!i)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof Dr||Pr&&n instanceof Pr?t.exported.getImageData(n):n,{width:o,height:s,data:a}=r;return void 0===o||void 0===s?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==i.data.width||s!==i.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(i.data.replace(a,!(n instanceof Dr||Pr&&n instanceof Pr)),void this.style.updateImage(e,i))}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(t){this.style.removeImage(t)}loadImage(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),((e,i)=>{n(e,i instanceof Dr?t.exported.getImageData(i):i)}))}listImages(){return this.style.listImages()}addLayer(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)}moveLayer(t,e){return this.style.moveLayer(t,e),this._update(!0)}removeLayer(t){return this.style.removeLayer(t),this._update(!0)}getLayer(t){return this.style.getLayer(t)}setLayerZoomRange(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)}setFilter(t,e,n={}){return this.style.setFilter(t,e,n),this._update(!0)}getFilter(t){return this.style.getFilter(t)}setPaintProperty(t,e,n,i={}){return this.style.setPaintProperty(t,e,n,i),this._update(!0)}getPaintProperty(t,e){return this.style.getPaintProperty(t,e)}setLayoutProperty(t,e,n,i={}){return this.style.setLayoutProperty(t,e,n,i),this._update(!0)}getLayoutProperty(t,e){return this.style.getLayoutProperty(t,e)}setLight(t,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(t){return this._lazyInitEmptyStyle(),!t&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(t),this._averageElevationLastSampledAt=-1/0,this._update(!0)}_updateProjection(){"globe"===this.transform.projection.name&&this.transform.zoom>=t.GLOBE_ZOOM_THRESHOLD_MAX&&!this._transitionFromGlobe&&(this.setProjection({name:"mercator"}),this._transitionFromGlobe=!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(t){return this._lazyInitEmptyStyle(),this.style.setFog(t),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(e){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(t.LngLat.convert(e),this.transform):0}setFeatureState(t,e){return this.style.setFeatureState(t,e),this._update()}removeFeatureState(t,e){return this.style.removeFeatureState(t,e),this._update()}getFeatureState(t){return this.style.getFeatureState(t)}_updateContainerDimensions(){if(!this._container)return;const e=this._container.getBoundingClientRect().width||400,n=this._container.getBoundingClientRect().height||300;let i,r=this._container;for(;r&&!i;){const e=t.window.getComputedStyle(r).transform;e&&"none"!==e&&(i=e.match(/matrix.*\((.+)\)/)[1].split(", ")),r=r.parentElement}i?(this._containerWidth=i[0]&&"0"!==i[0]?Math.abs(e/i[0]):e,this._containerHeight=i[3]&&"0"!==i[3]?Math.abs(n/i[3]):n):(this._containerWidth=e,this._containerHeight=n)}_detectMissingCSS(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=s.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();const e=this._canvasContainer=s.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const n=this._controlContainer=s.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((t=>{i[t]=s.create("div",`mapboxgl-ctrl-${t}`,n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,n){const i=t.exported.devicePixelRatio||1;this._canvas.width=i*Math.ceil(e),this._canvas.height=i*Math.ceil(n),this._canvas.style.width=`${e}px`,this._canvas.style.height=`${n}px`}_addMarker(t){this._markers.push(t)}_removeMarker(t){const e=this._markers.indexOf(t);-1!==e&&this._markers.splice(e,1)}_setupPainter(){const n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);i?(t.storeAuthState(i,!0),this.painter=new _i(i,this.transform),this.on("data",(t=>{"source"===t.dataType&&this.painter.setTileLoadedFlag(!0)})),t.exported$1.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))}_contextRestored(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))}_onMapScroll(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(t){return this._update(),this._renderTaskQueue.add(t)}_cancelRenderFrame(t){this._renderTaskQueue.remove(t)}_requestDomTask(t){!this.loaded()||this.loaded()&&!this.isMoving()?t():this._domRenderTaskQueue.add(t)}_render(e){let n;const i=this.painter.context.extTimerQuery,r=t.exported.now();this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n));let o=this._updateAverageElevation(r);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._domRenderTaskQueue.run(e),this._removed)return;this._updateProjection();let s=!1;const a=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,n=this.transform.pitch,i=t.exported.now();this.style.zoomHistory.update(e,i);const r=new t.EvaluationParameters(e,{now:i,fadeDuration:a,pitch:n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=r.crossFadingFactor();1===o&&o===this._crossFadingFactor||(s=!0,this._crossFadingFactor=o),this.style.update(r)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform),this._forceMarkerUpdate()),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||s)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const e=t.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((()=>{const r=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new t.Event("gpu-timing-frame",{cpuTime:e,gpuTime:r}))}),50)}if(this.listens("gpu-timing-layer")){const e=this.painter.collectGpuTimers();setTimeout((()=>{const n=this.painter.queryGpuTimers(e);this.fire(new t.Event("gpu-timing-layer",{layerTimes:n}))}),50)}const u=this._sourcesDirty||this._styleDirty||this._placementDirty||o;if(u||this._repaint)this.triggerRepaint();else{const e=!this.isMoving()&&this.loaded();if(e&&(o=this._updateAverageElevation(r,!0)),o)this.triggerRepaint();else if(this._triggerFrame(!1),e&&(this.fire(new t.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const e=this._calculateSpeedIndex();this.fire(new t.Event("speedindexcompleted",{speedIndex:e})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||u||(this._fullyLoaded=!0,this._authenticate()),this}_forceMarkerUpdate(){for(const t of this._markers)t._update()}_updateAverageElevation(t,e=!1){const n=t=>(this.transform.averageElevation=t,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((e||t-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(t)){const e=this.transform.averageElevation;let i=this.transform.sampleAverageElevation();isNaN(i)?i=0:this._averageElevationLastSampledAt=t;const r=Math.abs(e-i);if(r>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(i),n(i);this._averageElevation.easeTo(i,t,300)}else if(r>1e-4)return this._averageElevation.jumpTo(i),n(i)}return!!this._averageElevation.isEasing(t)&&n(this._averageElevation.getValue(t))}_authenticate(){t.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(e=>{if(e&&(e.message===t.AUTH_ERR_MSG||401===e.status)){const e=this.painter.context.gl;t.storeAuthState(e,!1),this._logoControl instanceof kr&&this._logoControl._updateLogo(),e&&e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new t.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),t.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const t=this.painter.canvasCopy(),e=this.painter.getCanvasCopiesAndTimestamps();e.timeStamps.push(performance.now());const n=this.painter.context.gl,i=n.createFramebuffer();function r(t){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0);const e=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,e),e}return n.bindFramebuffer(n.FRAMEBUFFER,i),this._canvasPixelComparison(r(t),e.canvasCopies.map(r),e.timeStamps)}_canvasPixelComparison(t,e,n){let i=n[1]-n[0];const r=t.length/4;for(let o=0;o<e.length;o++){const s=e[o];let a=0;for(let e=0;e<s.length;e+=4)s[e]===t[e]&&s[e+1]===t[e+1]&&s[e+2]===t[e+2]&&s[e+3]===t[e+3]&&(a+=1);i+=(n[o+2]-n[o+1])*(1-a/r)}return i}remove(){this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),Nr(this._canvasContainer),Nr(this._controlContainer),Nr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),t.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new t.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(e){this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=t.exported.frame((t=>{const e=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,e&&this._render(t)})))}_preloadTiles(e){const n=this.style&&Object.values(this.style._sourceCaches)||[];return t.asyncAll(n,((t,n)=>t._preloadTiles(e,n)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(t){this._trackResize&&this.resize({originalEvent:t})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(t){this._showTerrainWireframe!==t&&(this._showTerrainWireframe=t,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(t){this._speedIndexTiming!==t&&(this._speedIndexTiming=t,this._update())}get showPadding(){return!!this._showPadding}set showPadding(t){this._showPadding!==t&&(this._showPadding=t,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())}get repaint(){return!!this._repaint}set repaint(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(t){this._vertices=t,this._update()}_setCacheLimits(e,n){t.setCacheLimits(e,n)}get version(){return t.version}},NavigationControl:class{constructor(e){this.options=t.extend({},Lr,e),this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(t=>this._map.zoomIn({},{originalEvent:t}))),s.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(t=>this._map.zoomOut({},{originalEvent:t}))),s.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})),this._compassIcon=s.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t)}))}onAdd(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new qr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){this._container.remove(),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(t,e){const n=s.create("button",t,this._container);return n.type="button",n.addEventListener("click",e),n}_setButtonTitle(t,e){const n=this._map._getUIString(`NavigationControl.${e}`);t.setAttribute("aria-label",n),t.firstElementChild&&t.firstElementChild.setAttribute("title",n)}},GeolocateControl:class extends t.Evented{constructor(e){super(),this.options=t.extend({},Br,e),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Si(this._updateMarkerRotation,20)}onAdd(e){var n;return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Fr?n(Fr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((t=>{Fr="denied"!==t.state,n(Fr)})):(Fr=!!t.window.navigator.geolocation,n(Fr)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,Ur=0,Hr=!1}_isOutOfMapMaxBounds(t){const e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}}_updateCamera(e){const n=new t.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=this._map.getBearing(),o=t.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})}_updateMarker(e){if(e){const n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map._containerHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([100,t]),i=e.distanceTo(n)/100,r=Math.ceil(2*this._accuracy/i);this._circleElement.style.width=`${r}px`,this._circleElement.style.height=`${r}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Hr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(e){if(this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this._geolocateButton=s.create("button","mapboxgl-ctrl-geolocate",this._container),s.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}else{const t=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=s.create("div","mapboxgl-user-location"),this._dotElement.appendChild(s.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(s.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Or({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=s.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Or({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(e=>{e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new t.Event("trackuserlocationend")))}))}_onDeviceOrientation(t){this._userLocationDotMarker&&(t.webkitCompassHeading?this._heading=t.webkitCompassHeading:!0===t.absolute&&(this._heading=-1*t.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ur--,Hr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ur++,Ur>1?(e={maximumAge:6e5,timeout:0},Hr=!0):(e=this.options.positionOptions,Hr=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const e=()=>{t.window.addEventListener("ondeviceorientationabsolute"in t.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==t.window.DeviceMotionEvent&&"function"==typeof t.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((t=>{"granted"===t&&e()})).catch(console.error):e()}_clearWatch(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),t.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),t.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ar,ScaleControl:class{constructor(e){this.options=t.extend({},Vr,e),t.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Yr(this._map,this._container,this.options)}onAdd(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._onMove),this._map=void 0}setUnit(t){this.options.unit=t,Yr(this._map,this._container,this.options)}},FullscreenControl:class{constructor(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in t.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!t.window.document.fullscreenEnabled&&!t.window.document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=s.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);s.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",t)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(t.window.document.fullscreenElement||t.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends t.Evented{constructor(e){super(),this.options=t.extend(Object.create(Gr),e),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this),this._classList=new Set(e&&e.className?e.className.trim().split(/\s+/):[])}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("preclick",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&this._content.remove(),this._container&&(this._container.remove(),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(t.window.document.createTextNode(e))}setHTML(e){const n=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");let r;for(i.innerHTML=e;r=i.firstChild,r;)n.appendChild(r);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(t){return this.options.maxWidth=t,this._update(),this}setDOMContent(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=s.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(t){return this._classList.add(t),this._container&&this._updateClassList(),this}removeClassName(t){return this._classList.delete(t),this._container&&this._updateClassList(),this}setOffset(t){return this.options.offset=t,this._update(),this}toggleClassName(t){let e;return this._classList.delete(t)?e=!1:(this._classList.add(t),e=!0),this._container&&this._updateClassList(),e}_createCloseButton(){this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.setAttribute("aria-hidden","true"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(t){this._update(t.point)}_onMouseMove(t){this._update(t.point)}_onDrag(t){this._update(t.point)}_getAnchor(t){if(this.options.anchor)return this.options.anchor;const e=this._pos,n=this._container.offsetWidth,i=this._container.offsetHeight;let r;return r=e.y+t.bottom.y<i?["top"]:e.y>this._map.transform.height-i?["bottom"]:[],e.x<n/2?r.push("left"):e.x>this._map.transform.width-n/2&&r.push("right"),0===r.length?"bottom":r.join("-")}_updateClassList(){const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),this._container.className=t.join(" ")}_update(e){if(this._map&&(this._lngLat||this._trackPointer)&&this._content){if(this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Tr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e){const n=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),i=function(e){if(e||(e=new t.pointGeometry(0,0)),"number"==typeof e){const n=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{center:new t.pointGeometry(0,0),top:new t.pointGeometry(0,e),"top-left":new t.pointGeometry(n,n),"top-right":new t.pointGeometry(-n,n),bottom:new t.pointGeometry(0,-e),"bottom-left":new t.pointGeometry(n,-n),"bottom-right":new t.pointGeometry(-n,-n),left:new t.pointGeometry(e,0),right:new t.pointGeometry(-e,0)}}if(e instanceof t.pointGeometry||Array.isArray(e)){const n=t.pointGeometry.convert(e);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t.pointGeometry.convert(e.center||[0,0]),top:t.pointGeometry.convert(e.top||[0,0]),"top-left":t.pointGeometry.convert(e["top-left"]||[0,0]),"top-right":t.pointGeometry.convert(e["top-right"]||[0,0]),bottom:t.pointGeometry.convert(e.bottom||[0,0]),"bottom-left":t.pointGeometry.convert(e["bottom-left"]||[0,0]),"bottom-right":t.pointGeometry.convert(e["bottom-right"]||[0,0]),left:t.pointGeometry.convert(e.left||[0,0]),right:t.pointGeometry.convert(e.right||[0,0])}}(this.options.offset),r=this._anchor=this._getAnchor(i),o=n.add(i[r]).round();this._map._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${Ir[r]} translate(${o.x}px,${o.y}px)`)}))}this._updateClassList()}}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const t=this._container.querySelector(Zr);t&&t.focus()}_onClose(){this.remove()}_setOpacity(t){this._content&&(this._content.style.opacity=t),this._tip&&(this._tip.style.opacity=t)}},Marker:Or,Style:qe,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.pointGeometry,MercatorCoordinate:t.MercatorCoordinate,FreeCameraOptions:gi,Evented:t.Evented,config:t.config,prewarm:function(){zt().acquire(Tt)},clearPrewarmedResources:function(){const t=Ot;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Tt),Ot=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return It.workerCount},set workerCount(t){It.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage(e){t.clearTileCache(e)},workerUrl:"",workerClass:null,setNow:t.exported.setNow,restoreNow:t.exported.restoreNow};return Kr})),n}()},3743:t=>{"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},s=[],a=0;a<t.length;a++){var u=t[a],l=i.base?u[0]+i.base:u[0],c=o[l]||0,h="".concat(l," ").concat(c);o[l]=c+1;var p=n(h),_={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)e[p].references++,e[p].updater(_);else{var f=r(_,i);i.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var u=i(t,r),l=0;l<o.length;l++){var c=n(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=u}}},8591:t=>{"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},6190:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},7035:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},8124:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},2799:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},2868:function(t,e,n){var i,r,o;r=[e,n(8744)],void 0===(o="function"==typeof(i=function(t,e){"use strict";e.$_$.p4;var n,i=e.$_$.xa,r=e.$_$.r9,o=e.$_$.se;function s(){n=this,u.call(this)}function a(){return null==n&&new s,n}function u(){}function l(t){this.pm_1=t}function c(t){this.tm_1=t}function h(t){this.qm_1=t}function p(t){this.ym_1=t}return s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.$metadata$=i("None",void 0,void 0,void 0,void 0,u.prototype),u.prototype.atomicfu$Trace$append$1=function(t){},u.prototype.atomicfu$Trace$append$2=function(t,e){},u.prototype.atomicfu$Trace$append$3=function(t,e,n){},u.prototype.atomicfu$Trace$append$4=function(t,e,n,i){},u.$metadata$=r("TraceBase"),l.prototype.rm=function(t){this.pm_1=t},l.prototype.sm=function(){return this.pm_1},l.prototype.atomicfu$compareAndSet=function(t,e){return this.pm_1===t&&(this.pm_1=e,!0)},l.prototype.atomicfu$getAndSet=function(t){var e=this.pm_1;return this.pm_1=t,e},l.prototype.toString=function(){return o(this.pm_1)},l.$metadata$=r("AtomicRef"),Object.defineProperty(l.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:l.prototype.sm,set:l.prototype.rm}),c.prototype.um=function(t){this.tm_1=t},c.prototype.sm=function(){return this.tm_1},c.prototype.atomicfu$compareAndSet=function(t,e){return this.tm_1===t&&(this.tm_1=e,!0)},c.prototype.atomicfu$getAndSet=function(t){var e=this.tm_1;return this.tm_1=t,e},c.prototype.toString=function(){return this.tm_1.toString()},c.$metadata$=r("AtomicBoolean"),Object.defineProperty(c.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:c.prototype.sm,set:c.prototype.um}),h.prototype.vm=function(t){this.qm_1=t},h.prototype.sm=function(){return this.qm_1},h.prototype.atomicfu$compareAndSet=function(t,e){return this.qm_1===t&&(this.qm_1=e,!0)},h.prototype.atomicfu$getAndSet=function(t){var e=this.qm_1;return this.qm_1=t,e},h.prototype.atomicfu$getAndIncrement=function(){var t=this.qm_1;return this.qm_1=t+1|0,t},h.prototype.atomicfu$getAndDecrement=function(){var t=this.qm_1;return this.qm_1=t-1|0,t},h.prototype.atomicfu$getAndAdd=function(t){var e=this.qm_1;return this.qm_1=this.qm_1+t|0,e},h.prototype.atomicfu$addAndGet=function(t){return this.qm_1=this.qm_1+t|0,this.qm_1},h.prototype.atomicfu$incrementAndGet=function(){var t=this;return t.qm_1=t.qm_1+1|0,t.qm_1},h.prototype.atomicfu$decrementAndGet=function(){var t=this;return t.qm_1=t.qm_1-1|0,t.qm_1},h.prototype.wm=function(t){this.atomicfu$getAndAdd(t)},h.prototype.xm=function(t){this.atomicfu$getAndAdd(0|-t)},h.prototype.toString=function(){return this.qm_1.toString()},h.$metadata$=r("AtomicInt"),Object.defineProperty(h.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:h.prototype.sm,set:h.prototype.vm}),p.prototype.zm=function(t){this.ym_1=t},p.prototype.sm=function(){return this.ym_1},p.prototype.atomicfu$compareAndSet=function(t,e){return!!this.ym_1.equals(t)&&(this.ym_1=e,!0)},p.prototype.atomicfu$getAndSet=function(t){var e=this.ym_1;return this.ym_1=t,e},p.prototype.atomicfu$getAndIncrement$long=function(){var t=this.ym_1;return this.ym_1=t.uh(),t},p.prototype.atomicfu$getAndDecrement$long=function(){var t=this.ym_1;return this.ym_1=t.vh(),t},p.prototype.atomicfu$getAndAdd$long=function(t){var e=this.ym_1;return this.ym_1=this.ym_1.w5(t),e},p.prototype.atomicfu$addAndGet$long=function(t){return this.ym_1=this.ym_1.w5(t),this.ym_1},p.prototype.atomicfu$incrementAndGet$long=function(){var t=this;return t.ym_1=t.ym_1.uh(),t.ym_1},p.prototype.atomicfu$decrementAndGet$long=function(){var t=this;return t.ym_1=t.ym_1.vh(),t.ym_1},p.prototype.toString=function(){return this.ym_1.toString()},p.$metadata$=r("AtomicLong"),Object.defineProperty(p.prototype,"kotlinx$atomicfu$value",{configurable:!0,get:p.prototype.sm,set:p.prototype.zm}),r("ReentrantLock"),t.$_$=t.$_$||{},t.$_$.a=function(t){return function(t,e){return new c(t)}(t,a())},t.$_$.b=function(t){return function(t,e){return new p(t)}(t,a())},t.$_$.c=function(t){return function(t,e){return new l(t)}(t,a())},t.$_$.d=function(t){return function(t,e){return new h(t)}(t,a())},t})?i.apply(e,r):i)||(t.exports=o)},4817:function(t,e,n){var i,r,o;r=[e,n(2135),n(8744),n(3645)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_,f,d,m,y=e.Instant,v=e.Clock,g=e.OffsetDateTime,w=e.LocalDateTime,b=e.ZoneOffset,x=e.ZoneId,$=n.$_$.xa,C=n.$_$.ca,E=n.$_$.e2,A=n.$_$.l9,k=n.$_$.kd,S=n.$_$.r9,T=n.$_$.t2,I=n.$_$.pd,O=n.$_$.md,z=i.$_$.g,M=i.$_$.a1,D=n.$_$.qd,R=i.$_$.i2,P=i.$_$.d,j=n.$_$.a3,N=n.$_$.t,L=n.$_$.p9,q=n.$_$.o9,B=n.$_$.cd,F=n.$_$.t9,U=(n.$_$.p4,n.$_$.va),H=n.$_$.dd;function V(){r=this}function Y(){}function W(t){var e=function(t,e){return E(t,e),G.call(e),e}(t,Object.create(G.prototype));return A(e,W),e}function G(){A(this,G)}function Z(t){var e=function(t,e){return T(t,e),K.call(e),e}(t,Object.create(K.prototype));return A(e,Z),e}function K(){A(this,K)}function X(t){var e=function(t,e){return E(t,e),J.call(e),e}(t,Object.create(J.prototype));return A(e,X),e}function J(){A(this,J)}function Q(){a=this,this.t3e_1=M("Instant",z())}function tt(){u=this,this.v3e_1=M("LocalDateTime",z())}function et(){l=this,this.z3e_1=M("TimeZone",z())}function nt(){c=this,this.f3f_1=M("FixedOffsetTimeZone",z())}function it(){h=this,this.h3f_1=M("UtcOffset",z())}function rt(){p=this,this.p3e_1=new st(y.ofEpochSecond(o,999999999)),this.q3e_1=new st(y.ofEpochSecond(s,0)),this.r3e_1=new st(y.MIN),this.s3e_1=new st(y.MAX)}function ot(){return null==p&&new rt,p}function st(t){ot(),this.k3f_1=t}function at(t){return"DateTimeException"==t.name}function ut(t){return"DateTimeParseException"==t.name}function lt(){_=this,this.w3e_1=new ht(w.MIN),this.x3e_1=new ht(w.MAX)}function ct(){return null==_&&new lt,_}function ht(t){ct(),this.m3f_1=t}function pt(t,e){var n;if(e instanceof b)n=mt(new bt(e));else if(e.rules().isFixedOffset()){var i=e.normalized();n=new vt(new bt(i instanceof b?i:D()),e)}else n=new dt(e);return n}function _t(){f=this,this.a3f_1=mt(new bt(b.UTC))}function ft(){return null==f&&new _t,f}function dt(t){ft(),this.d3f_1=t}function mt(t){return function(t,e){return vt.call(e,t,t.p3f_1),e}(t,Object.create(vt.prototype))}function yt(){d=this}function vt(t,e){null==d&&new yt,dt.call(this,e),this.r3f_1=t}function gt(){m=this,this.i3f_1=new bt(b.UTC)}function wt(){return null==m&&new gt,m}function bt(t){wt(),this.p3f_1=t}return G.prototype=Object.create(k.prototype),G.prototype.constructor=G,K.prototype=Object.create(I.prototype),K.prototype.constructor=K,J.prototype=Object.create(k.prototype),J.prototype.constructor=J,vt.prototype=Object.create(dt.prototype),vt.prototype.constructor=vt,V.prototype.o3e=function(){return ot().o3e()},V.$metadata$=$("System",[Y]),Y.$metadata$=C("Clock"),G.$metadata$=S("DateTimeFormatException",void 0,void 0,void 0,void 0,k.prototype),K.$metadata$=S("DateTimeArithmeticException",void 0,void 0,void 0,void 0,I.prototype),J.$metadata$=S("IllegalTimeZoneException",void 0,void 0,void 0,void 0,k.prototype),Q.prototype.p1m=function(){return this.t3e_1},Q.prototype.r1m=function(t){return ot().l2z(t.j1p())},Q.prototype.u3e=function(t,e){t.p1q(e.toString())},Q.prototype.q1m=function(t,e){return this.u3e(t,e instanceof st?e:D())},Q.$metadata$=$("InstantIso8601Serializer",[R]),tt.prototype.p1m=function(){return this.v3e_1},tt.prototype.r1m=function(t){return ct().l2z(t.j1p())},tt.prototype.y3e=function(t,e){t.p1q(e.toString())},tt.prototype.q1m=function(t,e){return this.y3e(t,e instanceof ht?e:D())},tt.$metadata$=$("LocalDateTimeIso8601Serializer",[R]),et.prototype.p1m=function(){return this.z3e_1},et.prototype.r1m=function(t){return ft().b3f(t.j1p())},et.prototype.c3f=function(t,e){t.p1q(e.e3f())},et.prototype.q1m=function(t,e){return this.c3f(t,e instanceof dt?e:D())},et.$metadata$=$("TimeZoneSerializer",[R]),nt.prototype.p1m=function(){return this.f3f_1},nt.prototype.r1m=function(t){var e=ft().b3f(t.j1p());if(e instanceof vt)return e;throw P("Timezone identifier '"+e+"' does not correspond to a fixed-offset timezone")},nt.prototype.g3f=function(t,e){t.p1q(e.e3f())},nt.prototype.q1m=function(t,e){return this.g3f(t,e instanceof vt?e:D())},nt.$metadata$=$("FixedOffsetTimeZoneSerializer",[R]),it.prototype.p1m=function(){return this.h3f_1},it.prototype.r1m=function(t){return wt().l2z(t.j1p())},it.prototype.j3f=function(t,e){t.p1q(e.toString())},it.prototype.q1m=function(t,e){return this.j3f(t,e instanceof bt?e:D())},it.$metadata$=$("UtcOffsetSerializer",[R]),rt.prototype.o3e=function(){return new st(v.systemUTC().instant())},rt.prototype.l2z=function(t){var e;try{e=new st(g.parse(function(t,e){var n,i=j(84),r=N(e,i,0,!0,2,null);if(-1===r)return e;t:{var o=L(e)-1|0;if(0<=o)do{var s=o;o=o+-1|0;var a=q(e,s);if(F(new B(a),new B(j(43)))||F(new B(a),new B(j(45)))){n=s;break t}}while(0<=o);n=-1}var u=n;if(u<r)return e;var l=j(58);return-1!==N(e,l,u,!1,4,null)?e:e+":00"}(0,t)).toInstant())}catch(t){if(t instanceof Error){if(ut(t))throw W(t);throw t}throw t}return e},rt.$metadata$=$("Companion"),st.prototype.l3f=function(t){return U(this.k3f_1.compareTo(t.k3f_1))},st.prototype.p7=function(t){return this.l3f(t instanceof st?t:D())},st.prototype.equals=function(t){return this===t||t instanceof st&&F(this.k3f_1,t.k3f_1)},st.prototype.hashCode=function(){return U(this.k3f_1.hashCode())},st.prototype.toString=function(){return this.k3f_1.toString()},st.$metadata$=S("Instant",[H],void 0,{0:function(){return null==a&&new Q,a}}),lt.prototype.l2z=function(t){var e;try{e=new ht(w.parse(t))}catch(t){if(t instanceof Error){if(ut(t))throw W(t);throw t}throw t}return e},lt.$metadata$=$("Companion"),ht.prototype.equals=function(t){return this===t||t instanceof ht&&F(this.m3f_1,t.m3f_1)},ht.prototype.hashCode=function(){return U(this.m3f_1.hashCode())},ht.prototype.toString=function(){return this.m3f_1.toString()},ht.prototype.n3f=function(t){return U(this.m3f_1.compareTo(t.m3f_1))},ht.prototype.p7=function(t){return this.n3f(t instanceof ht?t:D())},ht.$metadata$=S("LocalDateTime",[H],void 0,{0:function(){return null==u&&new tt,u}}),_t.prototype.o3f=function(){return pt(0,x.systemDefault())},_t.prototype.b3f=function(t){var e;try{e=pt(0,x.of(t))}catch(t){if(t instanceof Error){if(at(t))throw X(t);throw t}throw t}return e},_t.$metadata$=$("Companion"),dt.prototype.e3f=function(){return this.d3f_1.id()},dt.prototype.equals=function(t){return this===t||t instanceof dt&&F(this.d3f_1,t.d3f_1)},dt.prototype.hashCode=function(){return U(this.d3f_1.hashCode())},dt.prototype.toString=function(){return this.d3f_1.toString()},dt.$metadata$=S("TimeZone",void 0,void 0,{0:function(){return null==l&&new et,l}}),yt.$metadata$=$("Companion"),vt.$metadata$=S("FixedOffsetTimeZone",void 0,void 0,{0:function(){return null==c&&new nt,c}},void 0,dt.prototype),gt.prototype.l2z=function(t){var e;try{e=new bt(b.of(t))}catch(t){if(t instanceof Error){if(at(t))throw W(t);throw t}throw t}return e},gt.$metadata$=$("Companion"),bt.prototype.hashCode=function(){return U(this.p3f_1.hashCode())},bt.prototype.equals=function(t){return t instanceof bt&&F(this.p3f_1,t.p3f_1)},bt.prototype.toString=function(){return this.p3f_1.toString()},bt.$metadata$=S("UtcOffset",void 0,void 0,{0:function(){return null==h&&new it,h}}),o=new O(-931914497,-750),s=new O(1151527680,720),t.$_$=t.$_$||{},t.$_$.a=function(){return null==r&&new V,r},t.$_$.b=ct,t.$_$.c=ft,t.$_$.d=ht,t.$_$.e=function(t,e){var n;try{n=new ht(w.ofInstant(t.k3f_1,e.d3f_1))}catch(t){if(t instanceof Error){if(at(t))throw Z(t);throw t}throw t}return n},t})?i.apply(e,r):i)||(t.exports=o)},769:function(t,e,n){var i,r;i=[e,n(8744),n(7646)],void 0===(r=function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N,L,q,B,F,U,H,V,Y,W,G,Z,K,X,J,Q,tt,et,nt,it,rt,ot,st,at,ut,lt,ct,ht,pt,_t,ft,dt,mt,yt,vt,gt,wt,bt,xt,$t,Ct,Et,At=Math.imul,kt=e.$_$.ca,St=e.$_$.p4,Tt=e.$_$.bb,It=e.$_$.r9,Ot=e.$_$.d1,zt=e.$_$.qd,Mt=e.$_$.na,Dt=e.$_$.m2,Rt=e.$_$.ne,Pt=e.$_$.oe,jt=e.$_$.k4,Nt=e.$_$.i3,Lt=e.$_$.de,qt=e.$_$.re,Bt=e.$_$.q8,Ft=n.$_$.t1,Ut=n.$_$.i1,Ht=e.$_$.y8,Vt=e.$_$.x8,Yt=e.$_$.z8,Wt=e.$_$.c9,Gt=e.$_$.la,Zt=e.$_$.t9,Kt=e.$_$.o1,Xt=e.$_$.j,Jt=e.$_$.g1,Qt=e.$_$.aa,te=e.$_$.hd,ee=e.$_$.m6,ne=e.$_$.h8,ie=e.$_$.x7,re=e.$_$.ed,oe=e.$_$.c1,se=e.$_$.te,ae=e.$_$.m8,ue=e.$_$.xa,le=e.$_$.h2,ce=e.$_$.ke,he=e.$_$.s6,pe=e.$_$.s9,_e=e.$_$.qb,fe=e.$_$.y9,de=e.$_$.da,me=e.$_$.r5,ye=e.$_$.ee,ve=e.$_$.j1,ge=e.$_$.m7,we=n.$_$.o1,be=n.$_$.p,xe=n.$_$.q,$e=n.$_$.o,Ce=n.$_$.x,Ee=n.$_$.r1,Ae=n.$_$.l,ke=e.$_$.z3,Se=e.$_$.se,Te=e.$_$.b9,Ie=e.$_$.a9,Oe=e.$_$.z9,ze=n.$_$.p1,Me=e.$_$.d9,De=e.$_$.o8,Re=(e.$_$.f9,e.$_$.z4),Pe=e.$_$.t5,je=n.$_$.e,Ne=e.$_$.f1,Le=e.$_$.e8,qe=e.$_$.v6,Be=n.$_$.b1,Fe=e.$_$.t1,Ue=e.$_$.n8,He=e.$_$.zd,Ve=n.$_$.z1,Ye=n.$_$.c,We=e.$_$.i,Ge=e.$_$.md,Ze=e.$_$.m1,Ke=e.$_$.r7,Xe=(e.$_$.g9,e.$_$.u5),Je=e.$_$.p6,Qe=e.$_$.v9,tn=e.$_$.e4,en=e.$_$.d5,nn=e.$_$.c5,rn=e.$_$.u6,on=e.$_$.f7,sn=e.$_$.x1,an=n.$_$.z,un=e.$_$.i6,ln=e.$_$.h6,cn=e.$_$.k5,hn=e.$_$.n5,pn=e.$_$.h5,_n=e.$_$.p5,fn=e.$_$.j5,dn=e.$_$.r2,mn=e.$_$.g5,yn=e.$_$.r4,vn=e.$_$.gb,gn=e.$_$.j9,wn=e.$_$.u4,bn=e.$_$.k2,xn=e.$_$.m5,$n=e.$_$.x6,Cn=e.$_$.d7,En=e.$_$.s4,An=e.$_$.v4,kn=e.$_$.l5,Sn=e.$_$.o5,Tn=e.$_$.x2,In=e.$_$.w4,On=e.$_$.q5,zn=e.$_$.t4,Mn=e.$_$.i5,Dn=e.$_$.x4,Rn=e.$_$.q4,Pn=e.$_$.lb,jn=e.$_$.kb,Nn=e.$_$.be,Ln=e.$_$.pe,qn=e.$_$.y1,Bn=e.$_$.q2,Fn=e.$_$.w1,Un=e.$_$.i1,Hn=e.$_$.cd,Vn=e.$_$.ha,Yn=e.$_$.x5,Wn=e.$_$.e,Gn=e.$_$.w7,Zn=e.$_$.sb,Kn=e.$_$.ba,Xn=e.$_$.j4,Jn=e.$_$.c8,Qn=e.$_$.tb,ti=e.$_$.i9,ei=e.$_$.w5,ni=e.$_$.f,ii=e.$_$.ad,ri=e.$_$.z2,oi=e.$_$.u1;function si(){}function ai(){}function ui(){return Qo()}function li(){}function ci(t,e){this.b3g_1=t,this.c3g_1=e,this.d3g_1=0}function hi(t){this.e3g_1=t;var e;e=Ot(),this.f3g_1=e,this.g3g_1=this.e3g_1,this.h3g_1=8}function pi(t,e){this.k3g_1=t,this.l3g_1=e}function _i(t){this.o3g_1=t,this.p3g_1=Su(),this.q3g_1=null;var e;e=Ot(),this.r3g_1=e;var n;n=Ot(),this.s3g_1=n,this.t3g_1=8}function fi(){return mo(),i}function di(){return mo(),s}function mi(){return mo(),l}function yi(){return mo(),h}function vi(){}function gi(t,e){mo();for(var n=t.a3i();n.e();){var i=n.f(),r=i;if(null!=r&&Gt(r,Ks))e.e3h(i);else if(r instanceof ls){var o=i.b3i_1;null!=o&&(o.v3i_1=!0,i.b3i_1=null)}}t.d3j()}function wi(t){t.j3k_1=t.g3j_1.k3l(),xi(t,100),t.f3j_1.m3l(),t.y3j_1=t.f3j_1.n3l(),t.b3k_1.q3l(Wr(t.a3k_1)),t.a3k_1=t.c3h(t.y3j_1),t.t3j_1||(t.t3j_1=t.f3j_1.r3l());var e=Ti(0,(bt||(bt=!0,wt=new jo((function(){return null}))),wt),t.y3j_1);null==e||(e.b(t.g3j_1),t.f3j_1.s3l(e)),xi(t,t.f3j_1.t3l())}function bi(t){Ci(t),t.f3j_1.u3l(),Ci(t),function(t){t.u3k_1&&(tr(t,!1,di(),2),t.u3k_1=!1)}(t),function(t){er(t),t.l3j_1.m()||Qr(Tt("Start/end imbalance")),t.w3k_1.m()||Qr(Tt("Missed recording an endGroup()")),hr(t)}(t),t.j3k_1.p1e(),t.u3j_1=!1}function xi(t,e){return zi(t,e,null,!1,null)}function $i(t,e,n){return zi(t,e,n,!1,null)}function Ci(t){return Di(t,!1)}function Ei(t){var e=t;e.p3j_1=e.p3j_1+t.j3k_1.h3m()|0}function Ai(t,e){if(t.p3k_1&&t.m3k_1)for(var n=t.l3k_1.x3h_1;n>0;){if(202===t.l3k_1.k3m(n)&&Zt(t.l3k_1.j3m(n),yi())){var i=t.l3k_1.i3m(n);return null!=i&&Gt(i,Qu)?i:zt()}n=t.l3k_1.l3m(n)}if(t.j3k_1.g()>0)for(var r=e,o=null==r?t.j3k_1.c3m_1:r;o>0;){if(202===t.j3k_1.k3m(o)&&Zt(t.j3k_1.j3m(o),yi())){var s,a=t.z3j_1.o(o);if(null==a){var u=t.j3k_1.i3m(o);s=null!=u&&Gt(u,Qu)?u:zt()}else s=a;return s}o=t.j3k_1.l3m(o)}return t.y3j_1}function ki(t,e,n,i){return 0!=(2&n)&&(e=null),Ai(t,e)}function Si(t,e,n){var i=e.n1s();i.q3(n);var r=i.i1s();return $i(t,204,(mo(),_)),t.c3h(r),t.c3h(n),Ci(t),r}function Ti(t,e,n){return Gr(n,e)?function(t,e){mo();var n=t.o(e instanceof Ro?e:zt()),i=null==n?null:n.b1();return null==i||Mt(i)?i:zt()}(n,e):e.m3m_1.b1()}function Ii(t){Lr(t.l3k_1.y3h_1),t.k3k_1=new Ia;var e,n=t,i=t.k3k_1.o3m();i.p1e(),e=i,n.l3k_1=e}function Oi(t,e,n){var i;e?t.j3k_1.s3m():(null!=n&&t.j3k_1.q3m()!==n&&tr(t,!1,(i=n,function(t,e,n){return e.g3q(i),St()}),2),t.j3k_1.r3m())}function zi(t,e,n,i,r){if(Zi(t),dr(t,e,n,r),t.p3k_1){t.j3k_1.t3m();var o=t.l3k_1.w3h_1;if(i)t.l3k_1.w3m(Dr().a3h_1);else if(null!=r){var s=n;t.l3k_1.v3m(e,null==s?Dr().a3h_1:s,r)}else{var a=n;t.l3k_1.u3m(e,null==a?Dr().a3h_1:a)}var u=t.m3j_1;if(null==u);else{var l=new ou(e,-1,Pi(0,o),-1,0);u.d3n(l,t.n3j_1-u.y3m_1|0),u.e3n(l)}return Mi(t,i,null),St()}null==t.m3j_1&&(t.j3k_1.f3n()===e&&Zt(n,t.j3k_1.h3n())?Oi(t,i,r):t.m3j_1=new Vr(t.j3k_1.g3n(),t.n3j_1));var c,h=t.m3j_1,p=null;if(null!=h){var _=h.i3n(e,n);if(null!=_){h.e3n(_);var f=_.n3n_1;t.n3j_1=h.q3n(_)+h.y3m_1|0;var d=h.r3n(_),m=d-h.z3m_1|0;h.s3n(d,h.z3m_1),lr(t,f),t.j3k_1.t3n(f),m>0&&Ji(t,(c=m,function(t,e,n){return e.h3q(c),St()})),Oi(t,i,r)}else{t.j3k_1.t3m(),t.p3k_1=!0,function(t){t.l3k_1.y3h_1&&(t.l3k_1=t.k3k_1.o3m(),t.l3k_1.p3m(),t.m3k_1=!1)}(t),t.l3k_1.j3n();var y=t.l3k_1.w3h_1;if(i)t.l3k_1.w3m(Dr().a3h_1);else if(null!=r){var v=n;t.l3k_1.v3m(e,null==v?Dr().a3h_1:v,r)}else{var g=n;t.l3k_1.u3m(e,null==g?Dr().a3h_1:g)}t.n3k_1=t.l3k_1.k3n(y);var w=new ou(e,-1,Pi(0,y),-1,0);h.d3n(w,t.n3j_1-h.y3m_1|0),h.e3n(w),p=new Vr(Ot(),i?0:t.n3j_1)}}Mi(t,i,p)}function Mi(t,e,n){t.l3j_1.u3n(t.m3j_1),t.m3j_1=n,t.o3j_1.q3l(t.n3j_1),e&&(t.n3j_1=0),t.q3j_1.q3l(t.p3j_1),t.p3j_1=0}function Di(t,e){if(t.p3k_1){var n=t.l3k_1.x3h_1;yr(t,t.l3k_1.k3m(n),t.l3k_1.j3m(n),t.l3k_1.i3m(n))}else{var i=t.j3k_1.c3m_1;yr(t,t.j3k_1.k3m(i),t.j3k_1.j3m(i),t.j3k_1.i3m(i))}var r=t.p3j_1,o=t.m3j_1;if(null!=o&&o.x3m_1.g()>0){for(var s=o.x3m_1,a=o.w3n(),u=function(t){var e=Un(t.g()),n=0,i=t.g()-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=t.l(r);e.b(o)}while(n<=i);return e}(a),l=Kt(),c=0,h=a.g(),p=0,_=s.g(),f=0;p<_;){var d=s.l(p);if(u.n(d)){if(l.n(d))p=p+1|0;else if(c<h){var m=a.l(c);if(m!==d){var y=o.q3n(m);if(l.b(m),y!==f){var v=o.z3n(m);_r(t,y+o.y3m_1|0,f+o.y3m_1|0,v),o.a3o(y,f,v)}}else p=p+1|0;c=c+1|0,f=f+o.z3n(m)|0}}else pr(t,o.q3n(d)+o.y3m_1|0,d.o3n_1),o.x3n(d.n3n_1,0),lr(t,d.n3n_1),t.j3k_1.t3n(d.n3n_1),ur(t),t.j3k_1.h3m(),Zr(t.w3j_1,d.n3n_1,d.n3n_1+t.j3k_1.y3n(d.n3n_1)|0),p=p+1|0}fr(t),s.g()>0&&(lr(t,t.j3k_1.b3o()),t.j3k_1.p3m())}for(var g=t.n3j_1;!t.j3k_1.c3o();){var w=t.j3k_1.a3m_1;ur(t);var b=t.j3k_1.h3m();pr(t,g,b),Zr(t.w3j_1,w,t.j3k_1.a3m_1)}var x=t.p3k_1;if(x){e&&(function(t){t.o3k_1.b(t.x3k_1.v3n())}(t),r=1),t.j3k_1.e3o();var $=t.l3k_1.x3h_1;if(t.l3k_1.f3o(),!t.j3k_1.h3o()){var C=Pi(0,$);t.l3k_1.g3o(),t.l3k_1.p1e(),function(t,e){if(t.o3k_1.m())Ji(t,(i=t.k3k_1,r=e,function(t,e,n){return e.j3n(),e.f3r(i,r.e3r(i)),e.g3o(),St()}));else{var n=ne(t.o3k_1);t.o3k_1.va(),er(t),ir(t),Ji(t,function(t,e,n){return function(i,r,o){var s=t.o3m();try{var a=0,u=e.g()-1|0;if(a<=u){do{var l=a;a=a+1|0,e.l(l)(i,s,o)}while(a<=u);St()}}finally{s.p1e()}return r.j3n(),r.f3r(t,n.e3r(t)),r.g3o(),St()}}(t.k3k_1,n,e))}var i,r}(t,t.n3k_1),t.p3k_1=!1,t.g3j_1.su()||(qi(t,C,0),ji(t,C,r))}}else{e&&or(t),function(t){var e=t.j3k_1.c3m_1;t.w3k_1.l3p(-1)<=e||Qr(Tt("Missed recording an endGroup")),t.w3k_1.l3p(-1)===e&&(t.w3k_1.v3n(),tr(t,!1,di(),2))}(t);var E=t.j3k_1.c3m_1;r!==Li(t,E)&&ji(t,E,r),e&&(r=1),t.j3k_1.d3o(),fr(t)}!function(t,e,n){var i=t.l3j_1.v3n();if(null!=i&&!n){var r=i,o=r.z3m_1;r.z3m_1=o+1|0}t.m3j_1=i,t.n3j_1=t.o3j_1.v3n()+e|0,t.p3j_1=t.q3j_1.v3n()+e|0}(t,r,x)}function Ri(t){var e=t.h3k_1;t.h3k_1=!0;for(var n=!1,i=t.j3k_1.c3m_1,r=i+t.j3k_1.y3n(i)|0,o=t.n3j_1,s=t.q3k_1,a=t.p3j_1,u=i,l=Kr(t.w3j_1,t.j3k_1.a3m_1,r);null!=l;){var c=l.j3o_1;if(Xr(t.w3j_1,c),l.o3o()){n=!0,t.j3k_1.t3n(c);var h=t.j3k_1.a3m_1;Bi(t,u,h,i),u=h,t.n3j_1=Ni(t,c,h,i,o),t.q3k_1=Ui(t,t.j3k_1.l3m(h),i,s),l.i3o_1.m3o(t),t.j3k_1.n3o(i)}else t.g3k_1.u3n(l.i3o_1),l.i3o_1.l3o(),t.g3k_1.v3n();l=Kr(t.w3j_1,t.j3k_1.a3m_1,r)}if(n){Bi(t,u,i,i),t.j3k_1.p3m();var p=Li(t,i);t.n3j_1=o+p|0,t.p3j_1=a+p|0}else Hi(t);t.q3k_1=s,t.h3k_1=e}function Pi(t,e){return-2-e|0}function ji(t,e,n){var i=Li(t,e);if(i!==n){var r=n-i|0,o=e,s=t.l3j_1.g()-1|0;t:for(;-1!==o;){var a=Li(t,o)+r|0;qi(t,o,a);var u=s;if(0<=u)e:do{var l=u;u=u+-1|0;var c=t.l3j_1.p3o(l);if(null!=c&&c.x3n(o,a)){s=l-1|0;break e}}while(0<=u);if(o<0)o=t.j3k_1.c3m_1;else{if(t.j3k_1.q3o(o))break t;o=t.j3k_1.l3m(o)}}}}function Ni(t,e,n,i,r){for(var o=t.j3k_1.l3m(n);o!==i&&!t.j3k_1.q3o(o);)o=t.j3k_1.l3m(o);var s=t.j3k_1.q3o(o)?0:r;if(o===n)return s;var a=o,u=s+(Li(t,o)-t.j3k_1.r3o(n)|0)|0;t:for(;s<u&&a!==e;){for(a=a+1|0;a<e;){var l=a+t.j3k_1.y3n(a)|0;if(e<l)continue t;s=s+Li(t,a)|0,a=l}break t}return s}function Li(t,e){if(e<0){var n,i=t.s3j_1;return null==(n=null==i?null:i.o(e))?0:n}var r=t.r3j_1;if(null!=r){var o=r[e];if(o>=0)return o}return t.j3k_1.r3o(e)}function qi(t,e,n){if(Li(t,e)!==n)if(e<0){var i,r=t.s3j_1;if(null==r){var o=Jt();t.s3j_1=o,i=o}else i=r;i.a(e,n)}else{var s,a=t.r3j_1;if(null==a){var u=new Int32Array(t.j3k_1.g());Xt(u,-1,0,0,6,null),t.r3j_1=u,s=u}else s=a;s[e]=n}}function Bi(t,e,n,i){for(var r=t.j3k_1,o=function(t,e,n,i){if(mo(),e===n)return e;if(e===i||n===i)return i;if(t.l3m(e)===n)return n;if(t.l3m(n)===e)return e;if(t.l3m(e)===t.l3m(n))return t.l3m(e);var r=e,o=n,s=oo(t,e,i),a=oo(t,n,i),u=s-a|0,l=0;if(l<u)do{l=l+1|0,r=t.l3m(r)}while(l<u);var c=a-s|0,h=0;if(h<c)do{h=h+1|0,o=t.l3m(o)}while(h<c);for(;r!==o;)r=t.l3m(r),o=t.l3m(o);return r}(r,e,n,i),s=e;s>0&&s!==o;)r.q3o(s)&&or(t),s=r.l3m(s);Fi(t,n,o)}function Fi(t,e,n){var i,r;e>0&&e!==n&&(Fi(t,t.j3k_1.l3m(e),n),t.j3k_1.q3o(e)&&rr(t,(i=t.j3k_1,r=e,i.i3p(r))))}function Ui(t,e,n,i){var r;if(e===n)r=i;else{var o,s=function(t,e,n){var i;if(t.s3o(n)){var r,o=t.j3m(n);i=null==(r=null==o?null:o instanceof te?o.h5_1:Qt(o))?0:r}else{var s,a=t.k3m(n);if(207===a){var u,l=t.i3m(n);s=null==(u=null==l?null:Zt(l,Dr().a3h_1)?a:Qt(l))?a:u}else s=a;i=s}return i}(t.j3k_1,0,e);if(s===es())o=s;else{var a=Ui(t,t.j3k_1.l3m(e),n,i);o=Rt(a,3)^s}r=o}return r}function Hi(t){t.p3j_1=t.j3k_1.t3o(),t.j3k_1.p3m()}function Vi(t,e,n,i,r){t.c3p(es(),e),t.c3h(i),t.p3k_1&&t.l3k_1.d3p(0,1,null);var o=!t.p3k_1&&!Zt(t.j3k_1.q3m(),n);if(o){var s=t.z3j_1,a=t.j3k_1.a3m_1;s.a(a,n)}zi(t,202,yi(),!1,n);var u,l,c=t.q3k_1;if(t.q3k_1=es(),t.p3k_1&&!r){t.m3k_1=!0;var h=t.l3k_1.k3n(t.l3k_1.l3m(t.l3k_1.x3h_1)),p=t.k3k_1,_=ee(),f=new Nr(e,i,t.k3j_1,p,h,_,ki(t,null,2));t.f3j_1.e3p(f)}else{var d=t.a3k_1;t.a3k_1=o,Zp(t,gh(1378964644,!0,(u=e,l=i,function(t,e){var n=t;if(2==(11&e)&&n.p3q())n.p3m();else{var i=u.i3q_1;i instanceof Jp?i.o3q(l,n,0):i(l,n,0)}return St()}))),t.a3k_1=d}t.q3k_1=c,Ci(t),t.f3p()}function Yi(t,e,n,i,r,o){var s=t.v3k_1,a=t.h3k_1,u=t.n3j_1;try{t.v3k_1=!1,t.h3k_1=!0,t.n3j_1=0;var l,c=0,h=r.g()-1|0;if(c<=h)do{var p=c;c=c+1|0;var _=r.l(p),f=_.w3(),d=_.x3();if(null!=d)for(var m=d.d();m.e();){var y=m.f();t.g3p(f,y)}else t.g3p(f,null)}while(c<=h);if(null==e)l=null;else{var v=i;l=e.h3p(n,null==v?-1:v,o)}var g=l;return null==g?o():g}finally{t.v3k_1=s,t.h3k_1=a,t.n3j_1=u}}function Wi(t,e,n,i,r,o,s,a){return 0!=(2&s)&&(e=null),0!=(4&s)&&(n=null),0!=(8&s)&&(i=null),0!=(16&s)&&(r=ee()),Yi(t,e,n,i,r,o)}function Gi(t){t.v3j_1||Qr(Tt("A call to createNode(), emitNode() or useNode() expected was not expected")),t.v3j_1=!1}function Zi(t){!t.v3j_1||Qr(Tt("A call to createNode(), emitNode() or useNode() expected"))}function Ki(t,e){t.i3j_1.b(e)}function Xi(t,e){er(t),ir(t),Ki(t,e)}function Ji(t,e){(function(t,e,n,i){0!=(2&n)&&(e=!1),sr(t,e)})(t,!1,2),cr(t),Ki(t,e)}function Qi(t,e,n){sr(t,e),Ki(t,n)}function tr(t,e,n,i,r){return 0!=(2&i)&&(e=!1),Qi(t,e,n)}function er(t){var e,n=t.r3k_1;n>0&&(t.r3k_1=0,Ki(t,(e=n,function(t,n,i){var r=0;if(r<e){do{r=r+1|0,t.w3f()}while(r<e);St()}return St()})))}function nr(t,e){var n;Ki(t,(n=e,function(t,e,i){var r=0,o=n.length-1|0;if(r<=o){do{var s=r;r=r+1|0,(Gt(t,li)?t:zt()).v3f(n[s])}while(r<=o);St()}return St()}))}function ir(t){t.s3k_1.j3p()&&(nr(t,t.s3k_1.fc()),t.s3k_1.va())}function rr(t,e){t.s3k_1.u3n(e)}function or(t){if(t.s3k_1.j3p())t.s3k_1.v3n();else{var e=t,n=e.r3k_1;e.r3k_1=n+1|0}}function sr(t,e){var n,i=e?t.j3k_1.c3m_1:t.j3k_1.a3m_1,r=i-t.t3k_1|0;r>=0||Qr(Tt("Tried to seek backward")),r>0&&(Ki(t,(n=r,function(t,e,i){return e.d3r(n),St()})),t.t3k_1=i)}function ar(t,e){t.o3k_1.b(e)}function ur(t){(function(t,e){xr(t,e,!1,0),fr(t)})(t,t.j3k_1.a3m_1),Ji(t,(mo(),r));var e=t;e.t3k_1=e.t3k_1+t.j3k_1.k3p()|0}function lr(t,e){var n=t.j3k_1.a3m_1-t.t3k_1|0;t.t3k_1=e-n|0}function cr(t){if(t.j3k_1.g()>0){var e=t.j3k_1,n=e.c3m_1;if(t.w3k_1.l3p(-1)!==n){!t.u3k_1&&t.v3k_1&&(tr(t,!1,(mo(),a),2),t.u3k_1=!0);var i=e.k3n(n);t.w3k_1.q3l(n),tr(t,!1,(r=i,function(t,e,n){return e.g3r(r),St()}),2)}}var r}function hr(t){t.m3j_1=null,t.n3j_1=0,t.p3j_1=0,t.t3k_1=0,t.q3k_1=0,t.v3j_1=!1,t.u3k_1=!1,t.w3k_1.va(),t.g3k_1.va(),function(t){t.r3j_1=null,t.s3j_1=null}(t)}function pr(t,e,n){if(n>0)if(e>=0||Qr(Tt("Invalid remove index "+e)),t.y3k_1===e){var i=t;i.b3l_1=i.b3l_1+n|0}else fr(t),t.y3k_1=e,t.b3l_1=n}function _r(t,e,n,i){if(i>0)if(t.b3l_1>0&&t.z3k_1===(e-t.b3l_1|0)&&t.a3l_1===(n-t.b3l_1|0)){var r=t;r.b3l_1=r.b3l_1+i|0}else fr(t),t.z3k_1=e,t.a3l_1=n,t.b3l_1=i}function fr(t){var e,n,i=t.b3l_1;if(t.b3l_1=0,i>0)if(t.y3k_1>=0){var r=t.y3k_1;t.y3k_1=-1,Xi(t,(e=r,n=i,function(t,i,r){return t.z3f(e,n),St()}))}else{var o=t.z3k_1;t.z3k_1=-1;var s=t.a3l_1;t.a3l_1=-1,Xi(t,function(t,e,n){return function(i,r,o){return i.a3g(t,e,n),St()}}(o,s,i))}}function dr(t,e,n,i){null==n?null==i||207!==e||Zt(i,Dr().a3h_1)?mr(t,e):mr(t,Qt(i)):mr(t,n instanceof te?n.h5_1:Qt(n))}function mr(t,e){var n,i=t,r=t.q3k_1;n=Rt(r,3),i.q3k_1=n^e}function yr(t,e,n,i){null==n?null==i||207!==e||Zt(i,Dr().a3h_1)?vr(t,e):vr(t,Qt(i)):vr(t,n instanceof te?n.h5_1:Qt(n))}function vr(t,e){var n,i=t,r=t.q3k_1^e;n=Pt(r,3),i.q3k_1=n}function gr(t,e,n){!t.h3k_1||Qr(Tt("Reentrant composition is not supported"));t:{var i=Gp().m3p("Compose:recompose");try{t.f3k_1=Qh(),t.z3j_1.va();var r=0,o=e.p3p_1;if(r<o)do{var s=r;r=r+1|0;var a=e.n3p_1[s],u=Mt(a)?a:zt(),l=e.o3p_1[s],c=null==l||Mt(l)?l:zt(),h=u.d3i_1,p=null==h?null:h.q3p_1;if(null==p)return St();var _=p;t.w3j_1.b(new Yr(u,_,c))}while(r<o);var f,d=t.w3j_1;d.g()>1&&(f=new wr((function(t,e){var n,i=t.j3o_1;return n=e.j3o_1,ae(i,n)})),ie(d,f)),t.n3j_1=0;var m=!1;t.h3k_1=!0;try{wi(t);var y=t.r3p();y!==n&&null!=n&&t.u3o(null==n||Mt(n)?n:zt()),function(t,e,n){Fo();var i=qo().zu();try{var r=qo(),o=qo().zu();r.v3w((null==o?rl():o).b(se(t,e))),n()}finally{qo().v3w(i)}}((v=t,function(t){var e=v,n=e.e3k_1;return e.e3k_1=n+1|0,St()}),function(t){return function(e){var n=t,i=n.e3k_1;return n.e3k_1=i-1|0,St()}}(t),function(t,e,n){return function(){return null!=t?($i(e,200,mi()),Zp(e,t),Ci(e)):e.u3j_1&&null!=n&&!Zt(n,Dr().a3h_1)?($i(e,200,mi()),Zp(e,null!=n&&"function"==typeof n?n:zt()),Ci(e)):e.h3r(),St()}}(n,t,y)),bi(t),m=!0,St()}finally{t.h3k_1=!1,t.w3j_1.va(),m||function(t){hr(t),t.l3j_1.va(),t.o3j_1.va(),t.q3j_1.va(),t.x3j_1.va(),t.b3k_1.va(),t.z3j_1.va(),t.j3k_1.p1e(),t.q3k_1=0,t.e3k_1=0,t.v3j_1=!1,t.h3k_1=!1,t.u3j_1=!1}(t)}break t}finally{Gp().s3p(i)}}var v}function wr(t){this.t3p_1=t}function br(t,e,n){for(;!t.u3p(n);)t.p3m(),t.q3o(t.x3h_1)&&e.w3f(),t.f3o()}function xr(t,e,n,i){var r;if(t.j3k_1.c3q(e)){var o=t.j3k_1.j3m(e),s=o instanceof Ur?o:zt(),a=t.j3k_1.a3q(e,0),u=t.j3k_1.k3n(e),l=e+t.j3k_1.y3n(e)|0,c=function(t,e,n){mo();var i=Ot(),r=io(t,e);t:for(;r<t.g();){var o=t.l(r);if(!(o.j3o_1<n))break t;i.b(o),r=r+1|0}return i}(t.w3j_1,e,l),h=oe(c.g()),p=0,_=c.g()-1|0;if(p<=_)do{var f=p;p=p+1|0;var d=c.l(f),m=se(d.i3o_1,d.k3o_1);h.b(m)}while(p<=_);var y,v=h,g=new Nr(s,a,t.k3j_1,t.g3j_1,u,v,Ai(t,e));if(t.f3j_1.b3q(g),cr(t),Ki(t,function(t,e,n){return function(i,r,o){var s=new Ia,a=s.o3m();try{a.j3n(),r.i3r(t,1,a),a.g3o()}finally{a.p1e()}var u=new qr(s);return e.f3j_1.j3r(n,u),St()}}(u,t,g)),n){fr(t),er(t),ir(t);var w=t.j3k_1.q3o(e)?1:t.j3k_1.r3o(e);w>0&&pr(t,i,w),y=0}else y=t.j3k_1.r3o(e);r=y}else if(t.j3k_1.z3p(e)){for(var b=e+t.j3k_1.y3n(e)|0,x=e+1|0,$=0;x<b;){var C=t.j3k_1.q3o(x);C&&(fr(t),rr(t,t.j3k_1.i3p(x))),$=$+xr(t,x,!!C||n,C?0:i+$|0)|0,C&&(fr(t),or(t)),x=x+t.j3k_1.y3n(x)|0}r=$}else r=t.j3k_1.r3o(e);return r}function $r(t,e){return function(n,i){var r=n;r.x3g(935231726);var o=function(t,e,n,i){mo();var r=n;r.x3g(692276709);for(var o=il().n1s(),s=t,a=0,u=s.length;a<u;){var l=s[a];if(a=a+1|0,l.g3t_1||!Gr(e,l.e3t_1)){var c=l.e3t_1,h=c instanceof Ro?c:zt(),p=l.e3t_1.v3t(l.f3t_1,r,0);o.a(h,p)}}var _=o.i1s();return r.b3h(),_}(t,e,r);return r.b3h(),o}}function Cr(t,e){return function(n,i,r){return Gt(n,li)||zt(),t._v=function(t,e,n){var i=t.w3p(e);Lr(t.w3h_1<i),br(t,n,i);for(var r=function(t){for(var e=t.w3h_1,n=t.x3h_1;n>=0&&!t.q3o(n);)n=t.l3m(n);var i=0;for(n=n+1|0;n<e;)t.v3p(e,n)?(t.q3o(n)&&(i=0),n=n+1|0):(i=i+(t.q3o(n)?1:t.r3o(n))|0,n=n+t.y3n(n)|0);return i}(t);t.w3h_1<i;)t.y3p(i)?(t.x3p()&&(n.v3f(t.i3p(t.w3h_1)),r=0),t.r3m()):r=r+t.h3m()|0;return Lr(t.w3h_1===i),r}(i,e,n),St()}}function Er(t,e,n,i){return function(){t:{var r=t.i3j_1;try{t.i3j_1=e;e:{var o=t.j3k_1,s=t.r3j_1;t.r3j_1=null;try{t.j3k_1=n,Vi(t,i.q3q_1,i.w3q_1,i.r3q_1,!0);break e}finally{t.j3k_1=o,t.r3j_1=s}}break t}finally{t.i3j_1=r}}return St()}}function Ar(t,e){return function(n,i,r){var o=t._v>0?new ci(n,t._v):n,s=0,a=e.g()-1|0;if(s<=a){do{var u=s;s=s+1|0,e.l(u)(o,i,r)}while(s<=a);St()}return St()}}function kr(t,e){return function(n,i,r){var o=t._v,s=0,a=e.g()-1|0;if(s<=a){do{var u=s;s=s+1|0;var l=e.l(u);Gt(n,li)||zt(),n.y3f(o+u|0,l),n.x3f(o+u|0,l)}while(s<=a);St()}return St()}}function Sr(t,e,n){return function(i,r,o){var s,a=t.f3j_1.y3q(e);null==a?Qr("Could not resolve state for movable content"):s=a;var u=s,l=r.b3r(1,u.z3q_1,1);if(!l.m()){var c=n.s3q_1,h=c instanceof So?c:zt(),p=0,_=l.g()-1|0;if(p<=_){do{var f=p;p=p+1|0;var d=l.l(f),m=r.c3r(d,0),y=m instanceof ls?m:null;null==y||(y.b3i_1=h,St())}while(p<=_);St()}}return St()}}function Tr(t,e){return function(){return Vi(t,e.q3q_1,e.w3q_1,e.r3q_1,!0),St()}}function Ir(t,e){return function(n,i,r){var o=t._v>0?new ci(n,t._v):n,s=0,a=e.g()-1|0;if(s<=a){do{var u=s;s=s+1|0,e.l(u)(o,i,r)}while(s<=a);St()}return St()}}function Or(t,e,n,i,r,o,s){this.e3j_1=t,this.f3j_1=e,this.g3j_1=n,this.h3j_1=i,this.i3j_1=r,this.j3j_1=o,this.k3j_1=s,this.l3j_1=new Au,this.m3j_1=null,this.n3j_1=0,this.o3j_1=new Eu,this.p3j_1=0,this.q3j_1=new Eu,this.r3j_1=null,this.s3j_1=null,this.t3j_1=!1,this.u3j_1=!1,this.v3j_1=!1;var a;a=Ot(),this.w3j_1=a,this.x3j_1=new Eu,this.y3j_1=il(),this.z3j_1=Jt(),this.a3k_1=!1,this.b3k_1=new Eu,this.c3k_1=!1,this.d3k_1=-1,this.e3k_1=0,this.f3k_1=Qh(),this.g3k_1=new Au,this.h3k_1=!1,this.i3k_1=!1;var u,l=this.g3j_1.k3l();l.p1e(),u=l,this.j3k_1=u,this.k3k_1=new Ia;var c,h=this.k3k_1.o3m();h.p1e(),c=h,this.l3k_1=c,this.m3k_1=!1;var p,_,f=this.k3k_1.k3l();try{_=f.k3n(0)}finally{f.p1e()}p=_,this.n3k_1=p;var d;d=Ot(),this.o3k_1=d,this.p3k_1=!1,this.q3k_1=0,this.r3k_1=0,this.s3k_1=new Au,this.t3k_1=0,this.u3k_1=!1,this.v3k_1=!0,this.w3k_1=new Eu,this.x3k_1=new Au,this.y3k_1=-1,this.z3k_1=-1,this.a3l_1=-1,this.b3l_1=0}function zr(){}function Mr(){f=this,this.a3h_1=new zr}function Dr(){return null==f&&new Mr,f}function Rr(){}function Pr(){if(g)return St();g=!0,d=new jr("IGNORED",0),m=new jr("SCHEDULED",1),y=new jr("DEFERRED",2),v=new jr("IMMINENT",3)}function jr(t,e){te.call(this,t,e)}function Nr(t,e,n,i,r,o,s){this.q3q_1=t,this.r3q_1=e,this.s3q_1=n,this.t3q_1=i,this.u3q_1=r,this.v3q_1=o,this.w3q_1=s,this.x3q_1=8}function Lr(t){return mo(),void(t||Qr(Tt("Check failed")))}function qr(t){this.z3q_1=t,this.a3r_1=8}function Br(t,e,n){this.e3t_1=t,this.f3t_1=e,this.g3t_1=n,this.h3t_1=0}function Fr(){}function Ur(){}function Hr(t){return function(){var e,n=(mo(),Jt()),i=0,r=t.x3m_1.g();if(i<r)do{var o=i;i=i+1|0;var s=t.x3m_1.l(o);eo(n,(e=s,mo(),null!=e.m3n_1?new Xo(e.l3n_1,e.m3n_1):e.l3n_1),s)}while(i<r);return n}}function Vr(t,e){if(this.x3m_1=t,this.y3m_1=e,this.z3m_1=0,!(this.y3m_1>=0))throw le(Tt("Invalid start index"));var n;n=Ot(),this.a3n_1=n;var i,r=0,o=Jt(),s=0,a=this.x3m_1.g();if(s<a)do{var u=s;s=s+1|0;var l=this.x3m_1.l(u),c=l.n3n_1,h=new to(u,r,l.o3n_1);o.a(c,h),r=r+l.o3n_1|0}while(s<a);i=o,this.b3n_1=i,this.c3n_1=ce(Hr(this))}function Yr(t,e,n){this.i3o_1=t,this.j3o_1=e,this.k3o_1=n}function Wr(t){return mo(),t?1:0}function Gr(t,e){return mo(),t.r2(e instanceof Ro?e:zt())}function Zr(t,e,n){mo();for(var i=io(t,e);i<t.g()&&t.l(i).j3o_1<n;)t.y3(i)}function Kr(t,e,n){mo();var i=io(t,e);if(i<t.g()){var r=t.l(i);if(r.j3o_1<n)return r}return null}function Xr(t,e){mo();var n=ro(t,e);return n>=0?t.y3(n):null}function Jr(t,e){mo();var n=Ot(),i=t.k3l();try{po(i,n,t.w3p(e))}finally{i.p1e()}return n}function Qr(t){throw mo(),Dt(Tt("Compose Runtime internal error. Unexpected or incorrect use of the Compose internal runtime API ("+t+"). Please report to Google or use https://goo.gle/compose-feedback"))}function to(t,e,n){this.o3t_1=t,this.p3t_1=e,this.q3t_1=n}function eo(t,e,n){mo();var i,r=t.o(e);if(null==r){var o=Kt();t.a(e,o),i=o}else i=r;return i.b(n)}function no(t,e){mo();var n,i=t.o(e),r=null==i?null:he(i);return null==r?n=null:(function(t,e,n){mo();var i,r=t.o(e);null==r?i=null:(r.sa(n),r.m()&&(t.p3(e),St()),i=St())}(t,e,r),n=r),n}function io(t,e){mo();var n=ro(t,e);return n<0?0|-(n+1|0):n}function ro(t,e){mo();for(var n=0,i=t.g()-1|0;n<=i;){var r=(n+i|0)>>>1|0,o=t.l(r),s=pe(o.j3o_1,e);if(s<0)n=r+1|0;else{if(!(s>0))return r;i=r-1|0}}return 0|-(n+1|0)}function oo(t,e,n){mo();for(var i=0,r=e;r>0&&r!==n;)r=t.l3m(r),i=i+1|0;return i}function so(t,e){mo(),t.q3s(e)}function ao(){return mo(),!(null==fi())}function uo(t,e,n,i){mo();var r=fi();return null==r||(r.d3u(t,e,n,i),St()),St()}function lo(){mo();var t=fi();return null==t||(t.e3u(),St()),St()}function co(t){this.f3u_1=t}function ho(t){this.g3u_1=t}function po(t,e,n){if(t.q3o(n))e.b(t.i3p(n));else for(var i=n+1|0,r=n+t.y3n(n)|0;i<r;)po(t,e,i),i=i+t.y3n(i)|0}function _o(){return Pr(),d}function fo(){return Pr(),v}function mo(){w||(w=!0,i=null,r=function(t,e,n){return gi(e,n),St()},o=function(t,e,n){return e.p3m(),St()},s=function(t,e,n){return e.f3o(),St()},a=function(t,e,n){return e.h3u(0),St()},u=function(t,e,n){return e.n2n(),St()},l=new ns("provider"),c=new ns("provider"),h=new ns("compositionLocalMap"),p=new ns("providerValues"),_=new ns("providers"),new ns("reference"))}function yo(){return zo(),b}function vo(t,e,n,i,r){return function(t,e,n,i,r,o){return 0!=(4&i)&&(n=null),So.call(o,t,e,n),o}(t,e,n,i,0,Object.create(So.prototype))}function go(t){var e=t.k3i_1.k3u(yo());if(null==e);else{if(Zt(e,yo()))throw Dt("pending composition has not been applied");if(null!=e&&Gt(e,me))bo(t,null!=e&&Gt(e,me)?e:zt(),!0);else{if(null==e||!de(e)){var n="corrupt pendingModifications drain: "+t.k3i_1;throw Dt(Tt(n))}for(var i=null!=e&&de(e)?e:zt(),r=0,o=i.length;r<o;){var s=i[r];r=r+1|0,bo(t,s,!0)}}}}function wo(t){var e=t.k3i_1.k3u(null);if(Zt(e,yo()));else if(null!=e&&Gt(e,me))bo(t,null!=e&&Gt(e,me)?e:zt(),!1);else{if(null==e||!de(e)){if(null==e)throw Dt("calling recordModificationsOf and applyChanges concurrently is not supported");var n="corrupt pendingModifications drain: "+t.k3i_1;throw Dt(Tt(n))}for(var i=null!=e&&de(e)?e:zt(),r=0,o=i.length;r<o;){var s=i[r];r=r+1|0,bo(t,s,!1)}}}function bo(t,e,n){for(var i={_v:null},r=e.d();r.e();){var o=r.f();if(o instanceof ls)o.l3u(null);else{ko(t,n,i,o);var s=t.q3i_1,a=Uu(s,o);if(a>=0)for(var u=Fu(s,a).d();u.e();)ko(t,n,i,u.f())}}if(n&&!t.p3i_1.m()){var l=t.o3i_1,c=0,h=0,p=l.p3u_1;if(h<p)do{var _=h;h=h+1|0;var f=l.m3u_1[_],d=ye(l.o3u_1[f]),m=0,y=0,v=d.w3t_1;if(y<v)do{var g=y;y=y+1|0;var w,b=d.x3t_1[g],x=Mt(b)?b:zt();if(t.p3i_1.n(x))w=!0;else{var $=i._v;w=!0===(null==$?null:$.n(x))}w||(m!==g&&(d.x3t_1[m]=x),m=m+1|0)}while(y<v);var C=m,E=d.w3t_1;if(C<E)do{var A=C;C=C+1|0,d.x3t_1[A]=null}while(C<E);if(d.w3t_1=m,d.w3t_1>0){if(c!==_){var k=l.m3u_1[c];l.m3u_1[c]=f,l.m3u_1[_]=k}c=c+1|0}}while(h<p);var S=c,T=l.p3u_1;if(S<T)do{var I=S;S=S+1|0,l.n3u_1[l.m3u_1[I]]=null}while(S<T);l.p3u_1=c,t.p3i_1.va()}else{var O=i._v;if(null==O);else{var z=t.o3i_1,M=0,D=0,R=z.p3u_1;if(D<R)do{var P=D;D=D+1|0;var j=z.m3u_1[P],N=ye(z.o3u_1[j]),L=0,q=0,B=N.w3t_1;if(q<B)do{var F=q;q=q+1|0;var U=N.x3t_1[F],H=Mt(U)?U:zt();O.n(H)||(L!==F&&(N.x3t_1[L]=H),L=L+1|0)}while(q<B);var V=L,Y=N.w3t_1;if(V<Y)do{var W=V;V=V+1|0,N.x3t_1[W]=null}while(V<Y);if(N.w3t_1=L,N.w3t_1>0){if(M!==P){var G=z.m3u_1[M];z.m3u_1[M]=j,z.m3u_1[P]=G}M=M+1|0}}while(D<R);var Z=M,K=z.p3u_1;if(Z<K)do{var X=Z;Z=Z+1|0,z.n3u_1[z.m3u_1[X]]=null}while(Z<K);z.p3u_1=M,St()}}}function xo(t,e){var n=t.o3i_1,i=Uu(n,e);if(i>=0)for(var r=Fu(n,i).d();r.e();){var o=r.f();o.l3u(e).equals(fo())&&t.t3i_1.q3u(e,o)}}function $o(t,e){var n=new Ao(t.m3i_1);try{if(e.m())return St();t.j3i_1.t3f();var i=t.n3i_1.o3m();try{var r=t.j3i_1,o=0,s=e.g()-1|0;if(o<=s)do{var a=o;o=o+1|0,e.l(a)(r,i,n)}while(o<=s);e.va()}finally{i.p1e()}if(t.j3i_1.u3f(),n.v3u(),n.w3u(),t.v3i_1){t.v3i_1=!1;var u=t.o3i_1,l=0,c=0,h=u.p3u_1;if(c<h)do{var p=c;c=c+1|0;var _=u.m3u_1[p],f=ye(u.o3u_1[_]),d=0,m=0,y=f.w3t_1;if(m<y)do{var v=m;m=m+1|0;var g=f.x3t_1[v],w=Mt(g)?g:zt();w.x3u()&&(d!==v&&(f.x3t_1[d]=w),d=d+1|0)}while(m<y);var b=d,x=f.w3t_1;if(b<x)do{var $=b;b=b+1|0,f.x3t_1[$]=null}while(b<x);if(f.w3t_1=d,f.w3t_1>0){if(l!==p){var C=u.m3u_1[l];u.m3u_1[l]=_,u.m3u_1[p]=C}l=l+1|0}}while(c<h);var E=l,A=u.p3u_1;if(E<A)do{var k=E;E=E+1|0,u.n3u_1[u.m3u_1[k]]=null}while(E<A);u.p3u_1=l;var S=t.q3i_1,T=0,I=0,O=S.p3u_1;if(I<O)do{var z=I;I=I+1|0;var M=S.m3u_1[z],D=ye(S.o3u_1[M]),R=0,P=0,j=D.w3t_1;if(P<j)do{var N=P;P=P+1|0;var L=D.x3t_1[N],q=Mt(L)?L:zt();t.o3i_1.y3u(q)&&(R!==N&&(D.x3t_1[R]=q),R=R+1|0)}while(P<j);var B=R,F=D.w3t_1;if(B<F)do{var U=B;B=B+1|0,D.x3t_1[U]=null}while(B<F);if(D.w3t_1=R,D.w3t_1>0){if(T!==z){var H=S.m3u_1[T];S.m3u_1[T]=M,S.m3u_1[z]=H}T=T+1|0}}while(I<O);var V=T,Y=S.p3u_1;if(V<Y)do{var W=V;V=V+1|0,S.n3u_1[S.m3u_1[W]]=null}while(V<Y);S.p3u_1=T}}finally{t.s3i_1.m()&&n.z3u()}}function Co(t,e,n,i){t.l3i_1;var r,o=t.w3i_1,s=null==o?null:t.n3i_1.a3v(t.x3i_1,n)?o:null;if(null==s){if(t.b3v()&&t.y3i_1.g3p(e,i))return fo();null==i?t.u3i_1.c3v(e,null):function(t,e,n){if(zo(),t.l3w(e)){var i=t.k3w(e);null==i||i.y3t(n)}else{var r,o=new Bu;o.y3t(n),r=o,t.c3v(e,r)}}(t.u3i_1,e,i)}return null!=(r=s)?Co(r,e,n,i):(t.i3i_1.d3v(t),t.b3v()?(Pr(),y):(Pr(),m))}function Eo(t){var e=t.u3i_1;return t.u3i_1=Du(0,1,null),e}function Ao(t){this.r3u_1=t;var e;e=Ot(),this.s3u_1=e;var n;n=Ot(),this.t3u_1=n;var i;i=Ot(),this.u3u_1=i}function ko(t,e,n,i){var r=t.o3i_1,o=Uu(r,i);if(o>=0)for(var s=Fu(r,o).d();s.e();){var a=s.f();if(!t.t3i_1.i3v(i,a)&&!a.l3u(i).equals(_o()))if(a.h3v()&&!e)t.p3i_1.b(a);else{var u,l=n._v;if(null==l){var c=ve();n._v=c,u=c}else u=l;u.b(a)}}}function So(t,e,n){this.i3i_1=t,this.j3i_1=e,this.k3i_1=new qp(null),this.l3i_1=Su(),this.m3i_1=ve(),this.n3i_1=new Ia,this.o3i_1=new Vu,this.p3i_1=ve(),this.q3i_1=new Vu;var i;i=Ot(),this.r3i_1=i;var r;r=Ot(),this.s3i_1=r,this.t3i_1=new Vu,this.u3i_1=Du(0,1,null),this.v3i_1=!1,this.w3i_1=null,this.x3i_1=0;var o,s=new Or(this.j3i_1,this.i3i_1,this.n3i_1,this.m3i_1,this.r3i_1,this.s3i_1,this);this.i3i_1.j3v(s),o=s,this.y3i_1=o,this.z3i_1=n;var a=this.i3i_1;this.a3j_1=a instanceof Ys,this.b3j_1=!1,this.c3j_1=(null==x&&new Io,x).k3v_1}function To(){}function Io(){x=this,this.k3v_1=gh(954879418,!1,(function(t,e){var n=t;return 2==(11&e)&&n.p3q()?n.p3m():St(),St()})),this.l3v_1=gh(1918065384,!1,(function(t,e){var n=t;return 2==(11&e)&&n.p3q()?n.p3m():St(),St()}))}function Oo(){}function zo(){$||($=!0,b=new Object)}function Mo(){return E||(E=!0,C=il()),C}function Do(){this.l3l_1=0}function Ro(t){this.m3m_1=new Iu(t)}function Po(t){Ro.call(this,t)}function jo(t){Po.call(this,t)}function No(t,e){Po.call(this,e),this.r3w_1=t}function Lo(t,e,n,i){var r=n;ao()&&uo(-266554972,-1,-1,"androidx.compose.runtime.CompositionLocalProvider$composable (CompositionLocal.kt:225)"),so(r=r.k3s(-266554972),"C(CompositionLocalProvider$composable)P(1)");var o=i;r.f3s(t);var s=e;s instanceof Jp?s.s3w(r,14&o>>3):s(r,14&o>>3),r.h3s();var a,u,l,c=r.l3s();null===c||c.k3t((a=t,u=e,l=i,function(t,e){return function(t,e,n,i,r){Lo(t.slice(),e,i,1|n)}(a,u,l,t),St()})),ao()&&lo()}function qo(){return Fo(),A}function Bo(){}function Fo(){k||(k=!0,A=new Bp,new Bp)}function Uo(t){this.w3w_1=t}function Ho(){this.x3w_1=0}function Vo(){}function Yo(t,e){this.a3x_1=e,this.b3x_1=we(t),this.c3x_1=null}function Wo(t){this.z3w_1=t}function Go(t){this.d3x_1=t,this.e3x_1=null}function Zo(){T||(T=!0,S=new Ho)}function Ko(t,e){var n;if(e instanceof te)n=e.h5_1;else{var i=null==e?null:Qt(e);n=null==i?0:i}return n}function Xo(t,e){this.f3x_1=t,this.g3x_1=e}function Jo(){I=this}function Qo(){return null==I&&new Jo,I}function ts(){}function es(){return O}function ns(t){this.h3x_1=t}function is(t,e,n,i,r,o){var s=r;s.x3g(-655265235),so(s,"C(produceState$composable)");var a=s;a.x3g(547886695),so(a,"C(remember$composable)");var u,l=a,c=l.y3g();if(c===Dr().a3h_1){var h=xu(t,null,2);l.z3g(h),u=h}else u=c;var p=u,_=null==p||Mt(p)?p:zt();a.b3h();var f,d,m,y,v,g=_;!function(t,e,n,i,r){Zo();var o=i;o.x3g(-1365960137),so(o,"C(LaunchedEffect$composable)P(1,2)");var s=o.n3r(),a=o;a.x3g(-1124426577),so(a,"C(remember$composable)P(1,2)");var u,l=a,c=!!(a.c3h(t)|a.c3h(e)),h=l.y3g();if(c||h===Dr().a3h_1){var p=new Yo(s,n);l.z3g(p),u=p}else u=h;null==u||Mt(u)||zt(),a.b3h(),o.b3h()}(e,n,(f=i,d=g,m=null,y=new ss(f,d,m),v=function(t,e){return y.r2l(t,e)},v.$arity=1,v),s);var w=g;return s.b3h(),w}function rs(){}function os(t,e){this.i3x_1=e,this.j3x_1=t}function ss(t,e,n){this.s3x_1=t,this.t3x_1=e,Me.call(this,n)}function as(t,e){t.c3i_1=e?32|t.c3i_1:-33&t.c3i_1}function us(t,e){t.c3i_1=e?16|t.c3i_1:-17&t.c3i_1}function ls(t){this.b3i_1=t,this.c3i_1=0,this.d3i_1=null,this.e3i_1=null,this.f3i_1=0,this.g3i_1=null,this.h3i_1=null}function cs(){}function hs(){}function ps(){if(N)return St();N=!0,z=new ws("ShutDown",0),M=new ws("ShuttingDown",1),D=new ws("Inactive",2),R=new ws("InactivePendingWork",3),P=new ws("Idle",4),j=new ws("PendingWork",5)}function _s(t,e){t:for(;;){var n=t.b3y_1.b1(),i=n.b(e);if(n===i||t.b3y_1.u16(n,i))break t}}function fs(t,e){t:for(;;){var n=t.b3y_1.b1(),i=n.sa(e);if(n===i||t.b3y_1.u16(n,i))break t}}function ds(t,e){t.va(),e.h3y_1;var n=e.o3y_1,i=0,r=n.g()-1|0;if(i<=r)do{var o=i;i=i+1|0;var s=n.l(o);t.b(s)}while(i<=r);e.o3y_1.va()}function ms(t,e,n,i,r,o){return function(s){var a;if(t.e3y_1.u3g())t:{var u=Gp().m3p("Recomposer:animation");try{t.e3y_1.v3g(s),Fh().x3y();break t}finally{Gp().s3p(u)}}t:{var l=Gp().m3p("Recomposer:recompose");try{t.h3y_1,Cs(t);var c=t.m3y_1,h=0,p=c.g()-1|0;if(h<=p)do{var _=h;h=h+1|0;var f=c.l(_);e.b(f)}while(h<=p);t.m3y_1.va();var d=new Bu,m=new Bu;e:for(;!e.m()||!n.m();){try{var y=0,v=e.g()-1|0;if(y<=v)do{var g=y;y=y+1|0;var w=e.l(g);m.y3t(w);var b=Ss(t,w,d);null==b||(i.b(b),St())}while(y<=v)}finally{e.va()}if(d.j3p()){t.h3y_1;var x=t.k3y_1,$=0,C=x.g()-1|0;if($<=C){do{var E=$;$=$+1|0;var A=x.l(E);!m.o1(A)&&A.p3v(d)&&e.b(A)}while($<=C);St()}}if(e.m())for(ds(n,t);!n.m();){var k=Ts(t,n,d);Pe(r,k),ds(n,t)}}if(!i.m()){var S=t,T=S.d3y_1;S.d3y_1=T.uh();try{Pe(o,i);var I=0,O=i.g()-1|0;if(I<=O)do{var z=I;I=I+1|0,i.l(z).x3v()}while(I<=O)}finally{i.va()}}if(!r.m())try{Pe(o,r);for(var M=r.d();M.e();)M.f().y3v()}finally{r.va()}if(!o.m())try{for(var D=o.d();D.e();)D.f().u3r()}finally{o.va()}(function(t){var e;if(t.h3y_1,t.p3y_1.m())e=ee();else{var n=qe(t.p3y_1.y2());t.p3y_1.va();var i=oe(n.g()),r=0,o=n.g()-1|0;if(r<=o)do{var s=r;r=r+1|0;var a=n.l(s),u=se(a,t.q3y_1.o(a));i.b(u)}while(r<=o);var l=i;t.q3y_1.va(),e=l}var c=e,h=0,p=c.g()-1|0;if(h<=p)do{var _=h;h=h+1|0;var f=c.l(_),d=f.w3(),m=f.x3();null!=m&&d.s3q_1.w3v(m)}while(h<=p)})(t),t.h3y_1,a=bs(t);break t}finally{Gp().s3p(l)}}return a}}function ys(t){return function(e,n){var i;t.h3y_1,t.u3y_1.b1().j5(Us())>=0?(t.l3y_1.b(e),i=bs(t)):i=null;var r,o=i;return null==o||(jt(),r=Nt(St()),o.g4(r)),St()}}function vs(t,e,n){this.g3z_1=t,this.h3z_1=e,Me.call(this,n)}function gs(t,e,n){var i=new vs(t,e,n),r=function(t,e){return i.r2l(t,e)};return r.$arity=1,r}function ws(t,e){te.call(this,t,e)}function bs(t){if(t.u3y_1.b1().j5(Bs())<=0){t.k3y_1.va(),t.l3y_1.va(),t.m3y_1.va(),t.n3y_1.va(),t.o3y_1.va();var e=t.r3y_1;return null==e||e.sq(null,1,null),t.r3y_1=null,null}var n;null==t.i3y_1?(t.l3y_1.va(),t.m3y_1.va(),n=t.e3y_1.u3g()?(ps(),R):Fs()):n=!!(!!(!t.m3y_1.m()||!t.l3y_1.m())||!t.n3y_1.m())||!t.o3y_1.m()||t.s3y_1>0||t.e3y_1.u3g()?Hs():Us();var i,r=n;if(t.u3y_1.t16(r),r.equals(Hs())){var o=t.r3y_1;t.r3y_1=null,i=o}else i=null;return i}function xs(t){var e;if(t.h3y_1,t.t3y_1){var n;t:{for(var i=t.f3y_1.rt().d();i.e();)if(i.f().hn()){n=!0;break t}n=!1}e=n}else e=!0;return e}function $s(t){this.j3z_1=t}function Cs(t){if(!t.l3y_1.m()){var e=t.l3y_1,n=0,i=e.g()-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=e.l(r),s=t.k3y_1,a=0,u=s.g()-1|0;if(a<=u)do{var l=a;a=a+1|0,s.l(l).n3v(o)}while(a<=u)}while(n<=i);if(t.l3y_1.va(),null!=bs(t))throw Dt("called outside of runRecomposeAndApplyChanges")}}function Es(t,e){t.h3y_1;var n=t.j3y_1;if(null!=n)throw n;if(t.u3y_1.b1().j5(Bs())<=0)throw Dt("Recomposer shut down");if(null!=t.i3y_1)throw Dt("Recomposer already running");t.i3y_1=e,bs(t)}function As(t){return t.h3y_1,!(t.l3y_1.m()&&t.m3y_1.m())||t.e3y_1.u3g()}function ks(t,e,n){var i,r,o=function(t){var e=t.u4(Qo());if(null==e)throw Dt(Tt("A MonotonicFrameClock is not available in this CoroutineContext. Callers should supply an appropriate MonotonicFrameClock using withContext."));return e}(n.i4());return je(t.e3y_1,(i=new Ls(t,e,o,null),r=function(t,e){return i.r2l(t,e)},r.$arity=1,r),n)}function Ss(t,e,n){if(e.b3v()||e.m3v())return null;var i,r,o;t:{var s=Fh().w3z(Is(0,e),Os(0,e,n));try{var a;e:{var u=s.x3z();try{!0===(null==n?null:n.j3p())&&e.s3s((r=n,o=e,function(){for(var t=r.d();t.e();){var e=t.f();o.t3v(e)}return St()})),a=e.u3v();break e}finally{s.y3z(u)}}i=a;break t}finally{zs(0,s)}}return i?e:null}function Ts(t,e,n){var i=Ne(e.g()),r=0,o=e.g()-1|0;if(r<=o)do{var s=r;r=r+1|0;var a,u=e.l(s),l=u.s3q_1,c=i.o(l);if(null==c){var h=Ot();i.a(l,h),a=h}else a=c;a.b(u)}while(r<=o);for(var p=i,_=p.z().d();_.e();){var f=_.f(),d=f.a1(),m=f.b1();Lr(!d.b3v());t:{var y=Fh().w3z(Is(0,d),Os(0,d,n));try{e:{var v=y.x3z();try{t.h3y_1;var g=oe(m.g()),w=0,b=m.g()-1|0;if(w<=b)do{var x=w;w=w+1|0;var $=m.l(x),C=se($,Gs(t.p3y_1,$.q3q_1));g.b(C)}while(w<=b);var E=g;d.v3v(E);break e}finally{y.y3z(v)}}break t}finally{zs(0,y)}}}return Le(p.x2())}function Is(t,e){return n=e,function(t){return n.q3v(t),St()};var n}function Os(t,e,n){return i=e,r=n,function(t){return i.t3v(t),null==r||r.y3t(t),St()};var i,r}function zs(t,e){try{if(e.m40()instanceof Gh)throw Dt(Tt("Unsupported concurrent change during composition. A state object was modified by composition as well as being modified outside composition."))}finally{e.yq()}}function Ms(t){return!t.m3y_1.m()||t.e3y_1.u3g()}function Ds(){L=this,this.b3y_1=Be(sh().h46())}function Rs(){return null==L&&new Ds,L}function Ps(t,e,n){t.va(),e.h3y_1;for(var i=e.o3y_1.d();i.e();){var r=i.f();Zt(r.s3q_1,n)&&(t.b(r),i.z3())}St()}function js(t){return function(e){var n=Fe("Recomposer effect job completed",e),i=null,r=(t.h3y_1,t.i3y_1);null!=r?(t.u3y_1.t16(Bs()),t.t3y_1?null!=t.r3y_1&&(i=t.r3y_1):r.mo(n),t.r3y_1=null,r.ho(function(t,e){return function(n){t.h3y_1;var i,r,o=t,s=e;return null==s?i=null:(null==(r=null==n||n instanceof Ue?null:n)||He(s,r),i=s),o.j3y_1=i,t.u3y_1.t16(qs()),St()}}(t,e))):(t.j3y_1=n,t.u3y_1.t16(qs()),St());var o,s=i;return null==s||(jt(),o=Nt(St()),s.g4(o)),St()}}function Ns(t,e){this.v40_1=t,Me.call(this,e)}function Ls(t,e,n,i){this.o41_1=t,this.p41_1=e,this.q41_1=n,Me.call(this,i)}function qs(){return ps(),z}function Bs(){return ps(),M}function Fs(){return ps(),D}function Us(){return ps(),P}function Hs(){return ps(),j}function Vs(t,e){Me.call(this,e),this.s3z_1=t}function Ys(t){var e;Rs(),Do.call(this),this.d3y_1=new Ge(0,0),this.e3y_1=new _i((e=this,function(){e.h3y_1;var t=bs(e);if(e.u3y_1.b1().j5(Bs())<=0)throw Fe("Recomposer shutdown; frame clock awaiter will never resume",e.j3y_1);var n,i=t;return null==i||(jt(),n=Nt(St()),i.g4(n)),St()}));var n,i=Ee(t.u4(Ce()));i.ho(js(this)),n=i,this.f3y_1=n,this.g3y_1=t.b5(this.e3y_1).b5(this.f3y_1),this.h3y_1=Su(),this.i3y_1=null,this.j3y_1=null;var r;r=Ot(),this.k3y_1=r;var o;o=Ot(),this.l3y_1=o;var s;s=Ot(),this.m3y_1=s;var a;a=Ot(),this.n3y_1=a;var u;u=Ot(),this.o3y_1=u;var l;l=Ze(),this.p3y_1=l;var c;c=Ze(),this.q3y_1=c,this.r3y_1=null,this.s3y_1=0,this.t3y_1=!1,this.u3y_1=Be(Fs()),this.v3y_1=new $s(this),this.w3y_1=8}function Ws(){}function Gs(t,e){Zs();var n,i=t.o(e);if(null==i)n=null;else{var r=Ke(i);i.m()&&t.p3(e),n=r}return n}function Zs(){q||(q=!0,new Object,new Object)}function Ks(){}function Xs(t,e,n,i,r,o){var s=e.y3n(n),a=n+s|0,u=va(e,n),l=va(e,a),c=l-u|0,h=function(t,e){return e>=0&&Za(t.g3h_1,da(t,e))}(e,n);la(i,s),ca(i,c,i.w3h_1),e.j3h_1<a&&aa(e,a),e.o3h_1<l&&ua(e,l,a);var p=i.g3h_1,_=i.w3h_1,f=e.g3h_1,d=At(_,5),m=At(n,5),y=At(a,5);Xe(f,p,d,m,y);var v=i.h3h_1,g=i.m3h_1,w=e.h3h_1;Xe(w,v,g,u,l);var b=i.x3h_1;Fa(p,_,b);var x=_-n|0,$=_+s|0,C=g-ga(p,i,_)|0,E=i.q3h_1,A=i.p3h_1,k=v.length,S=_;if(S<$)do{var T=S;S=S+1|0,T!==_&&Fa(p,T,Ua(p,T)+x|0),Ha(p,T,Ca(0,ga(p,i,T)+C|0,E<T?0:i.o3h_1,A,k)),T===E&&(E=E+1|0)}while(S<$);i.q3h_1=E;var I,O=Va(e.i3h_1,n,e.g()),z=Va(e.i3h_1,a,e.g());if(O<z){var M=e.i3h_1,D=oe(z-O|0),R=_-n|0,P=O;if(P<z)do{var j=P;P=P+1|0;var N=M.l(j),L=N;L.q3p_1=L.q3p_1+R|0,D.b(N)}while(P<z);var q=Va(i.i3h_1,i.w3h_1,i.g());i.i3h_1.ec(q,D),M.nb(O,z).va(),I=D}else I=ee();var B,F=I,U=e.l3m(n);if(r){var H=U>=0;H&&(e.r3m(),e.d3r(U-e.w3h_1|0),e.r3m()),e.d3r(n-e.w3h_1|0);var V=e.d3j();H&&(e.p3m(),e.f3o(),e.p3m(),e.f3o()),B=V}else{var Y=ha(e,n,s);pa(e,u,c,n-1|0),B=Y}!B||Qr(Tt("Unexpectedly removed anchors"));var W=i;return W.s3h_1=W.s3h_1+(za(p,_)?1:Ma(p,_))|0,o&&(i.w3h_1=_+s|0,i.m3h_1=g+c|0),h&&na(i,b),F}function Js(t,e,n,i,r){var o=t.r3h_1>0;t.v3h_1.q3l(t.s3h_1);var s,a=t;if(o){la(t,1);var u=t.w3h_1,l=da(t,u),c=!(n===Dr().a3h_1),h=!(i||r===Dr().a3h_1);(function(t,e,n,i,r,o,s,a){var u=i?1073741824:0,l=r?536870912:0,c=o?268435456:0,h=At(e,5);t[h+0|0]=n,t[h+1|0]=u|l|c,t[h+2|0]=s,t[h+3|0]=0,t[h+4|0]=a})(t.g3h_1,l,e,i,c,h,t.x3h_1,t.m3h_1),t.n3h_1=t.m3h_1;var p=((i?1:0)+(c?1:0)|0)+(h?1:0)|0;if(p>0){ca(t,p,u);var _=t.h3h_1,f=t.m3h_1;if(i){var d=f;f=d+1|0,_[d]=r}if(c){var m=f;f=m+1|0,_[m]=n}if(h){var y=f;f=y+1|0,_[y]=r}t.m3h_1=f}t.s3h_1=0;var v=u+1|0;t.x3h_1=u,t.w3h_1=v,s=v}else{var g=t.x3h_1;t.t3h_1.q3l(g),ra(t);var w=t.w3h_1,b=da(t,w);Zt(r,Dr().a3h_1)||(i?t.b42(r):t.g3q(r)),t.m3h_1=wa(t.g3h_1,t,b),t.n3h_1=ga(t.g3h_1,t,da(t,t.w3h_1+1|0)),t.s3h_1=Ma(t.g3h_1,b),t.x3h_1=w,t.w3h_1=w+1|0,s=w+ja(t.g3h_1,b)|0}a.l3h_1=s}function Qs(){B=this}function ta(){return null==B&&new Qs,B}function ea(t){var e=t.z3h_1;if(null==e);else{for(;e.j3p();)ia(t,e.d42(),e);St()}}function na(t,e){if(e>=0){var n,i=t.z3h_1;if(null==i){var r=function(t,e,n,i){var r;return 0!=(1&e)&&(r=Ot(),St(),t=r),Ba.call(i,t),i}(null,1,0,Object.create(Ba.prototype));t.z3h_1=r,n=r}else n=i;n.e42(e)}}function ia(t,e,n){var i,r,o,s=da(t,e),a=function(t,e){for(var n=e+1|0,i=e+t.y3n(e)|0;n<i;){if(Za(t.g3h_1,da(t,n)))return!0;n=n+t.y3n(n)|0}return!1}(t,e);if(Ga(t.g3h_1,s)!==a){i=t.g3h_1,r=a,o=At(s,5)+1|0,i[o]=r?67108864|i[o]:-67108865&i[o];var u=t.l3m(e);u>=0&&n.e42(u)}}function ra(t){t.u3h_1.q3l((fa(t)-t.k3h_1|0)-t.l3h_1|0)}function oa(t){var e=(fa(t)-t.k3h_1|0)-t.u3h_1.v3n()|0;return t.l3h_1=e,e}function sa(t,e,n,i){for(var r=Aa(t,e,t.j3h_1),o=i;o<n;){Fa(t.g3h_1,da(t,o),r);var s=o+ja(t.g3h_1,da(t,o))|0;sa(t,o,s,o+1|0),o=s}}function aa(t,e){var n=t.k3h_1,i=t.j3h_1;if(i!==e){if(!t.i3h_1.m()&&function(t,e,n){var i=t.k3h_1,r=fa(t)-i|0;if(e<n){var o=Va(t.i3h_1,e,r);t:for(;o<t.i3h_1.g();){var s=t.i3h_1.l(o),a=s.q3p_1;if(!(a<0))break t;if(!((r+a|0)<n))break t;s.q3p_1=r+a|0,o=o+1|0}}else{var u=Va(t.i3h_1,n,r);t:for(;u<t.i3h_1.g();){var l=t.i3h_1.l(u),c=l.q3p_1;if(!(c>=0))break t;l.q3p_1=0|-(r-c|0),u=u+1|0}}}(t,i,e),n>0){var r=t.g3h_1,o=At(e,5),s=At(n,5),a=At(i,5);e<i?Xe(r,r,o+s|0,o,a):Xe(r,r,a,a+s|0,o+s|0)}var u=e<i?e+n|0:i,l=fa(t);for(Lr(u<l);u<l;){var c=Ua(t.g3h_1,u),h=Aa(t,ka(t,c),e);h!==c&&Fa(t.g3h_1,u,h),(u=u+1|0)===e&&(u=u+n|0)}}t.j3h_1=e}function ua(t,e,n){var i=t.p3h_1,r=t.o3h_1,o=t.q3h_1;if(r!==e){var s=t.h3h_1;e<r?Xe(s,s,e+i|0,e,r):Xe(s,s,r,r+i|0,e+i|0),Je(s,null,e,e+i|0)}var a=n+1|0,u=t.g(),l=Math.min(a,u);if(o!==l){var c=t.h3h_1.length-i|0;if(l<o)for(var h=da(t,l),p=da(t,o),_=t.j3h_1;h<p;){var f=Ya(t.g3h_1,h);f>=0||Qr(Tt("Unexpected anchor value, expected a positive anchor")),Ha(t.g3h_1,h,0|-(1+(c-f|0)|0)),(h=h+1|0)===_&&(h=h+t.k3h_1|0)}else for(var d=da(t,o),m=da(t,l);d<m;){var y=Ya(t.g3h_1,d);y<0||Qr(Tt("Unexpected anchor value, expected a negative anchor")),Ha(t.g3h_1,d,1+(c+y|0)|0),(d=d+1|0)===t.j3h_1&&(d=d+t.k3h_1|0)}t.q3h_1=l}t.o3h_1=e}function la(t,e){if(e>0){var n=t.w3h_1;aa(t,n);var i=t.j3h_1,r=t.k3h_1,o=t.g3h_1.length/5|0,s=o-r|0;if(r<e){var a=t.g3h_1,u=At(o,2),l=s+e|0,c=Math.max(u,l),h=Math.max(c,32),p=new Int32Array(At(h,5)),_=h-s|0,f=i+r|0,d=i+_|0,m=At(i,5);Xe(a,p,0,0,m);var y=At(d,5),v=At(f,5),g=At(o,5);Xe(a,p,y,v,g),t.g3h_1=p,r=_}var w=t.l3h_1;w>=i&&(t.l3h_1=w+e|0),t.j3h_1=i+e|0,t.k3h_1=r-e|0;var b=Ca(0,s>0?va(t,n+e|0):0,t.q3h_1<i?0:t.o3h_1,t.p3h_1,t.h3h_1.length),x=i,$=i+e|0;if(x<$)do{var C=x;x=x+1|0,Ha(t.g3h_1,C,b)}while(x<$);var E=t.q3h_1;E>=i&&(t.q3h_1=E+e|0)}}function ca(t,e,n){if(e>0){ua(t,t.m3h_1,n);var i=t.o3h_1,r=t.p3h_1;if(r<e){for(var o=t.h3h_1,s=o.length,a=s-r|0,u=At(s,2),l=a+e|0,c=Math.max(u,l),h=Math.max(c,32),p=0,_=h,f=Qe(Array(_),null);p<_;){null,f[p]=null,p=p+1|0}var d=f,m=h-a|0,y=i+r|0,v=i+m|0;Xe(o,d,0,0,i),Xe(o,d,v,y,s),t.h3h_1=d,r=m}var g=t.n3h_1;g>=i&&(t.n3h_1=g+e|0),t.o3h_1=i+e|0,t.p3h_1=r-e|0}}function ha(t,e,n){var i;if(n>0){var r=!1,o=t.i3h_1;aa(t,e),!o.m()&&(r=function(t,e,n){var i=t.k3h_1,r=e+n|0,o=fa(t)-i|0,s=Va(t.i3h_1,e+n|0,o),a=s>=t.i3h_1.g()?s-1|0:s,u=0,l=a+1|0;t:for(;a>=0;){var c=t.i3h_1.l(a),h=t.w3p(c);if(!(h>=e))break t;h<r&&(c.q3p_1=tn().d1_1,l=a,0===u&&(u=a+1|0)),a=a-1|0}var p=l<u;return p&&t.i3h_1.nb(l,u).va(),p}(t,e,n)),t.j3h_1=e;var s=t.k3h_1+n|0;t.k3h_1=s;var a=t.q3h_1;if(a>e){var u,l=t,c=a-n|0;u=Math.max(e,c),l.q3h_1=u}if(t.l3h_1>=t.j3h_1){var h=t;h.l3h_1=h.l3h_1-n|0}(function(t,e){return e>=0&&Ga(t.g3h_1,da(t,e))})(t,t.x3h_1)&&na(t,t.x3h_1),i=r}else i=!1;return i}function pa(t,e,n,i){if(n>0){var r=t.p3h_1;ua(t,e+n|0,i),t.o3h_1=e,t.p3h_1=r+n|0,Je(t.h3h_1,null,e,e+n|0);var o=t.n3h_1;o>=e&&(t.n3h_1=o-n|0)}}function _a(t,e,n){var i=da(t,e);i<t.g3h_1.length&&za(t.g3h_1,i)||Qr(Tt("Updating the node of a group at "+e+" that was not created with as a node group")),t.h3h_1[ma(t,xa(t.g3h_1,t,i))]=n}function fa(t){return t.g3h_1.length/5|0}function da(t,e){return e<t.j3h_1?e:e+t.k3h_1|0}function ma(t,e){return e<t.o3h_1?e:e+t.p3h_1|0}function ya(t,e,n){return ka(e,Ua(t,da(e,n)))}function va(t,e){return ga(t.g3h_1,t,da(t,e))}function ga(t,e,n){return n>=fa(e)?e.h3h_1.length-e.p3h_1|0:Ea(0,Ya(t,n),e.p3h_1,e.h3h_1.length)}function wa(t,e,n){return n>=fa(e)?e.h3h_1.length-e.p3h_1|0:Ea(0,Ka(t,n),e.p3h_1,e.h3h_1.length)}function ba(t,e,n,i){Ha(t,n,Ca(0,i,e.o3h_1,e.p3h_1,e.h3h_1.length))}function xa(t,e,n){return ga(t,e,n)}function $a(t,e,n){return ga(t,e,n)+Xa(function(t,e){return t[At(e,5)+1|0]}(t,n)>>29)|0}function Ca(t,e,n,i,r){return e>n?0|-(1+((r-i|0)-e|0)|0):e}function Ea(t,e,n,i){return e<0?1+((i-n|0)+e|0)|0:e}function Aa(t,e,n){return e<n?e:0|-((t.g()-e|0)- -2|0)}function ka(t,e){return e>-2?e:(t.g()+e|0)- -2|0}function Sa(t,e,n){this.g42_1=e,this.h42_1=n,this.f42_1=t}function Ta(t){ta(),this.f3h_1=t,this.g3h_1=this.f3h_1.c3l_1,this.h3h_1=this.f3h_1.e3l_1,this.i3h_1=this.f3h_1.j3l_1,this.j3h_1=this.f3h_1.d3l_1,this.k3h_1=(this.g3h_1.length/5|0)-this.f3h_1.d3l_1|0,this.l3h_1=this.f3h_1.d3l_1,this.m3h_1=0,this.n3h_1=0,this.o3h_1=this.f3h_1.f3l_1,this.p3h_1=this.h3h_1.length-this.f3h_1.f3l_1|0,this.q3h_1=this.f3h_1.d3l_1,this.r3h_1=0,this.s3h_1=0,this.t3h_1=new Eu,this.u3h_1=new Eu,this.v3h_1=new Eu,this.w3h_1=0,this.x3h_1=-1,this.y3h_1=!1,this.z3h_1=null}function Ia(){this.c3l_1=new Int32Array(0),this.d3l_1=0;for(var t=0,e=Qe(Array(0),null);t<0;){null,e[t]=null,t=t+1|0}this.e3l_1=e,this.f3l_1=0,this.g3l_1=0,this.h3l_1=!1,this.i3l_1=0;var n;n=Ot(),this.j3l_1=n}function Oa(t){this.q3p_1=t}function za(t,e){return!(0==(1073741824&t[At(e,5)+1|0]))}function Ma(t,e){return 67108863&t[At(e,5)+1|0]}function Da(t,e){return t[At(e,5)]}function Ra(t,e){return!(0==(536870912&t[At(e,5)+1|0]))}function Pa(t,e){var n=At(e,5);return t[n+4|0]+Xa(t[n+1|0]>>30)|0}function ja(t,e){return t[At(e,5)+3|0]}function Na(t,e){return!(0==(268435456&t[At(e,5)+1|0]))}function La(t,e,n){if(!(n>=0))throw le(Tt("Failed requirement."));t[At(e,5)+3|0]=n}function qa(t,e,n){if(!(n>=0&&n<67108863))throw le(Tt("Failed requirement."));t[At(e,5)+1|0]=-67108864&t[At(e,5)+1|0]|n}function Ba(t){this.c42_1=t}function Fa(t,e,n){t[At(e,5)+2|0]=n}function Ua(t,e){return t[At(e,5)+2|0]}function Ha(t,e,n){t[At(e,5)+4|0]=n}function Va(t,e,n){var i=su(t,e,n);return i>=0?i:0|-(i+1|0)}function Ya(t,e){return t[At(e,5)+4|0]}function Wa(t,e){return!(0==(134217728&t[At(e,5)+1|0]))}function Ga(t,e){return!(0==(67108864&t[At(e,5)+1|0]))}function Za(t,e){return!(0==(201326592&t[At(e,5)+1|0]))}function Ka(t,e){var n=At(e,5);return t[n+4|0]+Xa(t[n+1|0]>>28)|0}function Xa(t){switch(t){case 0:return 0;case 1:case 2:case 4:return 1;case 3:case 5:case 6:return 2;default:return 3}}function Ja(t,e,n){return za(t,n)?e.y3l_1[function(t,e){return t[At(e,5)+4|0]}(t,n)]:Dr().a3h_1}function Qa(t,e,n){return Na(t,n)?e.y3l_1[function(t,e){var n=At(e,5);return n>=t.length?t.length:t[n+4|0]+Xa(t[n+1|0]>>29)|0}(t,n)]:Dr().a3h_1}function tu(t,e,n){return Ra(t,n)?e.y3l_1[Pa(t,n)]:null}function eu(t){this.v3l_1=t,this.w3l_1=this.v3l_1.c3l_1,this.x3l_1=this.v3l_1.d3l_1,this.y3l_1=this.v3l_1.e3l_1,this.z3l_1=this.v3l_1.f3l_1,this.a3m_1=0,this.b3m_1=this.x3l_1,this.c3m_1=-1,this.d3m_1=0,this.e3m_1=0,this.f3m_1=0}function nu(t){if(t.w42_1.i3l_1!==t.z42_1)throw sn()}function iu(t,e){this.a43_1=t,this.b43_1=e}function ru(t,e,n){if(this.w42_1=t,this.x42_1=n,this.y42_1=e,this.z42_1=this.w42_1.i3l_1,this.w42_1.h3l_1)throw sn()}function ou(t,e,n,i,r){this.l3n_1=t,this.m3n_1=e,this.n3n_1=n,this.o3n_1=i,this.p3n_1=r}function su(t,e,n){return function(t,e,n){for(var i=0,r=t.g()-1|0;i<=r;){var o=(i+r|0)>>>1|0,s=t.l(o).q3p_1,a=pe(s<0?n+s|0:s,e);if(a<0)i=o+1|0;else{if(!(a>0))return o;r=o-1|0}}return 0|-(i+1|0)}(t,e,n)}function au(t,e,n,i,r,o){var s={_v:n},a=i;a.x3g(-2084371839),so(a,"C(collectAsState$composable)P(1)"),0!=(2&o)&&(s._v=ke());var u,l,c=is(e,t,s._v,(u=new du(s,t,null),(l=function(t,e){return u.u44(t,e)}).$arity=1,l),a);return a.b3h(),c}function uu(t,e){this.l43_1=t,Me.call(this,e)}function lu(t,e){var n=new uu(t,e),i=function(t,e){return n.y18(t,e)};return i.$arity=1,i}function cu(t){this.n43_1=t}function hu(t,e){this.w43_1=t,Me.call(this,e)}function pu(t,e){var n=new hu(t,e),i=function(t,e){return n.y18(t,e)};return i.$arity=1,i}function _u(t,e,n){this.g44_1=t,this.h44_1=e,Me.call(this,n)}function fu(t,e,n){var i=new _u(t,e,n),r=function(t,e){return i.r2l(t,e)};return r.$arity=1,r}function du(t,e,n){this.r44_1=t,this.s44_1=e,Me.call(this,n)}function mu(){}function yu(){var t=(null==F&&new vu,F);return Gt(t,mu)?t:zt()}function vu(){F=this}function gu(){}function wu(){}function bu(t,e){return function(t,e){return Yp(),new Cu(t,e)}(t,e)}function xu(t,e,n,i){return 0!=(2&n)&&(e=yu()),bu(t,e)}function $u(t){Xh.call(this),this.c45_1=t}function Cu(t,e){this.k45_1=e,this.l45_1=new $u(t)}function Eu(){this.o3l_1=new Int32Array(10),this.p3l_1=0}function Au(){this.g3m_1=Ot()}function ku(){}function Su(){return new ku}function Tu(t){return fe("current",1,_e,(function(t){return Tu(t)}),null),t.n3m_1.b1()}function Iu(t){this.n3m_1=ce(t)}function Ou(t){this.q45_1=t}function zu(t,e,n,i){var r=e-1|0;if(0<=r)t:do{var o=r;r=r+-1|0;var s=t.w3x_1[o];if(s===n)return o;if(Fp(s)!==i)break t}while(0<=r);var a=e+1|0,u=t.v3x_1;if(a<u)do{var l=a;a=a+1|0;var c=t.w3x_1[l];if(c===n)return l;if(Fp(c)!==i)return 0|-(l+1|0)}while(a<u);return 0|-(t.v3x_1+1|0)}function Mu(){this.v3x_1=0;var t;t=Qe(Array(4),null),this.w3x_1=t,this.x3x_1=new Int32Array(4)}function Du(t,e,n){return function(t,e,n,i){return 0!=(1&e)&&(t=16),ju.call(i,t),i}(t,e,0,Object.create(ju.prototype))}function Ru(t,e){for(var n=Fp(e),i=0,r=t.p3p_1-1|0;i<=r;){var o=(i+r|0)>>>1|0,s=t.n3p_1[o],a=Fp(s);if(a<n)i=o+1|0;else{if(!(a>n))return e===s?o:Pu(t,o,e,n);r=o-1|0}}return 0|-(i+1|0)}function Pu(t,e,n,i){var r=e-1|0;if(0<=r)t:do{var o=r;r=r+-1|0;var s=t.n3p_1[o];if(s===n)return o;if(Fp(s)!==i)break t}while(0<=r);var a=e+1|0,u=t.p3p_1;if(a<u)do{var l=a;a=a+1|0;var c=t.n3p_1[l];if(c===n)return l;if(Fp(c)!==i)return 0|-(l+1|0)}while(a<u);return 0|-(t.p3p_1+1|0)}function ju(t){var e;e=Qe(Array(t),null),this.n3p_1=e;var n;n=Qe(Array(t),null),this.o3p_1=n,this.p3p_1=0}function Nu(t,e){for(var n=0,i=t.w3t_1-1|0,r=Fp(e);n<=i;){var o=(n+i|0)>>>1|0,s=t.l(o),a=Fp(s);if(a<r)n=o+1|0;else{if(!(a>r))return s===e?o:Lu(t,o,e,r);i=o-1|0}}return 0|-(n+1|0)}function Lu(t,e,n,i){var r=e-1|0;if(0<=r)t:do{var o=r;r=r+-1|0;var s=t.x3t_1[o];if(s===n)return o;if(Fp(s)!==i)break t}while(0<=r);var a=e+1|0,u=t.w3t_1;if(a<u)do{var l=a;a=a+1|0;var c=t.x3t_1[l];if(c===n)return l;if(Fp(c)!==i)return 0|-(l+1|0)}while(a<u);return 0|-(t.w3t_1+1|0)}function qu(t){this.x45_1=t,this.w45_1=0}function Bu(){this.w3t_1=0;var t;t=Qe(Array(16),null),this.x3t_1=t}function Fu(t,e){return ye(t.o3u_1[t.m3u_1[e]])}function Uu(t,e){for(var n=Fp(e),i=0,r=t.p3u_1-1|0;i<=r;){var o=(i+r|0)>>>1|0,s=ye(t.n3u_1[t.m3u_1[o]]),a=Fp(s);if(a<n)i=o+1|0;else{if(!(a>n))return e===s?o:Hu(t,o,e,n);r=o-1|0}}return 0|-(i+1|0)}function Hu(t,e,n,i){var r=e-1|0;if(0<=r)t:do{var o,s=r;if(r=r+-1|0,(o=ye(t.n3u_1[t.m3u_1[s]]))===n)return s;if(Fp(o)!==i)break t}while(0<=r);var a=e+1|0,u=t.p3u_1;if(a<u)do{var l,c=a;if(a=a+1|0,(l=ye(t.n3u_1[t.m3u_1[c]]))===n)return c;if(Fp(l)!==i)return 0|-(c+1|0)}while(a<u);return 0|-(t.p3u_1+1|0)}function Vu(){for(var t=0,e=new Int32Array(50);t<50;){var n;n=t,e[t]=n,t=t+1|0}this.m3u_1=e;var i;i=Qe(Array(50),null),this.n3u_1=i;var r;r=Qe(Array(50),null),this.o3u_1=r,this.p3u_1=0}function Yu(){}function Wu(){}function Gu(){}function Zu(){}function Ku(){}function Xu(){}function Ju(){}function Qu(){}function tl(){}function el(){}function nl(){}function il(){return ec().f46()}function rl(){return Vl()}function ol(t,e){this.i46_1=t,this.j46_1=e}function sl(){yn.call(this)}function al(t,e,n){ol.call(this,e,n),this.p46_1=t}function ul(t){return Zl(t.s46_1)}function ll(t,e,n,i){if(t.s46_1>>Kl()>1<<t.t46_1){var r=Wl(e),o=t.t46_1+Kl()|0;return new yl(r=cl(t,r,o,n),i,t.s46_1+1|0,o)}return new yl(cl(t,e,t.t46_1,n),i,t.s46_1+1|0,t.t46_1)}function cl(t,e,n,i){var r,o=Xl(t.s46_1-1|0,n),s=null==e?null:ln(e,Yl());if(null==s){var a=Yl();r=Qe(Array(a),null)}else r=s;var u=r;if(n===Kl())u[o]=i;else{var l=u[o];u[o]=cl(t,null==l||de(l)?l:zt(),n-Kl()|0,i)}return u}function hl(t,e,n,i){var r=t.s46_1-ul(t)|0,o=ln(t.r46_1,Yl());if(r<Yl()){var s=t.r46_1;return Xe(s,o,n+1|0,n,r),o[n]=i,new yl(e,o,t.s46_1+1|0,t.t46_1)}var a=t.r46_1[Gl()],u=t.r46_1;return Xe(u,o,n+1|0,n,r-1|0),o[n]=i,ll(t,e,o,Wl(a))}function pl(t,e,n,i,r,o){var s=Xl(i,n);if(0===n){var a;if(0===s){var u=Yl();a=Qe(Array(u),null)}else a=ln(e,Yl());var l=a,c=s+1|0,h=Gl();return Xe(e,l,c,s,h),o.u46_1=e[Gl()],l[s]=r,l}var p=ln(e,Yl()),_=n-Kl()|0,f=e[s];p[s]=pl(t,null!=f&&de(f)?f:zt(),_,i,r,o);var d=s+1|0,m=Yl();if(d<m)t:do{var y=d;if(d=d+1|0,null==p[y])break t;var v=e[y];p[y]=pl(t,null!=v&&de(v)?v:zt(),_,0,o.u46_1,o)}while(d<m);return p}function _l(t,e,n,i,r){var o=t.s46_1-n|0;if(1===o)return function(t,e,n,i){if(0===i)return new ql(e.length===Ql()?ln(e,Yl()):e);var r=new Jl(null),o=ye(fl(t,e,i,n-1|0,r)),s=r.u46_1,a=null!=s&&de(s)?s:zt();if(null==o[1]){var u=o[0];return new yl(null!=u&&de(u)?u:zt(),a,n,i-Kl()|0)}return new yl(o,a,n,i)}(t,e,n,i);var s=ln(t.r46_1,Yl());if(r<(o-1|0)){var a=t.r46_1;Xe(a,s,r,r+1|0,o)}return s[o-1|0]=null,new yl(e,s,(n+o|0)-1|0,i)}function fl(t,e,n,i,r){var o,s=Xl(i,n);if(n===Kl())r.u46_1=e[s],o=null;else{var a=e[s];o=fl(t,null!=a&&de(a)?a:zt(),n-Kl()|0,i,r)}var u=o;if(null==u&&0===s)return null;var l=ln(e,Yl());return l[s]=u,l}function dl(t,e,n,i,r){var o=Xl(i,n);if(0===n){var s;if(0===o){var a=Yl();s=Qe(Array(a),null)}else s=ln(e,Yl());var u=s,l=o+1|0,c=Yl();return Xe(e,u,o,l,c),u[Yl()-1|0]=r.u46_1,r.u46_1=e[o],u}var h=Gl();null==e[h]&&(h=Xl(ul(t)-1|0,n));var p=ln(e,Yl()),_=n-Kl()|0,f=h,d=o+1|0;if(d<=f)do{var m=f;f=f+-1|0;var y=p[m];p[m]=dl(t,null!=y&&de(y)?y:zt(),_,0,r)}while(m!==d);var v=p[o];return p[o]=dl(t,null!=v&&de(v)?v:zt(),_,i,r),p}function ml(t,e,n,i,r){var o=Xl(i,n),s=ln(e,Yl());if(0===n)s[o]=r;else{var a=s[o];s[o]=ml(t,null!=a&&de(a)?a:zt(),n-Kl()|0,i,r)}return s}function yl(t,e,n,i){var r;if(sl.call(this),this.q46_1=t,this.r46_1=e,this.s46_1=n,this.t46_1=i,!(this.s46_1>Yl()))throw r="Trie-based persistent vector should have at least "+(Yl()+1|0)+" elements, got "+this.s46_1,le(Tt(r));this.s46_1,Zl(this.s46_1),vn(this.r46_1.length,Yl())}function vl(t){return t.d47_1<=Yl()?0:Zl(t.d47_1)}function gl(t){return e=t.d47_1,e<=Yl()?e:e-Zl(e)|0;var e}function wl(t,e){if(null==e)return xl(t);if(function(t,e){return e.length===Ql()&&e[Ql()-1|0]===t.a47_1}(t,e))return e;var n=xl(t),i=vn(e.length,Yl());return Xe(e,n,0,0,i),n}function bl(t,e){var n=Ql(),i=Qe(Array(n),null);return i[0]=e,i[Ql()-1|0]=t.a47_1,i}function xl(t){var e=Ql(),n=Qe(Array(e),null);return n[Ql()-1|0]=t.a47_1,n}function $l(t,e,n,i){var r;if(t.d47_1>>Kl()>1<<t.z46_1){t.b47_1=Cl(t,bl(t,e),n,t.z46_1+Kl()|0),t.c47_1=i;var o=t;o.z46_1=o.z46_1+Kl()|0;var s=t;s.d47_1=s.d47_1+1|0,r=St()}else if(null==e){t.b47_1=n,t.c47_1=i;var a=t;a.d47_1=a.d47_1+1|0,r=St()}else{t.b47_1=Cl(t,e,n,t.z46_1),t.c47_1=i;var u=t;u.d47_1=u.d47_1+1|0,r=St()}return r}function Cl(t,e,n,i){var r=Xl(t.d47_1-1|0,i),o=wl(t,e);if(i===Kl())o[r]=n;else{var s=o[r];o[r]=Cl(t,null==s||de(s)?s:zt(),n,i-Kl()|0)}return o}function El(t,e,n,i){for(var r=n;r<Yl()&&i.e();){var o=r;r=o+1|0,e[o]=i.f()}return e}function Al(t,e,n,i,r){if(!r.e())throw Dt(Tt("Check failed."));if(!(i>=0))throw Dt(Tt("Check failed."));if(0===i)return r.f();var o=wl(t,e),s=Xl(n,i),a=s,u=o[s];for(o[a]=Al(t,null==u||de(u)?u:zt(),n,i-Kl()|0,r);(s=s+1|0)<Yl()&&r.e();){var l=s,c=o[s];o[l]=Al(t,null==c||de(c)?c:zt(),0,i-Kl()|0,r)}return o}function kl(t,e,n,i){var r=gl(t),o=wl(t,t.c47_1);if(r<Yl()){var s=t.c47_1;Xe(s,o,n+1|0,n,r),o[n]=i,t.b47_1=e,t.c47_1=o;var a=t;a.d47_1=a.d47_1+1|0}else{var u=t.c47_1[Gl()],l=t.c47_1,c=n+1|0,h=Gl();Xe(l,o,c,n,h),o[n]=i,$l(t,e,o,bl(t,u))}}function Sl(t,e,n,i,r,o){var s=Xl(i,n);if(0===n){o.u46_1=e[Gl()];var a=wl(t,e),u=s+1|0,l=Gl();Xe(e,a,u,s,l);var c=a;return c[s]=r,c}var h=wl(t,e),p=n-Kl()|0,_=h[s];h[s]=Sl(t,null!=_&&de(_)?_:zt(),p,i,r,o);var f=s+1|0,d=Yl();if(f<d)t:do{var m=f;if(f=f+1|0,null==h[m])break t;var y=h[m];h[m]=Sl(t,null!=y&&de(y)?y:zt(),p,0,o.u46_1,o)}while(f<d);return h}function Tl(t,e,n,i,r){var o,s=t.d47_1-n|0;if(1===s)o=t.c47_1[0],function(t,e,n,i){var r;if(0===i)return t.b47_1=null,r=null==e?[]:e,t.c47_1=r,t.d47_1=n,t.z46_1=i,St();var o=new Jl(null),s=ye(Ol(t,ye(e),i,n,o)),a=t,u=o.u46_1;if(a.c47_1=null!=u&&de(u)?u:zt(),t.d47_1=n,null==s[1]){var l=t,c=s[0];l.b47_1=null==c||de(c)?c:zt(),t.z46_1=i-Kl()|0}else t.b47_1=s,t.z46_1=i}(t,e,n,i);else{o=t.c47_1[r];var a=t.c47_1,u=wl(t,t.c47_1);Xe(a,u,r,r+1|0,s);var l=u;l[s-1|0]=null,t.b47_1=e,t.c47_1=l,t.d47_1=(n+s|0)-1|0,t.z46_1=i}return o}function Il(t,e,n,i,r){var o=Xl(i,n);if(0===n){var s=e[o],a=wl(t,e),u=o+1|0,l=Yl();Xe(e,a,o,u,l);var c=a;return c[Yl()-1|0]=r.u46_1,r.u46_1=s,c}var h=Gl();null==e[h]&&(h=Xl(vl(t)-1|0,n));var p=wl(t,e),_=n-Kl()|0,f=h,d=o+1|0;if(d<=f)do{var m=f;f=f+-1|0;var y=p[m];p[m]=Il(t,null!=y&&de(y)?y:zt(),_,0,r)}while(m!==d);var v=p[o];return p[o]=Il(t,null!=v&&de(v)?v:zt(),_,i,r),p}function Ol(t,e,n,i,r){var o,s=Xl(i-1|0,n);if(n===Kl())r.u46_1=e[s],o=null;else{var a=e[s];o=Ol(t,null!=a&&de(a)?a:zt(),n-Kl()|0,i,r)}var u=o;if(null==u&&0===s)return null;var l=wl(t,e);return l[s]=u,l}function zl(t,e,n,i,r,o){var s=Xl(i,n),a=wl(t,e);if(0===n){if(a!==e){var u=t,l=u.mb();u.lb(l+1|0)}return o.u46_1=a[s],a[s]=r,a}var c=a[s];return a[s]=zl(t,null!=c&&de(c)?c:zt(),n-Kl()|0,i,r,o),a}function Ml(t,e,n,i){wn.call(this),this.w46_1=t,this.x46_1=e,this.y46_1=n,this.z46_1=i,this.a47_1=new mh,this.b47_1=this.x46_1,this.c47_1=this.y46_1,this.d47_1=this.w46_1.g()}function Dl(t,e,n,i,r){ol.call(this,n,i),this.h47_1=e;var o=Zl(i),s=vn(n,o);this.i47_1=new Hl(t,s,o,r)}function Rl(t){var e=t.q47_1.b47_1;if(null==e)return t.s47_1=null,St();var n=Zl(t.q47_1.d47_1),i=vn(t.x1(),n),r=1+(t.q47_1.z46_1/Kl()|0)|0;null==t.s47_1?t.s47_1=new Hl(e,i,n,r):ye(t.s47_1).u47(e,i,n,r)}function Pl(t){if(t.r47_1!==t.q47_1.e47())throw sn()}function jl(t,e){ol.call(this,e,t.d47_1),this.q47_1=t,this.r47_1=this.q47_1.e47(),this.s47_1=null,this.t47_1=-1,Rl(this)}function Nl(){var t;U=this,t=[],this.v47_1=new ql(t)}function Ll(){return null==U&&new Nl,U}function ql(t){Ll(),sl.call(this),this.w47_1=t,this.w47_1.length,Yl()}function Bl(t,e,n){for(var i=At(t.l47_1-n|0,Kl()),r=n;r<t.l47_1;){var o=t.m47_1,s=r,a=t.m47_1[r-1|0];o[s]=(null!=a&&de(a)?a:zt())[Xl(e,i)],i=i-Kl()|0,r=r+1|0}}function Fl(t,e){for(var n=0;Xl(t.x1(),n)===e;)n=n+Kl()|0;if(n>0){var i=(t.l47_1-1|0)-(n/Kl()|0)|0;Bl(t,t.x1(),i+1|0)}}function Ul(t){var e=t.x1()&Gl(),n=t.m47_1[t.l47_1-1|0];return(null!=n&&de(n)?n:zt())[e]}function Hl(t,e,n,i){ol.call(this,e,n),this.l47_1=i;var r,o=this.l47_1;r=Qe(Array(o),null),this.m47_1=r,this.n47_1=e===n,this.m47_1[0]=t,Bl(this,e-(this.n47_1?1:0)|0,1)}function Vl(){return Ll().v47_1}function Yl(){return H}function Wl(t){var e=Qe(Array(32),null);return e[0]=t,e}function Gl(){return V}function Zl(t){return-32&(t-1|0)}function Kl(){return Y}function Xl(t,e){return t>>e&31}function Jl(t){this.u46_1=t}function Ql(){return W}function tc(){G=this,this.e46_1=new nc(Jc().x47_1,0)}function ec(){return null==G&&new tc,G}function nc(t,e){ec(),En.call(this),this.a48_1=t,this.b48_1=e}function ic(t){An.call(this),this.q48_1=t,this.r48_1=new mh,this.s48_1=this.q48_1.a48_1,this.t48_1=null,this.u48_1=0,this.v48_1=this.q48_1.b48_1}function rc(t){for(var e=0,n=gc()+1|0,i=Qe(Array(n),null);e<n;){var r,o=e;r=new lc(this),i[o]=r,e=e+1|0}this.c49_1=new uc(t,i)}function oc(t){for(var e=0,n=gc()+1|0,i=Qe(Array(n),null);e<n;){var r,o=e;r=new wc,i[o]=r,e=e+1|0}uc.call(this,t,i)}function sc(t){for(var e=0,n=gc()+1|0,i=Qe(Array(n),null);e<n;){var r,o=e;r=new bc,i[o]=r,e=e+1|0}uc.call(this,t,i)}function ac(t,e,n,i,r){var o=At(r,J);if(o>Q){for(t.o49()[r].u49(n.f48_1,n.f48_1.length,0);!Zt(t.o49()[r].q49(),i);)t.o49()[r].v49();return t.p49(r),St()}var s=1<<ih(e,o);if(n.y49(s)){var a=n.w49(s);return t.o49()[r].u49(n.f48_1,At(th(),n.x49()),a),t.p49(r),St()}var u=n.z49(s),l=n.a4a(u);t.o49()[r].u49(n.f48_1,At(th(),n.x49()),u),ac(t,e,l,i,r+1|0)}function uc(t,e){Ec.call(this,t.s48_1,e),this.j49_1=t,this.k49_1=null,this.l49_1=!1,this.m49_1=this.j49_1.u48_1}function lc(t){vc.call(this),this.e4a_1=t}function cc(t,e,n){Ac.call(this,e,n),this.n4a_1=t,this.o4a_1=n}function hc(t){fc.call(this),this.r4a_1=t}function pc(t){In.call(this),this.s4a_1=t}function _c(t){zn.call(this),this.t4a_1=t}function fc(){In.call(this)}function dc(t){for(var e=0,n=Qe(Array(8),null);e<8;){var i,r=e;i=new wc,n[r]=i,e=e+1|0}Ec.call(this,t,n)}function mc(t){for(var e=0,n=Qe(Array(8),null);e<8;){var i,r=e;i=new bc,n[r]=i,e=e+1|0}Ec.call(this,t,n)}function yc(t){for(var e=0,n=Qe(Array(8),null);e<8;){var i,r=e;i=new kc,n[r]=i,e=e+1|0}Ec.call(this,t,n)}function vc(){this.r49_1=Jc().x47_1.f48_1,this.s49_1=0,this.t49_1=0}function gc(){return Z}function wc(){vc.call(this)}function bc(){vc.call(this)}function xc(t,e){if(t.d49_1[e].f4a())return e;if(t.d49_1[e].i4a()){var n=t.d49_1[e].j4a();return 6===e?t.d49_1[e+1|0].h4a(n.f48_1,n.f48_1.length):t.d49_1[e+1|0].h4a(n.f48_1,At(th(),n.x49())),xc(t,e+1|0)}return-1}function $c(t){if(t.d49_1[t.e49_1].f4a())return St();var e=t.e49_1;if(0<=e)do{var n=e;e=e+-1|0;var i=xc(t,n);if(-1===i&&t.d49_1[n].i4a()&&(t.d49_1[n].k4a(),i=xc(t,n)),-1!==i)return t.e49_1=i,St();n>0&&t.d49_1[n-1|0].k4a(),t.d49_1[n].h4a(Jc().x47_1.f48_1,0)}while(0<=e);t.f49_1=!1}function Cc(t){if(!t.e())throw dn()}function Ec(t,e){this.d49_1=e,this.e49_1=0,this.f49_1=!0,this.d49_1[0].h4a(t.f48_1,At(th(),t.x49())),this.e49_1=0,$c(this)}function Ac(t,e){this.p4a_1=t,this.q4a_1=e}function kc(){vc.call(this)}function Sc(t){Dn.call(this),this.d4b_1=t}function Tc(t){Rn.call(this),this.e4b_1=t}function Ic(t){Dn.call(this),this.f4b_1=t}function Oc(t,e,n){return function(t,e,n,i){return Qc.call(i,t,e,n,null),i}(t,e,n,Object.create(Qc.prototype))}function zc(t,e){this.j48_1=t,this.k48_1=e}function Mc(t){return new zc(t,1)}function Dc(t){return new zc(t,0)}function Rc(t,e){return!(0==(t.d48_1&e))}function Pc(t,e){var n=t.f48_1[e];return null==n||Mt(n)?n:zt()}function jc(t,e){var n=t.f48_1[e+1|0];return null==n||Mt(n)?n:zt()}function Nc(t,e,n,i){var r=i.f48_1;if(2===r.length&&0===i.d48_1){if(1===t.f48_1.length)return i.c48_1=t.d48_1,i;var o=t.w49(n),s=function(t,e,n,i,r){var o=ln(t,t.length+1|0),s=e+2|0,a=e+1|0,u=t.length;return Xe(o,o,s,a,u),Xe(o,o,n+2|0,n,e),o[n]=i,o[n+1|0]=r,o}(t.f48_1,e,o,r[0],r[1]);return Oc(t.c48_1^n,t.d48_1^n,s)}var a=ln(t.f48_1,t.f48_1.length);return a[e]=i,Oc(t.c48_1,t.d48_1,a)}function Lc(t,e,n,i){if(1===t.f48_1.length&&2===n.f48_1.length&&0===n.d48_1)return n.c48_1=t.d48_1,n;if(t.e48_1===i)return t.f48_1[e]=n,t;var r=t.f48_1.slice();return r[e]=n,new Qc(t.c48_1,t.d48_1,r,i)}function qc(t,e,n,i,r,o,s,a){var u=Pc(t,e),l=null==u?null:Qt(u),c=Bc(t,null==l?0:l,u,jc(t,e),i,r,o,s+5|0,a),h=t.z49(n)+1|0;return function(t,e,n,i){var r=n-2|0,o=1+(t.length-2|0)|0,s=Qe(Array(o),null);Xe(t,s,0,0,e),Xe(t,s,e,e+2|0,n),s[r]=i;var a=r+1|0,u=t.length;return Xe(t,s,a,n,u),s}(t.f48_1,e,h,c)}function Bc(t,e,n,i,r,o,s,a,u){if(a>30)return new Qc(0,0,[n,i,o,s],u);var l=ih(e,a),c=ih(r,a);return l!==c?new Qc(1<<l|1<<c,0,l<c?[n,i,o,s]:[o,s,n,i],u):new Qc(0,1<<l,[Bc(t,e,n,i,r,o,s,a+5|0,u)],u)}function Fc(t,e,n,i){var r=i,o=r.v48_1;if(r.r45(o-1|0),i.t48_1=jc(t,e),2===t.f48_1.length)return null;if(t.e48_1===i.r48_1)return t.f48_1=rh(t.f48_1,e),t.c48_1=t.c48_1^n,t;var s=rh(t.f48_1,e);return new Qc(t.c48_1^n,t.d48_1,s,i.r48_1)}function Uc(t,e){return 2===t.f48_1.length?null:Oc(0,0,rh(t.f48_1,e))}function Hc(t,e,n){var i=n,r=i.v48_1;return i.r45(r-1|0),n.t48_1=jc(t,e),2===t.f48_1.length?null:t.e48_1===n.r48_1?(t.f48_1=rh(t.f48_1,e),t):new Qc(0,0,rh(t.f48_1,e),n.r48_1)}function Vc(t,e){var n=jn(Pn(0,t.f48_1.length),2),i=n.k1_1,r=n.l1_1,o=n.m1_1;if(o>0&&i<=r||o<0&&r<=i)do{var s=i;if(i=i+o|0,Zt(e,t.f48_1[s]))return!0}while(s!==r);return!1}function Yc(t,e,n,i,r,o){var s;if(Rc(t,n)){var a,u=t.a4a(t.z49(n));if(Rc(e,n)){var l=e.a4a(e.z49(n));a=u.x48(l,i+5|0,r,o)}else if(e.y49(n)){var c,h=e.w49(n),p=Pc(e,h),_=jc(e,h),f=o.v48_1,d=null==p?null:Qt(p);c=null==d?0:d;var m=u.w48(c,p,_,i+5|0,o);if(o.v48_1===f){var y=r,v=y.y48_1;y.y48_1=v+1|0}a=m}else a=u;s=a}else if(Rc(e,n)){var g,w=e.a4a(e.z49(n));if(t.y49(n)){var b,x,$=t.w49(n),C=Pc(t,$),E=null==C?null:Qt(C);if(x=null==E?0:E,w.g48(x,C,i+5|0)){var A=r,k=A.y48_1;A.y48_1=k+1|0,b=w}else{var S,T=jc(t,$),I=null==C?null:Qt(C);S=null==I?0:I,b=w.w48(S,C,T,i+5|0,o)}g=b}else g=w;s=g}else{var O=t.w49(n),z=Pc(t,O),M=jc(t,O),D=e.w49(n),R=Pc(e,D),P=jc(e,D),j=null==z?null:Qt(z),N=null==j?0:j,L=null==R?null:Qt(R);s=Bc(t,N,z,M,null==L?0:L,R,P,i+5|0,o.r48_1)}return s}function Wc(t){if(0===t.d48_1)return t.f48_1.length/2|0;var e=Nn(t.c48_1),n=e,i=At(e,2),r=t.f48_1.length;if(i<r)do{var o=i;i=i+1|0,n=n+Wc(t.a4a(o))|0}while(i<r);return n}function Gc(t,e){if(t===e)return!0;if(t.d48_1!==e.d48_1)return!1;if(t.c48_1!==e.c48_1)return!1;var n=0,i=t.f48_1.length;if(n<i)do{var r=n;if(n=n+1|0,t.f48_1[r]!==e.f48_1[r])return!1}while(n<i);return!0}function Zc(t,e,n,i,r){return null==n?function(t,e,n){if(1===t.f48_1.length)return null;var i=nh(t.f48_1,e);return Oc(t.c48_1,t.d48_1^n,i)}(t,i,r):e!==n?Nc(t,i,r,n):t}function Kc(t,e,n,i,r,o){return null==n?function(t,e,n,i){if(1===t.f48_1.length)return null;if(t.e48_1===i)return t.f48_1=nh(t.f48_1,e),t.d48_1=t.d48_1^n,t;var r=nh(t.f48_1,e);return new Qc(t.c48_1,t.d48_1^n,r,i)}(t,i,r,o):t.e48_1===o||e!==n?Lc(t,i,n,o):t}function Xc(){var t;K=this,t=[],this.x47_1=Oc(0,0,t)}function Jc(){return null==K&&new Xc,K}function Qc(t,e,n,i){Jc(),this.c48_1=t,this.d48_1=e,this.e48_1=i,this.f48_1=n}function th(){return X}function eh(t,e,n,i){var r=t.length+2|0,o=Qe(Array(r),null);Xe(t,o,0,0,e);var s=e+2|0,a=t.length;return Xe(t,o,s,e,a),o[e]=n,o[e+1|0]=i,o}function nh(t,e){var n=t.length-1|0,i=Qe(Array(n),null);Xe(t,i,0,0,e);var r=e+1|0,o=t.length;return Xe(t,i,e,r,o),i}function ih(t,e){return t>>e&31}function rh(t,e){var n=t.length-2|0,i=Qe(Array(n),null);Xe(t,i,0,0,e);var r=e+2|0,o=t.length;return Xe(t,i,e,r,o),i}function oh(){tt=this,this.g46_1=new ah(_h(),_h(),ec().f46())}function sh(){return null==tt&&new oh,tt}function ah(t,e,n){sh(),Dn.call(this),this.k4b_1=t,this.l4b_1=e,this.m4b_1=n}function uh(){return t=Object.create(ch.prototype),ch.call(t,_h(),_h()),t;var t}function lh(t){return function(t,e){return ch.call(e,t,_h()),e}(t,Object.create(ch.prototype))}function ch(t,e){this.n4b_1=t,this.o4b_1=e}function hh(t,e){this.t4b_1=t,this.u4b_1=e,this.v4b_1=0}function ph(){et=this}function _h(){return null==et&&new ph,et}function fh(){nt=this}function dh(){return null==nt&&new fh,nt}function mh(){}function yh(t,e,n){return function(t,e,n,i){return 0!=(1&e)&&(t=0),vh.call(i,t),i}(t,e,0,Object.create(vh.prototype))}function vh(t){this.y48_1=t}function gh(t,e,n){var i=new Jp(t,e);return i.y4b(n),i}function wh(t,e){return null==t||!!(t instanceof ls&&e instanceof ls)&&(!(t.x3u()&&!Zt(t,e))||Zt(t.d3i_1,e.d3i_1))}function bh(t){return $h(2,t)}function xh(t){return $h(1,t)}function $h(t,e){return t<<(At(e%10|0,3)+1|0)}function Ch(t,e,n,i,r,o,s){return function(t,e,n,i,r,o,s,a){e.c(i);var u=0,l=0,c=t.g()-1|0;if(l<=c)t:do{var h=l;l=l+1|0;var p=t.l(h);if((u=u+1|0)>1&&e.c(n),!(o<0||u<=o))break t;Eh(e,p,a)}while(l<=c);return o>=0&&u>o&&e.c(s),e.c(r),e}(t,Fn(),e,n,i,r,o,s).toString()}function Eh(t,e,n){null!=n?t.c(n(e)):null==e||Vn(e)?t.c(e):e instanceof Hn?t.s5(e.q1_1):t.c(Se(e))}function Ah(){return gp(),it}function kh(){return gp(),rt}function Sh(){return gp(),ot}function Th(t){gp(),st=t}function Ih(){return gp(),st}function Oh(t){gp(),at=t}function zh(){return gp(),at}function Mh(){return gp(),ut}function Dh(){return gp(),lt}function Rh(){return gp(),ct}function Ph(){return gp(),ht}function jh(){return gp(),pt}function Nh(){}function Lh(t){this.z4b_1=t}function qh(t){this.a4c_1=t}function Bh(){_t=this}function Fh(){return null==_t&&new Bh,_t}function Uh(t,e){Fh(),this.w3o_1=e,this.x3o_1=t,this.y3o_1=!1,this.z3o_1=0!==t?function(t,e){gp();var n=e.p4e(t);return Sh(),Mh().v4e(n)}(t,this.e4c()):-1,this.a3p_1=8}function Hh(){}function Vh(t,e,n,i){Uh.call(this,t,e),this.e40_1=n,this.f40_1=i,this.g40_1=null,this.h40_1=Cp().b4d_1,this.i40_1=new Int32Array(0),this.j40_1=1,this.k40_1=!1,this.l40_1=8}function Yh(){ft=this,Zh.call(this),this.v4d_1=0}function Wh(){return null==ft&&new Yh,ft}function Gh(t){Zh.call(this),this.x4d_1=t,this.y4d_1=8}function Zh(){this.z4d_1=0}function Kh(t,e){Sh();var n,i,r,o=Rh().m()?null:ne(Rh());if(null==o)i=null;else{var s=Gn(o);i=null==s?(r=o,function(t){var e=0,n=r.g()-1|0;if(e<=n){do{var i=e;e=e+1|0,r.l(i)(t)}while(e<=n);St()}return St()}):s}n=i,Vh.call(this,t,e,null,n)}function Xh(){this.f45_1=Qh().e3f(),this.g45_1=null,this.h45_1=8}function Jh(t){gp(),Mh().w4e(t)}function Qh(){gp();var t=kh().zu();return null==t?Ph().zu():t}function tp(t){gp();var e=Ph().zu(),n=(Sh(),lp(e,t)),i=e.d4c();if(null!=i){Sh();var r=ne(Dh()),o=0,s=r.g()-1|0;if(o<=s)do{var a=o;o=o+1|0,r.l(a)(i,e)}while(o<=s)}return n}function ep(){return gp(),tp((function(t){return St()}))}function np(t){t.l4f_1||(t.l4f_1=!0,t.k4f_1.g4d(t))}function ip(t,e,n,i,r){Vh.call(this,t,e,n,i),this.k4f_1=r,this.l4f_1=!1,this.k4f_1.h4d(this)}function rp(t,e,n){gp();var i=t,r=e;if(r<n)do{var o=r;r=r+1|0,i=i.e4d(o)}while(r<n);return i}function op(t,e,n){gp();var i,r,o=n?e:null;return null==t||null==o||Zt(t,o)?null==t?o:t:(i=t,r=o,function(t){return i(t),r(t),St()})}function sp(t,e){return gp(),null==t||null==e||Zt(t,e)?null==t?e:t:(n=t,i=e,function(t){return n(t),i(t),St()});var n,i}function ap(t,e,n){gp();var i=e.d4c(),r=t.e3f();if(null==i)return null;for(var o=e.e4c().e4d(e.e3f()).l4d(e.h40_1),s=null,a=i.d();a.e();){var u=a.f(),l=u.n45(),c=cp(l,r,n);if(null!=c){var h=c,p=cp(l,r,o);if(null!=p){var _=p;if(!Zt(h,_)){var f,d=cp(l,e.e3f(),e.e4c());null==d?hp():f=d;var m=f,y=u.p45(_,h,m);if(null==y)return null;var v,g,w=s;null==w?(s=g=Jt(),v=g):v=w,v.a(h,y)}}}}return s}function up(t){if(gp(),!Ih().l(t.e3f()))throw Dt("Snapshot is not open")}function lp(t,e){gp();var n=e(Ih().w4c(t.e3f())),i=(Sh(),zh());Oh(i+1|0);var r=i;return Th(Ih().w4c(t.e3f())),Ph().m4f(new Kh(r,Ih())),t.yq(),Th(Ih().e4d(r)),n}function cp(t,e,n){gp();for(var i=t,r=null;null!=i;)_p(i,e,n)&&(r=null==r||r.f45_1<i.f45_1?i:r),i=i.g45_1;return null!=r?r instanceof Xh?r:zt():null}function hp(){throw gp(),Dt(Tt("Reading a state that was created after the snapshot was taken or in a snapshot that has not yet been applied"))}function pp(t){return gp(),tp((e=t,function(t){var n=e(t);return Sh(),Th(Ih().e4d(n.e3f())),n}));var e}function _p(t,e,n){return gp(),function(t,e,n){return gp(),0!==e&&e<=t&&!n.l(e)}(e,t.f45_1,n)}function fp(t,e){return gp(),function(t,e,n){gp();var i=n.m4c();null==i||i(e);var r,o=cp(t,n.e3f(),n.e4c());return null==o?hp():r=o,r}(t,e,Qh())}function dp(t,e){gp();var n,i=cp(t,e.e3f(),e.e4c());return null==i?hp():n=i,n}function mp(t,e){gp();var n=t.n4c();null==n||n(e)}function yp(t,e){gp();var n,i=function(t){gp();for(var e=t.n45(),n=null,i=Mh().n4f(zh())-1|0,r=Cp().b4d_1;null!=e;){if(0===e.f45_1)return e;if(_p(e,i,r)){if(null!=n)return e.f45_1<n.f45_1?e:n;n=e}e=e.g45_1}return null}(e),r=null==i||i instanceof Xh?i:zt();null==r?n=null:(r.f45_1=tn().e1_1,n=r);var o,s=n;if(null==s){var a,u=t.e45();u.f45_1=tn().e1_1,u.g45_1=e.n45(),e.o45(u instanceof Xh?u:zt()),o=(a=u)instanceof Xh?a:zt()}else o=s;return o}function vp(t,e,n){gp(),n.h4c()&&n.o4c(e);var i,r=cp(t,n.e3f(),n.e4c());null==r?hp():i=r;var o=i;if(o.f45_1===n.e3f())return o;var s=function(t,e,n){gp();var i=yp(t,e);return i.d45(t),i.f45_1=n.e3f(),i}(o,e,n);return n.o4c(e),s}function gp(){if(dt);else{var t,e;dt=!0,it=function(t){return St()},rt=new Bp,ot=Su(),st=Cp().b4d_1,at=1,ut=new xp,t=Ot(),lt=t,e=Ot(),ct=e;var n=zh();Oh(n+1|0);var i=new Kh(n,Cp().b4d_1);Th(Ih().e4d(i.e3f())),ht=new qp(i),pt=Ph().zu()}}function wp(t,e){var n=t.r4e_1,i=n[e],r=e;t:for(;r>0;){var o=((r+1|0)>>1)-1|0;if(!(n[o]>i))break t;bp(t,o,r),r=o}}function bp(t,e,n){var i=t.r4e_1,r=t.s4e_1,o=t.t4e_1,s=i[e];i[e]=i[n],i[n]=s,s=r[e],r[e]=r[n],r[n]=s,o[r[e]]=e,o[r[n]]=n}function xp(){this.q4e_1=0,this.r4e_1=new Int32Array(16),this.s4e_1=new Int32Array(16);for(var t=0,e=new Int32Array(16);t<16;){var n;n=t+1|0,e[t]=n,t=t+1|0}this.t4e_1=e,this.u4e_1=0}function $p(){mt=this,this.b4d_1=new Ap(new Ge(0,0),new Ge(0,0),0,null)}function Cp(){return null==mt&&new $p,mt}function Ep(t,e){this.w4f_1=t,Me.call(this,e)}function Ap(t,e,n,i){Cp(),this.s4c_1=t,this.t4c_1=e,this.u4c_1=n,this.v4c_1=i}function kp(t,e){for(var n=0,i=t.length-1|0;n<=i;){var r=(n+i|0)>>>1|0,o=t[r];if(e>o)n=r+1|0;else{if(!(e<o))return r;i=r-1|0}}return 0|-(n+1|0)}function Sp(t){var e=t,n=0;return e.v7(new Ge(-1,0)).equals(new Ge(0,0))&&(n=n+32|0,e=e.l6(32)),e.v7(new Ge(65535,0)).equals(new Ge(0,0))&&(n=n+16|0,e=e.l6(16)),e.v7(new Ge(255,0)).equals(new Ge(0,0))&&(n=n+8|0,e=e.l6(8)),e.v7(new Ge(15,0)).equals(new Ge(0,0))&&(n=n+4|0,e=e.l6(4)),e.v7(new Ge(1,0)).equals(new Ge(0,0))?e.v7(new Ge(2,0)).equals(new Ge(0,0))?e.v7(new Ge(4,0)).equals(new Ge(0,0))?e.v7(new Ge(8,0)).equals(new Ge(0,0))?-1:n+3|0:n+2|0:n+1|0:n}function Tp(){}function Ip(t){Xh.call(this),this.k4g_1=t,this.l4g_1=0}function Op(){this.p4g_1=new Ip(rl())}function zp(t){if(t.v4g_1.o4g()!==t.x4g_1)throw sn()}function Mp(t,e){this.v4g_1=t,this.w4g_1=e-1|0,this.x4g_1=this.v4g_1.o4g()}function Dp(t,e){if(Pp(),!(0<=t&&t<e))throw Bn("index ("+t+") is out of bound of [0, "+e+")")}function Rp(){return Pp(),Pp(),yt}function Pp(){vt||(vt=!0,yt=Su())}function jp(){throw gt||(gt=!0,Su()),Tn()}function Np(){}function Lp(){}function qp(t){this.i3u_1=t,this.j3u_1=8}function Bp(){this.u3w_1=null}function Fp(t){if(Yp(),null==t)return 0;var e,n=t.kotlinIdentityHashcodeValue$;if(null!=n)return n;switch(typeof t){case"object":case"function":e=function(t){Yp();var e=(Yp(),xt);n=e+1|0,Yp(),xt=n;var n;var i=e,r=new Object;return r.value=i,r.writable=!1,r.configurable=!1,r.enumerable=!1,Object.defineProperty(t,"kotlinIdentityHashcodeValue$",r),i}(t);break;default:throw le("identity hash code for "+typeof t+" is not supported")}return e}function Up(t,e){return function(n){var i,r=ii(n,ni()),o=t(ri(r));return jt(),i=Nt(o),e.g4(i),St()}}function Hp(t,e,n){Me.call(this,n),this.g4h_1=t,this.h4h_1=e}function Vp(){}function Yp(){Ct||(Ct=!0,xt=1,$t=new Vp)}function Wp(){Et=this}function Gp(){return null==Et&&new Wp,Et}function Zp(t,e){e.s3w(t,1)}function Kp(){}function Xp(t,e){if(t.k3q_1){var n=e.u3s();if(null!=n)if(e.v3s(n),wh(t.m3q_1,n))t.m3q_1=n;else{var i=t.n3q_1;if(null==i){var r=Ot();t.n3q_1=r,r.b(n)}else{var o=0,s=i.g();if(o<s)do{var a=o;if(o=o+1|0,wh(i.l(a),n))return i.ra(a,n),St()}while(o<s);i.b(n)}}}}function Jp(t,e){this.j3q_1=t,this.k3q_1=e,this.l3q_1=null,this.m3q_1=null,this.n3q_1=null}return jr.prototype=Object.create(te.prototype),jr.prototype.constructor=jr,Po.prototype=Object.create(Ro.prototype),Po.prototype.constructor=Po,jo.prototype=Object.create(Po.prototype),jo.prototype.constructor=jo,No.prototype=Object.create(Po.prototype),No.prototype.constructor=No,ss.prototype=Object.create(Me.prototype),ss.prototype.constructor=ss,vs.prototype=Object.create(Me.prototype),vs.prototype.constructor=vs,ws.prototype=Object.create(te.prototype),ws.prototype.constructor=ws,Ns.prototype=Object.create(Me.prototype),Ns.prototype.constructor=Ns,Ls.prototype=Object.create(Me.prototype),Ls.prototype.constructor=Ls,Vs.prototype=Object.create(Me.prototype),Vs.prototype.constructor=Vs,Ys.prototype=Object.create(Do.prototype),Ys.prototype.constructor=Ys,uu.prototype=Object.create(Me.prototype),uu.prototype.constructor=uu,hu.prototype=Object.create(Me.prototype),hu.prototype.constructor=hu,_u.prototype=Object.create(Me.prototype),_u.prototype.constructor=_u,du.prototype=Object.create(Me.prototype),du.prototype.constructor=du,$u.prototype=Object.create(Xh.prototype),$u.prototype.constructor=$u,sl.prototype=Object.create(yn.prototype),sl.prototype.constructor=sl,al.prototype=Object.create(ol.prototype),al.prototype.constructor=al,yl.prototype=Object.create(sl.prototype),yl.prototype.constructor=yl,Ml.prototype=Object.create(wn.prototype),Ml.prototype.constructor=Ml,Dl.prototype=Object.create(ol.prototype),Dl.prototype.constructor=Dl,jl.prototype=Object.create(ol.prototype),jl.prototype.constructor=jl,ql.prototype=Object.create(sl.prototype),ql.prototype.constructor=ql,Hl.prototype=Object.create(ol.prototype),Hl.prototype.constructor=Hl,nc.prototype=Object.create(En.prototype),nc.prototype.constructor=nc,ic.prototype=Object.create(An.prototype),ic.prototype.constructor=ic,uc.prototype=Object.create(Ec.prototype),uc.prototype.constructor=uc,oc.prototype=Object.create(uc.prototype),oc.prototype.constructor=oc,sc.prototype=Object.create(uc.prototype),sc.prototype.constructor=sc,lc.prototype=Object.create(vc.prototype),lc.prototype.constructor=lc,cc.prototype=Object.create(Ac.prototype),cc.prototype.constructor=cc,fc.prototype=Object.create(In.prototype),fc.prototype.constructor=fc,hc.prototype=Object.create(fc.prototype),hc.prototype.constructor=hc,pc.prototype=Object.create(In.prototype),pc.prototype.constructor=pc,_c.prototype=Object.create(zn.prototype),_c.prototype.constructor=_c,dc.prototype=Object.create(Ec.prototype),dc.prototype.constructor=dc,mc.prototype=Object.create(Ec.prototype),mc.prototype.constructor=mc,yc.prototype=Object.create(Ec.prototype),yc.prototype.constructor=yc,wc.prototype=Object.create(vc.prototype),wc.prototype.constructor=wc,bc.prototype=Object.create(vc.prototype),bc.prototype.constructor=bc,kc.prototype=Object.create(vc.prototype),kc.prototype.constructor=kc,Sc.prototype=Object.create(Dn.prototype),Sc.prototype.constructor=Sc,Tc.prototype=Object.create(Rn.prototype),Tc.prototype.constructor=Tc,Ic.prototype=Object.create(Dn.prototype),Ic.prototype.constructor=Ic,ah.prototype=Object.create(Dn.prototype),ah.prototype.constructor=ah,Vh.prototype=Object.create(Uh.prototype),Vh.prototype.constructor=Vh,Yh.prototype=Object.create(Zh.prototype),Yh.prototype.constructor=Yh,Gh.prototype=Object.create(Zh.prototype),Gh.prototype.constructor=Gh,Kh.prototype=Object.create(Vh.prototype),Kh.prototype.constructor=Kh,ip.prototype=Object.create(Vh.prototype),ip.prototype.constructor=ip,Ep.prototype=Object.create(Me.prototype),Ep.prototype.constructor=Ep,Ip.prototype=Object.create(Xh.prototype),Ip.prototype.constructor=Ip,Hp.prototype=Object.create(Me.prototype),Hp.prototype.constructor=Hp,li.$metadata$=kt("Applier"),ci.prototype.s3f=function(){return this.b3g_1.s3f()},ci.prototype.v3f=function(t){var e=this.d3g_1;this.d3g_1=e+1|0,this.b3g_1.v3f(t)},ci.prototype.w3f=function(){this.d3g_1>0||Qr(Tt("OffsetApplier up called with no corresponding down"));var t=this.d3g_1;this.d3g_1=t-1|0,this.b3g_1.w3f()},ci.prototype.x3f=function(t,e){this.b3g_1.x3f(t+(0===this.d3g_1?this.c3g_1:0)|0,e)},ci.prototype.y3f=function(t,e){this.b3g_1.y3f(t+(0===this.d3g_1?this.c3g_1:0)|0,e)},ci.prototype.z3f=function(t,e){this.b3g_1.z3f(t+(0===this.d3g_1?this.c3g_1:0)|0,e)},ci.prototype.a3g=function(t,e,n){var i=0===this.d3g_1?this.c3g_1:0;this.b3g_1.a3g(t+i|0,e+i|0,n)},ci.$metadata$=It("OffsetApplier",[li]),hi.prototype.i3g=function(t){this.g3g_1=t},hi.prototype.s3f=function(){return this.g3g_1},hi.prototype.j3g=function(t){this.f3g_1.b(this.s3f()),this.i3g(t)},hi.prototype.v3f=function(t){return this.j3g(null==t||Mt(t)?t:zt())},hi.prototype.w3f=function(){if(this.f3g_1.m())throw Dt(Tt("Check failed."));this.i3g(this.f3g_1.y3(this.f3g_1.g()-1|0))},hi.$metadata$=It("AbstractApplier",[li]),pi.prototype.m3g=function(){return this.k3g_1},pi.prototype.y1c=function(){return this.l3g_1},pi.prototype.n3g=function(t){var e,n;try{var i;jt(),i=this.k3g_1(t),n=Nt(i)}catch(t){if(!(t instanceof Error))throw t;jt(),n=Nt(Lt(t))}e=n,this.l3g_1.g4(e)},pi.$metadata$=It("FrameAwaiter"),_i.prototype.u3g=function(){return this.p3g_1,!this.r3g_1.m()},_i.prototype.v3g=function(t){this.p3g_1;var e=this.r3g_1;this.r3g_1=this.s3g_1,this.s3g_1=e;var n=0,i=e.g();if(n<i)do{var r=n;n=n+1|0,e.l(r).n3g(t)}while(n<i);e.va()},_i.prototype.w3g=function(t,e){var n=new Ut(Bt(e),Ft());n.js();var i,r,o={_v:null},s=(this.p3g_1,this.q3g_1);if(null==s){o._v=new pi(t,n);var a,u=!this.r3g_1.m(),l=this.r3g_1;null==o._v?qt("awaiter"):a=o._v,l.b(a);var c=!u;if(n.tq((i=this,r=o,function(t){i.p3g_1;var e,n=i.r3g_1;return null==r._v?qt("awaiter"):e=r._v,n.sa(e),St(),St()})),c&&null!=this.o3g_1)try{this.o3g_1()}catch(t){if(!(t instanceof Error))throw t;!function(t,e){if(t.p3g_1,null!=t.q3g_1)return St();t.q3g_1=e;var n=t.r3g_1,i=0,r=n.g()-1|0;if(i<=r)do{var o=i;i=i+1|0;var s,a=n.l(o).l3g_1;jt(),s=Nt(Lt(e)),a.g4(s)}while(i<=r);t.r3g_1.va()}(this,t)}}else{var h;jt(),h=Nt(Lt(s)),n.g4(h),St()}return n.gp()},_i.$metadata$=It("BroadcastFrameClock",[ts]),vi.$metadata$=kt("RememberManager"),wr.prototype.w=function(t,e){return this.t3p_1(t,e)},wr.prototype.compare=function(t,e){return this.w(t,e)},wr.$metadata$=It("sam$kotlin_Comparator$0",[re]),Or.prototype.k3r=function(){return this.e3j_1},Or.prototype.l3r=function(){return this.e3k_1>0},Or.prototype.m3r=function(){return this.k3k_1},Or.prototype.n3r=function(){return this.f3j_1.o3r()},Or.prototype.x3g=function(t){return zi(this,t,null,!1,null)},Or.prototype.b3h=function(){return Ci(this)},Or.prototype.p3r=function(){return zi(this,-127,null,!1,null)},Or.prototype.q3r=function(){Ci(this);var t=this.r3r();null!=t&&t.w3n()&&t.s3r(!0)},Or.prototype.t3r=function(){var t;if(this.a3k_1)t=!0;else{var e=this.r3r();t=!0===(null==e?null:e.t3r())}return t},Or.prototype.c3p=function(t,e){return zi(this,t,e,!1,null)},Or.prototype.f3p=function(){return Ci(this)},Or.prototype.u3r=function(){this.z3j_1.va()},Or.prototype.v3r=function(){return this.p3k_1},Or.prototype.p3q=function(){var t;if(this.p3k_1||this.c3k_1||this.a3k_1)t=!1;else{var e=this.r3r();t=!1===(null==e?null:e.w3r())}return!!t&&!this.u3j_1},Or.prototype.s3m=function(){zi(this,this.p3k_1?125:this.c3k_1?125===this.j3k_1.f3n()?126:125:126===this.j3k_1.f3n()?126:125,null,!0,null),this.v3j_1=!0},Or.prototype.x3r=function(t){Gi(this),this.p3k_1||Qr(Tt("createNode() can only be called when inserting"));var e,n,i,r,o,s=this.o3j_1.y3r(),a=this.l3k_1.k3n(this.l3k_1.x3h_1),u=this.p3j_1;this.p3j_1=u+1|0,ar(this,(i=t,r=a,o=s,function(t,e,n){var s=i();return e.d3q(r,s),(Gt(t,li)?t:zt()).x3f(o,s),t.v3f(s),St()})),e=this,n=function(t,e){return function(n,i,r){var o=i.e3q(t);return n.w3f(),(Gt(n,li)?n:zt()).y3f(e,o),St()}}(a,s),e.x3k_1.u3n(n)},Or.prototype.z3r=function(){var t;Gi(this),!this.p3k_1||Qr(Tt("useNode() called while inserting")),rr(this,(t=this.j3k_1).i3p(t.c3m_1))},Or.prototype.a3s=function(){return Di(this,!0)},Or.prototype.b3s=function(t,e){var n,i,r=(n=e,i=t,function(t,e,r){var o=t.s3f();return n(null==o||Mt(o)?o:zt(),i),St()});this.p3k_1?ar(this,r):Xi(this,r)},Or.prototype.r3p=function(){var t;if(this.p3k_1)Zi(this),t=Dr().a3h_1;else{var e=this.j3k_1.f();t=this.c3k_1?Dr().a3h_1:e}return t},Or.prototype.c3h=function(t){var e;return Zt(this.r3p(),t)?e=!1:(this.u3o(t),e=!0),e},Or.prototype.c3s=function(t){var e=this.r3p();return(null==e||"boolean"!=typeof e||t!==e)&&(this.u3o(t),!0)},Or.prototype.u3o=function(t){if(this.p3k_1)this.l3k_1.e3s(t),null!=t&&Gt(t,Ks)&&(Ki(this,(n=t,function(t,e,i){return i.d3h(n),St()})),this.h3j_1.b(t));else{var e=this.j3k_1.d3s()-1|0;null!=t&&Gt(t,Ks)&&this.h3j_1.b(t),Qi(this,!0,function(t,e){return function(n,i,r){null!=t&&Gt(t,Ks)&&r.d3h(t);var o=i.f3q(e,t);if(null!=o&&Gt(o,Ks))r.e3h(o);else if(o instanceof ls){var s=o.b3i_1;null!=s&&(o.b3i_1=null,s.v3i_1=!0,St())}return St()}}(t,e))}var n},Or.prototype.f3s=function(t){var e=ki(this,null,2);$i(this,201,(mo(),c)),$i(this,203,(mo(),p));var n,i,r,o=(r=this,$r(t,e)(r,1));if(Ci(this),this.p3k_1)n=Si(this,e,o),i=!1,this.m3k_1=!0;else{var s=this.j3k_1.g3s(0),a=null!=s&&Gt(s,Qu)?s:zt(),u=this.j3k_1.g3s(1),l=null!=u&&Gt(u,Qu)?u:zt();this.p3q()&&Zt(l,o)?(Ei(this),n=a,i=!1):(n=Si(this,e,o),i=!Zt(n,a))}if(i&&!this.p3k_1){var h=this.z3j_1,_=this.j3k_1.a3m_1;h.a(_,n)}this.b3k_1.q3l(Wr(this.a3k_1)),this.a3k_1=i,zi(this,202,yi(),!1,n)},Or.prototype.h3s=function(){var t;Ci(this),Ci(this),this.a3k_1=(t=this.b3k_1.v3n(),mo(),!(0===t))},Or.prototype.i3s=function(t){return Ti(0,t,ki(this,null,2))},Or.prototype.r3r=function(){var t=this.g3k_1;return 0===this.e3k_1&&t.j3p()?t.y3r():null},Or.prototype.g3p=function(t,e){var n=t.d3i_1;if(null==n)return!1;var i=n.e3r(this.g3j_1);return!!(this.h3k_1&&i>=this.j3k_1.a3m_1)&&(function(t,e,n,i){mo();var r=ro(t,e);if(r<0){var o,s=0|-(r+1|0),a=i;if(null==a)o=null;else{var u=new Bu;u.y3t(a),o=u}t.jb(s,new Yr(n,e,o))}else if(null==i)t.l(r).k3o_1=null;else{var l=t.l(r).k3o_1;null==l||l.y3t(i)}}(this.w3j_1,i,t,e),!0)},Or.prototype.h3r=function(){if(this.w3j_1.m())Ei(this);else{var t=this.j3k_1,e=t.f3n(),n=t.h3n(),i=t.q3m();dr(this,e,n,i),Oi(this,t.x3p(),null),Ri(this),t.d3o(),yr(this,e,n,i)}},Or.prototype.p3m=function(){0===this.p3j_1||Qr(Tt("No nodes can be emitted before calling skipAndEndGroup"));var t=this.r3r();null==t||t.j3s(),this.w3j_1.m()?Hi(this):Ri(this)},Or.prototype.k3s=function(t){return zi(this,t,null,!1,null),function(t){if(t.p3k_1){var e=t.k3j_1,n=new ls(e instanceof So?e:zt());t.g3k_1.u3n(n),t.u3o(n),n.b3p(t.f3k_1.e3f())}else{var i,r=Xr(t.w3j_1,t.j3k_1.c3m_1),o=t.j3k_1.f();if(Zt(o,Dr().a3h_1)){var s=t.k3j_1,a=new ls(s instanceof So?s:zt());t.u3o(a),i=a}else i=o instanceof ls?o:zt();var u=i;u.v3o(!(null==r)),t.g3k_1.u3n(u),u.b3p(t.f3k_1.e3f())}}(this),this},Or.prototype.l3s=function(){var t=this.g3k_1.j3p()?this.g3k_1.v3n():null;null==t||t.v3o(!1);var e,n,i,r=null==t?null:t.m3s(this.f3k_1.e3f());if(null==r||Ki(this,(n=r,i=this,function(t,e,r){return n(i.k3j_1),St()})),null==t||t.o3s()||!t.w3n()&&!this.t3j_1)e=null;else{if(null==t.d3i_1){var o,s=t;o=this.p3k_1?this.l3k_1.k3n(this.l3k_1.x3h_1):this.j3k_1.k3n(this.j3k_1.c3m_1),s.d3i_1=o}t.n3s(!1),e=t}var a=e;return Di(this,!1),a},Or.prototype.p3s=function(t){t:{var e=this.j3j_1,n=this.i3j_1;try{this.i3j_1=e,Ki(this,(mo(),u));var i=0,r=t.g()-1|0;if(i<=r)do{var s=i;i=i+1|0;var a=t.l(s),l=a.w3(),c=a.x3(),h=l.u3q_1,p=l.t3q_1.w3p(h),_={_v:0};if(er(this),Ki(this,Cr(_,h)),null==c){var f=l.t3q_1;Zt(f,this.k3k_1)&&Ii(this);var d=l.t3q_1.k3l();try{d.t3n(p),this.t3k_1=p;var m=Ot();Wi(this,null,null,null,null,Er(this,m,d,l),30),!m.m()&&Ki(this,Ar(_,m))}finally{d.p1e()}}else{var y=Jr(c.t3q_1,c.u3q_1);if(!y.m()){Ki(this,kr(_,y));var v=this.g3j_1.w3p(h);qi(this,v,Li(this,v)+y.g()|0)}Ki(this,Sr(this,c,l));var g=c.t3q_1,w=g.k3l();try{e:{var b=this.j3k_1,x=this.r3j_1;this.r3j_1=null;try{this.j3k_1=w;var $=g.w3p(c.u3q_1);w.t3n($),this.t3k_1=$;var C,E=Ot();n:{var A=this.i3j_1;try{this.i3j_1=E;var k=w.a3m_1;Yi(this,c.s3q_1,l.s3q_1,k,c.v3q_1,Tr(this,l));break n}finally{this.i3j_1=A}}!E.m()&&(C=Ki(this,Ir(_,E))),C;break e}finally{this.j3k_1=b,this.r3j_1=x}}}finally{w.p1e()}}Ki(this,(mo(),o))}while(i<=r);Ki(this,(function(t,e,n){return Gt(t,li)||zt(),br(e,t,0),e.f3o(),St()})),this.t3k_1=0,St();break t}finally{this.i3j_1=n}}hr(this)},Or.prototype.q3s=function(t){this.p3k_1&&this.l3k_1.r3s(t)},Or.prototype.s3s=function(t){!this.h3k_1||Qr(Tt("Preparing a composition while composing is not supported")),this.h3k_1=!0;try{t()}finally{this.h3k_1=!1}},Or.prototype.t3s=function(t){return this.i3j_1.m()||Qr(Tt("Expected applyChanges() to have been called")),!(!t.j3p()&&this.w3j_1.m()&&!this.u3j_1||(gr(this,t,null),this.i3j_1.m()))},Or.prototype.u3s=function(){return this.r3r()},Or.prototype.y3g=function(){return this.r3p()},Or.prototype.z3g=function(t){return this.u3o(t)},Or.prototype.v3s=function(t){var e=t instanceof ls?t:null;null==e||e.w3s(!0)},Or.prototype.x3s=function(t,e){this.i3j_1.m()||Qr(Tt("Expected applyChanges() to have been called")),gr(this,t,e)},Or.$metadata$=It("ComposerImpl",[Rr]),zr.prototype.toString=function(){return"Empty"},zr.$metadata$=It(),Mr.prototype.n2m=function(){return this.a3h_1},Mr.$metadata$=ue("Companion"),Rr.$metadata$=kt("Composer"),jr.$metadata$=It("InvalidationResult",void 0,void 0,void 0,void 0,te.prototype),Nr.prototype.j25=function(){return this.q3q_1},Nr.prototype.y3s=function(){return this.r3q_1},Nr.prototype.z3s=function(){return this.s3q_1},Nr.prototype.a3t=function(){return this.t3q_1},Nr.prototype.b3t=function(){return this.u3q_1},Nr.prototype.c3t=function(){return this.v3q_1},Nr.prototype.d3t=function(){return this.w3q_1},Nr.$metadata$=It("MovableContentStateReference"),qr.prototype.a3t=function(){return this.z3q_1},qr.$metadata$=It("MovableContentState"),Br.prototype.i3t=function(){return this.e3t_1},Br.prototype.b1=function(){return this.f3t_1},Br.prototype.j3t=function(){return this.g3t_1},Br.$metadata$=It("ProvidedValue"),Fr.$metadata$=kt("ScopeUpdateScope"),Ur.$metadata$=It("MovableContent"),Vr.prototype.l3t=function(){return this.x3m_1},Vr.prototype.m3t=function(){return this.y3m_1},Vr.prototype.n3t=function(){return fe("keyMap",1,_e,(function(t){return t.n3t()}),null),this.c3n_1.b1()},Vr.prototype.i3n=function(t,e){var n=null!=e?new Xo(t,e):t;return no(this.n3t(),n)},Vr.prototype.e3n=function(t){return this.a3n_1.b(t)},Vr.prototype.w3n=function(){return this.a3n_1},Vr.prototype.s3n=function(t,e){if(t>e)for(var n=this.b3n_1.y2().d();n.e();){var i=n.f(),r=i.o3t_1;r===t?i.o3t_1=e:e<=r&&r<t&&(i.o3t_1=r+1|0)}else if(e>t)for(var o=this.b3n_1.y2().d();o.e();){var s=o.f(),a=s.o3t_1;a===t?s.o3t_1=e:(t+1|0)<=a&&a<e&&(s.o3t_1=a-1|0)}},Vr.prototype.a3o=function(t,e,n){if(t>e)for(var i=this.b3n_1.y2().d();i.e();){var r=i.f(),o=r.p3t_1;t<=o&&o<(t+n|0)?r.p3t_1=e+(o-t|0)|0:e<=o&&o<t&&(r.p3t_1=o+n|0)}else if(e>t)for(var s=this.b3n_1.y2().d();s.e();){var a=s.f(),u=a.p3t_1;t<=u&&u<(t+n|0)?a.p3t_1=e+(u-t|0)|0:(t+1|0)<=u&&u<e&&(a.p3t_1=u-n|0)}},Vr.prototype.d3n=function(t,e){var n=this.b3n_1,i=t.n3n_1,r=new to(-1,e,0);n.a(i,r)},Vr.prototype.x3n=function(t,e){var n=this.b3n_1.o(t);if(null!=n){var i=n.p3t_1,r=e-n.q3t_1|0;if(n.q3t_1=e,0!==r)for(var o=this.b3n_1.y2().d();o.e();){var s=o.f();if(s.p3t_1>=i&&!Zt(s,n)){var a=s.p3t_1+r|0;a>=0&&(s.p3t_1=a)}}return!0}return!1},Vr.prototype.r3n=function(t){var e=this.b3n_1.o(t.n3n_1),n=null==e?null:e.o3t_1;return null==n?-1:n},Vr.prototype.q3n=function(t){var e=this.b3n_1.o(t.n3n_1),n=null==e?null:e.p3t_1;return null==n?-1:n},Vr.prototype.z3n=function(t){var e=this.b3n_1.o(t.n3n_1),n=null==e?null:e.q3t_1;return null==n?t.o3n_1:n},Vr.$metadata$=It("Pending"),Yr.prototype.r3t=function(){return this.i3o_1},Yr.prototype.s3t=function(){return this.j3o_1},Yr.prototype.t3t=function(){return this.k3o_1},Yr.prototype.o3o=function(){return this.i3o_1.u3t(this.k3o_1)},Yr.$metadata$=It("Invalidation"),to.prototype.z3t=function(t){this.o3t_1=t},to.prototype.a3u=function(){return this.o3t_1},to.prototype.b3u=function(t){this.p3t_1=t},to.prototype.c3u=function(){return this.p3t_1},to.$metadata$=It("GroupInfo"),co.prototype.toString=function(){return"Updater(composer="+this.f3u_1+")"},co.prototype.hashCode=function(){return t=this.f3u_1,Qt(t);var t},co.prototype.equals=function(t){return function(t,e){if(!(e instanceof co))return!1;var n=e instanceof co?e.f3u_1:zt();return!!Zt(t,n)}(this.f3u_1,t)},co.$metadata$=It("Updater"),ho.prototype.toString=function(){return"SkippableUpdater(composer="+this.g3u_1+")"},ho.prototype.hashCode=function(){return t=this.g3u_1,Qt(t);var t},ho.prototype.equals=function(t){return function(t,e){if(!(e instanceof ho))return!1;var n=e instanceof ho?e.g3u_1:zt();return!!Zt(t,n)}(this.g3u_1,t)},ho.$metadata$=It("SkippableUpdater"),Ao.prototype.d3h=function(t){var e=this.t3u_1.h2(t);e>=0?(this.t3u_1.y3(e),this.r3u_1.sa(t)):this.s3u_1.b(t)},Ao.prototype.e3h=function(t){var e=this.s3u_1.h2(t);e>=0?(this.s3u_1.y3(e),this.r3u_1.sa(t)):this.t3u_1.b(t)},Ao.prototype.v3u=function(){if(!this.t3u_1.m()){var t=this.t3u_1.g()-1|0;if(0<=t)do{var e=t;t=t+-1|0;var n=this.t3u_1.l(e);this.r3u_1.n(n)||n.e3v()}while(0<=t)}if(!this.s3u_1.m()){var i=this.s3u_1,r=0,o=i.g()-1|0;if(r<=o)do{var s=r;r=r+1|0;var a=i.l(s);this.r3u_1.sa(a),a.f3v()}while(r<=o)}},Ao.prototype.w3u=function(){if(!this.u3u_1.m()){var t=this.u3u_1,e=0,n=t.g()-1|0;if(e<=n)do{var i=e;e=e+1|0,t.l(i)()}while(e<=n);this.u3u_1.va()}},Ao.prototype.z3u=function(){if(!this.r3u_1.m())for(var t=this.r3u_1.d();t.e();){var e=t.f();t.z3(),e.g3v()}},Ao.$metadata$=It("RememberEventDispatcher",[vi]),So.prototype.a3t=function(){return this.n3i_1},So.prototype.b3v=function(){return this.y3i_1.h3k_1},So.prototype.m3v=function(){return this.b3j_1},So.prototype.n3v=function(t){t:for(;;){var e,n=this.k3i_1.zu(),i=n;if(null==i||Zt(i,yo()))e=t;else if(null!=i&&Gt(i,me))e=[n,t];else{if(null==i||!de(i)){var r="corrupt pendingModifications: "+this.k3i_1;throw Dt(Tt(r))}e=ge(null!=n&&de(n)?n:zt(),t)}var o=e;if(this.k3i_1.o3v(n,o)){null==n&&(this.l3i_1,wo(this));break t}}},So.prototype.p3v=function(t){for(var e=t.d();e.e();){var n=e.f();if(this.o3i_1.y3u(n)||this.q3i_1.y3u(n))return!0}return!1},So.prototype.s3s=function(t){return this.y3i_1.s3s(t)},So.prototype.q3v=function(t){if(!this.y3i_1.l3r()){var e=this.y3i_1.r3r();if(null==e);else{if(e.w3s(!0),this.o3i_1.q3u(t,e),Gt(t,Bo))for(var n=t.r3v().d();n.e();){var i=n.f();this.q3i_1.q3u(i,t)}e.s3v(t)}}},So.prototype.t3v=function(t){this.l3i_1,xo(this,t);var e,n=this.q3i_1,i=Uu(n,t);if(i>=0){for(var r=Fu(n,i).d();r.e();)xo(this,r.f());e=St()}return e},So.prototype.u3v=function(){this.l3i_1,go(this);var t,e=!1;try{var n=this.y3i_1.t3s(Eo(this));n||wo(this),e=!0,t=n}finally{!e&&!this.m3i_1.m()&&new Ao(this.m3i_1).z3u()}return t},So.prototype.v3v=function(t){var e;t:{var n=0,i=t.g()-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=t.l(r);if(!Zt(o.u3_1.s3q_1,this)){e=!1;break t}}while(n<=i);e=!0}Lr(e);var s=!1;try{this.y3i_1.p3s(t);s=!0}finally{!s&&!this.m3i_1.m()&&new Ao(this.m3i_1).z3u()}},So.prototype.w3v=function(t){var e=new Ao(this.m3i_1),n=t.z3q_1.o3m();try{gi(n,e)}finally{n.p1e()}e.v3u()},So.prototype.x3v=function(){this.l3i_1,$o(this,this.r3i_1),wo(this)},So.prototype.y3v=function(){this.l3i_1,!this.s3i_1.m()&&$o(this,this.s3i_1)},So.prototype.u3r=function(){this.l3i_1,this.y3i_1.u3r(),!this.m3i_1.m()&&new Ao(this.m3i_1).z3u()},So.prototype.z3v=function(){this.l3i_1;for(var t=this.n3i_1.e3l_1,e=0,n=t.length;e<n;){var i=t[e];e=e+1|0;var r=i instanceof ls?i:null;null==r||r.a3w()}St()},So.prototype.h3p=function(t,e,n){var i;if(null!=t&&!Zt(t,this)&&e>=0){var r;this.w3i_1=t instanceof So?t:zt(),this.x3i_1=e;try{r=n()}finally{this.w3i_1=null,this.x3i_1=0}i=r}else i=n();return i},So.prototype.b3w=function(t,e){t.c3w()&&t.n3s(!0);var n=t.d3i_1;return null!=n&&this.n3i_1.d3w(n)&&n.x3u()&&n.x3u()&&t.e3w()?Co(this,t,n,e):_o()},So.prototype.f3w=function(t,e){this.o3i_1.i3v(t,e)},So.prototype.g3w=function(t){this.c3j_1=t},So.prototype.h3w=function(t){if(this.b3j_1)throw Dt(Tt("The composition is disposed"));this.g3w(t),this.i3i_1.i3w(this,this.c3j_1)},So.prototype.j3w=function(t){var e=!1;try{this.l3i_1,go(this),this.y3i_1.x3s(Eo(this),t),e=!0}finally{!e&&!this.m3i_1.m()&&new Ao(this.m3i_1).z3u()}},So.$metadata$=It("CompositionImpl",[To]),To.$metadata$=kt("ControlledComposition",[Oo]),Io.$metadata$=ue("ComposableSingletons$CompositionKt"),Oo.$metadata$=kt("Composition"),Do.prototype.s3l=function(t){},Do.prototype.j3v=function(t){},Do.prototype.n3l=function(){return Mo()},Do.prototype.m3l=function(){},Do.prototype.u3l=function(){},Do.prototype.y3q=function(t){return null},Do.$metadata$=It("CompositionContext"),Ro.prototype.m3w=function(t,e){return t.i3s(this)},Ro.$metadata$=It("CompositionLocal"),Po.prototype.o3w=function(t){return new Br(this,t,!0)},Po.$metadata$=It("ProvidableCompositionLocal",void 0,void 0,void 0,void 0,Ro.prototype),jo.prototype.v3t=function(t,e,n){var i=e;i.x3g(571516549);var r=new Ou(t);return i.b3h(),r},jo.$metadata$=It("StaticProvidableCompositionLocal",void 0,void 0,void 0,void 0,Po.prototype),No.prototype.v3t=function(t,e,n){var i=e;i.x3g(-1327537144);var r=i;r.x3g(547886695),so(r,"C(remember$composable)");var o,s=r,a=s.y3g();if(a===Dr().a3h_1){var u=bu(t,this.r3w_1);s.z3g(u),o=u}else o=a;var l=o,c=null==l||Mt(l)?l:zt();r.b3h();var h=c;h.t16(t);var p=h;return i.b3h(),p},No.$metadata$=It("DynamicProvidableCompositionLocal",void 0,void 0,void 0,void 0,Po.prototype),Bo.$metadata$=kt("DerivedState",[gu]),Uo.prototype.yq=function(){this.w3w_1()},Uo.$metadata$=It(void 0,[Vo]),Ho.prototype.y3w=function(t){return new Uo(t)},Ho.$metadata$=It("DisposableEffectScope"),Vo.$metadata$=kt("DisposableEffectResult"),Yo.prototype.f3v=function(){var t=this.c3x_1;null==t||be(t,"Old job was still running!",null,2,null),this.c3x_1=xe(this.b3x_1,null,null,this.a3x_1,3,null)},Yo.prototype.e3v=function(){var t=this.c3x_1;null==t||t.no(null,1,null),this.c3x_1=null},Yo.prototype.g3v=function(){var t=this.c3x_1;null==t||t.no(null,1,null),this.c3x_1=null},Yo.$metadata$=It("LaunchedEffectImpl",[Ks]),Wo.prototype.f3v=function(){},Wo.prototype.e3v=function(){$e(this.z3w_1,null,1,null)},Wo.prototype.g3v=function(){$e(this.z3w_1,null,1,null)},Wo.$metadata$=It("CompositionScopedCoroutineScopeCanceller",[Ks]),Go.prototype.f3v=function(){this.e3x_1=this.d3x_1((Zo(),S))},Go.prototype.e3v=function(){var t=this.e3x_1;null==t||t.yq(),this.e3x_1=null},Go.prototype.g3v=function(){},Go.$metadata$=It("DisposableEffectImpl",[Ks]),Xo.prototype.hashCode=function(){return At(Ko(0,this.f3x_1),31)+Ko(0,this.g3x_1)|0},Xo.prototype.toString=function(){return"JoinedKey(left="+Se(this.f3x_1)+", right="+Se(this.g3x_1)+")"},Xo.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Xo))return!1;var e=t instanceof Xo?t:zt();return!!Zt(this.f3x_1,e.f3x_1)&&!!Zt(this.g3x_1,e.g3x_1)},Xo.$metadata$=It("JoinedKey"),Jo.$metadata$=ue("Key",[Te]),ts.$metadata$=kt("MonotonicFrameClock",[Ie]),ns.prototype.toString=function(){return"OpaqueKey(key="+this.h3x_1+")"},ns.prototype.hashCode=function(){return Oe(this.h3x_1)},ns.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ns))return!1;var e=t instanceof ns?t:zt();return this.h3x_1===e.h3x_1},ns.$metadata$=It("OpaqueKey"),rs.$metadata$=kt("ProduceStateScope",[wu,ze]),os.prototype.gn=function(){return this.i3x_1},os.prototype.t16=function(t){this.j3x_1.t16(t)},os.prototype.b1=function(){return this.j3x_1.b1()},os.$metadata$=It("ProduceStateScopeImpl",[rs,wu]),ss.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},ss.prototype.si=function(t,e){return this.r2l(null!=t&&Gt(t,ze)?t:zt(),e)},ss.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.s3x_1(new os(this.t3x_1,this.u3x_1.gn()),this))===De())return t;continue t;case 1:return St();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ss.prototype.u1k=function(t,e){var n=new ss(this.s3x_1,this.t3x_1,e);return n.u3x_1=t,n},ss.$metadata$=It("produceState$composable$slambda",void 0,void 0,void 0,[1],Me.prototype),ls.prototype.z3x=function(t){this.b3i_1=t},ls.prototype.b3t=function(){return this.d3i_1},ls.prototype.x3u=function(){var t;if(null!=this.b3i_1){var e=this.d3i_1,n=null==e?null:e.x3u();t=null!=n&&n}else t=!1;return t},ls.prototype.e3w=function(){return!(null==this.e3i_1)},ls.prototype.w3s=function(t){this.c3i_1=t?1|this.c3i_1:-2&this.c3i_1},ls.prototype.w3n=function(){return!(0==(1&this.c3i_1))},ls.prototype.s3r=function(t){this.c3i_1=t?2|this.c3i_1:-3&this.c3i_1},ls.prototype.c3w=function(){return!(0==(2&this.c3i_1))},ls.prototype.n3s=function(t){this.c3i_1=t?4|this.c3i_1:-5&this.c3i_1},ls.prototype.t3r=function(){return!(0==(4&this.c3i_1))},ls.prototype.v3o=function(t){this.c3i_1=t?8|this.c3i_1:-9&this.c3i_1},ls.prototype.w3r=function(){return!(0==(8&this.c3i_1))},ls.prototype.m3o=function(t){var e,n=this.e3i_1;if(null==n)e=null;else{var i=n;i instanceof Jp?i.s3w(t,1):i(t,1),e=St()}if(null==e)throw Dt("Invalid restart scope")},ls.prototype.l3u=function(t){var e=this.b3i_1,n=null==e?null:e.b3w(this,t);return null==n?_o():n},ls.prototype.a3w=function(){var t=this.b3i_1;null==t||t.b3w(this,null)},ls.prototype.k3t=function(t){this.e3i_1=t},ls.prototype.o3s=function(){return!(0==(16&this.c3i_1))},ls.prototype.b3p=function(t){this.f3i_1=t,us(this,!1)},ls.prototype.j3s=function(){us(this,!0)},ls.prototype.s3v=function(t){if(0!=(32&this.c3i_1))return St();var e,n=this.g3i_1;if(null==n){var i=new Mu;this.g3i_1=i,e=i}else e=n;if(e.a3y(t,this.f3i_1),Gt(t,Bo)){var r,o=this.h3i_1;if(null==o){var s=Du(0,1);this.h3i_1=s,r=s}else r=o;r.c3v(t,t.t3w())}},ls.prototype.h3v=function(){return!(null==this.h3i_1)},ls.prototype.u3t=function(t){if(null==t)return!0;var e=this.h3i_1;if(null==e)return!0;var n,i=e;if(t.j3p()){var r;t:if(null!=t&&Gt(t,Re)&&t.m())r=!0;else{for(var o=t.d();o.e();){var s=o.f();if(!Gt(s,Bo)||!Zt(i.k3w(s),s.b1())){r=!1;break t}}r=!0}n=r}else n=!1;return!n},ls.prototype.l3o=function(){var t=this.b3i_1;if(null==t);else{var e=this.g3i_1;if(null==e);else{as(this,!0);try{var n=0,i=e.v3x_1;if(n<i){do{var r=n;n=n+1|0;var o=e.w3x_1[r],s=Mt(o)?o:zt();e.x3x_1[r],t.q3v(s)}while(n<i);St()}}finally{as(this,!1)}St()}}},ls.prototype.m3s=function(t){var e,n,i,r,o=this.g3i_1;if(null==o)e=null;else{var s;if(this.o3s())s=!1;else{var a;t:{var u=0,l=o.v3x_1;if(u<l)do{var c=u;u=u+1|0;var h=o.w3x_1[c];if(Mt(h)||zt(),o.x3x_1[c]!==t){a=!0;break t}}while(u<l);a=!1}s=a}e=s?(n=this,i=t,r=o,function(t){if(n.f3i_1===i&&Zt(r,n.g3i_1)&&t instanceof So){var e=0,o=0,s=r.v3x_1;if(o<s)do{var a=o;o=o+1|0;var u=r.w3x_1[a],l=Mt(u)?u:zt(),c=r.x3x_1[a],h=!(c===i);if(h){t.f3w(l,n);var p=Gt(l,Bo)?l:null;if(null==p);else{var _=n.h3i_1;null!=_&&(_.y3x(p),0===_.p3p_1&&(n.h3i_1=null,St()),St())}}h||(e!==a&&(r.w3x_1[e]=l,r.x3x_1[e]=c),e=e+1|0)}while(o<s);var f=e,d=r.v3x_1;if(f<d)do{var m=f;f=f+1|0,r.w3x_1[m]=null}while(f<d);r.v3x_1=e,0===r.v3x_1&&(n.g3i_1=null,St())}return St()}):null}return e},ls.$metadata$=It("RecomposeScopeImpl",[Fr,cs,hs]),cs.$metadata$=kt("RecomposeScope"),hs.$metadata$=kt("InternalRecomposeScope"),vs.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},vs.prototype.si=function(t,e){return this.r2l(null!=t&&Gt(t,ze)?t:zt(),e)},vs.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.g3z_1(this.i3z_1,this.h3z_1,this))===De())return t;continue t;case 1:return St();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},vs.prototype.u1k=function(t,e){var n=new vs(this.g3z_1,this.h3z_1,e);return n.i3z_1=t,n},vs.$metadata$=It("Recomposer$recompositionRunner$slambda$slambda",void 0,void 0,void 0,[1],Me.prototype),ws.$metadata$=It("State",void 0,void 0,void 0,void 0,te.prototype),$s.$metadata$=It("RecomposerInfoImpl",[Ws]),Ds.$metadata$=ue("Companion"),Ns.prototype.e41=function(t,e,n){var i=this.f41(t,e,n);return i.ji_1=St(),i.ki_1=null,i.ri()},Ns.prototype.w6=function(t,e,n){var i=null!=t&&Gt(t,ze)?t:zt();return this.e41(i,null!=e&&Gt(e,ts)?e:zt(),n)},Ns.prototype.ri=function(){var t,e,n=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=6,this.y40_1=Ot(),this.z40_1=Ot(),this.a41_1=Ot(),this.b41_1=Kt(),this.c41_1=Kt(),this.hi_1=1;continue t;case 1:if(!xs(this.v40_1)){this.hi_1=5;continue t}if(this.hi_1=2,t=this.v40_1,e=void 0,(e=new Vs(t,this)).ji_1=St(),e.ki_1=null,(n=e.ri())===De())return n;continue t;case 2:var i;if(this.d41_1=this.v40_1.h3y_1,Ms(this.v40_1)?i=!1:(Cs(this.v40_1),i=!Ms(this.v40_1)),i){this.hi_1=1;continue t}this.hi_1=3;continue t;case 3:if(this.hi_1=4,(n=this.x40_1.w3g(ms(this.v40_1,this.y40_1,this.z40_1,this.a41_1,this.b41_1,this.c41_1),this))===De())return n;continue t;case 4:this.hi_1=1;continue t;case 5:return St();case 6:throw this.ki_1}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ns.prototype.f41=function(t,e,n){var i=new Ns(this.v40_1,n);return i.w40_1=t,i.x40_1=e,i},Ns.$metadata$=It("Recomposer$runRecomposeAndApplyChanges$slambda",void 0,void 0,void 0,[2],Me.prototype),Ls.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},Ls.prototype.si=function(t,e){return this.r2l(null!=t&&Gt(t,ze)?t:zt(),e)},Ls.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.s41_1=Ve(this.r41_1.gn()),Es(this.o41_1,this.s41_1);var e=Fh();this.t41_1=e.x41(ys(this.o41_1)),_s(Rs(),this.o41_1.v3y_1),this.hi_1=1;continue t;case 1:this.ii_1=4,this.v41_1=this.o41_1.h3y_1,this.w41_1=this.o41_1.k3y_1;var n=0,i=this.w41_1.g()-1|0;if(n<=i)do{var r=n;n=n+1|0,this.w41_1.l(r).z3v()}while(n<=i);if(this.hi_1=2,(t=Ye(gs(this.p41_1,this.q41_1,null),this))===De())return t;continue t;case 2:this.u41_1=t,this.ii_1=5,this.hi_1=3;continue t;case 3:return this.t41_1.yq(),this.o41_1.h3y_1,this.o41_1.i3y_1===this.s41_1&&(this.o41_1.i3y_1=null),bs(this.o41_1),fs(Rs(),this.o41_1.v3y_1),St();case 4:this.ii_1=5;var o=this.ki_1;throw this.t41_1.yq(),this.o41_1.h3y_1,this.o41_1.i3y_1===this.s41_1&&(this.o41_1.i3y_1=null),bs(this.o41_1),fs(Rs(),this.o41_1.v3y_1),o;case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ls.prototype.u1k=function(t,e){var n=new Ls(this.o41_1,this.p41_1,this.q41_1,e);return n.r41_1=t,n},Ls.$metadata$=It("Recomposer$recompositionRunner$slambda",void 0,void 0,void 0,[1],Me.prototype),Vs.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,As(this.s3z_1)){this.hi_1=2;continue t}if(this.hi_1=1,this.t3z_1=this,this.u3z_1=new Ut(Bt(this.t3z_1),Ft()),this.u3z_1.js(),this.v3z_1=this.s3z_1.h3y_1,As(this.s3z_1)?(jt(),this.u3z_1.g4(Nt(St()))):this.s3z_1.r3y_1=this.u3z_1,(t=We(this.u3z_1.gp(),this))===De())return t;continue t;case 1:this.hi_1=2;continue t;case 2:return St();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Vs.$metadata$=It("$awaitWorkAvailableCOROUTINE$2",void 0,void 0,void 0,void 0,Me.prototype),Ys.prototype.y41=function(){return this.d3y_1},Ys.prototype.o3r=function(){return this.g3y_1},Ys.prototype.z41=function(t){return ks(this,(e=new Ns(this,null),n=function(t,n,i){return e.e41(t,n,i)},n.$arity=2,n),t);var e,n},Ys.prototype.t3l=function(){return 1e3},Ys.prototype.r3l=function(){return!1},Ys.prototype.s3l=function(t){},Ys.prototype.d3v=function(t){var e;this.h3y_1,this.m3y_1.n(t)?e=null:(this.m3y_1.b(t),e=bs(this));var n,i=e;null==i||(jt(),n=Nt(St()),i.g4(n))},Ys.prototype.e3p=function(t){this.h3y_1,this.o3y_1.b(t);var e,n=bs(this);null==n||(jt(),e=Nt(St()),n.g4(e))},Ys.prototype.b3q=function(t){this.h3y_1,function(t,e,n){Zs();var i,r=t.o(e);if(null==r){var o=Ot();t.a(e,o),i=o}else i=r;i.b(n)}(this.p3y_1,t.q3q_1,t)},Ys.prototype.j3r=function(t,e){this.h3y_1,this.q3y_1.a(t,e),St()},Ys.prototype.y3q=function(t){return this.h3y_1,this.q3y_1.p3(t)},Ys.prototype.i3w=function(t,e){var n=t.b3v();t:{var i=Fh().w3z(Is(0,t),Os(0,t,null));try{e:{var r=i.x3z();try{t.j3w(e);break e}finally{i.y3z(r)}}break t}finally{zs(0,i)}}n||Fh().a42(),this.h3y_1,this.u3y_1.b1().j5(Bs())>0&&(this.k3y_1.n(t)||(this.k3y_1.b(t),St())),function(t,e){var n;t.h3y_1;t:{var i=t.o3y_1,r=0,o=i.g()-1|0;if(r<=o)do{var s=r;r=r+1|0;var a=i.l(s);if(Zt(a.s3q_1,e)){n=!0;break t}}while(r<=o);n=!1}if(!n)return St();var u=Ot();for(Ps(u,t,e);!u.m();)Ts(t,u,null),Ps(u,t,e)}(this,t),t.x3v(),t.y3v(),n||Fh().a42()},Ys.$metadata$=It("Recomposer",void 0,void 0,void 0,void 0,Do.prototype),Ws.$metadata$=kt("RecomposerInfo"),Ks.$metadata$=kt("RememberObserver"),Qs.$metadata$=ue("Companion"),Sa.prototype.e=function(){return this.f42_1<this.g42_1},Sa.prototype.f=function(){var t;if(this.e()){var e=this.h42_1.h3h_1,n=this.f42_1;this.f42_1=n+1|0,t=e[ma(this.h42_1,n)]}else t=null;return t},Sa.$metadata$=It(void 0,[en]),Ta.prototype.i42=function(){return this.w3h_1},Ta.prototype.x3p=function(){return this.w3h_1<this.l3h_1&&za(this.g3h_1,da(this,this.w3h_1))},Ta.prototype.q3o=function(t){return za(this.g3h_1,da(this,t))},Ta.prototype.r3o=function(t){return Ma(this.g3h_1,da(this,t))},Ta.prototype.k3m=function(t){return Da(this.g3h_1,da(this,t))},Ta.prototype.j3m=function(t){var e=da(this,t);return Ra(this.g3h_1,e)?this.h3h_1[Pa(this.g3h_1,e)]:null},Ta.prototype.y3n=function(t){return ja(this.g3h_1,da(this,t))},Ta.prototype.i3m=function(t){var e=da(this,t);return Na(this.g3h_1,e)?this.h3h_1[$a(this.g3h_1,this,e)]:Dr().a3h_1},Ta.prototype.u3p=function(t){return t>this.x3h_1&&t<this.l3h_1||0===this.x3h_1&&0===t},Ta.prototype.y3p=function(t){return this.v3p(t,this.w3h_1)},Ta.prototype.v3p=function(t,e){var n;if(e===this.x3h_1)n=this.l3h_1;else if(e>this.t3h_1.l3p(0))n=e+this.y3n(e)|0;else{var i=this.t3h_1.j42(e);n=i<0?e+this.y3n(e)|0:(fa(this)-this.k3h_1|0)-this.u3h_1.p3o(i)|0}return t>e&&t<n},Ta.prototype.i3p=function(t){var e=da(this,t);return za(this.g3h_1,e)?this.h3h_1[ma(this,xa(this.g3h_1,this,e))]:null},Ta.prototype.e3q=function(t){return this.i3p(t.k42(this))},Ta.prototype.tp=function(){return this.x3h_1},Ta.prototype.l3m=function(t){return ya(this.g3h_1,this,t)},Ta.prototype.p1e=function(){this.y3h_1=!0,this.t3h_1.m()&&(aa(this,this.g()),ua(this,this.h3h_1.length-this.p3h_1|0,this.j3h_1),ea(this)),this.f3h_1.l42(this,this.g3h_1,this.j3h_1,this.h3h_1,this.o3h_1,this.i3h_1)},Ta.prototype.n2n=function(){0===this.r3h_1||Qr(Tt("Cannot reset when inserting")),ea(this),this.w3h_1=0,this.l3h_1=fa(this)-this.k3h_1|0,this.m3h_1=0,this.n3h_1=0,this.s3h_1=0},Ta.prototype.e3s=function(t){var e=this.m42();return this.n42(t),e},Ta.prototype.g3q=function(t){var e=da(this,this.w3h_1);Na(this.g3h_1,e)||Qr(Tt("Updating the data of a group that was not created with a data slot")),this.h3h_1[ma(this,$a(this.g3h_1,this,e))]=t},Ta.prototype.r3s=function(t){this.r3h_1>=0||Qr(Tt("Cannot insert auxiliary data when not inserting"));var e=this.x3h_1,n=da(this,e);!Na(this.g3h_1,n)||Qr(Tt("Group already has auxiliary data")),ca(this,1,e);var i,r,o=$a(this.g3h_1,this,n),s=ma(this,o);if(this.m3h_1>o){var a=this.m3h_1-o|0;if(!(a<3))throw Dt(Tt("Moving more than two slot not supported"));a>1&&(this.h3h_1[s+2|0]=this.h3h_1[s+1|0]),this.h3h_1[s+1|0]=this.h3h_1[s]}i=this.g3h_1,r=At(n,5)+1|0,i[r]=268435456|i[r],this.h3h_1[s]=t;var u=this.m3h_1;this.m3h_1=u+1|0},Ta.prototype.b42=function(t){return _a(this,this.w3h_1,t)},Ta.prototype.d3q=function(t,e){return _a(this,t.k42(this),e)},Ta.prototype.n42=function(t){this.m3h_1<=this.n3h_1||Qr(Tt("Writing to an invalid slot")),this.h3h_1[ma(this,this.m3h_1-1|0)]=t},Ta.prototype.f3q=function(t,e){var n,i=da(this,this.w3h_1),r=wa(this.g3h_1,this,i),o=ga(this.g3h_1,this,da(this,this.w3h_1+1|0)),s=r+t|0;s>=r&&s<o||(n="Write to an invalid slot index "+t+" for group "+this.w3h_1,Qr(Tt(n)));var a=ma(this,s),u=this.h3h_1[a];return this.h3h_1[a]=e,u},Ta.prototype.m42=function(){this.r3h_1>0&&ca(this,1,this.x3h_1);var t=this.h3h_1,e=this.m3h_1;return this.m3h_1=e+1|0,t[ma(this,e)]},Ta.prototype.c3r=function(t,e){return this.o42(this.w3p(t),e)},Ta.prototype.o42=function(t,e){var n=da(this,t),i=wa(this.g3h_1,this,n),r=ga(this.g3h_1,this,da(this,t+1|0)),o=i+e|0;if(!(i<=o&&o<r))return Dr().a3h_1;var s=ma(this,o);return this.h3h_1[s]},Ta.prototype.d3r=function(t){if(!(t>=0))throw le(Tt("Cannot seek backwards"));if(!(this.r3h_1<=0))throw Dt(Tt("Cannot call seek() while inserting"));if(0===t)return St();var e,n=this.w3h_1+t|0;n>=this.x3h_1&&n<=this.l3h_1||(e="Cannot seek outside the current group ("+this.x3h_1+"-"+this.l3h_1+")",Qr(Tt(e))),this.w3h_1=n;var i=ga(this.g3h_1,this,da(this,n));this.m3h_1=i,this.n3h_1=i},Ta.prototype.p3m=function(){var t=this.l3h_1;this.w3h_1=t,this.m3h_1=ga(this.g3h_1,this,da(this,t))},Ta.prototype.j3n=function(){var t=this.r3h_1;this.r3h_1=t+1|0,0===t&&ra(this)},Ta.prototype.g3o=function(){if(!(this.r3h_1>0))throw Dt(Tt("Unbalanced begin/end insert"));var t=this;t.r3h_1=t.r3h_1-1|0,0===t.r3h_1&&(this.v3h_1.g()!==this.t3h_1.g()&&Qr(Tt("startGroup/endGroup mismatch while inserting")),oa(this))},Ta.prototype.r3m=function(){if(0!==this.r3h_1)throw le(Tt("Key must be supplied when inserting"));Js(this,0,Dr().a3h_1,!1,Dr().a3h_1)},Ta.prototype.u3m=function(t,e){return Js(this,t,e,!1,Dr().a3h_1)},Ta.prototype.w3m=function(t){return Js(this,125,t,!0,Dr().a3h_1)},Ta.prototype.v3m=function(t,e,n){return Js(this,t,e,!1,n)},Ta.prototype.f3o=function(){var t=this.r3h_1>0,e=this.w3h_1,n=this.l3h_1,i=this.x3h_1,r=da(this,i),o=this.s3h_1,s=e-i|0,a=za(this.g3h_1,r);if(t)La(this.g3h_1,r,s),qa(this.g3h_1,r,o),this.s3h_1=this.v3h_1.v3n()+(a?1:o)|0,this.x3h_1=ya(this.g3h_1,this,i);else{if(e!==n)throw le(Tt("Expected to be at the end of a group"));var u=ja(this.g3h_1,r),l=Ma(this.g3h_1,r);La(this.g3h_1,r,s),qa(this.g3h_1,r,o);var c=this.t3h_1.v3n();oa(this),this.x3h_1=c;var h=ya(this.g3h_1,this,i);if(this.s3h_1=this.v3h_1.v3n(),h===c){this.s3h_1=this.s3h_1+(a?0:o-l|0)|0}else{var p=s-u|0,_=a?0:o-l|0;if(0!==p||0!==_)for(var f=h;0!==f&&f!==c&&(0!==_||0!==p);){var d=da(this,f);if(0!==p){var m=ja(this.g3h_1,d)+p|0;La(this.g3h_1,d,m)}0!==_&&qa(this.g3h_1,d,Ma(this.g3h_1,d)+_|0),za(this.g3h_1,d)&&(_=0),f=ya(this.g3h_1,this,f)}this.s3h_1=this.s3h_1+_|0}}return o},Ta.prototype.h3u=function(t){if(!(this.r3h_1<=0))throw le(Tt("Cannot call ensureStarted() while inserting"));var e=this.x3h_1;if(e!==t){if(!(t>=e&&t<this.l3h_1))throw le(Tt("Started group at "+t+" must be a subgroup of the group at "+e));var n=this.w3h_1,i=this.m3h_1,r=this.n3h_1;this.w3h_1=t,this.r3m(),this.w3h_1=n,this.m3h_1=i,this.n3h_1=r}},Ta.prototype.g3r=function(t){return this.h3u(t.k42(this))},Ta.prototype.h3m=function(){var t=da(this,this.w3h_1),e=this.w3h_1+ja(this.g3h_1,t)|0;return this.w3h_1=e,this.m3h_1=ga(this.g3h_1,this,da(this,e)),za(this.g3h_1,t)?1:Ma(this.g3h_1,t)},Ta.prototype.d3j=function(){if(0!==this.r3h_1)throw le(Tt("Cannot remove group while inserting"));var t=this.w3h_1,e=this.m3h_1,n=this.h3m(),i=this.z3h_1;if(null==i);else{for(;i.j3p()&&i.y3r()>=t;)i.d42();St()}var r=ha(this,t,this.w3h_1-t|0);pa(this,e,this.m3h_1-e|0,t-1|0),this.w3h_1=t,this.m3h_1=e;return this.s3h_1=this.s3h_1-n|0,r},Ta.prototype.a3i=function(){return new Sa(ga(this.g3h_1,this,da(this,this.w3h_1)),ga(this.g3h_1,this,da(this,this.w3h_1+this.y3n(this.w3h_1)|0)),this)},Ta.prototype.h3q=function(t){if(0!==this.r3h_1)throw le(Tt("Cannot move a group while inserting"));if(!(t>=0))throw le(Tt("Parameter offset is out of bounds"));if(0===t)return St();for(var e=this.w3h_1,n=this.x3h_1,i=this.l3h_1,r=t,o=e;r>0;){if(!((o=o+ja(this.g3h_1,da(this,o))|0)<=i))throw le(Tt("Parameter offset is out of bounds"));r=r-1|0}var s=ja(this.g3h_1,da(this,o)),a=this.m3h_1,u=ga(this.g3h_1,this,da(this,o)),l=ga(this.g3h_1,this,da(this,o+s|0)),c=l-u|0,h=this.w3h_1-1|0;ca(this,c,Math.max(h,0)),la(this,s);var p=this.g3h_1,_=da(this,o+s|0),f=At(_,5),d=da(this,e),m=At(d,5),y=f+At(s,5)|0;if(Xe(p,p,m,f,y),c>0){var v=this.h3h_1,g=ma(this,u+c|0),w=ma(this,l+c|0);Xe(v,v,a,g,w)}var b=(u+c|0)-a|0,x=this.o3h_1,$=this.p3h_1,C=this.h3h_1.length,E=this.q3h_1,A=e,k=e+s|0;if(A<k)do{var S=A;A=A+1|0;var T=da(this,S);ba(p,this,T,Ca(0,ga(p,this,T)-b|0,E<T?0:x,$,C))}while(A<k);(function(t,e,n,i){var r=e+i|0,o=t.g(),s=Va(t.i3h_1,e,o),a=Ot();if(s>=0)t:for(;s<t.i3h_1.g();){var u=t.i3h_1.l(s),l=t.w3p(u);if(!(l>=e&&l<r))break t;a.b(u),t.i3h_1.y3(s)}var c=n-e|0,h=0,p=a.g()-1|0;if(h<=p)do{var _=h;h=h+1|0;var f=a.l(_),d=t.w3p(f)+c|0;d>=t.j3h_1?f.q3p_1=0|-(o-d|0):f.q3p_1=d;var m=Va(t.i3h_1,d,o);t.i3h_1.jb(m,f)}while(h<=p)})(this,o+s|0,e,s),!ha(this,o+s|0,s)||Qr(Tt("Unexpectedly removed anchors")),sa(this,n,this.l3h_1,e),c>0&&pa(this,u+c|0,c,(o+s|0)-1|0)},Ta.prototype.i3r=function(t,e,n){if(!(n.r3h_1>0))throw le(Tt("Failed requirement."));if(0!==this.r3h_1)throw le(Tt("Failed requirement."));if(!t.x3u())throw le(Tt("Failed requirement."));var i=this.w3p(t)+e|0,r=this.w3h_1;if(!(r<=i&&i<this.l3h_1))throw le(Tt("Failed requirement."));var o=this.l3m(i),s=this.y3n(i),a=this.q3o(i)?1:this.r3o(i),u=Xs(ta(),this,i,n,!1,!1);na(this,o);for(var l=o,c=a>0;l>=r;){var h=da(this,l);La(this.g3h_1,h,ja(this.g3h_1,h)-s|0),c&&(za(this.g3h_1,h)?c=!1:qa(this.g3h_1,h,Ma(this.g3h_1,h)-a|0)),l=this.l3m(l)}if(c){Lr(this.s3h_1>=a);this.s3h_1=this.s3h_1-a|0}return u},Ta.prototype.f3r=function(t,e){if(!(this.r3h_1>0))throw le(Tt("Failed requirement."));if(0===e&&0===this.w3h_1&&0===this.f3h_1.d3l_1){var n=this.g3h_1,i=this.h3h_1,r=this.i3h_1,o=t.c3l_1,s=t.d3l_1,a=t.e3l_1,u=t.f3l_1;return this.g3h_1=o,this.h3h_1=a,this.i3h_1=t.j3l_1,this.j3h_1=s,this.k3h_1=(o.length/5|0)-s|0,this.o3h_1=u,this.p3h_1=a.length-u|0,this.q3h_1=s,t.p42(n,0,i,0,r),this.i3h_1}var l,c=t.o3m();try{l=Xs(ta(),c,e,this,!0,!0)}finally{c.p1e()}return l},Ta.prototype.b3r=function(t,e,n){Lr(this.r3h_1<=0&&1===this.y3n(this.w3h_1+t|0));var i=this.w3h_1,r=this.m3h_1,o=this.n3h_1;this.d3r(t),this.r3m(),this.j3n();var s,a=e.o3m();try{s=Xs(ta(),a,n,this,!1,!0)}finally{a.p1e()}var u=s;return this.g3o(),this.f3o(),this.w3h_1=i,this.m3h_1=r,this.n3h_1=o,u},Ta.prototype.k3n=function(t){var e,n=this.i3h_1,i=su(n,t,this.g());if(i<0){var r=new Oa(t<=this.j3h_1?t:0|-(this.g()-t|0));n.jb(0|-(i+1|0),r),e=r}else e=n.l(i);return e},Ta.prototype.q42=function(t){var e,n,i,r=da(this,t);Wa(this.g3h_1,r)||(e=this.g3h_1,n=!0,i=At(r,5)+1|0,e[i]=n?134217728|e[i]:-134217729&e[i],Ga(this.g3h_1,r)||na(this,this.l3m(t)))},Ta.prototype.d3p=function(t,e,n){return 0!=(1&e)&&(t=this.x3h_1),this.q42(t)},Ta.prototype.w3p=function(t){var e=t.q3p_1;return e<0?this.g()+e|0:e},Ta.prototype.toString=function(){return"SlotWriter(current = "+this.w3h_1+" end="+this.l3h_1+" size = "+this.g()+" gap="+this.j3h_1+"-"+(this.j3h_1+this.k3h_1|0)+")"},Ta.prototype.g=function(){return fa(this)-this.k3h_1|0},Ta.$metadata$=It("SlotWriter"),Ia.prototype.r42=function(){return this.j3l_1},Ia.prototype.su=function(){return 0===this.d3l_1},Ia.prototype.s42=function(t){var e,n=this.k3l();try{e=t(n)}finally{n.p1e()}return e},Ia.prototype.t42=function(t){var e,n=this.o3m();try{e=t(n)}finally{n.p1e()}return e},Ia.prototype.k3l=function(){if(this.h3l_1)throw Dt("Cannot read while a writer is pending");var t=this.g3l_1;return this.g3l_1=t+1|0,new eu(this)},Ia.prototype.o3m=function(){!this.h3l_1||Qr(Tt("Cannot start a writer when another writer is pending")),this.g3l_1<=0||Qr(Tt("Cannot start a writer when a reader is pending")),this.h3l_1=!0;var t=this.i3l_1;return this.i3l_1=t+1|0,new Ta(this)},Ia.prototype.w3p=function(t){if(!this.h3l_1||Qr(Tt("Use active SlotWriter to determine anchor location instead")),!t.x3u())throw le(Tt("Anchor refers to a group that was removed"));return t.q3p_1},Ia.prototype.d3w=function(t){var e;if(t.x3u()){var n=su(this.j3l_1,t.q3p_1,this.d3l_1);e=n>=0&&Zt(this.j3l_1.l(n),t)}else e=!1;return e},Ia.prototype.a3v=function(t,e){var n;if(!this.h3l_1||Qr(Tt("Writer is active")),0<=t&&t<this.d3l_1||Qr(Tt("Invalid group index")),this.d3w(e)){var i=t+ja(this.c3l_1,t)|0,r=e.q3p_1;n=t<=r&&r<i}else n=!1;return n},Ia.prototype.u42=function(t){if(!(t.v3l_1===this&&this.g3l_1>0))throw le(Tt("Unexpected reader close()"));var e=this.g3l_1;this.g3l_1=e-1|0},Ia.prototype.l42=function(t,e,n,i,r,o){if(t.f3h_1!==this||!this.h3l_1)throw le(Tt("Unexpected writer close()"));this.h3l_1=!1,this.p42(e,n,i,r,o)},Ia.prototype.p42=function(t,e,n,i,r){this.c3l_1=t,this.d3l_1=e,this.e3l_1=n,this.f3l_1=i,this.j3l_1=r},Ia.prototype.d=function(){return new ru(this,0,this.d3l_1)},Ia.$metadata$=It("SlotTable",[Np,nn]),Oa.prototype.v42=function(t){this.q3p_1=t},Oa.prototype.s3t=function(){return this.q3p_1},Oa.prototype.x3u=function(){return!(this.q3p_1===tn().d1_1)},Oa.prototype.e3r=function(t){return t.w3p(this)},Oa.prototype.k42=function(t){return t.w3p(this)},Oa.$metadata$=It("Anchor"),Ba.prototype.e42=function(t){if(!this.c42_1.m()&&(this.c42_1.l(0)===t||this.c42_1.l(this.c42_1.g()-1|0)===t))return St();var e=this.c42_1.g();this.c42_1.b(t);t:for(;e>0;){var n=((e+1|0)>>>1|0)-1|0,i=this.c42_1.l(n);if(!(t>i))break t;this.c42_1.ra(e,i),e=n}this.c42_1.ra(e,t)},Ba.prototype.j3p=function(){return!this.c42_1.m()},Ba.prototype.y3r=function(){return rn(this.c42_1)},Ba.prototype.d42=function(){this.c42_1.g()>0||Qr(Tt("Set is empty"));for(var t=this.c42_1.l(0);!this.c42_1.m()&&this.c42_1.l(0)===t;){this.c42_1.ra(0,on(this.c42_1)),this.c42_1.y3(this.c42_1.g()-1|0);var e=0,n=this.c42_1.g(),i=this.c42_1.g()>>>1|0;t:for(;e<i;){var r=this.c42_1.l(e),o=At(e+1|0,2)-1|0,s=this.c42_1.l(o),a=At(e+1|0,2);if(a<n){var u=this.c42_1.l(a);if(u>s){if(u>r){this.c42_1.ra(e,u),this.c42_1.ra(a,r),e=a;continue t}break t}}if(!(s>r))break t;this.c42_1.ra(e,s),this.c42_1.ra(o,r),e=o}}return t},Ba.$metadata$=It("PrioritySet"),eu.prototype.i42=function(){return this.a3m_1},eu.prototype.g=function(){return this.x3l_1},eu.prototype.l3m=function(t){return Ua(this.w3l_1,t)},eu.prototype.x3p=function(){return za(this.w3l_1,this.a3m_1)},eu.prototype.q3o=function(t){return za(this.w3l_1,t)},eu.prototype.r3o=function(t){return Ma(this.w3l_1,t)},eu.prototype.i3p=function(t){return za(this.w3l_1,t)?Ja(this.w3l_1,this,t):null},eu.prototype.c3o=function(){return!!this.h3o()||this.a3m_1===this.b3m_1},eu.prototype.h3o=function(){return this.d3m_1>0},eu.prototype.k3p=function(){return ja(this.w3l_1,this.a3m_1)},eu.prototype.y3n=function(t){return ja(this.w3l_1,t)},eu.prototype.b3o=function(){return this.b3m_1},eu.prototype.f3n=function(){return this.a3m_1<this.b3m_1?Da(this.w3l_1,this.a3m_1):0},eu.prototype.k3m=function(t){return Da(this.w3l_1,t)},eu.prototype.d3s=function(){return this.e3m_1-Ka(this.w3l_1,this.c3m_1)|0},eu.prototype.s3o=function(t){return Ra(this.w3l_1,t)},eu.prototype.h3n=function(){return this.a3m_1<this.b3m_1?tu(this.w3l_1,this,this.a3m_1):null},eu.prototype.j3m=function(t){return tu(this.w3l_1,this,t)},eu.prototype.q3m=function(){return this.a3m_1<this.b3m_1?Qa(this.w3l_1,this,this.a3m_1):0},eu.prototype.i3m=function(t){return Qa(this.w3l_1,this,t)},eu.prototype.c3q=function(t){return Wa(this.w3l_1,t)},eu.prototype.z3p=function(t){return Ga(this.w3l_1,t)},eu.prototype.t3o=function(){return this.c3m_1>=0?Ma(this.w3l_1,this.c3m_1):0},eu.prototype.g3s=function(t){return this.a3q(this.a3m_1,t)},eu.prototype.a3q=function(t,e){var n=t+1|0,i=Ka(this.w3l_1,t)+e|0;return i<(n<this.x3l_1?Ya(this.w3l_1,n):this.z3l_1)?this.y3l_1[i]:Dr().a3h_1},eu.prototype.f=function(){if(this.d3m_1>0||this.e3m_1>=this.f3m_1)return Dr().a3h_1;var t=this.e3m_1;return this.e3m_1=t+1|0,this.y3l_1[t]},eu.prototype.t3m=function(){var t=this.d3m_1;this.d3m_1=t+1|0},eu.prototype.e3o=function(){if(!(this.d3m_1>0))throw le(Tt("Unbalanced begin/end empty"));var t=this.d3m_1;this.d3m_1=t-1|0},eu.prototype.p1e=function(){return this.v3l_1.u42(this)},eu.prototype.r3m=function(){if(this.d3m_1<=0){if(Ua(this.w3l_1,this.a3m_1)!==this.c3m_1)throw le(Tt("Invalid slot table detected"));this.c3m_1=this.a3m_1,this.b3m_1=this.a3m_1+ja(this.w3l_1,this.a3m_1)|0;var t=this.a3m_1;this.a3m_1=t+1|0;var e=t;this.e3m_1=Ka(this.w3l_1,e),this.f3m_1=e>=(this.x3l_1-1|0)?this.z3l_1:Ya(this.w3l_1,e+1|0)}},eu.prototype.s3m=function(){if(this.d3m_1<=0){if(!za(this.w3l_1,this.a3m_1))throw le(Tt("Expected a node group"));this.r3m()}},eu.prototype.h3m=function(){if(0!==this.d3m_1)throw le(Tt("Cannot skip while in an empty region"));var t=za(this.w3l_1,this.a3m_1)?1:Ma(this.w3l_1,this.a3m_1);return this.a3m_1=this.a3m_1+ja(this.w3l_1,this.a3m_1)|0,t},eu.prototype.p3m=function(){if(0!==this.d3m_1)throw le(Tt("Cannot skip the enclosing group while in an empty region"));this.a3m_1=this.b3m_1},eu.prototype.t3n=function(t){if(0!==this.d3m_1)throw le(Tt("Cannot reposition while in an empty region"));this.a3m_1=t;var e=t<this.x3l_1?Ua(this.w3l_1,t):-1;this.c3m_1=e,this.b3m_1=e<0?this.x3l_1:e+ja(this.w3l_1,e)|0,this.e3m_1=0,this.f3m_1=0},eu.prototype.n3o=function(t){var e=t+ja(this.w3l_1,t)|0,n=this.a3m_1;if(!(n>=t&&n<=e))throw le(Tt("Index "+t+" is not a parent of "+n));this.c3m_1=t,this.b3m_1=e,this.e3m_1=0,this.f3m_1=0},eu.prototype.d3o=function(){if(0===this.d3m_1){if(this.a3m_1!==this.b3m_1)throw le(Tt("endGroup() not called at the end of a group"));var t=Ua(this.w3l_1,this.c3m_1);this.c3m_1=t,this.b3m_1=t<0?this.x3l_1:t+ja(this.w3l_1,t)|0}},eu.prototype.g3n=function(){var t=Ot();if(this.d3m_1>0)return t;for(var e=0,n=this.a3m_1;n<this.b3m_1;){var i=Da(this.w3l_1,n),r=tu(this.w3l_1,this,n),o=n,s=za(this.w3l_1,n)?1:Ma(this.w3l_1,n),a=e;e=a+1|0,t.b(new ou(i,r,o,s,a)),n=n+ja(this.w3l_1,n)|0}return t},eu.prototype.toString=function(){return"SlotReader(current="+this.a3m_1+", key="+this.f3n()+", parent="+this.c3m_1+", end="+this.b3m_1+")"},eu.prototype.k3n=function(t){var e,n=this.v3l_1.j3l_1,i=su(n,t,this.x3l_1);if(i<0){var r=new Oa(t);n.jb(0|-(i+1|0),r),e=r}else e=n.l(i);return e},eu.$metadata$=It("SlotReader"),iu.prototype.d=function(){return nu(this.a43_1),new ru(this.a43_1.w42_1,this.b43_1+1|0,this.b43_1+ja(this.a43_1.w42_1.c3l_1,this.b43_1)|0)},iu.$metadata$=It(void 0,[Lp,nn]),ru.prototype.e=function(){return this.y42_1<this.x42_1},ru.prototype.f=function(){nu(this);var t=this.y42_1;return this.y42_1=this.y42_1+ja(this.w42_1.c3l_1,t)|0,new iu(this,t)},ru.$metadata$=It("GroupIterator",[en]),ou.prototype.s3t=function(){return this.n3n_1},ou.prototype.c43=function(){return this.o3n_1},ou.$metadata$=It("KeyInfo"),uu.prototype.y18=function(t,e){var n=this.z18(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},uu.prototype.si=function(t,e){return this.y18(null==t||Mt(t)?t:zt(),e)},uu.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t)return this.ii_1=1,this.l43_1.t16(this.m43_1),St();if(1===t)throw this.ki_1}catch(t){throw t}},uu.prototype.z18=function(t,e){var n=new uu(this.l43_1,e);return n.m43_1=t,n},uu.$metadata$=It("collectAsState$composable$slambda$slambda$slambda",void 0,void 0,void 0,[1],Me.prototype),cu.prototype.m14=function(t,e){return this.n43_1(t,e)},cu.$metadata$=It("sam$kotlinx_coroutines_flow_FlowCollector$0",[an]),hu.prototype.y18=function(t,e){var n=this.z18(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},hu.prototype.si=function(t,e){return this.y18(null==t||Mt(t)?t:zt(),e)},hu.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t)return this.ii_1=1,this.w43_1.t16(this.x43_1),St();if(1===t)throw this.ki_1}catch(t){throw t}},hu.prototype.z18=function(t,e){var n=new hu(this.w43_1,e);return n.x43_1=t,n},hu.$metadata$=It("collectAsState$composable$slambda$slambda",void 0,void 0,void 0,[1],Me.prototype),_u.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},_u.prototype.si=function(t,e){return this.r2l(null!=t&&Gt(t,ze)?t:zt(),e)},_u.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=lu(this.h44_1,null);if((t=this.g44_1.u13(new cu(e),this))===De())return t;continue t;case 1:return St();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},_u.prototype.u1k=function(t,e){var n=new _u(this.g44_1,this.h44_1,e);return n.i44_1=t,n},_u.$metadata$=It("collectAsState$composable$slambda$slambda",void 0,void 0,void 0,[1],Me.prototype),du.prototype.u44=function(t,e){var n=this.v44(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},du.prototype.si=function(t,e){return this.u44(null!=t&&Gt(t,rs)?t:zt(),e)},du.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=4,Zt(this.r44_1._v,ke())){this.hi_1=2;var e=pu(this.t44_1,null);if((t=this.s44_1.u13(new cu(e),this))===De())return t;continue t}this.hi_1=1;var n=this.r44_1._v;if((t=je(n,fu(this.s44_1,this.t44_1,null),this))===De())return t;continue t;case 1:case 2:this.hi_1=3;continue t;case 3:return St();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},du.prototype.v44=function(t,e){var n=new du(this.r44_1,this.s44_1,e);return n.t44_1=t,n},du.$metadata$=It("collectAsState$composable$slambda",void 0,void 0,void 0,[1],Me.prototype),mu.$metadata$=kt("SnapshotMutationPolicy"),vu.prototype.y44=function(t,e){return Zt(t,e)},vu.prototype.w44=function(t,e){var n=null==t||Mt(t)?t:zt();return this.y44(n,null==e||Mt(e)?e:zt())},vu.prototype.toString=function(){return"StructuralEqualityPolicy"},vu.$metadata$=ue("StructuralEqualityPolicy",[mu]),gu.$metadata$=kt("State"),wu.$metadata$=kt("MutableState",[gu]),$u.prototype.d45=function(t){this.c45_1=(t instanceof $u?t:zt()).c45_1},$u.prototype.e45=function(){return new $u(this.c45_1)},$u.prototype.t16=function(t){this.c45_1=t},$u.prototype.b1=function(){return this.c45_1},$u.$metadata$=It("StateStateRecord",void 0,void 0,void 0,void 0,Xh.prototype),Cu.prototype.m45=function(){return this.k45_1},Cu.prototype.t16=function(t){var e,n=dp(this.l45_1,Fh().s3f());if(!this.m45().w44(n.c45_1,t)){var i=this.l45_1,r=jh();Sh(),(function(t,e,n,i){gp(),n.h4c()&&n.o4c(e);var r=n.e3f();if(i.f45_1===r)return i;var o=yp(t,e);return o.f45_1=r,n.o4c(e),o}(i,this,r=Fh().s3f(),n)).c45_1=t;var o=St();mp(r,this),e=o}return e},Cu.prototype.b1=function(){return fp(this.l45_1,this).c45_1},Cu.prototype.n45=function(){return this.l45_1},Cu.prototype.o45=function(t){this.l45_1=t instanceof $u?t:zt()},Cu.prototype.p45=function(t,e,n){var i,r=t instanceof $u?t:zt(),o=e instanceof $u?e:zt(),s=n instanceof $u?n:zt();if(this.m45().w44(o.c45_1,s.c45_1))i=e;else{var a,u=this.m45().x44(r.c45_1,o.c45_1,s.c45_1);if(null!=u){var l=s.e45();(l instanceof $u?l:zt()).c45_1=u,a=l}else a=null;i=a}return i},Cu.prototype.toString=function(){return"MutableState(value="+dp(this.l45_1,Fh().s3f()).c45_1+")@"+Qt(this)},Cu.$metadata$=It("SnapshotMutableStateImpl",[Nh,Tp]),Eu.prototype.g=function(){return this.p3l_1},Eu.prototype.q3l=function(t){this.p3l_1>=this.o3l_1.length&&(this.o3l_1=un(this.o3l_1,At(this.o3l_1.length,2)));var e=this.o3l_1,n=this.p3l_1;this.p3l_1=n+1|0,e[n]=t},Eu.prototype.v3n=function(){var t=this.o3l_1,e=this;return e.p3l_1=e.p3l_1-1|0,t[e.p3l_1]},Eu.prototype.l3p=function(t){return this.p3l_1>0?this.y3r():t},Eu.prototype.y3r=function(){return this.o3l_1[this.p3l_1-1|0]},Eu.prototype.p3o=function(t){return this.o3l_1[t]},Eu.prototype.m=function(){return 0===this.p3l_1},Eu.prototype.va=function(){this.p3l_1=0},Eu.prototype.j42=function(t){var e=0,n=this.p3l_1;if(e<n)do{var i=e;if(e=e+1|0,this.o3l_1[i]===t)return i}while(e<n);return-1},Eu.$metadata$=It("IntStack"),Au.prototype.g=function(){return this.g3m_1.g()},Au.prototype.u3n=function(t){return this.g3m_1.b(t)},Au.prototype.v3n=function(){return this.g3m_1.y3(this.g()-1|0)},Au.prototype.y3r=function(){return this.g3m_1.l(this.g()-1|0)},Au.prototype.p3o=function(t){return this.g3m_1.l(t)},Au.prototype.m=function(){return this.g3m_1.m()},Au.prototype.j3p=function(){return!this.m()},Au.prototype.va=function(){return this.g3m_1.va()},Au.prototype.fc=function(){for(var t=0,e=this.g3m_1.g(),n=Qe(Array(e),null);t<e;){var i,r=t;i=this.g3m_1.l(r),n[r]=i,t=t+1|0}var o=n;return de(o)?o:zt()},Au.$metadata$=It("Stack"),ku.$metadata$=It("SynchronizedObject"),Iu.prototype.b1=function(){return Tu(this)},Iu.$metadata$=It("LazyValueHolder",[gu]),Ou.prototype.b1=function(){return this.q45_1},Ou.prototype.toString=function(){return"StaticValueHolder(value="+this.q45_1+")"},Ou.prototype.hashCode=function(){return null==this.q45_1?0:Qt(this.q45_1)},Ou.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Ou))return!1;var e=t instanceof Ou?t:zt();return!!Zt(this.q45_1,e.q45_1)},Ou.$metadata$=It("StaticValueHolder",[gu]),Mu.prototype.r45=function(t){this.v3x_1=t},Mu.prototype.g=function(){return this.v3x_1},Mu.prototype.x2=function(){return this.w3x_1},Mu.prototype.y2=function(){return this.x3x_1},Mu.prototype.a3y=function(t,e){var n;if(this.v3x_1>0){if((n=function(t,e){for(var n=0,i=t.v3x_1-1|0,r=Fp(e);n<=i;){var o=(n+i|0)>>>1|0,s=t.w3x_1[o],a=Fp(s);if(a<r)n=o+1|0;else{if(!(a>r))return s===e?o:zu(t,o,e,r);i=o-1|0}}return 0|-(n+1|0)}(this,t))>=0)return this.x3x_1[n]=e,St()}else n=-1;var i=0|-(n+1|0);if(this.v3x_1===this.w3x_1.length){var r=At(this.w3x_1.length,2),o=Qe(Array(r),null),s=new Int32Array(At(this.w3x_1.length,2)),a=this.w3x_1,u=i+1|0,l=this.v3x_1;Xe(a,o,u,i,l);var c=this.x3x_1,h=i+1|0,p=this.v3x_1;Xe(c,s,h,i,p);var _,f=this.w3x_1;Xe(f,o,0,0,i),_=this.x3x_1,Xe(_,s,0,0,i),this.w3x_1=o,this.x3x_1=s}else{var d=this.w3x_1,m=this.w3x_1,y=i+1|0,v=this.v3x_1;Xe(d,m,y,i,v);var g=this.x3x_1,w=this.x3x_1,b=i+1|0,x=this.v3x_1;Xe(g,w,b,i,x)}this.w3x_1[i]=t,this.x3x_1[i]=e;var $=this.v3x_1;this.v3x_1=$+1|0},Mu.prototype.s45=function(t){var e=0,n=0,i=this.v3x_1;if(n<i)do{var r=n;n=n+1|0;var o=this.w3x_1[r],s=Mt(o)?o:zt(),a=this.x3x_1[r];t(s,a)||(e!==r&&(this.w3x_1[e]=s,this.x3x_1[e]=a),e=e+1|0)}while(n<i);var u=e,l=this.v3x_1;if(u<l)do{var c=u;u=u+1|0,this.w3x_1[c]=null}while(u<l);this.v3x_1=e},Mu.prototype.t45=function(t){var e=0,n=this.v3x_1;if(e<n)do{var i=e;e=e+1|0;var r=this.w3x_1[i];if(t(Mt(r)?r:zt(),this.x3x_1[i]))return!0}while(e<n);return!1},Mu.prototype.u45=function(t){var e=0,n=this.v3x_1;if(e<n)do{var i=e;e=e+1|0;var r=this.w3x_1[i];t(Mt(r)?r:zt(),this.x3x_1[i])}while(e<n)},Mu.$metadata$=It("IdentityArrayIntMap"),ju.prototype.g=function(){return this.p3p_1},ju.prototype.j3p=function(){return this.p3p_1>0},ju.prototype.l3w=function(t){return Ru(this,t)>=0},ju.prototype.k3w=function(t){var e,n=Ru(this,t);if(n>=0){var i=this.o3p_1[n];e=null==i||Mt(i)?i:zt()}else e=null;return e},ju.prototype.c3v=function(t,e){var n=Ru(this,t);if(n>=0)this.o3p_1[n]=e;else{var i,r=0|-(n+1|0),o=this.p3p_1===this.n3p_1.length;if(o){var s=At(this.p3p_1,2);i=Qe(Array(s),null)}else i=this.n3p_1;var a,u=i,l=this.n3p_1,c=r+1|0,h=this.p3p_1;if(Xe(l,u,c,r,h),o){var p=this.n3p_1;Xe(p,u,0,0,r)}if(u[r]=t,this.n3p_1=u,o){var _=At(this.p3p_1,2);a=Qe(Array(_),null)}else a=this.o3p_1;var f=a,d=this.o3p_1,m=r+1|0,y=this.p3p_1;if(Xe(d,f,m,r,y),o){var v=this.o3p_1;Xe(v,f,0,0,r)}f[r]=e,this.o3p_1=f;var g=this.p3p_1;this.p3p_1=g+1|0}},ju.prototype.y3x=function(t){var e=Ru(this,t);if(e>=0){var n=this.p3p_1,i=this.n3p_1,r=this.o3p_1;Xe(i,i,e,e+1|0,n),Xe(r,r,e,e+1|0,n);var o=n-1|0;return i[o]=null,r[o]=null,this.p3p_1=o,!0}return!1},ju.prototype.v45=function(t){var e=0,n=this.p3p_1;if(e<n)do{var i=e;e=e+1|0;var r=this.n3p_1[i],o=Mt(r)?r:zt(),s=this.o3p_1[i];t(o,null==s||Mt(s)?s:zt())}while(e<n)},ju.$metadata$=It("IdentityArrayMap"),qu.prototype.e=function(){return this.w45_1<this.x45_1.w3t_1},qu.prototype.f=function(){var t=this.x45_1.x3t_1,e=this.w45_1;this.w45_1=e+1|0;var n=t[e];return Mt(n)?n:zt()},qu.$metadata$=It(void 0,[en]),Bu.prototype.r45=function(t){this.w3t_1=t},Bu.prototype.g=function(){return this.w3t_1},Bu.prototype.y2=function(){return this.x3t_1},Bu.prototype.o1=function(t){return Nu(this,t)>=0},Bu.prototype.n=function(t){return!!Mt(t)&&this.o1(Mt(t)?t:zt())},Bu.prototype.l=function(t){var e=this.x3t_1[t];return Mt(e)?e:zt()},Bu.prototype.y3t=function(t){var e;if(this.w3t_1>0){if((e=Nu(this,t))>=0)return!1}else e=-1;var n=0|-(e+1|0);if(this.w3t_1===this.x3t_1.length){var i=At(this.x3t_1.length,2),r=Qe(Array(i),null),o=this.x3t_1,s=n+1|0,a=this.w3t_1;Xe(o,r,s,n,a);var u=this.x3t_1;Xe(u,r,0,0,n),this.x3t_1=r}else{var l=this.x3t_1,c=this.x3t_1,h=n+1|0,p=this.w3t_1;Xe(l,c,h,n,p)}this.x3t_1[n]=t;var _=this.w3t_1;return this.w3t_1=_+1|0,!0},Bu.prototype.m=function(){return 0===this.w3t_1},Bu.prototype.j3p=function(){return this.w3t_1>0},Bu.prototype.y45=function(t){var e=Nu(this,t);if(e>=0){if(e<(this.w3t_1-1|0)){var n=this.x3t_1,i=this.x3t_1,r=e+1|0,o=this.w3t_1;Xe(n,i,e,r,o)}var s=this.w3t_1;return this.w3t_1=s-1|0,this.x3t_1[this.w3t_1]=null,!0}return!1},Bu.prototype.z45=function(t){var e=0,n=0,i=this.w3t_1;if(n<i)do{var r=n;n=n+1|0;var o=this.x3t_1[r],s=Mt(o)?o:zt();t(s)||(e!==r&&(this.x3t_1[e]=s),e=e+1|0)}while(n<i);var a=e,u=this.w3t_1;if(a<u)do{var l=a;a=a+1|0,this.x3t_1[l]=null}while(a<u);this.w3t_1=e},Bu.prototype.h3=function(t){var e;t:if(Gt(t,Re)&&t.m())e=!0;else{for(var n=t.d();n.e();){var i=n.f();if(!this.o1(i)){e=!1;break t}}e=!0}return e},Bu.prototype.t1=function(t){return this.h3(t)},Bu.prototype.d=function(){return new qu(this)},Bu.$metadata$=It("IdentityArraySet",[me]),Vu.prototype.a46=function(){return this.m3u_1},Vu.prototype.y2=function(){return this.n3u_1},Vu.prototype.b46=function(){return this.o3u_1},Vu.prototype.r45=function(t){this.p3u_1=t},Vu.prototype.g=function(){return this.p3u_1},Vu.prototype.q3u=function(t,e){return function(t,e){var n;if(t.p3u_1>0){if((n=Uu(t,e))>=0)return Fu(t,n)}else n=-1;var i=0|-(n+1|0);if(t.p3u_1<t.m3u_1.length){var r=t.m3u_1[t.p3u_1];t.n3u_1[r]=e;var o,s=t.o3u_1[r];if(null==s){var a=new Bu;t.o3u_1[r]=a,o=a}else o=s;var u=o;if(i<t.p3u_1){var l=t.m3u_1,c=t.m3u_1,h=i+1|0,p=t.p3u_1;Xe(l,c,h,i,p)}t.m3u_1[i]=r;var _=t,f=_.p3u_1;return _.p3u_1=f+1|0,u}var d=At(t.m3u_1.length,2),m=t.p3u_1;t.o3u_1=ln(t.o3u_1,d);var y=new Bu;t.o3u_1[m]=y,t.n3u_1=ln(t.n3u_1,d),t.n3u_1[m]=e;var v,g=new Int32Array(d),w=t.p3u_1+1|0;if(w<d)do{var b=w;w=w+1|0,g[b]=b}while(w<d);if(i<t.p3u_1){var x=t.m3u_1,$=i+1|0,C=t.p3u_1;Xe(x,g,$,i,C)}g[i]=m,i>0&&(v=t.m3u_1,Xe(v,g,0,0,i)),t.m3u_1=g;var E=t,A=E.p3u_1;return E.p3u_1=A+1|0,y}(this,t).y3t(e)},Vu.prototype.y3u=function(t){return Uu(this,t)>=0},Vu.prototype.c46=function(t,e){var n=Uu(this,t);if(n>=0)for(var i=Fu(this,n).d();i.e();)e(i.f())},Vu.prototype.i3v=function(t,e){var n=Uu(this,t);if(n>=0){var i=this.m3u_1[n],r=this.o3u_1[i];if(null==r)return!1;var o=r,s=o.y45(e);if(0===o.w3t_1){var a=n+1|0,u=this.p3u_1;if(a<u){var l=this.m3u_1,c=this.m3u_1;Xe(l,c,n,a,u)}this.m3u_1[this.p3u_1-1|0]=i,this.n3u_1[i]=null;var h=this.p3u_1;this.p3u_1=h-1|0}return s}return!1},Vu.prototype.z45=function(t){var e=0,n=0,i=this.p3u_1;if(n<i)do{var r=n;n=n+1|0;var o=this.m3u_1[r],s=ye(this.o3u_1[o]),a=0,u=0,l=s.w3t_1;if(u<l)do{var c=u;u=u+1|0;var h=s.x3t_1[c],p=Mt(h)?h:zt();t(p)||(a!==c&&(s.x3t_1[a]=p),a=a+1|0)}while(u<l);var _=a,f=s.w3t_1;if(_<f)do{var d=_;_=_+1|0,s.x3t_1[d]=null}while(_<f);if(s.w3t_1=a,s.w3t_1>0){if(e!==r){var m=this.m3u_1[e];this.m3u_1[e]=o,this.m3u_1[r]=m}e=e+1|0}}while(n<i);var y=e,v=this.p3u_1;if(y<v)do{var g=y;y=y+1|0,this.n3u_1[this.m3u_1[g]]=null}while(y<v);this.p3u_1=e},Vu.$metadata$=It("IdentityScopeMap"),Yu.$metadata$=kt("Builder",[cn]),Wu.$metadata$=kt("PersistentCollection",[Gu]),Gu.$metadata$=kt("ImmutableCollection",[Re]),Zu.$metadata$=kt("Builder",[hn,Yu]),Ku.$metadata$=kt("PersistentList",[Xu,Wu]),Xu.$metadata$=kt("ImmutableList",[pn,Gu]),Ju.$metadata$=kt("Builder",[_n]),Qu.$metadata$=kt("PersistentMap",[tl]),tl.$metadata$=kt("ImmutableMap",[fn]),el.$metadata$=kt("PersistentSet",[nl,Wu]),nl.$metadata$=kt("ImmutableSet",[me,Gu]),ol.prototype.w1=function(t){this.i46_1=t},ol.prototype.x1=function(){return this.i46_1},ol.prototype.r45=function(t){this.j46_1=t},ol.prototype.g=function(){return this.j46_1},ol.prototype.e=function(){return this.i46_1<this.j46_1},ol.prototype.r=function(){return this.i46_1>0},ol.prototype.s=function(){return this.i46_1},ol.prototype.k46=function(){if(!this.e())throw dn()},ol.prototype.l46=function(){if(!this.r())throw dn()},ol.$metadata$=It("AbstractListIterator",[mn]),sl.prototype.k=function(t){var e=this.n1s();return e.k(t),e.i1s()},sl.prototype.sa=function(t){var e=this.p(t);return-1!==e?this.y3(e):this},sl.prototype.n=function(t){return!(-1===this.p(t))},sl.prototype.t1=function(t){var e;t:if(Gt(t,Re)&&t.m())e=!0;else{for(var n=t.d();n.e();){var i=n.f();if(!this.n(i)){e=!1;break t}}e=!0}return e},sl.prototype.d=function(){return this.m46()},sl.prototype.m46=function(){return this.q(0)},sl.$metadata$=It("AbstractPersistentList",[Ku],void 0,void 0,void 0,yn.prototype),al.prototype.f=function(){if(!this.e())throw dn();var t=this.x1();return this.w1(t+1|0),this.p46_1[t]},al.prototype.t=function(){if(!this.r())throw dn();var t=this;return t.w1(t.x1()-1|0),this.p46_1[t.x1()]},al.$metadata$=It("BufferIterator",void 0,void 0,void 0,void 0,ol.prototype),yl.prototype.g=function(){return this.s46_1},yl.prototype.b=function(t){var e=this.s46_1-ul(this)|0;if(e<Yl()){var n=ln(this.r46_1,Yl());return n[e]=t,new yl(this.q46_1,n,this.s46_1+1|0,this.t46_1)}var i=Wl(t);return ll(this,this.q46_1,this.r46_1,i)},yl.prototype.d46=function(t,e){if(dh().b2(t,this.s46_1),t===this.s46_1)return this.b(e);var n=ul(this);if(t>=n)return hl(this,this.q46_1,t-n|0,e);var i=new Jl(null);return hl(this,pl(this,this.q46_1,this.t46_1,t,e,i),0,i.u46_1)},yl.prototype.y3=function(t){dh().c2(t,this.s46_1);var e=ul(this);return t>=e?_l(this,this.q46_1,e,this.t46_1,t-e|0):_l(this,dl(this,this.q46_1,this.t46_1,t,new Jl(this.r46_1[0])),e,this.t46_1,0)},yl.prototype.n1s=function(){return new Ml(this,this.q46_1,this.r46_1,this.t46_1)},yl.prototype.q=function(t){dh().b2(t,this.s46_1);var e=this.r46_1;return new Dl(this.q46_1,de(e)?e:zt(),t,this.s46_1,1+(this.t46_1/Kl()|0)|0)},yl.prototype.l=function(t){dh().c2(t,this.s46_1);var e=function(t,e){if(ul(t)<=e)return t.r46_1;for(var n=t.q46_1,i=t.t46_1;i>0;){var r=n[Xl(e,i)];n=null!=r&&de(r)?r:zt(),i=i-Kl()|0}return n}(this,t)[t&Gl()];return null==e||Mt(e)?e:zt()},yl.prototype.ra=function(t,e){if(dh().c2(t,this.s46_1),ul(this)<=t){var n=ln(this.r46_1,Yl());return n[t&Gl()]=e,new yl(this.q46_1,n,this.s46_1,this.t46_1)}return new yl(ml(this,this.q46_1,this.t46_1,t,e),this.r46_1,this.s46_1,this.t46_1)},yl.$metadata$=It("PersistentVector",[Ku],void 0,void 0,void 0,sl.prototype),Ml.prototype.g=function(){return this.d47_1},Ml.prototype.e47=function(){return this.mb()},Ml.prototype.i1s=function(){var t;return this.b47_1===this.x46_1&&this.c47_1===this.y46_1?t=this.w46_1:(this.a47_1=new mh,this.x46_1=this.b47_1,this.y46_1=this.c47_1,t=null==this.b47_1?0===this.c47_1.length?Vl():new ql(ln(this.c47_1,this.d47_1)):new yl(ye(this.b47_1),this.c47_1,this.d47_1,this.z46_1)),this.w46_1=t,this.w46_1},Ml.prototype.b=function(t){this.lb(this.mb()+1|0);var e=gl(this);if(e<Yl()){var n=wl(this,this.c47_1);n[e]=t,this.c47_1=n;this.d47_1=this.d47_1+1|0}else{var i=bl(this,t);$l(this,this.b47_1,this.c47_1,i)}return!0},Ml.prototype.k=function(t){if(t.m())return!1;var e=this.mb();this.lb(e+1|0);var n=gl(this),i=t.d();if((Yl()-n|0)>=t.g()){this.c47_1=El(0,wl(this,this.c47_1),n,i);this.d47_1=this.d47_1+t.g()|0}else{var r=((t.g()+n|0)-1|0)/Yl()|0,o=Qe(Array(r),null);o[0]=El(0,wl(this,this.c47_1),n,i);var s=1;if(s<r)do{var a=s;s=s+1|0,o[a]=El(0,xl(this),0,i)}while(s<r);var u=this.b47_1,l=vl(this);this.b47_1=function(t,e,n,i){for(var r=gn(i),o=n>>Kl()<1<<t.z46_1?Al(t,e,n,t.z46_1,r):wl(t,e);r.e();){var s=t;s.z46_1=s.z46_1+Kl()|0,Al(t,o=bl(t,o),1<<t.z46_1,t.z46_1,r)}return o}(this,u,l,de(o)?o:zt()),this.c47_1=El(0,xl(this),0,i);this.d47_1=this.d47_1+t.g()|0}return!0},Ml.prototype.jb=function(t,e){if(dh().b2(t,this.d47_1),t===this.d47_1)return this.b(e),St();this.lb(this.mb()+1|0);var n=vl(this);if(t>=n)return kl(this,this.b47_1,t-n|0,e),St();var i=new Jl(null),r=Sl(this,ye(this.b47_1),this.z46_1,t,e,i),o=i.u46_1;kl(this,r,0,null==o||Mt(o)?o:zt())},Ml.prototype.l=function(t){dh().c2(t,this.d47_1);var e=function(t,e){if(vl(t)<=e)return t.c47_1;for(var n=ye(t.b47_1),i=t.z46_1;i>0;){var r=n[Xl(e,i)];n=null!=r&&de(r)?r:zt(),i=i-Kl()|0}return n}(this,t)[t&Gl()];return null==e||Mt(e)?e:zt()},Ml.prototype.y3=function(t){dh().c2(t,this.d47_1);this.lb(this.mb()+1|0);var e=vl(this);if(t>=e){var n=Tl(this,this.b47_1,e,this.z46_1,t-e|0);return null==n||Mt(n)?n:zt()}var i=new Jl(this.c47_1[0]);Tl(this,Il(this,ye(this.b47_1),this.z46_1,t,i),e,this.z46_1,0);var r=i.u46_1;return null==r||Mt(r)?r:zt()},Ml.prototype.ra=function(t,e){if(dh().c2(t,this.d47_1),vl(this)<=t){var n=wl(this,this.c47_1);if(n!==this.c47_1){var i=this.mb();this.lb(i+1|0)}var r=t&Gl(),o=n[r];return n[r]=e,this.c47_1=n,null==o||Mt(o)?o:zt()}var s=new Jl(null);this.b47_1=zl(this,ye(this.b47_1),this.z46_1,t,e,s);var a=s.u46_1;return null==a||Mt(a)?a:zt()},Ml.prototype.d=function(){return this.m46()},Ml.prototype.m46=function(){return this.q(0)},Ml.prototype.q=function(t){return dh().b2(t,this.d47_1),new jl(this,t)},Ml.$metadata$=It("PersistentVectorBuilder",[Zu],void 0,void 0,void 0,wn.prototype),Dl.prototype.f=function(){if(this.k46(),this.i47_1.e()){var t=this.x1();return this.w1(t+1|0),this.i47_1.f()}var e=this.x1();return this.w1(e+1|0),this.h47_1[e-this.i47_1.g()|0]},Dl.prototype.t=function(){if(this.l46(),this.x1()>this.i47_1.g()){var t=this;return t.w1(t.x1()-1|0),this.h47_1[t.x1()-this.i47_1.g()|0]}var e=this.x1();return this.w1(e-1|0),this.i47_1.t()},Dl.$metadata$=It("PersistentVectorIterator",void 0,void 0,void 0,void 0,ol.prototype),jl.prototype.t=function(){Pl(this),this.l46(),this.t47_1=this.x1()-1|0;var t=this.s47_1;if(null==t){var e=this.q47_1.c47_1,n=this;n.w1(n.x1()-1|0);var i=e[n.x1()];return null==i||Mt(i)?i:zt()}var r=t;if(this.x1()>r.g()){var o=this.q47_1.c47_1,s=this;s.w1(s.x1()-1|0);var a=o[s.x1()-r.g()|0];return null==a||Mt(a)?a:zt()}var u=this.x1();return this.w1(u-1|0),r.t()},jl.prototype.f=function(){Pl(this),this.k46(),this.t47_1=this.x1();var t=this.s47_1;if(null==t){var e=this.q47_1.c47_1,n=this.x1();this.w1(n+1|0);var i=e[n];return null==i||Mt(i)?i:zt()}var r=t;if(r.e()){var o=this.x1();return this.w1(o+1|0),r.f()}var s=this.q47_1.c47_1,a=this.x1();this.w1(a+1|0);var u=s[a-r.g()|0];return null==u||Mt(u)?u:zt()},jl.prototype.z3=function(){var t;Pl(this),function(t){if(-1===t.t47_1)throw bn()}(this),this.q47_1.y3(this.t47_1),this.t47_1<this.x1()&&this.w1(this.t47_1),(t=this).r45(t.q47_1.d47_1),t.r47_1=t.q47_1.e47(),t.t47_1=-1,Rl(t)},jl.$metadata$=It("PersistentVectorMutableIterator",[xn],void 0,void 0,void 0,ol.prototype),Nl.$metadata$=ue("Companion"),ql.prototype.g=function(){return this.w47_1.length},ql.prototype.b=function(t){if(this.g()<Yl()){var e=ln(this.w47_1,this.g()+1|0);return e[this.g()]=t,new ql(e)}var n=Wl(t);return new yl(this.w47_1,n,this.g()+1|0,0)},ql.prototype.k=function(t){if((this.g()+t.g()|0)<=Yl()){for(var e=ln(this.w47_1,this.g()+t.g()|0),n=this.g(),i=t.d();i.e();){var r=i.f(),o=n;n=o+1|0,e[o]=r}return new ql(e)}var s=this.n1s();return s.k(t),s.i1s()},ql.prototype.d46=function(t,e){if(dh().b2(t,this.g()),t===this.g())return this.b(e);if(this.g()<Yl()){var n=(a=this.g()+1|0,Qe(Array(a),null)),i=this.w47_1;Xe(i,n,0,0,t);var r=this.w47_1,o=t+1|0,s=this.g();return Xe(r,n,o,t,s),n[t]=e,new ql(n)}var a,u=this.w47_1.slice(),l=this.w47_1,c=t+1|0,h=this.g()-1|0;return Xe(l,u,c,t,h),u[t]=e,new yl(u,Wl(this.w47_1[Gl()]),this.g()+1|0,0)},ql.prototype.y3=function(t){if(dh().c2(t,this.g()),1===this.g())return Ll().v47_1;var e=ln(this.w47_1,this.g()-1|0),n=this.w47_1,i=t+1|0,r=this.g();return Xe(n,e,t,i,r),new ql(e)},ql.prototype.n1s=function(){return new Ml(this,null,this.w47_1,0)},ql.prototype.p=function(t){return $n(this.w47_1,t)},ql.prototype.h2=function(t){return Cn(this.w47_1,t)},ql.prototype.q=function(t){dh().b2(t,this.g());var e=this.w47_1;return new al(de(e)?e:zt(),t,this.g())},ql.prototype.l=function(t){dh().c2(t,this.g());var e=this.w47_1[t];return null==e||Mt(e)?e:zt()},ql.prototype.ra=function(t,e){dh().c2(t,this.g());var n=this.w47_1.slice();return n[t]=e,new ql(n)},ql.$metadata$=It("SmallPersistentVector",[Xu],void 0,void 0,void 0,sl.prototype),Hl.prototype.u47=function(t,e,n,i){if(this.w1(e),this.r45(n),this.l47_1=i,this.m47_1.length<i){var r;r=Qe(Array(i),null),this.m47_1=r}this.m47_1[0]=t,this.n47_1=e===n,Bl(this,e-(this.n47_1?1:0)|0,1)},Hl.prototype.f=function(){if(!this.e())throw dn();var t=Ul(this);return this.w1(this.x1()+1|0),this.x1()===this.g()?(this.n47_1=!0,t):(Fl(this,0),t)},Hl.prototype.t=function(){if(!this.r())throw dn();return this.w1(this.x1()-1|0),this.n47_1?(this.n47_1=!1,Ul(this)):(Fl(this,Gl()),Ul(this))},Hl.$metadata$=It("TrieIterator",void 0,void 0,void 0,void 0,ol.prototype),Jl.$metadata$=It("ObjectRef"),tc.prototype.f46=function(){var t=this.e46_1;return t instanceof nc?t:zt()},tc.$metadata$=ue("Companion"),nc.prototype.g=function(){return this.b48_1},nc.prototype.x2=function(){return new Sc(this)},nc.prototype.y2=function(){return new Tc(this)},nc.prototype.z=function(){return new Ic(this)},nc.prototype.r2=function(t){var e,n=null==t?null:Qt(t);return e=null==n?0:n,this.a48_1.g48(e,t,0)},nc.prototype.o=function(t){var e,n=null==t?null:Qt(t);return e=null==n?0:n,this.a48_1.h48(e,t,0)},nc.prototype.a=function(t,e){var n,i=null==t?null:Qt(t);n=null==i?0:i;var r=this.a48_1.i48(n,t,e,0);if(null==r)return this;var o=r;return new nc(o.j48_1,this.b48_1+o.k48_1|0)},nc.prototype.p3=function(t){var e,n=null==t?null:Qt(t);e=null==n?0:n;var i=this.a48_1.l48(e,t,0);return this.a48_1===i?this:null==i?ec().f46():new nc(i,this.b48_1-1|0)},nc.prototype.n1s=function(){return new ic(this)},nc.$metadata$=It("PersistentHashMap",[Qu],void 0,void 0,void 0,En.prototype),ic.prototype.r45=function(t){this.v48_1=t;var e=this.u48_1;this.u48_1=e+1|0},ic.prototype.g=function(){return this.v48_1},ic.prototype.i1s=function(){var t;return this.s48_1===this.q48_1.a48_1?t=this.q48_1:(this.r48_1=new mh,t=new nc(this.s48_1,this.v48_1)),this.q48_1=t,this.q48_1},ic.prototype.z=function(){return new hc(this)},ic.prototype.x2=function(){return new pc(this)},ic.prototype.y2=function(){return new _c(this)},ic.prototype.r2=function(t){var e,n=this.s48_1,i=null==t?null:Qt(t);return e=null==i?0:i,n.g48(e,t,0)},ic.prototype.o=function(t){var e,n=this.s48_1,i=null==t?null:Qt(t);return e=null==i?0:i,n.h48(e,t,0)},ic.prototype.a=function(t,e){this.t48_1=null;var n,i=this.s48_1,r=null==t?null:Qt(t);return n=null==r?0:r,this.s48_1=i.w48(n,t,e,0,this),this.t48_1},ic.prototype.q3=function(t){var e,n=t instanceof nc?t:null;if(null==n){var i=t instanceof ic?t:null;e=null==i?null:i.i1s()}else e=n;var r=e;if(null!=r){var o=yh(0,1),s=this.v48_1,a=this.s48_1,u=r.a48_1;this.s48_1=a.x48(u instanceof Qc?u:zt(),0,o,this);var l=(s+r.b48_1|0)-o.y48_1|0;s!==l&&this.r45(l)}else An.prototype.q3.call(this,t)},ic.prototype.p3=function(t){this.t48_1=null;var e,n=this.s48_1,i=null==t?null:Qt(t);e=null==i?0:i;var r,o=n.z48(e,t,0,this);if(null==o){var s=Jc().x47_1;r=s instanceof Qc?s:zt()}else r=o;return this.s48_1=r,this.t48_1},ic.prototype.a49=function(t,e){var n,i=this.v48_1,r=this.s48_1,o=null==t?null:Qt(t);n=null==o?0:o;var s,a=r.b49(n,t,e,0,this);if(null==a){var u=Jc().x47_1;s=u instanceof Qc?u:zt()}else s=a;return this.s48_1=s,!(i===this.v48_1)},ic.prototype.va=function(){var t=Jc().x47_1;this.s48_1=t instanceof Qc?t:zt(),this.r45(0)},ic.$metadata$=It("PersistentHashMapBuilder",[Ju],void 0,void 0,void 0,An.prototype),rc.prototype.e=function(){return this.c49_1.e()},rc.prototype.f=function(){return this.c49_1.f()},rc.prototype.z3=function(){return this.c49_1.z3()},rc.prototype.n49=function(t,e){return this.c49_1.n49(t,e)},rc.$metadata$=It("PersistentHashMapBuilderEntriesIterator",[kn]),oc.$metadata$=It("PersistentHashMapBuilderKeysIterator",void 0,void 0,void 0,void 0,uc.prototype),sc.$metadata$=It("PersistentHashMapBuilderValuesIterator",void 0,void 0,void 0,void 0,uc.prototype),uc.prototype.f=function(){return function(t){if(t.j49_1.u48_1!==t.m49_1)throw sn()}(this),this.k49_1=this.q49(),this.l49_1=!0,Ec.prototype.f.call(this)},uc.prototype.z3=function(){if(function(t){if(!t.l49_1)throw bn()}(this),this.e()){var t=this.q49(),e=this.j49_1,n=this.k49_1;(Gt(e,_n)?e:zt()).p3(n);var i=null==t?null:Qt(t);ac(this,null==i?0:i,this.j49_1.s48_1,t,0)}else{var r=this.j49_1,o=this.k49_1;(Gt(r,_n)?r:zt()).p3(o)}this.k49_1=null,this.l49_1=!1,this.m49_1=this.j49_1.u48_1},uc.prototype.n49=function(t,e){if(!this.j49_1.r2(t))return St();if(this.e()){var n=this.q49();this.j49_1.a(t,e);var i=null==n?null:Qt(n);ac(this,null==i?0:i,this.j49_1.s48_1,n,0)}else this.j49_1.a(t,e);this.m49_1=this.j49_1.u48_1},uc.$metadata$=It("PersistentHashMapBuilderBaseIterator",[kn],void 0,void 0,void 0,Ec.prototype),lc.prototype.f=function(){this.f4a();this.w1(this.x1()+2|0);var t=this.g4a()[this.x1()-2|0],e=null==t||Mt(t)?t:zt(),n=this.g4a()[this.x1()-1|0];return new cc(this.e4a_1,e,null==n||Mt(n)?n:zt())},lc.$metadata$=It("TrieNodeMutableEntriesIterator",void 0,void 0,void 0,void 0,vc.prototype),cc.prototype.b1=function(){return this.o4a_1},cc.prototype.sb=function(t){var e=this.o4a_1;return this.o4a_1=t,this.n4a_1.n49(this.a1(),t),e},cc.$metadata$=It("MutableMapEntry",[Sn],void 0,void 0,void 0,Ac.prototype),hc.prototype.jc=function(t){throw Tn()},hc.prototype.b=function(t){return this.jc(null!=t&&Gt(t,Sn)?t:zt())},hc.prototype.va=function(){this.r4a_1.va()},hc.prototype.d=function(){return new rc(this.r4a_1)},hc.prototype.ub=function(t){return this.r4a_1.a49(t.a1(),t.b1())},hc.prototype.g=function(){return this.r4a_1.v48_1},hc.prototype.tb=function(t){var e=this.r4a_1.o(t.a1()),n=null==e?null:Zt(e,t.b1());return null==n?null==t.b1()&&this.r4a_1.r2(t.a1()):n},hc.$metadata$=It("PersistentHashMapBuilderEntries",void 0,void 0,void 0,void 0,fc.prototype),pc.prototype.wb=function(t){throw Tn()},pc.prototype.b=function(t){return this.wb(null==t||Mt(t)?t:zt())},pc.prototype.va=function(){this.s4a_1.va()},pc.prototype.d=function(){return new oc(this.s4a_1)},pc.prototype.p3=function(t){return!!this.s4a_1.r2(t)&&(this.s4a_1.p3(t),!0)},pc.prototype.sa=function(t){return!(null!=t&&!Mt(t))&&this.p3(null==t||Mt(t)?t:zt())},pc.prototype.g=function(){return this.s4a_1.v48_1},pc.prototype.o2=function(t){return this.s4a_1.r2(t)},pc.prototype.n=function(t){return!(null!=t&&!Mt(t))&&this.o2(null==t||Mt(t)?t:zt())},pc.$metadata$=It("PersistentHashMapBuilderKeys",[On],void 0,void 0,void 0,In.prototype),_c.prototype.g=function(){return this.t4a_1.v48_1},_c.prototype.u2=function(t){return this.t4a_1.v2(t)},_c.prototype.n=function(t){return!(null!=t&&!Mt(t))&&this.u2(null==t||Mt(t)?t:zt())},_c.prototype.cc=function(t){throw Tn()},_c.prototype.b=function(t){return this.cc(null==t||Mt(t)?t:zt())},_c.prototype.d=function(){return new sc(this.t4a_1)},_c.$metadata$=It("PersistentHashMapBuilderValues",[cn],void 0,void 0,void 0,zn.prototype),fc.prototype.n=function(t){var e=Mt(t)?t:null;return!(null==e||!Gt(e,Mn))&&this.tb(t)},fc.prototype.sa=function(t){var e=Mt(t)?t:null;return!(null==e||!Gt(e,Mn))&&this.ub(t)},fc.$metadata$=It("AbstractMapBuilderEntries",void 0,void 0,void 0,void 0,In.prototype),dc.$metadata$=It("PersistentHashMapKeysIterator",void 0,void 0,void 0,void 0,Ec.prototype),mc.$metadata$=It("PersistentHashMapValuesIterator",void 0,void 0,void 0,void 0,Ec.prototype),yc.$metadata$=It("PersistentHashMapEntriesIterator",void 0,void 0,void 0,void 0,Ec.prototype),vc.prototype.g4a=function(){return this.r49_1},vc.prototype.w1=function(t){this.t49_1=t},vc.prototype.x1=function(){return this.t49_1},vc.prototype.u49=function(t,e,n){this.r49_1=t,this.s49_1=e,this.t49_1=n},vc.prototype.h4a=function(t,e){this.u49(t,e,0)},vc.prototype.f4a=function(){return this.t49_1<this.s49_1},vc.prototype.q49=function(){this.f4a();var t=this.r49_1[this.t49_1];return null==t||Mt(t)?t:zt()},vc.prototype.v49=function(){this.f4a();this.t49_1=this.t49_1+2|0},vc.prototype.i4a=function(){return this.t49_1,this.s49_1,this.t49_1<this.r49_1.length},vc.prototype.j4a=function(){this.i4a();var t=this.r49_1[this.t49_1];return t instanceof Qc?t:zt()},vc.prototype.k4a=function(){this.i4a();var t=this.t49_1;this.t49_1=t+1|0},vc.prototype.e=function(){return this.f4a()},vc.$metadata$=It("TrieNodeBaseIterator",[en]),wc.prototype.f=function(){this.f4a();this.w1(this.x1()+2|0);var t=this.g4a()[this.x1()-2|0];return null==t||Mt(t)?t:zt()},wc.$metadata$=It("TrieNodeKeysIterator",void 0,void 0,void 0,void 0,vc.prototype),bc.prototype.f=function(){this.f4a();this.w1(this.x1()+2|0);var t=this.g4a()[this.x1()-1|0];return null==t||Mt(t)?t:zt()},bc.$metadata$=It("TrieNodeValuesIterator",void 0,void 0,void 0,void 0,vc.prototype),Ec.prototype.o49=function(){return this.d49_1},Ec.prototype.p49=function(t){this.e49_1=t},Ec.prototype.q49=function(){return Cc(this),this.d49_1[this.e49_1].q49()},Ec.prototype.e=function(){return this.f49_1},Ec.prototype.f=function(){Cc(this);var t=this.d49_1[this.e49_1].f();return $c(this),t},Ec.$metadata$=It("PersistentHashMapBaseIterator",[en]),Ac.prototype.a1=function(){return this.p4a_1},Ac.prototype.b1=function(){return this.q4a_1},Ac.prototype.hashCode=function(){var t=this.a1(),e=null==t?null:Qt(t),n=null==e?0:e,i=this.b1(),r=null==i?null:Qt(i);return n^(null==r?0:r)},Ac.prototype.equals=function(t){var e,n=null!=t&&Gt(t,Mn)?t:null;return null!=(e=null==n?null:!!Zt(n.a1(),this.a1())&&Zt(n.b1(),this.b1()))&&e},Ac.prototype.toString=function(){return Se(this.a1())+"="+Se(this.b1())},Ac.$metadata$=It("MapEntry",[Mn]),kc.prototype.f=function(){this.f4a();this.w1(this.x1()+2|0);var t=this.g4a()[this.x1()-2|0],e=null==t||Mt(t)?t:zt(),n=this.g4a()[this.x1()-1|0];return new Ac(e,null==n||Mt(n)?n:zt())},kc.$metadata$=It("TrieNodeEntriesIterator",void 0,void 0,void 0,void 0,vc.prototype),Sc.prototype.g=function(){return this.d4b_1.b48_1},Sc.prototype.o2=function(t){return this.d4b_1.r2(t)},Sc.prototype.n=function(t){return!(null!=t&&!Mt(t))&&this.o2(null==t||Mt(t)?t:zt())},Sc.prototype.d=function(){return new dc(this.d4b_1.a48_1)},Sc.$metadata$=It("PersistentHashMapKeys",[nl],void 0,void 0,void 0,Dn.prototype),Tc.prototype.g=function(){return this.e4b_1.b48_1},Tc.prototype.u2=function(t){return this.e4b_1.v2(t)},Tc.prototype.n=function(t){return!(null!=t&&!Mt(t))&&this.u2(null==t||Mt(t)?t:zt())},Tc.prototype.d=function(){return new mc(this.e4b_1.a48_1)},Tc.$metadata$=It("PersistentHashMapValues",[Gu],void 0,void 0,void 0,Rn.prototype),Ic.prototype.g=function(){return this.f4b_1.b48_1},Ic.prototype.g4b=function(t){var e=Mt(t)?t:zt();if(null==e||!Gt(e,Mn))return!1;var n=this.f4b_1.o(t.a1()),i=null==n?null:Zt(n,t.b1());return null==i?null==t.b1()&&this.f4b_1.r2(t.a1()):i},Ic.prototype.n=function(t){return!(null==t||!Gt(t,Mn))&&this.g4b(null!=t&&Gt(t,Mn)?t:zt())},Ic.prototype.d=function(){return new yc(this.f4b_1.a48_1)},Ic.$metadata$=It("PersistentHashMapEntries",[nl],void 0,void 0,void 0,Dn.prototype),zc.prototype.h4b=function(t){this.j48_1=t},zc.prototype.i4b=function(){return this.j48_1},zc.prototype.j4b=function(t){return this.j48_1=t(this.j48_1),this},zc.$metadata$=It("ModificationResult"),Xc.$metadata$=ue("Companion"),Qc.prototype.g4a=function(){return this.f48_1},Qc.prototype.x49=function(){return Nn(this.c48_1)},Qc.prototype.y49=function(t){return!(0==(this.c48_1&t))},Qc.prototype.w49=function(t){return At(2,Nn(this.c48_1&(t-1|0)))},Qc.prototype.z49=function(t){return(this.f48_1.length-1|0)-Nn(this.d48_1&(t-1|0))|0},Qc.prototype.a4a=function(t){var e=this.f48_1[t];return e instanceof Qc?e:zt()},Qc.prototype.g48=function(t,e,n){var i=1<<ih(t,n);if(this.y49(i))return Zt(e,Pc(this,this.w49(i)));if(Rc(this,i)){var r=this.a4a(this.z49(i));return 30===n?Vc(r,e):r.g48(t,e,n+5|0)}return!1},Qc.prototype.h48=function(t,e,n){var i=1<<ih(t,n);if(this.y49(i)){var r=this.w49(i);return Zt(e,Pc(this,r))?jc(this,r):null}if(Rc(this,i)){var o=this.a4a(this.z49(i));return 30===n?function(t,e){var n=jn(Pn(0,t.f48_1.length),2),i=n.k1_1,r=n.l1_1,o=n.m1_1;if(o>0&&i<=r||o<0&&r<=i)do{var s=i;if(i=i+o|0,Zt(e,Pc(t,s)))return jc(t,s)}while(s!==r);return null}(o,e):o.h48(t,e,n+5|0)}return null},Qc.prototype.x48=function(t,e,n,i){if(this===t)return n.wm(Wc(this)),this;if(e>30)return function(t,e,n,i){t.d48_1,t.c48_1,e.d48_1,e.c48_1;var r=ln(t.f48_1,t.f48_1.length+e.f48_1.length|0),o=t.f48_1.length,s=jn(Pn(0,e.f48_1.length),2),a=s.k1_1,u=s.l1_1,l=s.m1_1;if(l>0&&a<=u||l<0&&u<=a)do{var c=a;a=a+l|0;var h=e.f48_1[c];if(Vc(t,null==h||Mt(h)?h:zt())){var p=n,_=p.y48_1;p.y48_1=_+1|0}else r[o]=e.f48_1[c],r[o+1|0]=e.f48_1[c+1|0],o=o+2|0}while(c!==u);var f=o;return f===t.f48_1.length?t:f===e.f48_1.length?e:f===r.length?new Qc(0,0,r,i):new Qc(0,0,ln(r,f),i)}(this,t,n,i.r48_1);for(var r,o=this.d48_1|t.d48_1,s=(this.c48_1^t.c48_1)&~o,a=this.c48_1&t.c48_1,u=0;0!==a;){var l=Ln(a),c=Pc(this,this.w49(l)),h=Pc(t,t.w49(l));Zt(c,h)?s|=l:o|=l,u=u+1|0,a^=l}if(0!=(o&s))throw Dt(Tt("Check failed."));if(Zt(this.e48_1,i.r48_1)&&this.c48_1===s&&this.d48_1===o)r=this;else{var p=At(Nn(s),2)+Nn(o)|0;r=Oc(s,o,Qe(Array(p),null))}for(var _=r,f=o,d=0;0!==f;){var m=Ln(f),y=d,v=(_.f48_1.length-1|0)-y|0;_.f48_1[v]=Yc(this,t,m,e,n,i),d=d+1|0,f^=m}for(var g=s,w=0;0!==g;){var b=Ln(g),x=At(w,2);if(t.y49(b)){var $=t.w49(b);if(_.f48_1[x]=Pc(t,$),_.f48_1[x+1|0]=jc(t,$),this.y49(b)){var C=n,E=C.y48_1;C.y48_1=E+1|0}}else{var A=this.w49(b);_.f48_1[x]=Pc(this,A),_.f48_1[x+1|0]=jc(this,A)}w=w+1|0,g^=b}return Gc(this,_)?this:Gc(t,_)?t:_},Qc.prototype.i48=function(t,e,n,i){var r=1<<ih(t,i);if(this.y49(r)){var o=this.w49(r);return Zt(e,Pc(this,o))?jc(this,o)===n?null:Dc(function(t,e,n){var i=t.f48_1.slice();return i[e+1|0]=n,Oc(t.c48_1,t.d48_1,i)}(this,o,n)):Mc(function(t,e,n,i,r,o,s){var a=qc(t,e,n,i,r,o,s,null);return Oc(t.c48_1^n,t.d48_1|n,a)}(this,o,r,t,e,n,i))}if(Rc(this,r)){var s,a=this.z49(r),u=this.a4a(a);if(30===i){var l=function(t,e,n){var i=jn(Pn(0,t.f48_1.length),2),r=i.k1_1,o=i.l1_1,s=i.m1_1;if(s>0&&r<=o||s<0&&o<=r)do{var a=r;if(r=r+s|0,Zt(e,Pc(t,a))){if(n===jc(t,a))return null;var u=t.f48_1.slice();return u[a+1|0]=n,Dc(Oc(0,0,u))}}while(a!==o);return Mc(Oc(0,0,eh(t.f48_1,0,e,n)))}(u,e,n);if(null==l)return null;s=l}else{var c=u.i48(t,e,n,i+5|0);if(null==c)return null;s=c}var h,p=s,_=p;return h=Nc(this,a,r,p.j48_1),_.j48_1=h,p}return Mc(function(t,e,n,i){var r=t.w49(e),o=eh(t.f48_1,r,n,i);return Oc(t.c48_1|e,t.d48_1,o)}(this,r,e,n))},Qc.prototype.w48=function(t,e,n,i,r){var o=1<<ih(t,i);if(this.y49(o)){var s=this.w49(o);if(Zt(e,Pc(this,s)))return r.t48_1=jc(this,s),jc(this,s)===n?this:function(t,e,n,i){if(t.e48_1===i.r48_1)return t.f48_1[e+1|0]=n,t;var r=i,o=r.u48_1;r.u48_1=o+1|0;var s=t.f48_1.slice();return s[e+1|0]=n,new Qc(t.c48_1,t.d48_1,s,i.r48_1)}(this,s,n,r);var a=r,u=a.v48_1;return a.r45(u+1|0),function(t,e,n,i,r,o,s,a){if(t.e48_1===a)return t.f48_1=qc(t,e,n,i,r,o,s,a),t.c48_1=t.c48_1^n,t.d48_1=t.d48_1|n,t;var u=qc(t,e,n,i,r,o,s,a);return new Qc(t.c48_1^n,t.d48_1|n,u,a)}(this,s,o,t,e,n,i,r.r48_1)}if(Rc(this,o)){var l,c=this.z49(o),h=this.a4a(c);return l=30===i?function(t,e,n,i){var r=jn(Pn(0,t.f48_1.length),2),o=r.k1_1,s=r.l1_1,a=r.m1_1;if(a>0&&o<=s||a<0&&s<=o)do{var u=o;if(o=o+a|0,Zt(e,Pc(t,u))){if(i.t48_1=jc(t,u),t.e48_1===i.r48_1)return t.f48_1[u+1|0]=n,t;var l=i,c=l.u48_1;l.u48_1=c+1|0;var h=t.f48_1.slice();return h[u+1|0]=n,new Qc(0,0,h,i.r48_1)}}while(u!==s);var p=i,_=p.v48_1;return p.r45(_+1|0),new Qc(0,0,eh(t.f48_1,0,e,n),i.r48_1)}(h,e,n,r):h.w48(t,e,n,i+5|0,r),h===l?this:Lc(this,c,l,r.r48_1)}var p=r,_=p.v48_1;return p.r45(_+1|0),function(t,e,n,i,r){var o=t.w49(e);if(t.e48_1===r)return t.f48_1=eh(t.f48_1,o,n,i),t.c48_1=t.c48_1|e,t;var s=eh(t.f48_1,o,n,i);return new Qc(t.c48_1|e,t.d48_1,s,r)}(this,o,e,n,r.r48_1)},Qc.prototype.l48=function(t,e,n){var i=1<<ih(t,n);if(this.y49(i)){var r=this.w49(i);return Zt(e,Pc(this,r))?function(t,e,n){if(2===t.f48_1.length)return null;var i=rh(t.f48_1,e);return Oc(t.c48_1^n,t.d48_1,i)}(this,r,i):this}if(Rc(this,i)){var o,s=this.z49(i),a=this.a4a(s);return o=30===n?function(t,e){var n=jn(Pn(0,t.f48_1.length),2),i=n.k1_1,r=n.l1_1,o=n.m1_1;if(o>0&&i<=r||o<0&&r<=i)do{var s=i;if(i=i+o|0,Zt(e,Pc(t,s)))return Uc(t,s)}while(s!==r);return t}(a,e):a.l48(t,e,n+5|0),Zc(this,a,o,s,i)}return this},Qc.prototype.z48=function(t,e,n,i){var r=1<<ih(t,n);if(this.y49(r)){var o=this.w49(r);return Zt(e,Pc(this,o))?Fc(this,o,r,i):this}if(Rc(this,r)){var s,a=this.z49(r),u=this.a4a(a);return s=30===n?function(t,e,n){var i=jn(Pn(0,t.f48_1.length),2),r=i.k1_1,o=i.l1_1,s=i.m1_1;if(s>0&&r<=o||s<0&&o<=r)do{var a=r;if(r=r+s|0,Zt(e,Pc(t,a)))return Hc(t,a,n)}while(a!==o);return t}(u,e,i):u.z48(t,e,n+5|0,i),Kc(this,u,s,a,r,i.r48_1)}return this},Qc.prototype.b49=function(t,e,n,i,r){var o=1<<ih(t,i);if(this.y49(o)){var s=this.w49(o);return Zt(e,Pc(this,s))&&Zt(n,jc(this,s))?Fc(this,s,o,r):this}if(Rc(this,o)){var a,u=this.z49(o),l=this.a4a(u);return a=30===i?function(t,e,n,i){var r=jn(Pn(0,t.f48_1.length),2),o=r.k1_1,s=r.l1_1,a=r.m1_1;if(a>0&&o<=s||a<0&&s<=o)do{var u=o;if(o=o+a|0,Zt(e,Pc(t,u))&&Zt(n,jc(t,u)))return Hc(t,u,i)}while(u!==s);return t}(l,e,n,r):l.b49(t,e,n,i+5|0,r),Kc(this,l,a,u,o,r.r48_1)}return this},Qc.$metadata$=It("TrieNode"),oh.prototype.h46=function(){return this.g46_1},oh.$metadata$=ue("Companion"),ah.prototype.g=function(){return this.m4b_1.b48_1},ah.prototype.n=function(t){return this.m4b_1.r2(t)},ah.prototype.b=function(t){if(this.m4b_1.r2(t))return this;if(this.m())return new ah(t,t,this.m4b_1.a(t,uh()));var e=this.l4b_1,n=null==e||Mt(e)?e:zt(),i=ye(this.m4b_1.o(n)),r=this.m4b_1.a(n,i.p4b(t)).a(t,lh(n));return new ah(this.k4b_1,t,r)},ah.prototype.sa=function(t){var e=this.m4b_1.o(t);if(null==e)return this;var n=e,i=this.m4b_1.p3(t);if(n.q4b()){var r,o=i,s=n.n4b_1;r=(Gt(o,fn)?o:zt()).o(s);var a=ye(r),u=i,l=n.n4b_1;i=u.a(null==l||Mt(l)?l:zt(),a.p4b(n.o4b_1))}if(n.s4b()){var c,h=i,p=n.o4b_1;c=(Gt(h,fn)?h:zt()).o(p);var _=ye(c),f=i,d=n.o4b_1;i=f.a(null==d||Mt(d)?d:zt(),_.r4b(n.n4b_1))}return new ah(n.q4b()?this.k4b_1:n.o4b_1,n.s4b()?this.l4b_1:n.n4b_1,i)},ah.prototype.d=function(){return new hh(this.k4b_1,this.m4b_1)},ah.$metadata$=It("PersistentOrderedSet",[el],void 0,void 0,void 0,Dn.prototype),ch.prototype.p4b=function(t){return new ch(this.n4b_1,t)},ch.prototype.r4b=function(t){return new ch(t,this.o4b_1)},ch.prototype.s4b=function(){return!(this.o4b_1===_h())},ch.prototype.q4b=function(){return!(this.n4b_1===_h())},ch.$metadata$=It("Links"),hh.prototype.e=function(){return this.v4b_1<this.u4b_1.g()},hh.prototype.f=function(){!function(t){if(!t.e())throw dn()}(this);var t=this.t4b_1,e=null==t||Mt(t)?t:zt(),n=this.v4b_1;this.v4b_1=n+1|0;var i,r=this.u4b_1.o(e);if(null==r)throw qn("Hash code of an element ("+e+") has changed after it was added to the persistent set.");return i=r,this.t4b_1=i.o4b_1,e},hh.$metadata$=It("PersistentOrderedSetIterator",[en]),ph.$metadata$=ue("EndOfChain"),fh.prototype.c2=function(t,e){if(t<0||t>=e)throw Bn("index: "+t+", size: "+e)},fh.prototype.b2=function(t,e){if(t<0||t>e)throw Bn("index: "+t+", size: "+e)},fh.$metadata$=ue("ListImplementation"),mh.$metadata$=It("MutabilityOwnership"),vh.prototype.w4b=function(t){this.y48_1=t},vh.prototype.x4b=function(){return this.y48_1},vh.prototype.wm=function(t){this.y48_1=this.y48_1+t|0},vh.prototype.toString=function(){return"DeltaCounter(count="+this.y48_1+")"},vh.prototype.hashCode=function(){return this.y48_1},vh.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof vh))return!1;var e=t instanceof vh?t:zt();return this.y48_1===e.y48_1},vh.$metadata$=It("DeltaCounter"),Nh.$metadata$=kt("StateObject"),Lh.prototype.yq=function(){return this.z4b_1()},Lh.$metadata$=It("sam$androidx_compose_runtime_snapshots_ObserverHandle$0",[Hh]),qh.prototype.yq=function(){return this.a4c_1()},qh.$metadata$=It("sam$androidx_compose_runtime_snapshots_ObserverHandle$0",[Hh]),Bh.prototype.s3f=function(){return Qh()},Bh.prototype.w3z=function(t,e){var n=Qh(),i=n instanceof Vh?n:null,r=null==i?null:i.b4c(t,e);if(null==r)throw Dt("Cannot create a mutable snapshot of an read-only snapshot");return r},Bh.prototype.x41=function(t){return tp(Ah()),Sh(),Dh().b(t),new Lh((e=t,function(){return Sh(),Dh().sa(e),St(),St()}));var e},Bh.prototype.c4c=function(t){return Sh(),Rh().b(t),ep(),new qh((e=t,function(){return Sh(),Rh().sa(e),ep(),St()}));var e},Bh.prototype.a42=function(){return Qh().a42()},Bh.prototype.x3y=function(){Sh();var t=Ph().zu().d4c();!0===(null==t?null:!t.m())&&ep()},Bh.$metadata$=ue("Companion"),Uh.prototype.f4c=function(t){this.w3o_1=t},Uh.prototype.e4c=function(){return this.w3o_1},Uh.prototype.g4c=function(t){this.x3o_1=t},Uh.prototype.e3f=function(){return this.x3o_1},Uh.prototype.yq=function(){this.y3o_1=!0,Sh(),this.i4c()},Uh.prototype.j4c=function(t){var e=this.x3z();try{return t()}finally{this.y3z(e)}},Uh.prototype.x3z=function(){var t=kh().zu();return kh().v3w(this),t},Uh.prototype.y3z=function(t){kh().v3w(t)},Uh.prototype.k4c=function(){return this.y3o_1},Uh.prototype.l4c=function(){return this.z3o_1>=0},Uh.prototype.p4c=function(){Sh(),this.q4c(),this.r4c()},Uh.prototype.q4c=function(){Th(Ih().w4c(this.e3f()))},Uh.prototype.r4c=function(){this.i4c()},Uh.prototype.x4c=function(){if(this.y3o_1)throw le(Tt("Cannot use a disposed snapshot"))},Uh.prototype.i4c=function(){this.z3o_1>=0&&(Jh(this.z3o_1),this.z3o_1=-1)},Uh.prototype.y4c=function(){var t=this.z3o_1;return this.z3o_1=-1,t},Uh.$metadata$=It("Snapshot"),Hh.$metadata$=kt("ObserverHandle"),Vh.prototype.m4c=function(){return this.e40_1},Vh.prototype.n4c=function(){return this.f40_1},Vh.prototype.b4c=function(t,e){this.x4c(),this.c4d(),this.d4d(this.e3f()),Sh();var n=zh();Oh(n+1|0);var i=n;Th(Ih().e4d(i));var r=this.e4c();this.f4c(r.e4d(i));var o=new ip(i,rp(r,this.e3f()+1|0,i),function(t,e,n,i,r){return 0!=(4&i)&&(n=!0),op(t,e,n)}(t,this.m4c(),!1,4),sp(e,this.n4c()),this);if(!this.k40_1&&!this.k4c()){var s=this.e3f(),a=(Sh(),zh());Oh(a+1|0),this.g4c(a),Th(Ih().e4d(this.e3f())),this.f4c(rp(this.e4c(),s+1|0,this.e3f()))}return o},Vh.prototype.m40=function(){var t,e=this.d4c(),n=null!=e?ap(Ph().zu(),this,Ih().w4c(Ph().zu().e3f())):null;if(Sh(),up(this),null==e||0===e.g()){this.q4c();var i=Ph().zu();lp(i,Ah());var r=i.d4c();t=null!=r&&!r.m()?se(ne(Dh()),r):se(ee(),null)}else{var o=Ph().zu(),s=this.f4d(zh(),n,Ih().w4c(o.e3f()));if(!Zt(s,Wh()))return s;this.q4c(),lp(o,Ah());var a=o.d4c();this.a4d(null),o.a4d(null),t=se(ne(Dh()),a)}var u=t,l=u.w3(),c=u.x3();if(this.k40_1=!0,null!=c&&!c.m()){var h=0,p=l.g()-1|0;if(h<=p)do{var _=h;h=h+1|0,l.l(_)(c,this)}while(h<=p)}if(null!=e&&!e.m()){var f=0,d=l.g()-1|0;if(f<=d)do{var m=f;f=f+1|0,l.l(m)(e,this)}while(f<=d)}return Sh(),this.r4c(),Wh()},Vh.prototype.h4c=function(){return!1},Vh.prototype.yq=function(){this.k4c()||(Uh.prototype.yq.call(this),this.g4d(this))},Vh.prototype.h4d=function(t){var e=this.j40_1;this.j40_1=e+1|0},Vh.prototype.g4d=function(t){if(!(this.j40_1>0))throw le(Tt("Failed requirement."));var e=this;e.j40_1=e.j40_1-1|0,0===e.j40_1&&(this.k40_1||function(t){var e=t.d4c();if(null!=e){t.z4c(),t.a4d(null);for(var n=t.e3f(),i=e.d();i.e();)for(var r=i.f().n45();null!=r;)(r.f45_1===n||Yn(t.h40_1,r.f45_1))&&(r.f45_1=0),r=r.g45_1}t.p4c()}(this))},Vh.prototype.a42=function(){if(this.k40_1||this.k4c())return St();this.i4d()},Vh.prototype.q4c=function(){Th(Ih().w4c(this.e3f()).j4d(this.h40_1))},Vh.prototype.r4c=function(){this.k4d(),Uh.prototype.r4c.call(this)},Vh.prototype.z4c=function(){if(this.k40_1)throw Dt(Tt("Unsupported operation on a snapshot that has been applied"))},Vh.prototype.c4d=function(){if(this.k40_1&&!(this.z3o_1>=0))throw Dt(Tt("Unsupported operation on a disposed or applied snapshot"))},Vh.prototype.f4d=function(t,e,n){for(var i=null,r=this.e4c().e4d(this.e3f()).l4d(this.h40_1),o=ye(this.d4c()),s=null,a=o.d();a.e();){var u=a.f(),l=u.n45(),c=cp(l,t,n);if(null!=c){var h=c,p=cp(l,this.e3f(),r);if(null!=p){var _=p;if(!Zt(h,_)){var f,d=cp(l,this.e3f(),this.e4c());null==d?hp():f=d;var m=f,y=null==e?null:e.o(h),v=null==y?u.p45(_,h,m):y,g=v;if(null==g)return new Gh(this);if(Zt(g,m));else if(Zt(g,h)){var w,b,x=i;null==x?(i=b=Ot(),w=b):w=x,w.b(se(u,h.e45()));var $,C,E=s;null==E?(s=C=Ot(),$=C):$=E,$.b(u)}else{var A,k,S=i;null==S?(i=k=Ot(),A=k):A=S,A.b(Zt(v,_)?se(u,_.e45()):se(u,v))}}}}}var T=i;if(null==T);else{this.i4d();var I=0,O=T.g()-1|0;if(I<=O){do{var z=I;I=I+1|0;var M=T.l(z),D=M.w3(),R=M.x3();R.f45_1=this.e3f(),Sh(),R.g45_1=D.n45(),D.o45(R)}while(I<=O);St()}}var P=s;return null==P||o.ua(P),Wh()},Vh.prototype.m4d=function(t){this.d4d(this.e3f());var e=t();if(!this.k40_1&&!this.k4c()){var n=this.e3f(),i=(Sh(),zh());Oh(i+1|0),this.g4c(i),Th(Ih().e4d(this.e3f())),this.f4c(rp(this.e4c(),n+1|0,this.e3f()))}return e},Vh.prototype.i4d=function(){this.d4d(this.e3f());var t=St();if(!this.k40_1&&!this.k4c()){var e=this.e3f(),n=(Sh(),zh());Oh(n+1|0),this.g4c(n),Th(Ih().e4d(this.e3f())),this.f4c(rp(this.e4c(),e+1|0,this.e3f()))}return t},Vh.prototype.d4d=function(t){Sh(),this.h40_1=this.h40_1.e4d(t),St()},Vh.prototype.n4d=function(t){if(t>=0){var e,n,i=this.i40_1;n=new Int32Array([t]),e=Wn([i,n]),this.i40_1=e}},Vh.prototype.o4d=function(t){if(0===t.length)return St();var e=this.i40_1;if(0===e.length)this.i40_1=t;else{var n;n=Wn([e,t]),this.i40_1=n}},Vh.prototype.k4d=function(){var t=0,e=this.i40_1.length-1|0;if(t<=e)do{var n=t;t=t+1|0,Jh(this.i40_1[n])}while(t<=e)},Vh.prototype.p4d=function(t){Sh(),this.h40_1=this.h40_1.l4d(t),St()},Vh.prototype.o4c=function(t){var e,n=this.d4c();if(null==n){var i=ve();this.a4d(i),e=i}else e=n;e.b(t)},Vh.prototype.a4d=function(t){this.g40_1=t},Vh.prototype.d4c=function(){return this.g40_1},Vh.prototype.q4d=function(){return this.h40_1},Vh.prototype.r4d=function(){return this.i40_1},Vh.prototype.s4d=function(t){this.k40_1=t},Vh.prototype.t4d=function(){return this.k40_1},Vh.$metadata$=It("MutableSnapshot",void 0,void 0,void 0,void 0,Uh.prototype),Yh.$metadata$=ue("Success",void 0,void 0,void 0,void 0,Zh.prototype),Gh.$metadata$=It("Failure",void 0,void 0,void 0,void 0,Zh.prototype),Zh.$metadata$=It("SnapshotApplyResult"),Kh.prototype.b4c=function(t,e){return pp((n=t,i=e,function(t){Sh();var e=zh();return Oh(e+1|0),new Vh(e,t,n,i)}));var n,i},Kh.prototype.a42=function(){ep()},Kh.prototype.n4e=function(t){jp()},Kh.prototype.g4d=function(t){return this.n4e(t)},Kh.prototype.o4e=function(t){jp()},Kh.prototype.h4d=function(t){return this.o4e(t)},Kh.prototype.m40=function(){throw Dt("Cannot apply the global snapshot directly. Call Snapshot.advanceGlobalSnapshot")},Kh.prototype.yq=function(){Sh(),this.i4c()},Kh.$metadata$=It("GlobalSnapshot",void 0,void 0,void 0,void 0,Vh.prototype),Xh.prototype.i45=function(t){this.f45_1=t},Xh.prototype.j45=function(t){this.g45_1=t},Xh.$metadata$=It("StateRecord"),ip.prototype.tp=function(){return this.k4f_1},ip.prototype.yq=function(){this.k4c()||(Vh.prototype.yq.call(this),np(this))},ip.prototype.m40=function(){if(this.k4f_1.k40_1||this.k4f_1.k4c())return new Gh(this);var t=this.d4c(),e=this.e3f(),n=null!=t?ap(this.k4f_1,this,this.k4f_1.e4c()):null;if(Sh(),up(this),null==t||0===t.g())this.p4c();else{var i=this.f4d(this.k4f_1.e3f(),n,this.k4f_1.e4c());if(!Zt(i,Wh()))return i;var r,o=this.k4f_1.d4c();if(null==o){var s=ve();this.k4f_1.a4d(s),r=s}else r=o;r.k(t)}return this.k4f_1.e3f()<e&&this.k4f_1.i4d(),this.k4f_1.f4c(this.k4f_1.e4c().w4c(e).j4d(this.q4d())),this.k4f_1.d4d(e),this.k4f_1.n4d(this.y4c()),this.k4f_1.p4d(this.q4d()),this.k4f_1.o4d(this.r4d()),this.s4d(!0),np(this),Wh()},ip.$metadata$=It("NestedMutableSnapshot",void 0,void 0,void 0,void 0,Vh.prototype),xp.prototype.n4f=function(t){return this.q4e_1>0?this.r4e_1[0]:t},xp.prototype.v4e=function(t){!function(t,e){var n=t.r4e_1.length;if(e<=n)return St();var i=At(n,2),r=new Int32Array(i),o=new Int32Array(i),s=t.r4e_1,a=s.length;Xe(s,r,0,0,a);var u=t.s4e_1,l=u.length;Xe(u,o,0,0,l),t.r4e_1=r,t.s4e_1=o}(this,this.q4e_1+1|0);var e=this.q4e_1;this.q4e_1=e+1|0;var n=e,i=function(t){var e=t.t4e_1.length;if(t.u4e_1>=e){for(var n=0,i=At(e,2),r=new Int32Array(i);n<i;){var o;o=n+1|0,r[n]=o,n=n+1|0}var s=r,a=t.t4e_1,u=a.length;Xe(a,s,0,0,u),t.t4e_1=s}var l=t.u4e_1;return t.u4e_1=t.t4e_1[t.u4e_1],l}(this);return this.r4e_1[n]=t,this.s4e_1[n]=i,this.t4e_1[i]=n,wp(this,n),i},xp.prototype.w4e=function(t){var e=this.t4e_1[t];bp(this,e,this.q4e_1-1|0);var n=this.q4e_1;this.q4e_1=n-1|0,wp(this,e),function(t,e){for(var n=t.r4e_1,i=t.q4e_1>>1,r=e;r<i;){var o=(r+1|0)<<1,s=o-1|0;if(o<t.q4e_1&&n[o]<n[s]){if(!(n[o]<n[r]))return St();bp(t,o,r),r=o}else{if(!(n[s]<n[r]))return St();bp(t,s,r),r=s}}}(this,e),function(t,e){t.t4e_1[e]=t.u4e_1,t.u4e_1=e}(this,t)},xp.$metadata$=It("SnapshotDoubleIndexHeap"),$p.$metadata$=ue("Companion"),Ep.prototype.f4g=function(t,e){var n=this.g4g(t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},Ep.prototype.si=function(t,e){return this.f4g(t instanceof Zn?t:zt(),e)},Ep.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=15,this.y4f_1=this.w4f_1.v4c_1,null!=this.y4f_1){this.z4f_1=Kn(this.y4f_1),this.hi_1=1;continue t}this.hi_1=4;continue t;case 1:if(!this.z4f_1.e()){this.hi_1=3;continue t}if(this.a4g_1=this.z4f_1.f(),this.hi_1=2,(t=this.x4f_1.a4(this.a4g_1,this))===De())return t;continue t;case 2:this.hi_1=1;continue t;case 3:this.hi_1=4;continue t;case 4:if(this.w4f_1.t4c_1.equals(new Ge(0,0))){this.hi_1=9;continue t}Xn(),this.b4g_1=Pn(0,64).d(),this.hi_1=5;continue t;case 5:if(!this.b4g_1.e()){this.hi_1=8;continue t}if(this.c4g_1=this.b4g_1.f(),this.w4f_1.t4c_1.v7(new Ge(1,0).n6(this.c4g_1)).equals(new Ge(0,0))){this.hi_1=7;continue t}if(this.hi_1=6,(t=this.x4f_1.a4(this.c4g_1+this.w4f_1.u4c_1|0,this))===De())return t;continue t;case 6:this.hi_1=7;continue t;case 7:this.hi_1=5;continue t;case 8:this.hi_1=9;continue t;case 9:if(this.w4f_1.s4c_1.equals(new Ge(0,0))){this.hi_1=14;continue t}Xn(),this.d4g_1=Pn(0,64).d(),this.hi_1=10;continue t;case 10:if(!this.d4g_1.e()){this.hi_1=13;continue t}if(this.e4g_1=this.d4g_1.f(),this.w4f_1.s4c_1.v7(new Ge(1,0).n6(this.e4g_1)).equals(new Ge(0,0))){this.hi_1=12;continue t}if(this.hi_1=11,Xn(),(t=this.x4f_1.a4((this.e4g_1+64|0)+this.w4f_1.u4c_1|0,this))===De())return t;continue t;case 11:this.hi_1=12;continue t;case 12:this.hi_1=10;continue t;case 13:this.hi_1=14;continue t;case 14:return St();case 15:throw this.ki_1}}catch(t){if(15===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ep.prototype.g4g=function(t,e){var n=new Ep(this.w4f_1,e);return n.x4f_1=t,n},Ep.$metadata$=It("SnapshotIdSet$iterator$slambda",void 0,void 0,void 0,[1],Me.prototype),Ap.prototype.l=function(t){var e,n,i=t-this.u4c_1|0;if(i>=0?(Xn(),e=i<64):e=!1,e)return!new Ge(1,0).n6(i).v7(this.t4c_1).equals(new Ge(0,0));if(Xn(),i>=64?(Xn(),n=i<At(64,2)):n=!1,n){var r=new Ge(1,0);return Xn(),!r.n6(i-64|0).v7(this.s4c_1).equals(new Ge(0,0))}if(i>0)return!1;var o,s=this.v4c_1;return null!=(o=null==s?null:kp(s,t)>=0)&&o},Ap.prototype.e4d=function(t){var e,n=t-this.u4c_1|0;if(n>=0?(Xn(),e=n<64):e=!1,e){var i=new Ge(1,0).n6(n);if(this.t4c_1.v7(i).equals(new Ge(0,0)))return new Ap(this.s4c_1,this.t4c_1.xh(i),this.u4c_1,this.v4c_1)}else{var r;if(Xn(),n>=64?(Xn(),r=n<At(64,2)):r=!1,r){var o=new Ge(1,0);Xn();var s=o.n6(n-64|0);if(this.s4c_1.v7(s).equals(new Ge(0,0)))return new Ap(this.s4c_1.xh(s),this.t4c_1,this.u4c_1,this.v4c_1)}else if(Xn(),n>=At(64,2)){if(!this.l(t)){var a=this.s4c_1,u=this.t4c_1,l=this.u4c_1,c=null,h=t+1|0;Xn();var p=h/64|0;Xn();var _=At(p,64);t:for(;l<_;){if(!u.equals(new Ge(0,0))){if(null==c){var f=Ot(),d=this.v4c_1;if(null==d);else{for(var m=d,y=0,v=m.length;y<v;){var g=m[y];y=y+1|0,f.b(g)}St()}c=f}Xn();var w=0;if(w<64)do{var b=w;w=w+1|0,u.v7(new Ge(1,0).n6(b)).equals(new Ge(0,0))||c.b(b+l|0)}while(w<64)}if(a.equals(new Ge(0,0))){l=_,u=new Ge(0,0);break t}u=a,a=new Ge(0,0);var x=l;Xn(),l=x+64|0}var $=a,C=u,E=l,A=null==c?null:Jn(c);return new Ap($,C,E,null==A?this.v4c_1:A).e4d(t)}}else{var k,S=this.v4c_1;if(null==S)return k=new Int32Array([t]),new Ap(this.s4c_1,this.t4c_1,this.u4c_1,k);var T=S,I=kp(T,t);if(I<0){var O=0|-(I+1|0),z=T.length+1|0,M=new Int32Array(z);return Xe(T,M,0,0,O),Xe(T,M,O+1|0,O,z-1|0),M[O]=t,new Ap(this.s4c_1,this.t4c_1,this.u4c_1,M)}}}return this},Ap.prototype.w4c=function(t){var e,n=t-this.u4c_1|0;if(n>=0?(Xn(),e=n<64):e=!1,e){var i=new Ge(1,0).n6(n);if(!this.t4c_1.v7(i).equals(new Ge(0,0)))return new Ap(this.s4c_1,this.t4c_1.v7(i.wh()),this.u4c_1,this.v4c_1)}else{var r;if(Xn(),n>=64?(Xn(),r=n<At(64,2)):r=!1,r){var o=new Ge(1,0);Xn();var s=o.n6(n-64|0);if(!this.s4c_1.v7(s).equals(new Ge(0,0)))return new Ap(this.s4c_1.v7(s.wh()),this.t4c_1,this.u4c_1,this.v4c_1)}else if(n<0){var a=this.v4c_1;if(null!=a){var u=kp(a,t);if(u>=0){var l=a.length-1|0;if(0===l)return new Ap(this.s4c_1,this.t4c_1,this.u4c_1,null);var c=new Int32Array(l);return u>0&&Xe(a,c,0,0,u),u<l&&Xe(a,c,u,u+1|0,l+1|0),new Ap(this.s4c_1,this.t4c_1,this.u4c_1,c)}}}}return this},Ap.prototype.j4d=function(t){if(t===Cp().b4d_1)return this;if(this===Cp().b4d_1)return Cp().b4d_1;var e;if(t.u4c_1===this.u4c_1&&t.v4c_1===this.v4c_1)e=new Ap(this.s4c_1.v7(t.s4c_1.wh()),this.t4c_1.v7(t.t4c_1.wh()),this.u4c_1,this.v4c_1);else{for(var n=this,i=t.d();i.e();){var r,o=i.f();r=n.w4c(o),n=r}e=n}return e},Ap.prototype.l4d=function(t){if(t===Cp().b4d_1)return this;if(this===Cp().b4d_1)return t;var e;if(t.u4c_1===this.u4c_1&&t.v4c_1===this.v4c_1)e=new Ap(this.s4c_1.xh(t.s4c_1),this.t4c_1.xh(t.t4c_1),this.u4c_1,this.v4c_1);else{var n;if(null==this.v4c_1){for(var i=t,r=this.d();r.e();){var o,s=r.f();o=i.e4d(s),i=o}n=i}else{for(var a=this,u=t.d();u.e();){var l,c=u.f();l=a.e4d(c),a=l}n=a}e=n}return e},Ap.prototype.d=function(){return Qn((t=this,e=null,n=new Ep(t,e),i=function(t,e){return n.f4g(t,e)},i.$arity=1,i)).d();var t,e,n,i},Ap.prototype.p4e=function(t){var e=this.v4c_1;return null!=e?e[0]:this.t4c_1.equals(new Ge(0,0))?this.s4c_1.equals(new Ge(0,0))?t:(Xn(),(this.u4c_1+64|0)+Sp(this.s4c_1)|0):this.u4c_1+Sp(this.t4c_1)|0},Ap.prototype.toString=function(){for(var t=ti(this),e=oe(ei(this,10)),n=this.d();n.e();){var i;i=n.f().toString(),e.b(i)}return t+" ["+(r=null,o=null,s=null,a=0,u=null,l=null,0!=(1&(c=63))&&(r=", "),0!=(2&c)&&(o=""),0!=(4&c)&&(s=""),0!=(8&c)&&(a=-1),0!=(16&c)&&(u="..."),0!=(32&c)&&(l=null),Ch(e,r,o,s,a,u,l)+"]");var r,o,s,a,u,l,c},Ap.$metadata$=It("SnapshotIdSet",[nn]),Tp.$metadata$=kt("SnapshotMutableState",[wu]),Ip.prototype.m4g=function(t){this.k4g_1=t},Ip.prototype.cv=function(){return this.k4g_1},Ip.prototype.n4g=function(t){this.l4g_1=t},Ip.prototype.o4g=function(){return this.l4g_1},Ip.prototype.d45=function(t){Rp(),this.k4g_1=(t instanceof Ip?t:zt()).k4g_1,this.l4g_1=t.l4g_1,St()},Ip.prototype.e45=function(){return new Ip(this.k4g_1)},Ip.$metadata$=It("StateListStateRecord",void 0,void 0,void 0,void 0,Xh.prototype),Op.prototype.n45=function(){return this.p4g_1},Op.prototype.o45=function(t){t.g45_1=this.p4g_1,this.p4g_1=t instanceof Ip?t:zt()},Op.prototype.o4g=function(){var t=this.p4g_1;return dp(t instanceof Ip?t:zt(),Fh().s3f()).l4g_1},Op.prototype.m2k=function(){var t=this.p4g_1;return fp(t instanceof Ip?t:zt(),this)},Op.prototype.g=function(){return this.m2k().k4g_1.g()},Op.prototype.o1=function(t){return this.m2k().k4g_1.n(t)},Op.prototype.n=function(t){return!(null!=t&&!Mt(t))&&this.o1(null==t||Mt(t)?t:zt())},Op.prototype.h3=function(t){return this.m2k().k4g_1.t1(t)},Op.prototype.t1=function(t){return this.h3(t)},Op.prototype.l=function(t){return this.m2k().k4g_1.l(t)},Op.prototype.q4g=function(t){return this.m2k().k4g_1.p(t)},Op.prototype.p=function(t){return null==t||Mt(t)?this.q4g(null==t||Mt(t)?t:zt()):-1},Op.prototype.m=function(){return this.m2k().k4g_1.m()},Op.prototype.d=function(){return this.m46()},Op.prototype.r4g=function(t){return this.m2k().k4g_1.h2(t)},Op.prototype.h2=function(t){return null==t||Mt(t)?this.r4g(null==t||Mt(t)?t:zt()):-1},Op.prototype.m46=function(){return new Mp(this,0)},Op.prototype.q=function(t){return new Mp(this,t)},Op.prototype.y3t=function(t){var e;t:for(;;){var n,i,r=(Rp(),this.p4g_1),o=dp(r instanceof Ip?r:zt(),Fh().s3f());i=o.l4g_1,n=o.k4g_1,St();var s=ye(n).b(t);if(Zt(s,n)){e=!1;break t}Rp();var a,u=this.p4g_1,l=u instanceof Ip?u:zt(),c=jh(),h=(Sh(),vp(l,this,c=Fh().s3f()));if(h.l4g_1===i){h.k4g_1=s;var p=h,_=p.l4g_1;p.l4g_1=_+1|0,a=!0}else a=!1;var f=a;if(mp(c,this),f){e=!0;break t}}return e},Op.prototype.b=function(t){return this.y3t(null==t||Mt(t)?t:zt())},Op.prototype.s4g=function(t,e){t:for(;;){var n,i,r=(Rp(),this.p4g_1),o=dp(r instanceof Ip?r:zt(),Fh().s3f());i=o.l4g_1,n=o.k4g_1,St();var s=ye(n).d46(t,e);if(Zt(s,n))break t;Rp();var a,u=this.p4g_1,l=u instanceof Ip?u:zt(),c=jh(),h=(Sh(),vp(l,this,c=Fh().s3f()));if(h.l4g_1===i){h.k4g_1=s;var p=h,_=p.l4g_1;p.l4g_1=_+1|0,a=!0}else a=!1;var f=a;if(mp(c,this),f)break t}return St()},Op.prototype.jb=function(t,e){return this.s4g(t,null==e||Mt(e)?e:zt())},Op.prototype.t4g=function(t){var e;t:for(;;){var n,i,r=(Rp(),this.p4g_1),o=dp(r instanceof Ip?r:zt(),Fh().s3f());i=o.l4g_1,n=o.k4g_1,St();var s=ye(n).k(t);if(Zt(s,n)){e=!1;break t}Rp();var a,u=this.p4g_1,l=u instanceof Ip?u:zt(),c=jh(),h=(Sh(),vp(l,this,c=Fh().s3f()));if(h.l4g_1===i){h.k4g_1=s;var p=h,_=p.l4g_1;p.l4g_1=_+1|0,a=!0}else a=!1;var f=a;if(mp(c,this),f){e=!0;break t}}return e},Op.prototype.k=function(t){return this.t4g(t)},Op.prototype.va=function(){Rp();var t=this.p4g_1,e=t instanceof Ip?t:zt(),n=jh(),i=(Sh(),vp(e,this,n=Fh().s3f()));i.k4g_1=rl();var r=i,o=r.l4g_1;r.l4g_1=o+1|0,mp(n,this)},Op.prototype.y45=function(t){var e;t:for(;;){var n,i,r=(Rp(),this.p4g_1),o=dp(r instanceof Ip?r:zt(),Fh().s3f());i=o.l4g_1,n=o.k4g_1,St();var s=ye(n).sa(t);if(Zt(s,n)){e=!1;break t}Rp();var a,u=this.p4g_1,l=u instanceof Ip?u:zt(),c=jh(),h=(Sh(),vp(l,this,c=Fh().s3f()));if(h.l4g_1===i){h.k4g_1=s;var p=h,_=p.l4g_1;p.l4g_1=_+1|0,a=!0}else a=!1;var f=a;if(mp(c,this),f){e=!0;break t}}return e},Op.prototype.sa=function(t){return!(null!=t&&!Mt(t))&&this.y45(null==t||Mt(t)?t:zt())},Op.prototype.y3=function(t){var e=this.l(t);t:for(;;){var n,i,r=(Rp(),this.p4g_1),o=dp(r instanceof Ip?r:zt(),Fh().s3f());i=o.l4g_1,n=o.k4g_1,St();var s=ye(n).y3(t);if(Zt(s,n))break t;Rp();var a,u=this.p4g_1,l=u instanceof Ip?u:zt(),c=jh(),h=(Sh(),vp(l,this,c=Fh().s3f()));if(h.l4g_1===i){h.k4g_1=s;var p=h,_=p.l4g_1;p.l4g_1=_+1|0,a=!0}else a=!1;var f=a;if(mp(c,this),f)break t}return e},Op.prototype.u4g=function(t,e){var n=this.l(t);t:for(;;){var i,r,o=(Rp(),this.p4g_1),s=dp(o instanceof Ip?o:zt(),Fh().s3f());r=s.l4g_1,i=s.k4g_1,St();var a=ye(i).ra(t,e);if(Zt(a,i))break t;Rp();var u,l=this.p4g_1,c=l instanceof Ip?l:zt(),h=jh(),p=(Sh(),vp(c,this,h=Fh().s3f()));if(p.l4g_1===r){p.k4g_1=a;var _=p,f=_.l4g_1;_.l4g_1=f+1|0,u=!0}else u=!1;var d=u;if(mp(h,this),d)break t}return n},Op.prototype.ra=function(t,e){return this.u4g(t,null==e||Mt(e)?e:zt())},Op.$metadata$=It("SnapshotStateList",[hn,Nh]),Mp.prototype.r=function(){return this.w4g_1>=0},Mp.prototype.s=function(){return this.w4g_1+1|0},Mp.prototype.t=function(){zp(this),Dp(this.w4g_1,this.v4g_1.g());var t=this.v4g_1.l(this.w4g_1),e=this.w4g_1;return this.w4g_1=e-1|0,t},Mp.prototype.e=function(){return this.w4g_1<(this.v4g_1.g()-1|0)},Mp.prototype.f=function(){zp(this);var t=this.w4g_1+1|0;Dp(t,this.v4g_1.g());var e=this.v4g_1.l(t);return this.w4g_1=t,e},Mp.prototype.z3=function(){zp(this),this.v4g_1.y3(this.w4g_1);var t=this.w4g_1;this.w4g_1=t-1|0,this.x4g_1=this.v4g_1.o4g()},Mp.$metadata$=It("StateListIterator",[xn]),Np.$metadata$=kt("CompositionData"),Lp.$metadata$=kt("CompositionGroup",[Np]),qp.prototype.zu=function(){return this.i3u_1},qp.prototype.m4f=function(t){this.i3u_1=t},qp.prototype.k3u=function(t){var e=this.i3u_1;return this.i3u_1=t,e},qp.prototype.o3v=function(t,e){var n;return Zt(t,this.i3u_1)?(this.i3u_1=e,n=!0):n=!1,n},qp.$metadata$=It("AtomicReference"),Bp.prototype.zu=function(){return this.u3w_1},Bp.prototype.v3w=function(t){this.u3w_1=t},Bp.$metadata$=It("SnapshotThreadLocal"),Hp.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,this.i4h_1=this,this.j4h_1=oi(Bt(this.i4h_1)),window.requestAnimationFrame(Up(this.h4h_1,this.j4h_1)),(t=We(this.j4h_1.ce(),this))===De())return t;continue t;case 1:return t;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Hp.$metadata$=It("$withFrameNanosCOROUTINE$5",void 0,void 0,void 0,void 0,Me.prototype),Vp.prototype.w3g=function(t,e){var n=new Hp(this,t,e);return n.ji_1=St(),n.ki_1=null,n.ri()},Vp.$metadata$=It("MonotonicClockImpl",[ts]),Wp.prototype.m3p=function(t){return null},Wp.prototype.s3p=function(t){},Wp.$metadata$=ue("Trace"),Kp.$metadata$=kt("ComposableLambda"),Jp.prototype.y4b=function(t){if(!Zt(this.l3q_1,t)){var e=null==this.l3q_1;this.l3q_1=t,e||function(t){if(t.k3q_1){var e=t.m3q_1;null!=e&&(e.a3w(),t.m3q_1=null);var n=t.n3q_1;if(null!=n){var i=0,r=n.g();if(i<r)do{var o=i;i=i+1|0,n.l(o).a3w()}while(i<r);n.va()}}}(this)}},Jp.prototype.s3w=function(t,e){var n=t.k3s(this.j3q_1);Xp(this,n);var i,r=e|(n.c3h(this)?bh(0):xh(0)),o=this.l3q_1,s=(null!=o&&"function"==typeof o?o:zt())(n,r),a=n.l3s();return null==a||a.k3t((i=this,function(t,e){return function(t,e,n){t.s3w(e,n)}(i,t,e),St()})),s},Jp.prototype.o3q=function(t,e,n){var i=e.k3s(this.j3q_1);Xp(this,i);var r,o,s,a=n|(i.c3h(this)?bh(1):xh(1)),u=this.l3q_1,l=(null!=u&&"function"==typeof u?u:zt())(t,i,a),c=i.l3s();return null==c||c.k3t((r=this,o=t,s=n,function(t,e){return r.o3q(o,t,1|s),St()})),l},Jp.prototype.k4h=function(t,e,n,i){var r=n.k3s(this.j3q_1);Xp(this,r);var o,s,a,u,l=i|(r.c3h(this)?bh(2):xh(2)),c=this.l3q_1,h=(null!=c&&"function"==typeof c?c:zt())(t,e,r,l),p=r.l3s();return null==p||p.k3t((o=this,s=t,a=e,u=i,function(t,e){return o.k4h(s,a,t,1|u),St()})),h},Jp.$metadata$=It("ComposableLambdaImpl",[Kp]),ci.prototype.t3f=si,ci.prototype.u3f=ai,hi.prototype.t3f=si,hi.prototype.u3f=ai,_i.prototype.a1=ui,_i.prototype.u4=Ht,_i.prototype.a5=Vt,_i.prototype.z4=Yt,_i.prototype.b5=Wt,vu.prototype.x44=function(t,e,n){return null},Op.prototype.p45=function(t,e,n){return null},Vp.prototype.a1=ui,Vp.prototype.u4=Ht,Vp.prototype.a5=Vt,Vp.prototype.z4=Yt,Vp.prototype.b5=Wt,O=126665345,H=32,V=31,Y=5,W=33,Z=7,X=2,J=5,Q=30,t.$_$=t.$_$||{},t.$_$.a=Jp,t.$_$.b=gh,t.$_$.c=function(t,e,n,i){t.x3g(e);var r,o=t.y3g();if(o===Dr().a3h_1){var s=new Jp(e,n);t.z3g(s),r=s}else r=o instanceof Jp?o:zt();var a=r;return a.y4b(i),t.b3h(),a},t.$_$.d=hi,t.$_$.e=si,t.$_$.f=ai,t.$_$.g=Lo,t.$_$.h=Wo,t.$_$.i=function(t,e){return zo(),vo(e,t,null,4)},t.$_$.j=function(t,e){return zo(),vo(e,t,null,4)},t.$_$.k=function(){return Yp(),$t},t.$_$.l=function(t,e,n,i,r){Zo();var o=i;o.x3g(235732070),so(o,"C(DisposableEffect$composable)P(1,2)");var s=o;s.x3g(-1124426577),so(s,"C(remember$composable)P(1,2)");var a,u=s,l=!!(s.c3h(t)|s.c3h(e)),c=u.y3g();if(l||c===Dr().a3h_1){var h=new Go(n);u.z3g(h),a=h}else a=c;null==a||Mt(a)||zt(),s.b3h(),o.b3h()},t.$_$.m=function(t,e,n,i){Zo();var r=n;r.x3g(927399050),so(r,"C(DisposableEffect$composable)P(1)");var o=r;o.x3g(-838505973),so(o,"C(remember$composable)P(1)");var s,a=o,u=o.c3h(t),l=a.y3g();if(u||l===Dr().a3h_1){var c=new Go(e);a.z3g(c),s=c}else s=l;null==s||Mt(s)||zt(),o.b3h(),r.b3h()},t.$_$.n=Vo,t.$_$.o=function(t,e,n,i){Zo();var r=n;r.x3g(1556009691),so(r,"C(LaunchedEffect$composable)P(1)");var o=r.n3r(),s=r;s.x3g(-838505973),so(s,"C(remember$composable)P(1)");var a,u=s,l=s.c3h(t),c=u.y3g();if(l||c===Dr().a3h_1){var h=new Yo(o,e);u.z3g(h),a=h}else a=c;null==a||Mt(a)||zt(),s.b3h(),r.b3h()},t.$_$.p=Ys,t.$_$.q=ho,t.$_$.r=au,t.$_$.s=function(t,e,n,i,r){var o=e,s=n;s.x3g(1233808880),so(s,"C(collectAsState$composable)"),0!=(1&r)&&(o=ke());var a=au(t,t.b1(),o,s,0,0);return s.b3h(),a},t.$_$.t=function(t,e){var n;if(Zo(),null!=t.u4(Ce())){var i=Ae(null,1,null);i.dt(le("CoroutineContext supplied to rememberCoroutineScope may not include a parent job")),n=we(i)}else{var r=e.n3r();n=we(r.b5(Ee(r.u4(Ce()))).b5(t))}return n},t.$_$.u=function(){throw Dt("Invalid applier")},t.$_$.v=ao,t.$_$.w=function(){return new Op},t.$_$.x=so,t.$_$.y=lo,t.$_$.z=uo,t.$_$.a1=function(t,e,n,i){return 0!=(1&n)&&(t=yu()),function(t,e){return new No(t,e)}(t,e)},t.$_$.b1=xu,t.$_$.c1=function(t){return t},t.$_$.d1=function(t){return t},t.$_$.e1=function(t){return t},t.$_$.f1=function(t,e,n){var i,r=t;return!r.v3r()&&Zt(r.y3g(),e)||(r.z3g(e),i=t.b3s(e,n)),i},t.$_$.g1=Fh,t.$_$.h1=Dr,t}.apply(e,i))||(t.exports=r)},729:function(t,e,n){var i,r,o;r=[e,n(8744)],void 0===(o="function"==typeof(i=function(t,e){"use strict";var n,i,r=e.$_$.ca,o=e.$_$.qd,s=e.$_$.na,a=e.$_$.m1,u=(e.$_$.p4,e.$_$.r9);function l(){}function c(){return i||(i=!0,n=new Object),n}function h(t,e){var n=e===c()?null:e;return null==n||s(n)?n:o()}function p(){var t;t=a(),this.c2d_1=t}return l.$metadata$=r("ScopedComponent"),p.prototype.d2d=function(t,e){var n,i=this.c2d_1.o(t);if(null==i){var r=e(),o=null==r?c():r;this.c2d_1.a(t,o),n=h(0,o)}else n=h(0,i);return n},p.$metadata$=u("LazyMap"),t.$_$=t.$_$||{},t.$_$.a=p,t.$_$.b=l,t})?i.apply(e,r):i)||(t.exports=o)},8744:function(t,e){var n,i,r,o;void 0===ArrayBuffer.isView&&(ArrayBuffer.isView=function(t){return null!=t&&null!=t.__proto__&&t.__proto__.__proto__===Int8Array.prototype.__proto__}),void 0===Array.prototype.fill&&Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,i=arguments[1],r=i>>0,o=r<0?Math.max(n+r,0):Math.min(r,n),s=arguments[2],a=void 0===s?n:s>>0,u=a<0?Math.max(n+a,0):Math.min(a,n);o<u;)e[o]=t,o++;return e}}),[Int8Array,Int16Array,Uint16Array,Int32Array,Float32Array,Float64Array].forEach((function(t){void 0===t.prototype.fill&&Object.defineProperty(t.prototype,"fill",{value:Array.prototype.fill})})),void 0===Math.clz32&&(Math.clz32=(r=Math.log,o=Math.LN2,function(t){var e=t>>>0;return 0===e?32:31-(r(e)/o|0)|0})),void 0===String.prototype.startsWith&&Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}}),void 0===String.prototype.endsWith&&Object.defineProperty(String.prototype,"endsWith",{value:function(t,e){var n=this.toString();(void 0===e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}}),void 0===Math.imul&&(Math.imul=function(t,e){return(4294901760&t)*(65535&e)+(65535&t)*(0|e)|0}),void 0===(i="function"==typeof(n=function(t){"use strict";var e,n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N,L,q,B,F,U,H,V,Y,W,G,Z,K,X,J,Q,tt,et,nt,it,rt,ot,st,at,ut,lt,ct,ht,pt,_t,ft,dt,mt,yt,vt,gt=Math.imul,wt=ArrayBuffer.isView,bt=Math.clz32;function xt(t){return t===_n()?this:t.a5(this,(function(t,e){var n,i=t.z4(e.a1());if(i===_n())n=e;else{var r,o=i.u4(an());if(null==o)r=new mn(i,e);else{var s=i.z4(an());r=s===_n()?new mn(e,o):new mn(new mn(s,e),o)}n=r}return n}))}function $t(t){return su(this.a1(),t)?rl(this,cn)?this:fu():null}function Ct(t,e){return e(t,this)}function Et(t){return su(this.a1(),t)?_n():this}function At(t,e){if(null==e){var n=0,i=t.length-1|0;if(n<=i)do{var r=n;if(n=n+1|0,null==t[r])return r}while(n<=i)}else{var o=0,s=t.length-1|0;if(o<=s)do{var a=o;if(o=o+1|0,su(e,t[a]))return a}while(o<=s)}return-1}function kt(t,e){if(null==e){var n=t.length-1|0;if(0<=n)do{var i=n;if(n=n+-1|0,null==t[i])return i}while(0<=n)}else{var r=t.length-1|0;if(0<=r)do{var o=r;if(r=r+-1|0,su(e,t[o]))return o}while(0<=r)}return-1}function St(t){return bo(function(t){return new ze(t,!1)}(t))}function Tt(t){return t.length-1|0}function It(t,e){for(var n=t,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0,e.b(o)}return e}function Ot(t,e,n,i,r,o,s){return function(t,e,n,i,r,o,s,a){e.c(i);var u=0,l=t,c=0,h=l.length;t:for(;c<h;){var p=l[c];if(c=c+1|0,(u=u+1|0)>1&&e.c(n),!(o<0||u<=o))break t;Tn(e,p,a)}return o>=0&&u>o&&e.c(s),e.c(r),e}(t,Ls(),e,n,i,r,o,s).toString()}function zt(t,e,n,i,r,o,s,a,u){return 0!=(1&a)&&(e=", "),0!=(2&a)&&(n=""),0!=(4&a)&&(i=""),0!=(8&a)&&(r=-1),0!=(16&a)&&(o="..."),0!=(32&a)&&(s=null),Ot(t,e,n,i,r,o,s)}function Mt(t,e,n,i,r,o,s,a,u){return 0!=(1&a)&&(e=", "),0!=(2&a)&&(n=""),0!=(4&a)&&(i=""),0!=(8&a)&&(r=-1),0!=(16&a)&&(o="..."),0!=(32&a)&&(s=null),function(t,e,n,i,r,o,s){return Bt(t,Ls(),e,n,i,r,o,s).toString()}(t,e,n,i,r,o,s)}function Dt(t,e){if(rl(e,Aa)){var n=wo(t.g()+e.g()|0);return n.k(t),n.k(e),n}var i=bo(t);return He(i,e),i}function Rt(t){return bo(t)}function Pt(t){if(rl(t,Aa)){var e;switch(t.g()){case 0:e=Ce();break;case 1:e=Jr(rl(t,xa)?t.l(0):t.d().f());break;default:e=Rt(t)}return e}return Ae(Ut(t))}function jt(t){if(t.m())throw rc("List is empty.");return t.l(0)}function Nt(t,e){return rl(t,Aa)?t.n(e):function(t,e){if(rl(t,xa))return t.p(e);for(var n=0,i=t.d();i.e();){var r=i.f();if(eo(n),su(e,r))return n;n=n+1|0}return-1}(t,e)>=0}function Lt(t,e){if(!(e>=0))throw tc(ou("Requested element count "+e+" is less than zero."));if(0===e)return Ce();if(rl(t,Aa)){if(e>=t.g())return Pt(t);if(1===e)return Jr(function(t){if(rl(t,xa))return jt(t);var e=t.d();if(!e.e())throw rc("Collection is empty.");return e.f()}(t))}var n=0,i=wo(e),r=t.d();t:for(;r.e();){var o=r.f();if(i.b(o),(n=n+1|0)===e)break t}return Ae(i)}function qt(t,e){for(var n=t.d();n.e();){var i=n.f();e.b(i)}return e}function Bt(t,e,n,i,r,o,s,a){e.c(i);var u=0,l=t.d();t:for(;l.e();){var c=l.f();if((u=u+1|0)>1&&e.c(n),!(o<0||u<=o))break t;Tn(e,c,a)}return o>=0&&u>o&&e.c(s),e.c(r),e}function Ft(t,e,n,i,r,o,s,a,u,l){return 0!=(2&u)&&(n=", "),0!=(4&u)&&(i=""),0!=(8&u)&&(r=""),0!=(16&u)&&(o=-1),0!=(32&u)&&(s="..."),0!=(64&u)&&(a=null),Bt(t,e,n,i,r,o,s,a)}function Ut(t){return rl(t,Aa)?Rt(t):qt(t,go())}function Ht(t){if(rl(t,xa))return function(t){var e;switch(t.g()){case 0:throw rc("List is empty.");case 1:e=t.l(0);break;default:throw tc("List has more than one element.")}return e}(t);var e=t.d();if(!e.e())throw rc("Collection is empty.");var n=e.f();if(e.e())throw tc("Collection has more than one element.");return n}function Vt(t){this.v_1=t}function Yt(t){this.x_1=t}function Wt(t){this.y_1=t}function Gt(t){var e=ya(t).toUpperCase();if(e.length>1){var n;if(su(new wa(t),new wa(329)))n=e;else{var i=Ka(e,0),r=e.substring(1).toLowerCase();n=ya(i)+r}return n}return ya(function(t){return function(t){var e=ma(t);return 452<=e&&e<=460||497<=e&&e<=499?Gu(gt(3,(e+1|0)/3|0)):4304<=e&&e<=4346||4349<=e&&e<=4351?t:Bs(t)}(t)}(t))}function Zt(t,e){return e<=Hr().d1_1?zr().c1_1:Ku(t,e-1|0)}function Kt(t,e,n){if(e.j1(n)>0)throw tc("Cannot coerce value to an empty range: maximum "+ou(n)+" is less than minimum "+ou(e)+".");return t.j1(e)<0?e:t.j1(n)>0?n:t}function Xt(t,e){return t<e?e:t}function Jt(t,e){return Ar().n1(t,e,-1)}function Qt(t,e){return t>e?e:t}function te(t){return Ae(function(t){return function(t,e){for(var n=t.d();n.e();){var i=n.f();e.b(i)}return e}(t,go())}(t))}function ee(t){return new ne(t)}function ne(t){this.p1_1=t}function ie(t,e){if(!(e>=0))throw tc(ou("Requested character count "+e+" is less than zero."));var n=Qt(e,t.length);return t.substring(n)}function re(){var t,e=(sc(t=Object.create(oe.prototype)),oe.call(t),t);return lu(e,re),e}function oe(){lu(this,oe)}function se(){}function ae(t){this.v1_1=t,this.u1_1=0}function ue(t,e){this.a2_1=t,ae.call(this,t),ce().b2(e,this.a2_1.g()),this.w1(e)}function le(){e=this}function ce(){return null==e&&new le,e}function he(){ce(),se.call(this)}function pe(t){this.i2_1=t}function _e(t){this.j2_1=t}function fe(t,e){return e===t?"(this Map)":Ra(e)}function de(t,e){var n;t:{for(var i=t.z().d();i.e();){var r=i.f();if(su(r.a1(),e)){n=r;break t}}n=null}return n}function me(){n=this}function ye(){return null==n&&new me,n}function ve(t){this.n2_1=t,$e.call(this)}function ge(t){this.t2_1=t,se.call(this)}function we(){ye(),this.p2_1=null,this.q2_1=null}function be(){i=this}function xe(){return null==i&&new be,i}function $e(){xe(),se.call(this)}function Ce(){return Se()}function Ee(t){return t.g()-1|0}function Ae(t){switch(t.g()){case 0:return Ce();case 1:return Jr(t.l(0));default:return t}}function ke(){r=this,this.b3_1=new gu(-1478467534,-1720727600)}function Se(){return null==r&&new ke,r}function Te(){o=this}function Ie(){return null==o&&new Te,o}function Oe(t){return 0===t.length?go():bo(new ze(t,!0))}function ze(t,e){this.f3_1=t,this.g3_1=e}function Me(t,e){this.i3_1=t,this.j3_1=e}function De(t,e){return rl(t,Aa)?t.g():e}function Re(t){this.k3_1=t}function Pe(t){this.l3_1=t}function je(t){this.m3_1=t,this.n3_1=0}function Ne(){}function Le(){var t=(null==s&&new qe,s);return rl(t,Ea)?t:fu()}function qe(){s=this,this.r3_1=new gu(-888910638,1920087921)}function Be(t,e){return function(t,e){for(var n=e.d();n.e();){var i=n.f(),r=i.w3(),o=i.x3();t.a(r,o)}}(e,t),e}function Fe(t,e){for(var n=e,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0;var s=o.w3(),a=o.x3();t.a(s,a)}}function Ue(t,e){return function(t,e,n){for(var i=!1,r=t.d();r.e();)e(r.f())===n&&(r.z3(),i=!0);return jr(),i}(t,e,!0)}function He(t,e){if(rl(e,Aa))return t.k(e);for(var n=!1,i=e.d();i.e();){var r=i.f();t.b(r)&&(n=!0)}return n}function Ve(){}function Ye(){}function We(t){switch(t.b4_1){case 4:return nc();case 5:return fc("Iterator has failed.");default:return fc("Unexpected state of the iterator: "+t.b4_1)}}function Ge(){Ye.call(this),this.b4_1=0,this.c4_1=null,this.d4_1=null,this.e4_1=null}function Ze(t){this.j4_1=t}function Ke(t){this.l4_1=t,this.k4_1=t.m4_1.d()}function Xe(t,e){this.m4_1=t,this.n4_1=e}function Je(t){this.o4_1=t}function Qe(){return en()}function tn(){a=this,this.p4_1=new gu(1993859828,793161749)}function en(){return null==a&&new tn,a}function nn(t){this.q4_1=t}function rn(t){this.r4_1=t}function on(){}function sn(){u=this}function an(){return null==u&&new sn,u}function un(){}function ln(){}function cn(){}function hn(){}function pn(){l=this,this.c5_1=new gu(0,0)}function _n(){return null==l&&new pn,l}function fn(t){for(var e=t,n=2;;){var i=e.d5_1,r=i instanceof mn?i:null;if(null==r)return n;e=r,n=n+1|0}}function dn(t,e){return su(t.u4(e.a1()),e)}function mn(t,e){this.d5_1=t,this.e5_1=e}function yn(t,e){this.v4_1=e;var n;n=t instanceof yn?t.w4_1:t,this.w4_1=n}function vn(t){this.f5_1=t}function gn(){return wn(),c}function wn(){if(_)return jr();_=!0,c=new bn("COROUTINE_SUSPENDED",0),h=new bn("UNDECIDED",1),p=new bn("RESUMED",2)}function bn(t,e){Da.call(this,t,e)}function xn(){return wn(),h}function $n(){return wn(),p}function Cn(){}function En(){}function An(t,e){this.o5_1=t,this.p5_1=e}function kn(){}function Sn(){}function Tn(t,e,n){null!=n?t.c(n(e)):null==e||dl(e)?t.c(e):e instanceof wa?t.s5(e.q1_1):t.c(Ra(e))}function In(t,e,n){if(su(new wa(t),new wa(e)))return!0;if(!n)return!1;var i=Bs(t),r=Bs(e);return!!su(new wa(i),new wa(r))||su(new wa(Ka(ya(i).toLowerCase(),0)),new wa(Ka(ya(r).toLowerCase(),0)))}function On(t,e){return function(t,e,n){if(Xs(n))throw tc(ou("marginPrefix must be non-blank string."));for(var i=ni(t),r=t.length+gt(e.length,i.g())|0,o=zn(e),s=Ee(i),a=go(),u=0,l=i.d();l.e();){var c=l.f(),h=u;u=h+1|0;var p,_=eo(h);if(0!==_&&_!==s||!Xs(c)){var f,d;t:{var m=0,y=Ja(c)-1|0;if(m<=y)do{var v=m;if(m=m+1|0,!Fs(Ka(c,v))){d=v;break t}}while(m<=y);d=-1}var g,w,b=d;if(-1===b)g=null;else if(ta(c,n,b,!1,4)){var x=b+n.length|0;g=c.substring(x)}else g=null;p=null==(w=null==(f=g)?null:o(f))?c:w}else p=null;var $=p;null==$||(a.b($),jr())}return Ft(a,js(r),"\n",null,null,0,null,null,124).toString()}(t,"",e)}function zn(t){return 0===Ja(t)?function(t){return t}:(e=t,function(t){return e+t});var e}function Mn(t){var e;t:{var n=0,i=Ja(t)-1|0;if(n<=i)do{var r=n;if(n=n+1|0,!Fs(Ka(t,r))){e=r;break t}}while(n<=i);e=-1}var o=e;return-1===o?t.length:o}function Dn(t){return function(t,e){Us(e);var n,i,r,o=t.length;if(0===o)return null;var s=Ka(t,0);if(fa(s,48)<0){if(1===o)return null;if(n=1,su(new wa(s),new wa(45)))i=!0,vu(),r=new gu(0,-2147483648);else{if(!su(new wa(s),new wa(43)))return null;i=!1,vu(),r=new gu(-1,2147483647).t5()}}else n=0,i=!1,vu(),r=new gu(-1,2147483647).t5();vu();var a=new gu(-1,2147483647).t5().u5(new gu(36,0)),u=a,l=new gu(0,0),c=n;if(c<o)do{var h=c;c=c+1|0;var p,_=Hs(Ka(t,h),e);if(_<0)return null;if(l.j1(u)<0){if(!u.equals(a))return null;if(u=r.u5(Zu(e)),l.j1(u)<0)return null}p=l.v5(Zu(e));var f,d,m=l=p;if(f=r.w5(Zu(_)),m.j1(f)<0)return null;d=l.x5(Zu(_)),l=d}while(c<o);return i?l:l.t5()}(t,10)}function Rn(t){return function(t,e){Us(e);var n,i,r,o=t.length;if(0===o)return null;var s=Ka(t,0);if(fa(s,48)<0){if(1===o)return null;if(n=1,su(new wa(s),new wa(45)))i=!0,r=Hr().d1_1;else{if(!su(new wa(s),new wa(43)))return null;i=!1,r=0|-Hr().e1_1}}else n=0,i=!1,r=0|-Hr().e1_1;var a=(0|-Hr().e1_1)/36|0,u=a,l=0,c=n;if(c<o)do{var h=c;c=c+1|0;var p=Hs(Ka(t,h),e);if(p<0)return null;if(l<u){if(u!==a)return null;if(l<(u=r/e|0))return null}if((l=gt(l,e))<(r+p|0))return null;l=l-p|0}while(c<o);return i?l:0|-l}(t,10)}function Pn(t){throw Sc("Invalid number format: '"+t+"'")}function jn(t){return!Xs(t)}function Nn(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=!1),function(t,e,n,i){var r;if(i||"string"!=typeof t)r=Bn(t,Ba([e]),n,i);else{var o=t,s=ya(e);r=o.indexOf(s,n)}return r}(t,e,n,i)}function Ln(t){return function(t,e,n,i,r,o){return 0!=(2&r)&&(n=!1),0!=(4&r)&&(i=0),function(t,e,n,i){return function(t,e){return new Xe(t,e)}(Vn(t,e,0,n,i,2),(r=t,function(t){return Un(r,t)}));var r}(t,e,n,i)}(t,["\r\n","\n","\r"],!1,0,6)}function qn(t){return Ja(t)-1|0}function Bn(t,e,n,i){if(!i&&1===e.length&&"string"==typeof t){var r=t,o=ya(function(t){var e;switch(t.length){case 0:throw rc("Array is empty.");case 1:e=t[0];break;default:throw tc("Array has more than one element.")}return e}(e));return r.indexOf(o,n)}var s=Xt(n,0),a=qn(t);if(s<=a)do{var u=s;s=s+1|0;var l,c=Ka(t,u);t:{for(var h=e,p=0,_=h.length;p<_;){var f=h[p];if(p=p+1|0,In(f,c,i)){l=!0;break t}}l=!1}if(l)return u}while(u!==a);return-1}function Fn(t,e,n,i){Wn(i);var r=0,o=Gn(t,e,r,n);if(-1===o||1===i)return Jr(ou(t));var s,a=i>0,u=wo(a?Qt(i,10):10);t:do{var l;if(l=ou(Qa(t,r,o)),u.b(l),r=o+e.length|0,a&&u.g()===(i-1|0))break t;o=Gn(t,e,r,n)}while(-1!==o);return s=ou(Qa(t,r,Ja(t))),u.b(s),u}function Un(t,e){return ou(Qa(t,e.n5(),e.l5()+1|0))}function Hn(t,e,n,i,r){return Wn(r),new Jn(t,n,r,(o=Sl(e),s=i,function(t,e){var n=function(t,e,n,i,r){if(!i&&1===e.g()){var o,s=Ht(e);return(o=r?ei(t,s,n,!1,4):Zn(t,s,n,!1,4))<0?null:zi(o,s)}var a=r?Jt(Qt(n,qn(t)),0):Ku(Xt(n,0),Ja(t));if("string"==typeof t){var u=a.k1_1,l=a.l1_1,c=a.m1_1;if(c>0&&u<=l||c<0&&l<=u)do{var h,p=u;u=u+c|0;t:{for(var _=e.d();_.e();){var f=_.f();if(Qs(f,0,t,p,f.length,i)){h=f;break t}}h=null}if(null!=h)return zi(p,h)}while(p!==l)}else{var d=a.k1_1,m=a.l1_1,y=a.m1_1;if(y>0&&d<=m||y<0&&m<=d)do{var v,g=d;d=d+y|0;t:{for(var w=e.d();w.e();){var b=w.f();if(Yn(b,0,t,g,b.length,i)){v=b;break t}}v=null}if(null!=v)return zi(g,v)}while(g!==m)}return null}(t,o,e,s,!1);return null==n?null:zi(n.u3_1,n.v3_1.length)}));var o,s}function Vn(t,e,n,i,r,o,s){return 0!=(2&o)&&(n=0),0!=(4&o)&&(i=!1),0!=(8&o)&&(r=0),Hn(t,e,n,i,r)}function Yn(t,e,n,i,r,o){if(i<0||e<0||e>(Ja(t)-r|0)||i>(Ja(n)-r|0))return!1;var s=0;if(s<r)do{var a=s;if(s=s+1|0,!In(Ka(t,e+a|0),Ka(n,i+a|0),o))return!1}while(s<r);return!0}function Wn(t){if(!(t>=0))throw tc(ou("Limit must be non-negative, but was "+t))}function Gn(t,e,n,i){return i||"string"!=typeof t?ti(t,e,n,Ja(t),i,!1,16):t.indexOf(e,n)}function Zn(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=!1),Gn(t,e,n,i)}function Kn(t){if(t.d6_1<0)t.b6_1=0,t.e6_1=null;else{var e;if(t.g6_1.j6_1>0){var n=t;n.f6_1=n.f6_1+1|0,e=n.f6_1>=t.g6_1.j6_1}else e=!1;if(e||t.d6_1>Ja(t.g6_1.h6_1))t.e6_1=Ku(t.c6_1,qn(t.g6_1.h6_1)),t.d6_1=-1;else{var i=t.g6_1.k6_1(t.g6_1.h6_1,t.d6_1);if(null==i)t.e6_1=Ku(t.c6_1,qn(t.g6_1.h6_1)),t.d6_1=-1;else{var r=i,o=r.w3(),s=r.x3();t.e6_1=Zt(t.c6_1,o),t.c6_1=o+s|0,t.d6_1=t.c6_1+(0===s?1:0)|0}}t.b6_1=1}}function Xn(t){this.g6_1=t,this.b6_1=-1,this.c6_1=function(t,e,n){if(e>n)throw tc("Cannot coerce value to an empty range: maximum "+n+" is less than minimum "+e+".");return t<e?e:t>n?n:t}(t.i6_1,0,Ja(t.h6_1)),this.d6_1=this.c6_1,this.e6_1=null,this.f6_1=0}function Jn(t,e,n,i){this.h6_1=t,this.i6_1=e,this.j6_1=n,this.k6_1=i}function Qn(t,e,n,i,r,o){var s=o?Jt(Qt(n,qn(t)),Xt(i,0)):Ku(Xt(n,0),Qt(i,Ja(t)));if("string"==typeof t&&"string"==typeof e){var a=s.k1_1,u=s.l1_1,l=s.m1_1;if(l>0&&a<=u||l<0&&u<=a)do{var c=a;if(a=a+l|0,Qs(e,0,t,c,Ja(e),r))return c}while(c!==u)}else{var h=s.k1_1,p=s.l1_1,_=s.m1_1;if(_>0&&h<=p||_<0&&p<=h)do{var f=h;if(h=h+_|0,Yn(e,0,t,f,Ja(e),r))return f}while(f!==p)}return-1}function ti(t,e,n,i,r,o,s,a){return 0!=(16&s)&&(o=!1),Qn(t,e,n,i,r,o)}function ei(t,e,n,i,r,o){return 0!=(2&r)&&(n=qn(t)),0!=(4&r)&&(i=!1),function(t,e,n,i){return i||"string"!=typeof t?Qn(t,e,n,0,i,!0):t.lastIndexOf(e,n)}(t,e,n,i)}function ni(t){return te(Ln(t))}function ii(t,e,n,i){if(1===e.length)return Fn(t,ya(e[0]),n,i);for(var r=ee(function(t,e,n,i,r,o,s){return 0!=(2&o)&&(n=0),0!=(4&o)&&(i=!1),0!=(8&o)&&(r=0),function(t,e,n,i,r){return Wn(r),new Jn(t,n,r,(o=e,s=i,function(t,e){var n=Bn(t,o,e,s);return n<0?null:zi(n,1)}));var o,s}(t,e,n,i,r)}(t,e,0,n,i,2)),o=wo(De(r,10)),s=r.d();s.e();){var a;a=Un(t,s.f()),o.b(a)}return o}function ri(t){if(si(t)){var e=new gu(387905,-1073741824),n=new gu(-387905,1073741823),i=oi(t);if(!(e.j1(i)<=0&&i.j1(n)<=0))throw Cc(ou(oi(t))+" ns is out of nanoseconds range")}else{var r=new gu(1,-1073741824),o=new gu(-1,1073741823),s=oi(t);if(!(r.j1(s)<=0&&s.j1(o)<=0))throw Cc(ou(oi(t))+" ms is out of milliseconds range");var a=new gu(1108857478,-1074),u=new gu(-1108857478,1073),l=oi(t);if(a.j1(l)<=0&&l.j1(u)<=0)throw Cc(ou(oi(t))+" ms is denormalized")}return t}function oi(t){return t.l6(1)}function si(t){return 0==(1&t.m6())}function ai(t){return t.v5(Zu(1e6))}function ui(t){return ri(t.n6(1))}function li(){return _i(),f}function ci(){}function hi(t){this.p6_1=t}function pi(t,e){ci.call(this),this.q6_1=_l(t,2)?t:fu(),this.r6_1=e,this.s6_1=rl(this,on)?this:fu(),this.t6_1=li()}function _i(){var t;d||(d=!0,Ei(),t=gn(),f=t)}function fi(){}function di(){if(v)return jr();v=!0,new mi("SYNCHRONIZED",0),m=new mi("PUBLICATION",1),y=new mi("NONE",2)}function mi(t,e){Da.call(this,t,e)}function yi(t){this.y6_1=t,this.z6_1=gi()}function vi(){g=this}function gi(){return null==g&&new vi,g}function wi(t){return t}function bi(t){return t}function xi(t){return t instanceof Ai}function $i(t){return t instanceof Ai?t.a7_1:null}function Ci(){w=this}function Ei(){return null==w&&new Ci,w}function Ai(t){this.a7_1=t}function ki(t){Ei(),this.d7_1=t}function Si(t){return new Ai(t)}function Ti(t){if(t instanceof Ai)throw t.a7_1}function Ii(t){Kl(t,this),lu(this,Ii)}function Oi(t,e){this.u3_1=t,this.v3_1=e}function zi(t,e){return new Oi(t,e)}function Mi(t,e,n){this.g7_1=t,this.h7_1=e,this.i7_1=n}function Di(t){return t}function Ri(t){return t}function Pi(){b=this,this.j7_1=0,this.k7_1=-1,this.l7_1=1,this.m7_1=8}function ji(){return null==b&&new Pi,b}function Ni(t,e){return eu(255&t,255&e)}function Li(t){return(255&t).toString()}function qi(t){ji(),this.n7_1=t}function Bi(t){return t}function Fi(t){return t}function Ui(){x=this,this.q7_1=0,this.r7_1=-1,this.s7_1=4,this.t7_1=32}function Hi(){return null==x&&new Ui,x}function Vi(t,e){return cr(t,e)}function Yi(t){return Zu(t).v7(new gu(-1,0)).toString()}function Wi(t){Hi(),this.u7_1=t}function Gi(t){return t}function Zi(t){return t}function Ki(){$=this,this.x7_1=new gu(0,0),this.y7_1=new gu(-1,-1),this.z7_1=8,this.a8_1=64}function Xi(){return null==$&&new Ki,$}function Ji(t,e){return hr(t,e)}function Qi(t){return function(t,e){if(t.j1(new gu(0,0))>=0)return Fc(t,e);var n,i=t.k8(1).u5(Zu(e)).n6(1);n=i.v5(Zu(e));var r,o,s=t.x5(n);return s.j1(Zu(e))>=0&&(r=s.x5(Zu(e)),s=r,o=i.w5(new gu(1,0)),i=o),Fc(i,e)+Fc(s,e)}(t,10)}function tr(t){Xi(),this.b8_1=t}function er(t){return t}function nr(t){return t}function ir(){C=this,this.d8_1=0,this.e8_1=-1,this.f8_1=2,this.g8_1=16}function rr(){return null==C&&new ir,C}function or(t,e){return eu(65535&t,65535&e)}function sr(t){return(65535&t).toString()}function ar(t){rr(),this.h8_1=t}function ur(t){return function(t,e){Us(e);var n=t.length;if(0===n)return null;Xi();var i,r=new gu(-1,-1),o=Ka(t,0);if(fa(o,48)<0){if(1===n||!su(new wa(o),new wa(43)))return null;i=1}else i=0;var s=new gu(477218588,119304647),a=s,u=Zu(e),l=new gu(0,0),c=i;if(c<n)do{var h=c;c=c+1|0;var p=Hs(Ka(t,h),e);if(p<0)return null;if(hr(l,a)>0){if(!su(a,s))return null;if(hr(l,a=pr(r,u))>0)return null}var _=l=l.v5(u),f=l,d=Zu(p).v7(new gu(-1,0));if(hr(l=f.w5(d),_)<0)return null}while(c<n);return l}(t,10)}function lr(t,e){Us(e);var n=t.length;if(0===n)return null;Hi();var i,r=Ka(t,0);if(fa(r,48)<0){if(1===n||!su(new wa(r),new wa(43)))return null;i=1}else i=0;var o,s,a,u=119304647,l=u,c=e,h=0,p=i;if(p<n)do{var _=p;p=p+1|0;var f=Hs(Ka(t,_),e);if(f<0)return null;if(cr(h,l)>0){if(l!==u)return null;if(cr(h,(o=c,s=void 0,a=void 0,a=Zu(-1).v7(new gu(-1,0)),s=Zu(o).v7(new gu(-1,0)),l=a.u5(s).m6()))>0)return null}var d=h=gt(h,c);if(cr(h=h+f|0,d)<0)return null}while(p<n);return h}function cr(t,e){return eu(t^Hr().d1_1,e^Hr().d1_1)}function hr(t,e){vu();var n=t.j8(new gu(0,-2147483648));return vu(),n.j1(e.j8(new gu(0,-2147483648)))}function pr(t,e){var n=t,i=e;if(i.j1(new gu(0,0))<0)return new gu(hr(t,e)<0?0:1,0);if(n.j1(new gu(0,0))>=0)return n.u5(i);var r=n.k8(1).u5(i).n6(1),o=hr(n.x5(r.v5(i)),i)>=0?1:0;return r.w5(Zu(o))}function _r(){}function fr(){}function dr(){}function mr(){}function yr(){}function vr(){}function gr(){}function wr(){}function br(){}function xr(){}function $r(t,e,n){br.call(this),this.s8_1=n,this.t8_1=e,this.u8_1=this.s8_1>0?t<=e:t>=e,this.v8_1=this.u8_1?t:this.t8_1}function Cr(t,e,n){xr.call(this),this.w8_1=n;var i;i=ma(e),this.x8_1=i,this.y8_1=this.w8_1>0?fa(t,e)<=0:fa(t,e)>=0;var r;r=this.y8_1?ma(t):this.x8_1,this.z8_1=r}function Er(){E=this}function Ar(){return null==E&&new Er,E}function kr(t,e,n){if(Ar(),0===n)throw tc("Step must be non-zero.");if(n===Hr().d1_1)throw tc("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.k1_1=t,this.l1_1=Nr(t,e,n),this.m1_1=n}function Sr(){A=this}function Tr(t,e,n){if(null==A&&new Sr,0===n)throw tc("Step must be non-zero.");if(n===Hr().d1_1)throw tc("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.b9_1=t;var i,r=ma(t);i=ma(e),this.c9_1=Gu(Nr(r,i,n)),this.d9_1=n}function Ir(){}function Or(){k=this,this.c1_1=new Mr(1,0)}function zr(){return null==k&&new Or,k}function Mr(t,e){zr(),kr.call(this,t,e,1)}function Dr(){S=this,this.h9_1=new Rr(1,0)}function Rr(t,e){null==S&&new Dr,Tr.call(this,t,e,1)}function Pr(){T=this}function jr(){return null==T&&new Pr,T}function Nr(t,e,n){var i;if(n>0)i=t>=e?e:e-Lr(e,t,n)|0;else{if(!(n<0))throw tc("Step is zero.");i=t<=e?e:e+Lr(t,e,0|-n)|0}return i}function Lr(t,e,n){return qr(qr(t,n)-qr(e,n)|0,n)}function qr(t,e){var n=t%e|0;return n>=0?n:n+e|0}function Br(){I=this,this.o9_1=-128,this.p9_1=127,this.q9_1=1,this.r9_1=8}function Fr(){O=this,this.w9_1=-32768,this.x9_1=32767,this.y9_1=2,this.z9_1=16}function Ur(){z=this,this.d1_1=-2147483648,this.e1_1=2147483647,this.f1_1=4,this.g1_1=32}function Hr(){return null==z&&new Ur,z}function Vr(){M=this,this.aa_1=14e-46,this.ba_1=34028235e31,this.ca_1=1/0,this.da_1=-1/0,this.ea_1=NaN,this.fa_1=4,this.ga_1=32}function Yr(){return null==M&&new Vr,M}function Wr(){D=this,this.ka_1=5e-324,this.la_1=17976931348623157e292,this.ma_1=1/0,this.na_1=-1/0,this.oa_1=NaN,this.pa_1=8,this.qa_1=64}function Gr(){return null==D&&new Wr,D}function Zr(){R=this}function Kr(){P=this}function Xr(){}function Jr(t){return 0===(e=[t]).length?go():bo(new ze(e,!0));var e}function Qr(t){return It(e=[t],Po(e.length));var e}function to(t){return t}function eo(t){return t<0&&function(){throw Ac("Index overflow has happened.")}(),t}function no(t,e){!function(t,e){if(t.g()<=1)return jr();var n=io(t);Eo(n,e);var i=0,r=n.length;if(i<r)do{var o=i;i=i+1|0,t.ra(o,n[o])}while(i<r)}(t,e)}function io(t){return void 0!==t.toArray?t.toArray():ro(t)}function ro(t){for(var e=[],n=t.d();n.e();)e.push(n.f());return e}function oo(){se.call(this)}function so(t){this.ya_1=t,this.wa_1=0,this.xa_1=-1}function ao(t,e){this.eb_1=t,so.call(this,t),ce().b2(e,this.eb_1.g()),this.w1(e)}function uo(t,e,n){lo.call(this),this.gb_1=t,this.hb_1=e,this.ib_1=0,ce().d2(this.hb_1,n,this.gb_1.g()),this.ib_1=n-this.hb_1|0}function lo(){oo.call(this),this.ab_1=0}function co(t){this.ob_1=t}function ho(t){this.pb_1=t}function po(t,e){this.qb_1=t,this.rb_1=e}function _o(){vo.call(this)}function fo(t){this.vb_1=t,vo.call(this)}function mo(t){this.bc_1=t,oo.call(this)}function yo(){we.call(this),this.zb_1=null,this.ac_1=null}function vo(){oo.call(this)}function go(){return t=Object.create(Co.prototype),e=[],Co.call(t,e),t;var t,e}function wo(t){return e=Object.create(Co.prototype),n=[],Co.call(e,n),e;var e,n}function bo(t){return function(t,e){var n;return n=io(t),Co.call(e,n),e}(t,Object.create(Co.prototype))}function xo(t,e){return ce().c2(e,t.g()),e}function $o(t,e){return ce().b2(e,t.g()),e}function Co(t){lo.call(this),this.i_1=t,this.j_1=!1}function Eo(t,e){if(function(){if(null!=j)return j;j=!1;var t=[],e=0;if(e<600)do{var n=e;e=e+1|0,t.push(n)}while(e<600);var i=function(t,e){return(3&t)-(3&e)|0};t.sort(i);var r=1,o=t.length;if(r<o)do{var s=r;r=r+1|0;var a=t[s-1|0],u=t[s];if((3&a)==(3&u)&&a>=u)return!1}while(r<o);return j=!0,!0}()){var n=(i=e,function(t,e){return i.compare(t,e)});t.sort(n)}else!function(t,e,n,i){var r=t.length,o=Ao(t,ja(Array(r),null),e,n,i);if(o!==t){var s=e;if(s<=n)do{var a=s;s=s+1|0,t[a]=o[a]}while(a!==n)}}(t,0,Tt(t),e);var i}function Ao(t,e,n,i,r){if(n===i)return t;var o=(n+i|0)/2|0,s=Ao(t,e,n,o,r),a=Ao(t,e,o+1|0,i,r),u=s===e?t:e,l=n,c=o+1|0,h=n;if(h<=i)do{var p=h;if(h=h+1|0,l<=o&&c<=i){var _=s[l],f=a[c];r.compare(_,f)<=0?(u[p]=_,l=l+1|0):(u[p]=f,c=c+1|0)}else l<=o?(u[p]=s[l],l=l+1|0):(u[p]=a[c],c=c+1|0)}while(p!==i);return u}function ko(){N=this}function So(){}function To(t){this.ic_1=t,_o.call(this)}function Io(t){return function(t,e){yo.call(e),Do.call(e),e.oc_1=t,e.pc_1=t.rc()}(new Uo((null==N&&new ko,N)),t),t}function Oo(){return Io(Object.create(Do.prototype))}function zo(t,e,n){if(Io(n),!(t>=0))throw tc(ou("Negative initial capacity: "+t));if(!(e>=0))throw tc(ou("Non-positive load factor: "+e));return n}function Mo(t){return function(t,e){return zo(t,0,e),e}(t,Object.create(Do.prototype))}function Do(){this.qc_1=null}function Ro(t,e,n){return vo.call(n),No.call(n),n.u_1=function(t,e){return zo(t,e,Object.create(Do.prototype))}(t,e),n}function Po(t){return function(t,e){return Ro(t,0,e),e}(t,Object.create(No.prototype))}function jo(t,e){return vo.call(e),No.call(e),e.u_1=t,e}function No(){}function Lo(t,e){var n=Bo(t,t.cd_1.hc(e));if(null==n)return null;var i=n;if(null!=i&&hl(i))return qo(i,t,e);var r=i;return t.cd_1.gc(r.a1(),e)?r:null}function qo(t,e,n){var i;t:{for(var r=t,o=0,s=r.length;o<s;){var a=r[o];if(o=o+1|0,e.cd_1.gc(a.a1(),n)){i=a;break t}}i=null}return i}function Bo(t,e){var n=t.dd_1[e];return void 0===n?null:n}function Fo(t){this.bd_1=t,this.uc_1=-1,this.vc_1=Object.keys(t.dd_1),this.wc_1=-1,this.xc_1=null,this.yc_1=!1,this.zc_1=-1,this.ad_1=null}function Uo(t){this.cd_1=t,this.dd_1=this.fd(),this.ed_1=0}function Ho(){}function Vo(t){this.id_1=t,this.gd_1=null,this.hd_1=null,this.hd_1=this.id_1.td_1.qd_1}function Yo(t,e,n){this.yd_1=t,po.call(this,e,n),this.wd_1=null,this.xd_1=null}function Wo(t){this.td_1=t,_o.call(this)}function Go(t,e){t.wd_1===t?e.qd_1=null:(e.qd_1===t&&(e.qd_1=t.wd_1),_u(t.wd_1).xd_1=t.xd_1,_u(t.xd_1).wd_1=t.wd_1),t.wd_1=null,t.xd_1=null}function Zo(){return Io(t=Object.create(Jo.prototype)),Jo.call(t),t.rd_1=Oo(),t;var t}function Ko(t,e,n){return zo(t,e,n),Jo.call(n),n.rd_1=Oo(),n}function Xo(t){return function(t,e){return Ko(t,0,e),e}(t,Object.create(Jo.prototype))}function Jo(){this.qd_1=null,this.sd_1=!1}function Qo(){return t=Object.create(is.prototype),jo(Zo(),t),is.call(t),t;var t}function ts(t){return function(t,e){return jo(Zo(),e),is.call(e),e.k(t),e}(t,Object.create(is.prototype))}function es(t,e,n){return jo(function(t,e){return Ko(t,e,Object.create(Jo.prototype))}(t,e),n),is.call(n),n}function ns(t){return function(t,e){return es(t,0,e),e}(t,Object.create(is.prototype))}function is(){}function rs(){}function os(t,e){this.ae_1=t,this.be_1=e}function ss(t,e){return _c(t,e),us.call(e),e}function as(t,e,n){return dc(t,e,n),us.call(n),n}function us(){lu(this,us)}function ls(){}function cs(t){var e;if(hs(t))throw tc("Cannot round NaN value.");return vu(),t>new gu(-1,2147483647).o8()?(vu(),e=new gu(-1,2147483647)):(vu(),t<new gu(0,-2147483648).o8()?(vu(),e=new gu(0,-2147483648)):e=Wu(Math.round(t))),e}function hs(t){return!(t==t)}function ps(t){return Hr(),32-bt(~(0|t|-t))|0}function _s(t){return(t instanceof ms?t:fu()).ee()}function fs(){}function ds(){}function ms(t){this.de_1=t}function ys(t,e,n){ms.call(this,t),this.ie_1=e,this.je_1=n}function vs(){L=this,ms.call(this,Object),this.le_1="Nothing"}function gs(){return null==L&&new vs,L}function ws(){}function bs(t){ms.call(this,t);var e,n=t.$metadata$;e=null==n?null:n.simpleName,this.ne_1=e}function xs(){}function $s(){}function Cs(){}function Es(){}function As(){}function ks(){}function Ss(){}function Ts(t,e,n){this.re_1=t,this.se_1=e,this.te_1=n}function Is(){return F||(F=!0,t=ja(Array(0),null),q=t),q;var t}function Os(){B=this;var t=Object;this.ue_1=new ys(t,"Any",(function(t){return pl(t)}));var e=Number;this.ve_1=new ys(e,"Number",(function(t){return fl(t)})),this.we_1=gs();var n=Boolean;this.xe_1=new ys(n,"Boolean",(function(t){return null!=t&&"boolean"==typeof t}));var i=Number;this.ye_1=new ys(i,"Byte",(function(t){return null!=t&&"number"==typeof t}));var r=Number;this.ze_1=new ys(r,"Short",(function(t){return null!=t&&"number"==typeof t}));var o=Number;this.af_1=new ys(o,"Int",(function(t){return null!=t&&"number"==typeof t}));var s=Number;this.bf_1=new ys(s,"Float",(function(t){return null!=t&&"number"==typeof t}));var a=Number;this.cf_1=new ys(a,"Double",(function(t){return null!=t&&"number"==typeof t}));var u=Array;this.df_1=new ys(u,"Array",(function(t){return null!=t&&hl(t)}));var l=String;this.ef_1=new ys(l,"String",(function(t){return null!=t&&"string"==typeof t}));var c=Error;this.ff_1=new ys(c,"Throwable",(function(t){return t instanceof Error}));var h=Array;this.gf_1=new ys(h,"BooleanArray",(function(t){return null!=t&&ml(t)}));var p=Uint16Array;this.hf_1=new ys(p,"CharArray",(function(t){return null!=t&&gl(t)}));var _=Int8Array;this.if_1=new ys(_,"ByteArray",(function(t){return null!=t&&yl(t)}));var f=Int16Array;this.jf_1=new ys(f,"ShortArray",(function(t){return null!=t&&vl(t)}));var d=Int32Array;this.kf_1=new ys(d,"IntArray",(function(t){return null!=t&&wl(t)}));var m=Array;this.lf_1=new ys(m,"LongArray",(function(t){return null!=t&&xl(t)}));var y=Float32Array;this.mf_1=new ys(y,"FloatArray",(function(t){return null!=t&&bl(t)}));var v=Float64Array;this.nf_1=new ys(v,"DoubleArray",(function(t){return null!=t&&$l(t)}))}function zs(){return null==B&&new Os,B}function Ms(t){return Array.isArray(t)?function(t){var e;switch(t.length){case 1:e=Ds(t[0]);break;case 0:e=gs();break;default:e=new ws}return e}(t):Ds(t)}function Ds(t){if(t===String)return zs().ef_1;var e,n=t.$metadata$;if(null!=n){var i;if(null==n.$kClass$){var r=new bs(t);n.$kClass$=r,i=r}else i=n.$kClass$;e=i}else e=new bs(t);return e}function Rs(){}function Ps(t){Yl(t,this),lu(this,Ps)}function js(t){return Ns(e=Object.create(qs.prototype)),e;var e}function Ns(t){return qs.call(t,""),t}function Ls(){return Ns(Object.create(qs.prototype))}function qs(t){this.ig_1=void 0!==t?t:""}function Bs(t){var e=ya(t).toUpperCase();return e.length>1?t:Ka(e,0)}function Fs(t){return function(t){var e;return 9<=(e=ma(t))&&e<=13||28<=e&&e<=32||160===e||e>4096&&(5760===e||8192<=e&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e)}(t)}function Us(t){if(!(2<=t&&t<=36))throw tc("radix "+t+" was not in valid range 2..36");return t}function Hs(t,e){var n,i,r,o=fa(t,48)>=0&&fa(t,57)<=0?da(t,48):fa(t,65)>=0&&fa(t,90)<=0?da(t,65)+10|0:fa(t,97)>=0&&fa(t,122)<=0?da(t,97)+10|0:fa(t,128)<0?-1:fa(t,65313)>=0&&fa(t,65338)<=0?da(t,65313)+10|0:fa(t,65345)>=0&&fa(t,65370)<=0?da(t,65345)+10|0:(n=ma(t),i=zl(Dl().ai_1,n),(r=n-Dl().ai_1[i]|0)<10?r:-1);return o>=e?-1:o}function Vs(t){switch(t.toLowerCase()){case"nan":case"+nan":case"-nan":return!0;default:return!1}}function Ys(){U=this,this.og_1=new RegExp("[\\\\^$*+?.()|[\\]{}]","g"),this.pg_1=new RegExp("[\\\\$]","g"),this.qg_1=new RegExp("\\$","g")}function Ws(){return null==U&&new Ys,U}function Gs(t){this.tg_1=t}function Zs(){return function(t,e){return function(t,e,n){if(Ks(),n){var i=t.length,r=e.length,o=Math.min(i,r);if(0===o)return i-r|0;var s=0;if(s<o)do{var a=s;s=s+1|0;var u=Ka(t,a),l=Ka(e,a);if(!su(new wa(u),new wa(l))&&(u=Bs(u),l=Bs(l),!su(new wa(u),new wa(l))&&(u=Ka(ya(u).toLowerCase(),0),l=Ka(ya(l).toLowerCase(),0),!su(new wa(u),new wa(l)))))return fa(u,l)}while(s<o);return i-r|0}return eu(t,e)}(t,e,!0)}}function Ks(){H||(H=!0,new Gs(Zs()))}function Xs(t){var e;if(0===Ja(t))e=!0;else{var n;t:{var i=function(t){return Ku(0,Ja(t)-1|0)}(t);if(rl(i,Aa)&&i.m())n=!0;else{var r=i.e7(),o=i.a9();if(r<=o)do{var s=r;if(r=r+1|0,!Fs(Ka(t,s))){n=!1;break t}}while(s!==o);n=!0}}e=n}return e}function Js(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return n?Qs(t,0,e,0,e.length,n):t.startsWith(e,0)}(t,e,n)}function Qs(t,e,n,i,r,o){return Yn(t,e,n,i,r,o)}function ta(t,e,n,i,r,o){return 0!=(4&r)&&(i=!1),function(t,e,n,i){return i?Qs(t,n,e,0,e.length,i):t.startsWith(e,n)}(t,e,n,i)}function ea(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return n?Qs(t,t.length-e.length|0,e,0,e.length,n):t.endsWith(e)}(t,e,n)}function na(){return ua(),V}function ia(t,e,n,i,r){return ua(),!(55296<=e&&e<=56319)||n>=i?aa(0,n,r):56320<=(o=ma(Ka(t,n)))&&o<=57343?65536+((1023&e)<<10)|0|1023&o:aa(0,n,r);var o}function ra(t,e,n,i,r){if(ua(),0==(30&e)||n>=i)return aa(0,n,r);var o=t[n];return 128!=(192&o)?aa(0,n,r):e<<6^o^3968}function oa(t,e,n,i,r){if(ua(),n>=i)return aa(0,n,r);var o=t[n];if(0==(15&e)){if(160!=(224&o))return aa(0,n,r)}else if(13==(15&e)){if(128!=(224&o))return aa(0,n,r)}else if(128!=(192&o))return aa(0,n,r);if((n+1|0)===i)return aa(1,n,r);var s=t[n+1|0];return 128!=(192&s)?aa(1,n,r):e<<12^o<<6^s^-123008}function sa(t,e,n,i,r){ua(),n>=i&&aa(0,n,r);var o=t[n];if(0==(15&e)){if((240&o)<=128)return aa(0,n,r)}else if(4==(15&e)){if(128!=(240&o))return aa(0,n,r)}else{if((15&e)>4)return aa(0,n,r);if(128!=(192&o))return aa(0,n,r)}if((n+1|0)===i)return aa(1,n,r);var s=t[n+1|0];if(128!=(192&s))return aa(1,n,r);if((n+2|0)===i)return aa(2,n,r);var a=t[n+2|0];return 128!=(192&a)?aa(2,n,r):e<<18^o<<12^s<<6^a^3678080}function aa(t,e,n){if(ua(),n)throw new Ps("Malformed sequence starting at "+(e-1|0));return 0|-t}function ua(){var t;Y||(Y=!0,t=new Int8Array([-17,-65,-67]),V=t)}function la(){if(Z)return jr();Z=!0,W=new ca("NANOSECONDS",0,1),new ca("MICROSECONDS",1,1e3),G=new ca("MILLISECONDS",2,1e6),new ca("SECONDS",3,1e9),new ca("MINUTES",4,6e10),new ca("HOURS",5,36e11),new ca("DAYS",6,864e11)}function ca(t,e,n){Da.call(this,t,e),this.wg_1=n}function ha(t,e,n){var i=eu(e.wg_1,n.wg_1);return i>0?t*(e.wg_1/n.wg_1):i<0?t/(n.wg_1/e.wg_1):t}function pa(){return la(),G}function _a(t){return t}function fa(t,e){return t-e|0}function da(t,e){return t-e|0}function ma(t){return t}function ya(t){return String.fromCharCode(t)}function va(){K=this,this.xg_1=0,this.yg_1=65535,this.zg_1=55296,this.ah_1=56319,this.bh_1=56320,this.ch_1=57343,this.dh_1=55296,this.eh_1=57343,this.fh_1=2,this.gh_1=16}function ga(){return null==K&&new va,K}function wa(t){ga(),this.q1_1=t}function ba(){}function xa(){}function $a(){}function Ca(){}function Ea(){}function Aa(){}function ka(){}function Sa(){}function Ta(){}function Ia(){}function Oa(){}function za(){}function Ma(){X=this}function Da(t,e){null==X&&new Ma,this.g5_1=t,this.h5_1=e}function Ra(t){var e=null==t?null:ou(t);return null==e?"null":e}function Pa(t,e){var n=null==t?null:ou(t),i=null==n?"null":n,r=null==e?null:ou(e);return i+(null==r?"null":r)}function ja(t,e){var n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0,t[r]=e}while(r!==i);return t}function Na(t){return new Fa(t)}function La(t){var e=ja(Array(t),!1);return e.$type$="BooleanArray",e}function qa(t){var e=new Uint16Array(t);return e.$type$="CharArray",e}function Ba(t){var e=new Uint16Array(t);return e.$type$="CharArray",e}function Fa(t){this.jh_1=t,this.ih_1=0}function Ua(t){this.lh_1=t,br.call(this),this.kh_1=0}function Ha(){return Za(),J}function Va(){return Za(),Q}function Ya(){return Za(),tt}function Wa(){return Za(),et}function Ga(t){return Za(),Lc(t,0)===t?Vu(t):(Va()[0]=t,gt(Ya()[(Za(),nt)],31)+Ya()[Wa()]|0)}function Za(){var t,e,n;it||(it=!0,J=new ArrayBuffer(8),t=new Float64Array(Ha()),Q=t,new Float32Array(Ha()),e=new Int32Array(Ha()),tt=e,Va()[0]=-1,n=0!==Ya()[0]?1:0,et=n,nt=1-Wa()|0)}function Ka(t,e){var n;if(Xa(t)){var i,r=t.charCodeAt(e);if(ga(),r<0?i=!0:(ga(),i=r>65535),i)throw tc("Invalid Char code: "+r);n=Gu(r)}else n=t.m8(e);return n}function Xa(t){return"string"==typeof t}function Ja(t){return Xa(t)?t.length:t.l8()}function Qa(t,e,n){return Xa(t)?t.substring(e,n):t.n8(e,n)}function tu(t){return zt(t,", ","[","]",0,null,(function(t){return ou(t)}),24)}function eu(t,e){var n;switch(typeof t){case"number":n="number"==typeof e?nu(t,e):e instanceof gu?nu(t,e.o8()):iu(t,e);break;case"string":case"boolean":n=iu(t,e);break;default:n=function(t,e){return t.p7(e)}(t,e)}return n}function nu(t,e){var n;if(t<e)n=-1;else if(t>e)n=1;else if(t===e){var i;if(0!==t)i=0;else{var r=1/t;i=r===1/e?0:r<0?-1:1}n=i}else n=t!=t?e!=e?0:1:-1;return n}function iu(t,e){return t<e?-1:t>e?1:0}function ru(t){if(!Nc("kotlinHashCodeValue$",t)){var e=Lc(4294967296*Math.random(),0),n=new Object;n.value=e,n.enumerable=!1,Object.defineProperty(t,"kotlinHashCodeValue$",n)}return t.kotlinHashCodeValue$}function ou(t){return null==t?"null":nl(t)?"[...]":t.toString()}function su(t,e){return null==t?null==e:null!=e&&("object"==typeof t&&"function"==typeof t.equals?t.equals(e):t!=t?e!=e:"number"==typeof t&&"number"==typeof e?t===e&&(0!==t||1/t==1/e):t===e)}function au(t){if(null==t)return 0;var e;switch(typeof t){case"object":e="function"==typeof t.hashCode?t.hashCode():ru(t);break;case"function":e=ru(t);break;case"number":e=Ga(t);break;case"boolean":e=t?1:0;break;default:e=uu(String(t))}return e}function uu(t){var e=0,n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=t.charCodeAt(r);e=gt(e,31)+o|0}while(r!==i);return e}function lu(t,e){null!=Error.captureStackTrace?Error.captureStackTrace(t,e):t.stack=(new Error).stack}function cu(t){return void 0===t}function hu(t,e,n){Error.call(t),function(t,e,n){if(!pu(t,"message")){var i;if(null==e){var r;if(null!==e){var o=null==n?null:n.toString();r=null==o?void 0:o}else r=void 0;i=r}else i=e;t.message=i}pu(t,"cause")||(t.cause=n),t.name=Object.getPrototypeOf(t).constructor.name}(t,e,n)}function pu(t,e){return Object.getPrototypeOf(t).hasOwnProperty(e)}function _u(t){var e;return null==t?function(){throw Ic()}():e=t,e}function fu(){throw Dc()}function du(t,e){for(var n=t.length,i=e.length,r=0,o=e;r<n&&r<i;){var s=r,a=r;r=a+1|0,o[s]=t[a]}return e}function mu(t,e,n){var i=t.slice(0,e);void 0!==t.$type$&&(i.$type$=t.$type$);var r=t.length;if(e>r)for(i.length=e;r<e;){var o=r;r=o+1|0,i[o]=n}return i}function yu(){rt=this,this.mh_1=new gu(0,-2147483648),this.nh_1=new gu(-1,2147483647),this.oh_1=8,this.ph_1=64}function vu(){return null==rt&&new yu,rt}function gu(t,e){vu(),wr.call(this),this.h1_1=t,this.i1_1=e}function wu(){return Uu(),ot}function bu(){return Uu(),st}function xu(){return Uu(),at}function $u(){return Uu(),lt}function Cu(){return Uu(),ct}function Eu(t,e){if(Uu(),zu(t,e))return 0;var n=Ru(t),i=Ru(e);return n&&!i?-1:!n&&i?1:Ru(ku(t,e))?-1:1}function Au(t,e){Uu();var n=t.i1_1>>>16|0,i=65535&t.i1_1,r=t.h1_1>>>16|0,o=65535&t.h1_1,s=e.i1_1>>>16|0,a=65535&e.i1_1,u=e.h1_1>>>16|0,l=0,c=0,h=0,p=0;return l=(l=l+((c=(c=c+((h=(h=h+((p=p+(o+(65535&e.h1_1)|0)|0)>>>16|0)|0)+(r+u|0)|0)>>>16|0)|0)+(i+a|0)|0)>>>16|0)|0)+(n+s|0)|0,new gu((h&=65535)<<16|(p&=65535),(l&=65535)<<16|(c&=65535))}function ku(t,e){return Uu(),Au(t,e.t5())}function Su(t,e){if(Uu(),Pu(t))return wu();if(Pu(e))return wu();if(zu(t,$u()))return ju(e)?$u():wu();if(zu(e,$u()))return ju(t)?$u():wu();if(Ru(t))return Ru(e)?Su(Nu(t),Nu(e)):Nu(Su(Nu(t),e));if(Ru(e))return Nu(Su(t,Nu(e)));if(Lu(t,Cu())&&Lu(e,Cu()))return qu(Ou(t)*Ou(e));var n=t.i1_1>>>16|0,i=65535&t.i1_1,r=t.h1_1>>>16|0,o=65535&t.h1_1,s=e.i1_1>>>16|0,a=65535&e.i1_1,u=e.h1_1>>>16|0,l=65535&e.h1_1,c=0,h=0,p=0,_=0;return p=p+((_=_+gt(o,l)|0)>>>16|0)|0,_&=65535,h=(h=h+((p=p+gt(r,l)|0)>>>16|0)|0)+((p=(p&=65535)+gt(o,u)|0)>>>16|0)|0,p&=65535,c=(c=(c=c+((h=h+gt(i,l)|0)>>>16|0)|0)+((h=(h&=65535)+gt(r,u)|0)>>>16|0)|0)+((h=(h&=65535)+gt(o,a)|0)>>>16|0)|0,h&=65535,c=c+(((gt(n,l)+gt(i,u)|0)+gt(r,a)|0)+gt(o,s)|0)|0,new gu(p<<16|_,(c&=65535)<<16|h)}function Tu(t,e){Uu();var n=63&e;return 0===n?t:n<32?new gu(t.h1_1<<n,t.i1_1<<n|t.h1_1>>>(32-n|0)|0):new gu(0,t.h1_1<<(n-32|0))}function Iu(t,e){Uu();var n=63&e;return 0===n?t:n<32?new gu(t.h1_1>>>n|0|t.i1_1<<(32-n|0),t.i1_1>>n):new gu(t.i1_1>>(n-32|0),t.i1_1>=0?0:-1)}function Ou(t){return Uu(),4294967296*t.i1_1+function(t){return Uu(),t.h1_1>=0?t.h1_1:4294967296+t.h1_1}(t)}function zu(t,e){return Uu(),t.i1_1===e.i1_1&&t.h1_1===e.h1_1}function Mu(t,e){if(Uu(),e<2||36<e)throw Wl("radix out of range: "+e);if(Pu(t))return"0";if(Ru(t)){if(zu(t,$u())){var n=Du(e),i=t.u5(n),r=ku(Su(i,n),t).m6();return Mu(i,e)+r.toString(e)}return"-"+Mu(Nu(t),e)}for(var o=2===e?31:e<=10?9:e<=21?7:e<=35?6:5,s=qu(Math.pow(e,o)),a=t,u="";;){var l=a.u5(s),c=ku(a,Su(l,s)).m6().toString(e);if(Pu(a=l))return c+u;for(;c.length<o;)c="0"+c;u=c+u}}function Du(t){return Uu(),new gu(t,t<0?-1:0)}function Ru(t){return Uu(),t.i1_1<0}function Pu(t){return Uu(),0===t.i1_1&&0===t.h1_1}function ju(t){return Uu(),1==(1&t.h1_1)}function Nu(t){return Uu(),t.t5()}function Lu(t,e){return Uu(),Eu(t,e)<0}function qu(t){if(Uu(),hs(t))return wu();if(t<=-0x8000000000000000)return $u();if(t+1>=0x8000000000000000)return Uu(),ut;if(t<0)return Nu(qu(-t));var e=4294967296;return new gu(Lc(t%e,0),Lc(t/e,0))}function Bu(t,e){return Uu(),Eu(t,e)>0}function Fu(t,e){return Uu(),Eu(t,e)>=0}function Uu(){ht||(ht=!0,ot=Du(0),st=Du(1),at=Du(-1),ut=new gu(-1,2147483647),lt=new gu(0,-2147483648),ct=Du(16777216))}function Hu(t){return t<<24>>24}function Vu(t){return t instanceof gu?t.m6():function(t){return t>2147483647?2147483647:t<-2147483648?-2147483648:Lc(t,0)}(t)}function Yu(t){return t<<16>>16}function Wu(t){return t instanceof gu?t:qu(t)}function Gu(t){return 65535&Yu(Vu(t))}function Zu(t){return Du(t)}function Ku(t,e){return new Mr(t,e)}function Xu(){Qu();var t=void 0;return tl(t,t,t,t,t,t)}function Ju(t,e,n,i,r){return Qu(),i.get=i,i.set=r,i.callableName=t,o=i,s=function(t,e,n){Qu();var i=(Qu(),pt)[t][null==e?0:1];return 0===i.interfaces.length&&(i.interfaces.push(n),null==i.interfacesCache?i.interfacesCache={isComplete:!1,implementInterfaceMemo:{}}:_u(i.interfacesCache).isComplete=!1,ul(_u(i.interfacesCache),n)),i}(e,r,n),Qu(),o.$metadata$=s,o.constructor=o,o;var o,s}function Qu(){var t;_t||(_t=!0,t=[[Xu(),Xu()],[Xu(),Xu()],[Xu(),Xu()]],pt=t)}function tl(t,e,n,i,r,o){return el("class",t,e,n,i,r,o)}function el(t,e,n,i,r,o,s){return{kind:t,simpleName:e,interfaceId:"interface"===t?-1:void 0,interfaces:n||[],associatedObjectKey:i,associatedObjects:r,suspendArity:o,fastPrototype:s,$kClass$:void 0,interfacesCache:{isComplete:void 0===s&&(void 0===n||0===n.length),implementInterfaceMemo:{}}}}function nl(t){return!!il(t)||wt(t)}function il(t){return Array.isArray(t)}function rl(t,e){var n=t.constructor;return null!=n&&ol(n,e)}function ol(t,e){if(t===e)return!0;var n=t.$metadata$;null!=n&&null==n.interfacesCache&&(n.interfacesCache={isComplete:!1,implementInterfaceMemo:{}});var i,r=null==n?null:n.interfacesCache;if(null!=r){r.isComplete||sl(t);var o=e.$metadata$,s=null==o?null:o.interfaceId;if(null==s)return!1;var a=s;i=!!r.implementInterfaceMemo[a]}else{var u=al(t),l=null==u?null:u.constructor;if(null==l)return!1;i=ol(l,e)}return i}function sl(t){var e=t.$metadata$;null!=e&&null==e.interfacesCache&&(e.interfacesCache={isComplete:!1,implementInterfaceMemo:{}});var n=null==e?null:e.interfacesCache;if(null!=n){if(!0===n.isComplete)return n;for(var i=e.interfaces,r=0,o=i.length;r<o;){var s=i[r];r=r+1|0,ul(n,s),ll(n,sl(s))}}var a,u=al(t),l=null==u?null:u.constructor,c=null==l?null:sl(l),h=n;return null==h?a=null:(ll(h,c),h.isComplete=!0,a=h),null==a?c:a}function al(t){var e,n=t.$metadata$;null==n?e=null:(null==n.fastPrototype&&(n.fastPrototype=cl(t)),e=n.fastPrototype);var i=e;return null==i?cl(t):i}function ul(t,e){t.implementInterfaceMemo[function(t){var e,n=t.$metadata$,i=n.interfaceId,r=null==i?-1:i;if(su(r,-1)){var o=ft;ft=o+1|0;var s=o;n.interfaceId=s,e=s}else e=r;return e}(e)]=!0}function ll(t,e){var n=null==e?null:e.implementInterfaceMemo;if(null==n)return jr();var i=n;Object.assign(t.implementInterfaceMemo,i)}function cl(t){var e=t.prototype;return null==e?null:Object.getPrototypeOf(e)}function hl(t){return!!il(t)&&!t.$type$}function pl(t){switch(typeof t){case"string":case"number":case"boolean":case"function":return!0;default:return Bc(t,Object)}}function _l(t,e){if("function"==typeof t)return t.$arity===e;if("object"==typeof t&&Nc("$metadata$",t.constructor)){var n=t.constructor.$metadata$,i=null==n?null:n.suspendArity;if(null!=i){var r=!1,o=Na(i);t:for(;o.e();)if(e===o.f()){r=!0;break t}return r}return null!=null&&null}return!1}function fl(t){return"number"==typeof t||t instanceof gu}function dl(t){return"string"==typeof t||rl(t,_s(Ms(fr)))}function ml(t){return!!il(t)&&"BooleanArray"===t.$type$}function yl(t){return Bc(t,Int8Array)}function vl(t){return Bc(t,Int16Array)}function gl(t){return!!Bc(t,Uint16Array)&&"CharArray"===t.$type$}function wl(t){return Bc(t,Int32Array)}function bl(t){return Bc(t,Float32Array)}function xl(t){return!!il(t)&&"LongArray"===t.$type$}function $l(t){return Bc(t,Float64Array)}function Cl(t,e,n,i,r){return el("interface",t,e,n,i,r,void 0)}function El(t,e,n,i,r,o){return el("object",t,e,n,i,r,o)}function Al(t,e){if(e===Object)return pl(t);if(null==t||null==e||"object"!=typeof t&&"function"!=typeof t)return!1;if("function"==typeof e&&Bc(t,e))return!0;var n=function(t){return Object.getPrototypeOf(t)}(e),i=null==n?null:n.constructor;if(null!=i&&Nc("$metadata$",i)&&"object"===i.$metadata$.kind)return t===e;var r=e.$metadata$;return null==r?Bc(t,e):"interface"===r.kind&&null!=t.constructor&&ol(t.constructor,e)}function kl(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));return du(t,new Int8Array(e))}function Sl(t){return new Co(t)}function Tl(t,e,n,i){ce().d2(n,i,t.length),t.fill(e,n,i)}function Il(t,e,n){return ce().d2(e,n,t.length),t.slice(e,n)}function Ol(t,e,n){for(var i=new Int32Array(n),r=0,o=0,s=0,a=t,u=0,l=a.length;u<l;){var c=Ka(a,u);u=u+1|0;var h=e[c];if(o|=(31&h)<<s,h<32){var p=r;r=p+1|0,i[p]=o,o=0,s=0}else s=s+5|0}return i}function zl(t,e){for(var n=0,i=t.length-1|0,r=-1,o=0;n<=i;)if(e>(o=t[r=(n+i|0)/2|0]))n=r+1|0;else{if(e===o)return r;i=r-1|0}return r-(e<o?1:0)|0}function Ml(){dt=this;var t;t=new Int32Array([48,1632,1776,1984,2406,2534,2662,2790,2918,3046,3174,3302,3430,3558,3664,3792,3872,4160,4240,6112,6160,6470,6608,6784,6800,6992,7088,7232,7248,42528,43216,43264,43472,43504,43600,44016,65296]),this.ai_1=t}function Dl(){return null==dt&&new Ml,dt}function Rl(){mt=this;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Int32Array(128),n=0,i=Ja(t)-1|0;if(n<=i)do{var r=n;n=n+1|0,e[Ka(t,r)]=r}while(n<=i);var o=Ol("hCgBpCQGYHZH5BRpBPPPPPPRMP5BPPlCPP6BkEPPPPcPXPzBvBrB3BOiDoBHwD+E3DauCnFmBmB2D6E1BlBTiBmBlBP5BhBiBrBvBjBqBnBPRtBiCmCtBlB0BmB5BiB7BmBgEmChBZgCoEoGVpBSfRhBPqKQ2BwBYoFgB4CJuTiEvBuCuDrF5DgEgFlJ1DgFmBQtBsBRGsB+BPiBlD1EIjDPRPPPQPPPPPGQSQS/DxENVNU+B9zCwBwBPPCkDPNnBPqDYY1R8B7FkFgTgwGgwUwmBgKwBuBScmEP/BPPPPPPrBP8B7F1B/ErBqC6B7BiBmBfQsBUwCw/KwqIwLwETPcPjQgJxFgBlBsD",e,222),s=new Int32Array(o.length),a=0,u=o.length-1|0;if(a<=u)do{var l=a;a=a+1|0,s[l]=0===l?o[l]:s[l-1|0]+o[l]|0}while(a<=u);this.bi_1=s;this.ci_1=Ol("aaMBXHYH5BRpBPPPPPPRMP5BPPlCPPzBDOOPPcPXPzBvBjB3BOhDmBBpB7DoDYxB+EiBP1DoExBkBQhBekBPmBgBhBctBiBMWOOXhCsBpBkBUV3Ba4BkB0DlCgBXgBtD4FSdBfPhBPpKP0BvBXjEQ2CGsT8DhBtCqDpFvD1D3E0IrD2EkBJrBDOBsB+BPiBlB1EIjDPPPPPPPPPPPGPPMNLsBNPNPKCvBvBPPCkDPBmBPhDXXgD4B6FzEgDguG9vUtkB9JcuBSckEP/BPPPPPPBPf4FrBjEhBpC3B5BKaWPrBOwCk/KsCuLqDHPbPxPsFtEaaqDL",e,222);this.di_1=Ol("GFjgggUHGGFFZZZmzpz5qB6s6020B60ptltB6smt2sB60mz22B1+vv+8BZZ5s2850BW5q1ymtB506smzBF3q1q1qB1q1q1+Bgii4wDTm74g3KiggxqM60q1q1Bq1o1q1BF1qlrqrBZ2q5wprBGFZWWZGHFsjiooLowgmOowjkwCkgoiIk7ligGogiioBkwkiYkzj2oNoi+sbkwj04DghhkQ8wgiYkgoioDsgnkwC4gikQ//v+85BkwvoIsgoyI4yguI0whiwEowri4CoghsJowgqYowgm4DkwgsY/nwnzPowhmYkg6wI8yggZswikwHgxgmIoxgqYkwgk4DkxgmIkgoioBsgssoBgzgyI8g9gL8g9kI0wgwJoxgkoC0wgioFkw/wI0w53iF4gioYowjmgBHGq1qkgwBF1q1q8qBHwghuIwghyKk0goQkwgoQk3goQHGFHkyg0pBgxj6IoinkxDswno7Ikwhz9Bo0gioB8z48Rwli0xN0mpjoX8w78pDwltoqKHFGGwwgsIHFH3q1q16BFHWFZ1q10q1B2qlwq1B1q10q1B2q1yq1B6q1gq1Biq1qhxBir1qp1Bqt1q1qB1g1q1+B//3q16B///q1qBH/qlqq9Bholqq9B1i00a1q10qD1op1HkwmigEigiy6Cptogq1Bixo1kDq7/j00B2qgoBWGFm1lz50B6s5q1+BGWhggzhwBFFhgk4//Bo2jigE8wguI8wguI8wgugUog1qoB4qjmIwwi2KgkYHHH4lBgiFWkgIWoghssMmz5smrBZ3q1y50B5sm7gzBtz1smzB5smz50BqzqtmzB5sgzqzBF2/9//5BowgoIwmnkzPkwgk4C8ys65BkgoqI0wgy6FghquZo2giY0ghiIsgh24B4ghsQ8QF/v1q1OFs0O8iCHHF1qggz/B8wg6Iznv+//B08QgohsjK0QGFk7hsQ4gB",e,222)}function Pl(){return null==mt&&new Rl,mt}function jl(){yt=this;var t;t=new Int32Array([170,186,688,704,736,837,890,7468,7544,7579,8305,8319,8336,8560,9424,11388,42652,42864,43e3,43868]),this.ei_1=t;var e;e=new Int32Array([1,1,9,2,5,1,1,63,1,37,1,1,13,16,26,2,2,1,2,4]),this.fi_1=e}function Nl(){return null==yt&&new jl,yt}function Ll(t){var e=t.ni_1;null!=e&&e!==t&&_u(t.i4().u4(an())).t4(e),t.ni_1=(null==vt&&new Bl,vt)}function ql(t){this.gi_1=t,this.hi_1=0,this.ii_1=0,this.ji_1=null,this.ki_1=null,this.li_1=null;var e=this.gi_1;this.mi_1=null==e?null:e.i4(),this.ni_1=null}function Bl(){vt=this}function Fl(t){var e=t instanceof ql?t:null,n=null==e?null:e.pi();return null==n?t:n}function Ul(t,e,n){return new Hl(n,t,e)}function Hl(t,e,n){this.bj_1=t,this.cj_1=e,this.dj_1=n,ql.call(this,rl(t,on)?t:fu())}function Vl(t,e){this.mj_1=e,ql.call(this,rl(t,on)?t:fu())}function Yl(t,e){return hu(e,t,void 0),Zl.call(e),e}function Wl(t){var e=Yl(t,Object.create(Zl.prototype));return lu(e,Wl),e}function Gl(t,e,n){return hu(n,t,e),Zl.call(n),n}function Zl(){lu(this,Zl)}function Kl(t,e){return hu(e,t,void 0),Jl.call(e),e}function Xl(t,e,n){return hu(n,t,e),Jl.call(n),n}function Jl(){lu(this,Jl)}function Ql(t,e){return ac(t,e),ec.call(e),e}function tc(t){var e=Ql(t,Object.create(ec.prototype));return lu(e,tc),e}function ec(){lu(this,ec)}function nc(){var t,e=(sc(t=Object.create(oc.prototype)),oc.call(t),t);return lu(e,nc),e}function ic(t,e){return ac(t,e),oc.call(e),e}function rc(t){var e=ic(t,Object.create(oc.prototype));return lu(e,rc),e}function oc(){lu(this,oc)}function sc(t){return function(t){hu(t,void 0,void 0),Zl.call(t)}(t),cc.call(t),t}function ac(t,e){return Yl(t,e),cc.call(e),e}function uc(t,e,n){return Gl(t,e,n),cc.call(n),n}function lc(t,e){return function(t,e){hu(e,void 0,t),Zl.call(e)}(t,e),cc.call(e),e}function cc(){lu(this,cc)}function hc(t){return sc(t),mc.call(t),t}function pc(){var t=hc(Object.create(mc.prototype));return lu(t,pc),t}function _c(t,e){return ac(t,e),mc.call(e),e}function fc(t){var e=_c(t,Object.create(mc.prototype));return lu(e,fc),e}function dc(t,e,n){return uc(t,e,n),mc.call(n),n}function mc(){lu(this,mc)}function yc(t){return sc(t),wc.call(t),t}function vc(){var t=yc(Object.create(wc.prototype));return lu(t,vc),t}function gc(t){var e=function(t,e){return ac(t,e),wc.call(e),e}(t,Object.create(wc.prototype));return lu(e,gc),e}function wc(){lu(this,wc)}function bc(t){var e=function(t,e){return ac(t,e),xc.call(e),e}(t,Object.create(xc.prototype));return lu(e,bc),e}function xc(){lu(this,xc)}function $c(){lu(this,$c)}function Cc(t){var e=function(t,e){return Kl(t,e),Ec.call(e),e}(t,Object.create(Ec.prototype));return lu(e,Cc),e}function Ec(){lu(this,Ec)}function Ac(t){var e=function(t,e){return ac(t,e),kc.call(e),e}(t,Object.create(kc.prototype));return lu(e,Ac),e}function kc(){lu(this,kc)}function Sc(t){var e=function(t,e){return Ql(t,e),Tc.call(e),e}(t,Object.create(Tc.prototype));return lu(e,Sc),e}function Tc(){lu(this,Tc)}function Ic(){var t,e=(sc(t=Object.create(Oc.prototype)),Oc.call(t),t);return lu(e,Ic),e}function Oc(){lu(this,Oc)}function zc(){var t,e=(sc(t=Object.create(Mc.prototype)),Mc.call(t),t);return lu(e,zc),e}function Mc(){lu(this,Mc)}function Dc(){var t,e=(sc(t=Object.create(Rc.prototype)),Rc.call(t),t);return lu(e,Dc),e}function Rc(){lu(this,Rc)}function Pc(t){var e=function(t,e){return ac(t,e),jc.call(e),e}(t,Object.create(jc.prototype));return lu(e,Pc),e}function jc(){lu(this,jc)}function Nc(t,e){return t in e}function Lc(t,e){return t|e}function qc(t,e){delete t[e]}function Bc(t,e){return t instanceof e}function Fc(t,e){return Mu(t,Us(e))}function Uc(){}function Hc(){}function Vc(){}return Zl.prototype=Object.create(Error.prototype),Zl.prototype.constructor=Zl,cc.prototype=Object.create(Zl.prototype),cc.prototype.constructor=cc,oe.prototype=Object.create(cc.prototype),oe.prototype.constructor=oe,ue.prototype=Object.create(ae.prototype),ue.prototype.constructor=ue,he.prototype=Object.create(se.prototype),he.prototype.constructor=he,$e.prototype=Object.create(se.prototype),$e.prototype.constructor=$e,ve.prototype=Object.create($e.prototype),ve.prototype.constructor=ve,ge.prototype=Object.create(se.prototype),ge.prototype.constructor=ge,Ge.prototype=Object.create(Ye.prototype),Ge.prototype.constructor=Ge,bn.prototype=Object.create(Da.prototype),bn.prototype.constructor=bn,pi.prototype=Object.create(ci.prototype),pi.prototype.constructor=pi,mi.prototype=Object.create(Da.prototype),mi.prototype.constructor=mi,Jl.prototype=Object.create(Error.prototype),Jl.prototype.constructor=Jl,Ii.prototype=Object.create(Jl.prototype),Ii.prototype.constructor=Ii,$r.prototype=Object.create(br.prototype),$r.prototype.constructor=$r,Cr.prototype=Object.create(xr.prototype),Cr.prototype.constructor=Cr,Mr.prototype=Object.create(kr.prototype),Mr.prototype.constructor=Mr,Rr.prototype=Object.create(Tr.prototype),Rr.prototype.constructor=Rr,oo.prototype=Object.create(se.prototype),oo.prototype.constructor=oo,ao.prototype=Object.create(so.prototype),ao.prototype.constructor=ao,lo.prototype=Object.create(oo.prototype),lo.prototype.constructor=lo,uo.prototype=Object.create(lo.prototype),uo.prototype.constructor=uo,vo.prototype=Object.create(oo.prototype),vo.prototype.constructor=vo,_o.prototype=Object.create(vo.prototype),_o.prototype.constructor=_o,fo.prototype=Object.create(vo.prototype),fo.prototype.constructor=fo,mo.prototype=Object.create(oo.prototype),mo.prototype.constructor=mo,yo.prototype=Object.create(we.prototype),yo.prototype.constructor=yo,Co.prototype=Object.create(lo.prototype),Co.prototype.constructor=Co,To.prototype=Object.create(_o.prototype),To.prototype.constructor=To,Do.prototype=Object.create(yo.prototype),Do.prototype.constructor=Do,No.prototype=Object.create(vo.prototype),No.prototype.constructor=No,Yo.prototype=Object.create(po.prototype),Yo.prototype.constructor=Yo,Wo.prototype=Object.create(_o.prototype),Wo.prototype.constructor=Wo,Jo.prototype=Object.create(Do.prototype),Jo.prototype.constructor=Jo,is.prototype=Object.create(No.prototype),is.prototype.constructor=is,mc.prototype=Object.create(cc.prototype),mc.prototype.constructor=mc,us.prototype=Object.create(mc.prototype),us.prototype.constructor=us,ys.prototype=Object.create(ms.prototype),ys.prototype.constructor=ys,vs.prototype=Object.create(ms.prototype),vs.prototype.constructor=vs,bs.prototype=Object.create(ms.prototype),bs.prototype.constructor=bs,Ps.prototype=Object.create(Zl.prototype),Ps.prototype.constructor=Ps,ca.prototype=Object.create(Da.prototype),ca.prototype.constructor=ca,Ua.prototype=Object.create(br.prototype),Ua.prototype.constructor=Ua,gu.prototype=Object.create(wr.prototype),gu.prototype.constructor=gu,Hl.prototype=Object.create(ql.prototype),Hl.prototype.constructor=Hl,Vl.prototype=Object.create(ql.prototype),Vl.prototype.constructor=Vl,ec.prototype=Object.create(cc.prototype),ec.prototype.constructor=ec,oc.prototype=Object.create(cc.prototype),oc.prototype.constructor=oc,wc.prototype=Object.create(cc.prototype),wc.prototype.constructor=wc,xc.prototype=Object.create(cc.prototype),xc.prototype.constructor=xc,$c.prototype=Object.create(cc.prototype),$c.prototype.constructor=$c,Ec.prototype=Object.create(Jl.prototype),Ec.prototype.constructor=Ec,kc.prototype=Object.create(cc.prototype),kc.prototype.constructor=kc,Tc.prototype=Object.create(ec.prototype),Tc.prototype.constructor=Tc,Oc.prototype=Object.create(cc.prototype),Oc.prototype.constructor=Oc,Mc.prototype=Object.create(cc.prototype),Mc.prototype.constructor=Mc,Rc.prototype=Object.create(cc.prototype),Rc.prototype.constructor=Rc,jc.prototype=Object.create(cc.prototype),jc.prototype.constructor=jc,Vt.prototype.w=function(t,e){return this.v_1(t,e)},Vt.prototype.compare=function(t,e){return this.w(t,e)},Vt.$metadata$=tl("sam$kotlin_Comparator$0",[Xr]),Yt.prototype.w=function(t,e){return this.x_1(t,e)},Yt.prototype.compare=function(t,e){return this.w(t,e)},Yt.$metadata$=tl("sam$kotlin_Comparator$0",[Xr]),Wt.prototype.w=function(t,e){return this.y_1(t,e)},Wt.prototype.compare=function(t,e){return this.w(t,e)},Wt.$metadata$=tl("sam$kotlin_Comparator$0",[Xr]),ne.prototype.d=function(){return this.p1_1.d()},ne.$metadata$=tl(void 0,[ba]),oe.$metadata$=tl("KotlinNothingValueException",void 0,void 0,void 0,void 0,cc.prototype),se.prototype.n=function(t){var e;t:if(rl(this,Aa)&&this.m())e=!1;else{for(var n=this.d();n.e();)if(su(n.f(),t)){e=!0;break t}e=!1}return e},se.prototype.t1=function(t){var e;t:if(rl(t,Aa)&&t.m())e=!0;else{for(var n=t.d();n.e();){var i=n.f();if(!this.n(i)){e=!1;break t}}e=!0}return e},se.prototype.m=function(){return 0===this.g()},se.prototype.toString=function(){return Mt(this,", ","[","]",0,null,(t=this,function(e){return e===t?"(this Collection)":Ra(e)}),24);var t},se.prototype.toArray=function(){return ro(this)},se.$metadata$=tl("AbstractCollection",[Aa]),ae.prototype.w1=function(t){this.u1_1=t},ae.prototype.x1=function(){return this.u1_1},ae.prototype.e=function(){return this.u1_1<this.v1_1.g()},ae.prototype.f=function(){if(!this.e())throw nc();var t=this.u1_1;return this.u1_1=t+1|0,this.v1_1.l(t)},ae.$metadata$=tl("IteratorImpl",[mr]),ue.prototype.r=function(){return this.x1()>0},ue.prototype.s=function(){return this.x1()},ue.prototype.t=function(){if(!this.r())throw nc();var t=this;return t.w1(t.x1()-1|0),this.a2_1.l(t.x1())},ue.$metadata$=tl("ListIteratorImpl",[vr],void 0,void 0,void 0,ae.prototype),le.prototype.c2=function(t,e){if(t<0||t>=e)throw bc("index: "+t+", size: "+e)},le.prototype.b2=function(t,e){if(t<0||t>e)throw bc("index: "+t+", size: "+e)},le.prototype.d2=function(t,e,n){if(t<0||e>n)throw bc("fromIndex: "+t+", toIndex: "+e+", size: "+n);if(t>e)throw tc("fromIndex: "+t+" > toIndex: "+e)},le.prototype.e2=function(t,e,n){if(t<0||e>n)throw bc("startIndex: "+t+", endIndex: "+e+", size: "+n);if(t>e)throw tc("startIndex: "+t+" > endIndex: "+e)},le.prototype.f2=function(t){for(var e=1,n=t.d();n.e();){var i=n.f(),r=gt(31,e),o=null==i?null:au(i);e=r+(null==o?0:o)|0}return e},le.prototype.g2=function(t,e){if(t.g()!==e.g())return!1;for(var n=e.d(),i=t.d();i.e();)if(!su(i.f(),n.f()))return!1;return!0},le.$metadata$=El("Companion"),he.prototype.d=function(){return new ae(this)},he.prototype.p=function(t){var e;t:{for(var n=0,i=this.d();i.e();){if(su(i.f(),t)){e=n;break t}n=n+1|0}e=-1}return e},he.prototype.h2=function(t){var e;t:{for(var n=this.q(this.g());n.r();)if(su(n.t(),t)){e=n.s();break t}e=-1}return e},he.prototype.q=function(t){return new ue(this,t)},he.prototype.equals=function(t){return t===this||!(null==t||!rl(t,xa))&&ce().g2(this,t)},he.prototype.hashCode=function(){return ce().f2(this)},he.$metadata$=tl("AbstractList",[xa],void 0,void 0,void 0,se.prototype),pe.prototype.e=function(){return this.i2_1.e()},pe.prototype.f=function(){return this.i2_1.f().a1()},pe.$metadata$=tl(void 0,[mr]),_e.prototype.e=function(){return this.j2_1.e()},_e.prototype.f=function(){return this.j2_1.f().b1()},_e.$metadata$=tl(void 0,[mr]),me.prototype.k2=function(t){var e=t.a1(),n=null==e?null:au(e),i=null==n?0:n,r=t.b1(),o=null==r?null:au(r);return i^(null==o?0:o)},me.prototype.l2=function(t){return Ra(t.a1())+"="+Ra(t.b1())},me.prototype.m2=function(t,e){return!(null==e||!rl(e,Ca))&&!!su(t.a1(),e.a1())&&su(t.b1(),e.b1())},me.$metadata$=El("Companion"),ve.prototype.o2=function(t){return this.n2_1.r2(t)},ve.prototype.n=function(t){return!(null!=t&&!pl(t))&&this.o2(null==t||pl(t)?t:fu())},ve.prototype.d=function(){return new pe(this.n2_1.z().d())},ve.prototype.g=function(){return this.n2_1.g()},ve.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,$e.prototype),ge.prototype.u2=function(t){return this.t2_1.v2(t)},ge.prototype.n=function(t){return!(null!=t&&!pl(t))&&this.u2(null==t||pl(t)?t:fu())},ge.prototype.d=function(){return new _e(this.t2_1.z().d())},ge.prototype.g=function(){return this.t2_1.g()},ge.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,se.prototype),we.prototype.r2=function(t){return!(null==de(this,t))},we.prototype.v2=function(t){var e;t:{var n=this.z();if(rl(n,Aa)&&n.m())e=!1;else{for(var i=n.d();i.e();)if(su(i.f().b1(),t)){e=!0;break t}e=!1}}return e},we.prototype.w2=function(t){if(null==t||!rl(t,Ca))return!1;var e=t.a1(),n=t.b1(),i=(rl(this,Ea)?this:fu()).o(e);return!(!su(n,i)||null==i&&!(rl(this,Ea)?this:fu()).r2(e))},we.prototype.equals=function(t){if(t===this)return!0;if(null==t||!rl(t,Ea))return!1;if(this.g()!==t.g())return!1;var e;t:{var n=t.z();if(rl(n,Aa)&&n.m())e=!0;else{for(var i=n.d();i.e();){var r=i.f();if(!this.w2(r)){e=!1;break t}}e=!0}}return e},we.prototype.o=function(t){var e=de(this,t);return null==e?null:e.b1()},we.prototype.hashCode=function(){return au(this.z())},we.prototype.m=function(){return 0===this.g()},we.prototype.g=function(){return this.z().g()},we.prototype.x2=function(){return null==this.p2_1&&(this.p2_1=new ve(this)),_u(this.p2_1)},we.prototype.toString=function(){return Mt(this.z(),", ","{","}",0,null,(t=this,function(e){return t.s2(e)}),24);var t},we.prototype.s2=function(t){return fe(this,t.a1())+"="+fe(this,t.b1())},we.prototype.y2=function(){return null==this.q2_1&&(this.q2_1=new ge(this)),_u(this.q2_1)},we.$metadata$=tl("AbstractMap",[Ea]),be.prototype.z2=function(t){for(var e=0,n=t.d();n.e();){var i=n.f(),r=e,o=null==i?null:au(i);e=r+(null==o?0:o)|0}return e},be.prototype.a3=function(t,e){return t.g()===e.g()&&t.t1(e)},be.$metadata$=El("Companion"),$e.prototype.equals=function(t){return t===this||!(null==t||!rl(t,Ia))&&xe().a3(this,t)},$e.prototype.hashCode=function(){return xe().z2(this)},$e.$metadata$=tl("AbstractSet",[Ia],void 0,void 0,void 0,se.prototype),ke.prototype.equals=function(t){return!(null==t||!rl(t,xa))&&t.m()},ke.prototype.hashCode=function(){return 1},ke.prototype.toString=function(){return"[]"},ke.prototype.g=function(){return 0},ke.prototype.m=function(){return!0},ke.prototype.c3=function(t){return!1},ke.prototype.n=function(t){return!1},ke.prototype.d3=function(t){return t.m()},ke.prototype.t1=function(t){return this.d3(t)},ke.prototype.l=function(t){throw bc("Empty list doesn't contain element at index "+t+".")},ke.prototype.e3=function(t){return-1},ke.prototype.p=function(t){return-1},ke.prototype.d=function(){return Ie()},ke.prototype.q=function(t){if(0!==t)throw bc("Index: "+t);return Ie()},ke.$metadata$=El("EmptyList",[xa,ls,rs]),Te.prototype.e=function(){return!1},Te.prototype.r=function(){return!1},Te.prototype.s=function(){return 0},Te.prototype.f=function(){throw nc()},Te.prototype.t=function(){throw nc()},Te.$metadata$=El("EmptyIterator",[vr]),ze.prototype.g=function(){return this.f3_1.length},ze.prototype.m=function(){return 0===this.f3_1.length},ze.prototype.o1=function(t){return function(t,e){return At(t,e)>=0}(this.f3_1,t)},ze.prototype.n=function(t){return!(null!=t&&!pl(t))&&this.o1(null==t||pl(t)?t:fu())},ze.prototype.h3=function(t){var e;t:if(rl(t,Aa)&&t.m())e=!0;else{for(var n=t.d();n.e();){var i=n.f();if(!this.o1(i)){e=!1;break t}}e=!0}return e},ze.prototype.t1=function(t){return this.h3(t)},ze.prototype.d=function(){return Na(this.f3_1)},ze.$metadata$=tl("ArrayAsCollection",[Aa]),Me.prototype.x1=function(){return this.i3_1},Me.prototype.b1=function(){return this.j3_1},Me.prototype.toString=function(){return"IndexedValue(index="+this.i3_1+", value="+this.j3_1+")"},Me.prototype.hashCode=function(){var t=this.i3_1;return gt(t,31)+(null==this.j3_1?0:au(this.j3_1))|0},Me.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Me))return!1;var e=t instanceof Me?t:fu();return this.i3_1===e.i3_1&&!!su(this.j3_1,e.j3_1)},Me.$metadata$=tl("IndexedValue"),Re.prototype.d=function(){return new je(this.k3_1())},Re.$metadata$=tl("IndexingIterable",[ba]),Pe.prototype.d=function(){return this.l3_1()},Pe.$metadata$=tl(void 0,[ba]),je.prototype.e=function(){return this.m3_1.e()},je.prototype.f=function(){var t=this.n3_1;return this.n3_1=t+1|0,new Me(eo(t),this.m3_1.f())},je.$metadata$=tl("IndexingIterator",[mr]),Ne.$metadata$=Cl("MapWithDefault",[Ea]),qe.prototype.equals=function(t){return!(null==t||!rl(t,Ea))&&t.m()},qe.prototype.hashCode=function(){return 0},qe.prototype.toString=function(){return"{}"},qe.prototype.g=function(){return 0},qe.prototype.m=function(){return!0},qe.prototype.s3=function(t){return!1},qe.prototype.r2=function(t){return!(null!=t&&!pl(t))&&this.s3(null==t||pl(t)?t:fu())},qe.prototype.t3=function(t){return null},qe.prototype.o=function(t){return null==t||pl(t)?this.t3(null==t||pl(t)?t:fu()):null},qe.prototype.z=function(){return en()},qe.prototype.x2=function(){return en()},qe.prototype.y2=function(){return Se()},qe.$metadata$=El("EmptyMap",[Ea,ls]),Ve.$metadata$=Cl("Sequence"),Ye.$metadata$=tl("SequenceScope"),Ge.prototype.f4=function(t){this.e4_1=t},Ge.prototype.e=function(){for(;;){switch(this.b4_1){case 0:break;case 1:if(_u(this.d4_1).e())return this.b4_1=2,!0;this.d4_1=null;break;case 4:return!1;case 3:case 2:return!0;default:throw We(this)}this.b4_1=5;var t,e=_u(this.e4_1);this.e4_1=null,Ei(),t=jr(),e.g4(t)}},Ge.prototype.f=function(){switch(this.b4_1){case 0:case 1:return function(t){if(t.e())return t.f();throw nc()}(this);case 2:return this.b4_1=1,_u(this.d4_1).f();case 3:this.b4_1=0;var t=this.c4_1,e=null==t||pl(t)?t:fu();return this.c4_1=null,e;default:throw We(this)}},Ge.prototype.a4=function(t,e){this.c4_1=t,this.b4_1=3;var n=e;return this.e4_1=n,gn()},Ge.prototype.h4=function(t){Ti(t);null==t||pl(t)||fu(),this.b4_1=4},Ge.prototype.g4=function(t){return this.h4(t)},Ge.prototype.i4=function(){return _n()},Ge.$metadata$=tl("SequenceBuilderIterator",[mr,on],void 0,void 0,void 0,Ye.prototype),Ze.prototype.d=function(){return t=this.j4_1,(e=new Ge).e4_1=Ul(t,e,e),e;var t,e},Ze.$metadata$=tl(void 0,[Ve]),Ke.prototype.f=function(){return this.l4_1.n4_1(this.k4_1.f())},Ke.prototype.e=function(){return this.k4_1.e()},Ke.$metadata$=tl(void 0,[mr]),Xe.prototype.d=function(){return new Ke(this)},Xe.$metadata$=tl("TransformingSequence",[Ve]),Je.prototype.d=function(){return this.o4_1()},Je.$metadata$=tl(void 0,[Ve]),tn.prototype.equals=function(t){return!(null==t||!rl(t,Ia))&&t.m()},tn.prototype.hashCode=function(){return 0},tn.prototype.toString=function(){return"[]"},tn.prototype.g=function(){return 0},tn.prototype.m=function(){return!0},tn.prototype.c3=function(t){return!1},tn.prototype.n=function(t){return!1},tn.prototype.d3=function(t){return t.m()},tn.prototype.t1=function(t){return this.d3(t)},tn.prototype.d=function(){return Ie()},tn.$metadata$=El("EmptySet",[Ia,ls]),nn.prototype.w=function(t,e){return this.q4_1(t,e)},nn.prototype.compare=function(t,e){return this.w(t,e)},nn.$metadata$=tl("sam$kotlin_Comparator$0",[Xr]),rn.prototype.w=function(t,e){return this.r4_1(t,e)},rn.prototype.compare=function(t,e){return this.w(t,e)},rn.$metadata$=tl("sam$kotlin_Comparator$0",[Xr]),on.$metadata$=Cl("Continuation"),sn.$metadata$=El("Key",[ln]),un.$metadata$=Cl("ContinuationInterceptor",[cn]),ln.$metadata$=Cl("Key"),cn.$metadata$=Cl("Element",[hn]),hn.$metadata$=Cl("CoroutineContext"),pn.prototype.u4=function(t){return null},pn.prototype.a5=function(t,e){return t},pn.prototype.b5=function(t){return t},pn.prototype.z4=function(t){return this},pn.prototype.hashCode=function(){return 0},pn.prototype.toString=function(){return"EmptyCoroutineContext"},pn.$metadata$=El("EmptyCoroutineContext",[hn,ls]),mn.prototype.u4=function(t){for(var e=this;;){var n=e.e5_1.u4(t);if(null!=n)return n;var i=e.d5_1;if(!(i instanceof mn))return i.u4(t);e=i}},mn.prototype.a5=function(t,e){return e(this.d5_1.a5(t,e),this.e5_1)},mn.prototype.z4=function(t){if(null!=this.e5_1.u4(t))return this.d5_1;var e=this.d5_1.z4(t);return e===this.d5_1?this:e===_n()?this.e5_1:new mn(e,this.e5_1)},mn.prototype.equals=function(t){return this===t||!!(t instanceof mn&&fn(t)===fn(this))&&function(t,e){for(var n=e;;){if(!dn(t,n.e5_1))return!1;var i=n.d5_1;if(!(i instanceof mn))return dn(t,rl(i,cn)?i:fu());n=i}}(t,this)},mn.prototype.hashCode=function(){return au(this.d5_1)+au(this.e5_1)|0},mn.prototype.toString=function(){return"["+this.a5("",(function(t,e){return 0===Ja(t)?ou(e):t+", "+e}))+"]"},mn.$metadata$=tl("CombinedContext",[hn,ls]),yn.prototype.x4=function(t){return this.v4_1(t)},yn.prototype.y4=function(t){return t===this||this.w4_1===t},yn.$metadata$=tl("AbstractCoroutineContextKey",[ln]),vn.prototype.a1=function(){return this.f5_1},vn.$metadata$=tl("AbstractCoroutineContextElement",[cn]),bn.$metadata$=tl("CoroutineSingletons",void 0,void 0,void 0,void 0,Da.prototype),Cn.$metadata$=Cl("ReadOnlyProperty"),En.$metadata$=Cl("ClosedFloatingPointRange",[Ir]),An.prototype.n5=function(){return this.o5_1},An.prototype.l5=function(){return this.p5_1},An.prototype.q5=function(t,e){return t<=e},An.prototype.m5=function(t,e){var n="number"==typeof t?t:fu();return this.q5(n,"number"==typeof e?e:fu())},An.prototype.r5=function(t){return t>=this.o5_1&&t<=this.p5_1},An.prototype.o1=function(t){return this.r5("number"==typeof t?t:fu())},An.prototype.m=function(){return!(this.o5_1<=this.p5_1)},An.prototype.equals=function(t){return t instanceof An&&(!(!this.m()||!t.m())||this.o5_1===t.o5_1&&this.p5_1===t.p5_1)},An.prototype.hashCode=function(){return this.m()?-1:gt(31,Ga(this.o5_1))+Ga(this.p5_1)|0},An.prototype.toString=function(){return this.o5_1+".."+this.p5_1},An.$metadata$=tl("ClosedDoubleRange",[En]),kn.$metadata$=Cl("KClassifier"),Sn.$metadata$=Cl("KTypeParameter",[kn]),Xn.prototype.f=function(){if(-1===this.b6_1&&Kn(this),0===this.b6_1)throw nc();var t=this.e6_1,e=t instanceof Mr?t:fu();return this.e6_1=null,this.b6_1=-1,e},Xn.prototype.e=function(){return-1===this.b6_1&&Kn(this),1===this.b6_1},Xn.$metadata$=tl(void 0,[mr]),Jn.prototype.d=function(){return new Xn(this)},Jn.$metadata$=tl("DelimitedRangesSequence",[Ve]),ci.$metadata$=tl("DeepRecursiveScope"),hi.$metadata$=tl("DeepRecursiveFunction"),pi.prototype.i4=function(){return _n()},pi.prototype.v6=function(t){this.s6_1=null,this.t6_1=t},pi.prototype.g4=function(t){return this.v6(t)},pi.prototype.o6=function(t,e){var n=e;return this.s6_1=rl(n,on)?n:fu(),this.r6_1=t,gn()},pi.prototype.u6=function(){t:for(;;){var t=this.t6_1,e=this.s6_1;if(null==e){var n=new ki(t)instanceof ki?t:fu();Ti(n);var i=n;return null==i||pl(i)?i:fu()}var r=e;if(su(li(),t)){var o;try{var s,a=this.q6_1,u=this.r6_1;o="function"==typeof(s=a)?s(this,u,r):a.w6(this,u,r)}catch(t){if(t instanceof Error){var l;Ei(),l=Si(t),r.g4(l);continue t}throw t}var c=o;if(c!==gn()){var h,p=null==c||pl(c)?c:fu();Ei(),h=p,r.g4(h)}}else this.t6_1=li(),r.g4(t)}},pi.$metadata$=tl("DeepRecursiveScopeImpl",[on],void 0,void 0,void 0,ci.prototype),fi.$metadata$=Cl("Lazy"),mi.$metadata$=tl("LazyThreadSafetyMode",void 0,void 0,void 0,void 0,Da.prototype),yi.prototype.b1=function(){this.z6_1===gi()&&(this.z6_1=_u(this.y6_1)(),this.y6_1=null);var t=this.z6_1;return null==t||pl(t)?t:fu()},yi.prototype.x6=function(){return!(this.z6_1===gi())},yi.prototype.toString=function(){return this.x6()?Ra(this.b1()):"Lazy value not initialized yet."},yi.$metadata$=tl("UnsafeLazyImpl",[fi,ls]),vi.$metadata$=El("UNINITIALIZED_VALUE"),Ci.prototype.b7=function(t){return t},Ci.prototype.c7=function(t){return Si(t)},Ci.$metadata$=El("Companion"),Ai.prototype.equals=function(t){return t instanceof Ai&&su(this.a7_1,t.a7_1)},Ai.prototype.hashCode=function(){return au(this.a7_1)},Ai.prototype.toString=function(){return"Failure("+this.a7_1+")"},Ai.$metadata$=tl("Failure",[ls]),ki.prototype.toString=function(){return(t=this.d7_1)instanceof Ai?ou(t):"Success("+Ra(t)+")";var t},ki.prototype.hashCode=function(){return null==(t=this.d7_1)?0:au(t);var t},ki.prototype.equals=function(t){return function(t,e){return e instanceof ki&&!!su(t,e instanceof ki?e.d7_1:fu())}(this.d7_1,t)},ki.$metadata$=tl("Result",[ls]),Ii.$metadata$=tl("NotImplementedError",void 0,void 0,void 0,void 0,Jl.prototype),Oi.prototype.e7=function(){return this.u3_1},Oi.prototype.f7=function(){return this.v3_1},Oi.prototype.toString=function(){return"("+this.u3_1+", "+this.v3_1+")"},Oi.prototype.w3=function(){return this.u3_1},Oi.prototype.x3=function(){return this.v3_1},Oi.prototype.hashCode=function(){var t=null==this.u3_1?0:au(this.u3_1);return gt(t,31)+(null==this.v3_1?0:au(this.v3_1))|0},Oi.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Oi))return!1;var e=t instanceof Oi?t:fu();return!!su(this.u3_1,e.u3_1)&&!!su(this.v3_1,e.v3_1)},Oi.$metadata$=tl("Pair",[ls]),Mi.prototype.toString=function(){return"("+this.g7_1+", "+this.h7_1+", "+this.i7_1+")"},Mi.prototype.hashCode=function(){var t=null==this.g7_1?0:au(this.g7_1);return t=gt(t,31)+(null==this.h7_1?0:au(this.h7_1))|0,gt(t,31)+(null==this.i7_1?0:au(this.i7_1))|0},Mi.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Mi))return!1;var e=t instanceof Mi?t:fu();return!!su(this.g7_1,e.g7_1)&&!!su(this.h7_1,e.h7_1)&&!!su(this.i7_1,e.i7_1)},Mi.$metadata$=tl("Triple",[ls]),Pi.$metadata$=El("Companion"),qi.prototype.o7=function(t){return Ni(this.n7_1,t)},qi.prototype.p7=function(t){return function(t,e){return Ni(t.n7_1,e instanceof qi?e.n7_1:fu())}(this,t)},qi.prototype.toString=function(){return Li(this.n7_1)},qi.prototype.hashCode=function(){return this.n7_1},qi.prototype.equals=function(t){return function(t,e){return e instanceof qi&&t===(e instanceof qi?e.n7_1:fu())}(this.n7_1,t)},qi.$metadata$=tl("UByte",[dr]),Ui.$metadata$=El("Companion"),Wi.prototype.w7=function(t){return Vi(this.u7_1,t)},Wi.prototype.p7=function(t){return function(t,e){return Vi(t.u7_1,e instanceof Wi?e.u7_1:fu())}(this,t)},Wi.prototype.toString=function(){return Yi(this.u7_1)},Wi.prototype.hashCode=function(){return this.u7_1},Wi.prototype.equals=function(t){return function(t,e){return e instanceof Wi&&t===(e instanceof Wi?e.u7_1:fu())}(this.u7_1,t)},Wi.$metadata$=tl("UInt",[dr]),Ki.$metadata$=El("Companion"),tr.prototype.c8=function(t){return Ji(this.b8_1,t)},tr.prototype.p7=function(t){return function(t,e){return Ji(t.b8_1,e instanceof tr?e.b8_1:fu())}(this,t)},tr.prototype.toString=function(){return Qi(this.b8_1)},tr.prototype.hashCode=function(){return this.b8_1.hashCode()},tr.prototype.equals=function(t){return function(t,e){if(!(e instanceof tr))return!1;var n=e instanceof tr?e.b8_1:fu();return!!t.equals(n)}(this.b8_1,t)},tr.$metadata$=tl("ULong",[dr]),ir.$metadata$=El("Companion"),ar.prototype.i8=function(t){return or(this.h8_1,t)},ar.prototype.p7=function(t){return function(t,e){return or(t.h8_1,e instanceof ar?e.h8_1:fu())}(this,t)},ar.prototype.toString=function(){return sr(this.h8_1)},ar.prototype.hashCode=function(){return this.h8_1},ar.prototype.equals=function(t){return function(t,e){return e instanceof ar&&t===(e instanceof ar?e.h8_1:fu())}(this.h8_1,t)},ar.$metadata$=tl("UShort",[dr]),_r.$metadata$=Cl("Annotation"),fr.$metadata$=Cl("CharSequence"),dr.$metadata$=Cl("Comparable"),mr.$metadata$=Cl("Iterator"),yr.$metadata$=Cl("MutableIterator",[mr]),vr.$metadata$=Cl("ListIterator",[mr]),gr.$metadata$=Cl("MutableListIterator",[vr,yr]),wr.$metadata$=tl("Number"),br.prototype.f=function(){return this.p8()},br.$metadata$=tl("IntIterator",[mr]),xr.prototype.q8=function(){return this.r8()},xr.prototype.f=function(){return new wa(this.q8())},xr.$metadata$=tl("CharIterator",[mr]),$r.prototype.e=function(){return this.u8_1},$r.prototype.p8=function(){var t=this.v8_1;if(t===this.t8_1){if(!this.u8_1)throw nc();this.u8_1=!1}else{this.v8_1=this.v8_1+this.s8_1|0}return t},$r.$metadata$=tl("IntProgressionIterator",void 0,void 0,void 0,void 0,br.prototype),Cr.prototype.e=function(){return this.y8_1},Cr.prototype.r8=function(){var t=this.z8_1;if(t===this.x8_1){if(!this.y8_1)throw nc();this.y8_1=!1}else{this.z8_1=this.z8_1+this.w8_1|0}return Gu(t)},Cr.$metadata$=tl("CharProgressionIterator",void 0,void 0,void 0,void 0,xr.prototype),Er.prototype.n1=function(t,e,n){return new kr(t,e,n)},Er.$metadata$=El("Companion"),kr.prototype.e7=function(){return this.k1_1},kr.prototype.a9=function(){return this.l1_1},kr.prototype.d=function(){return new $r(this.k1_1,this.l1_1,this.m1_1)},kr.prototype.m=function(){return this.m1_1>0?this.k1_1>this.l1_1:this.k1_1<this.l1_1},kr.prototype.equals=function(t){return t instanceof kr&&(!(!this.m()||!t.m())||this.k1_1===t.k1_1&&this.l1_1===t.l1_1&&this.m1_1===t.m1_1)},kr.prototype.hashCode=function(){return this.m()?-1:gt(31,gt(31,this.k1_1)+this.l1_1|0)+this.m1_1|0},kr.prototype.toString=function(){return this.m1_1>0?this.k1_1+".."+this.l1_1+" step "+this.m1_1:this.k1_1+" downTo "+this.l1_1+" step "+(0|-this.m1_1)},kr.$metadata$=tl("IntProgression",[ba]),Sr.$metadata$=El("Companion"),Tr.prototype.e9=function(){return this.b9_1},Tr.prototype.f9=function(){return this.c9_1},Tr.prototype.d=function(){return new Cr(this.b9_1,this.c9_1,this.d9_1)},Tr.prototype.m=function(){return this.d9_1>0?fa(this.b9_1,this.c9_1)>0:fa(this.b9_1,this.c9_1)<0},Tr.prototype.equals=function(t){return t instanceof Tr&&(!(!this.m()||!t.m())||!(!su(new wa(this.b9_1),new wa(t.b9_1))||!su(new wa(this.c9_1),new wa(t.c9_1)))&&this.d9_1===t.d9_1)},Tr.prototype.hashCode=function(){var t;if(this.m())t=-1;else{var e;e=this.b9_1;var n,i=gt(31,e);n=this.c9_1,t=gt(31,i+n|0)+this.d9_1|0}return t},Tr.prototype.toString=function(){return this.d9_1>0?new wa(this.b9_1)+".."+new wa(this.c9_1)+" step "+this.d9_1:new wa(this.b9_1)+" downTo "+new wa(this.c9_1)+" step "+(0|-this.d9_1)},Tr.$metadata$=tl("CharProgression",[ba]),Ir.$metadata$=Cl("ClosedRange"),Or.$metadata$=El("Companion"),Mr.prototype.n5=function(){return this.e7()},Mr.prototype.l5=function(){return this.a9()},Mr.prototype.g9=function(t){return this.e7()<=t&&t<=this.a9()},Mr.prototype.o1=function(t){return this.g9("number"==typeof t?t:fu())},Mr.prototype.m=function(){return this.e7()>this.a9()},Mr.prototype.equals=function(t){return t instanceof Mr&&(!(!this.m()||!t.m())||this.e7()===t.e7()&&this.a9()===t.a9())},Mr.prototype.hashCode=function(){return this.m()?-1:gt(31,this.e7())+this.a9()|0},Mr.prototype.toString=function(){return this.e7()+".."+this.a9()},Mr.$metadata$=tl("IntRange",[Ir],void 0,void 0,void 0,kr.prototype),Dr.$metadata$=El("Companion"),Rr.prototype.l9=function(){return this.e9()},Rr.prototype.n5=function(){return new wa(this.l9())},Rr.prototype.m9=function(){return this.f9()},Rr.prototype.l5=function(){return new wa(this.m9())},Rr.prototype.n9=function(t){return fa(this.e9(),t)<=0&&fa(t,this.f9())<=0},Rr.prototype.o1=function(t){return this.n9(t instanceof wa?t.q1_1:fu())},Rr.prototype.m=function(){return fa(this.e9(),this.f9())>0},Rr.prototype.equals=function(t){return t instanceof Rr&&(!(!this.m()||!t.m())||!!su(new wa(this.e9()),new wa(t.e9()))&&su(new wa(this.f9()),new wa(t.f9())))},Rr.prototype.hashCode=function(){var t,e;return this.m()?t=-1:(e=this.e9(),t=gt(31,e)+this.f9()|0),t},Rr.prototype.toString=function(){return new wa(this.e9())+".."+new wa(this.f9())},Rr.$metadata$=tl("CharRange",[Ir],void 0,void 0,void 0,Tr.prototype),Pr.prototype.toString=function(){return"kotlin.Unit"},Pr.$metadata$=El("Unit"),Br.prototype.s9=function(){return this.o9_1},Br.prototype.t9=function(){return this.p9_1},Br.prototype.u9=function(){return this.q9_1},Br.prototype.v9=function(){return this.r9_1},Br.$metadata$=El("ByteCompanionObject"),Object.defineProperty(Br.prototype,"MIN_VALUE",{configurable:!0,get:Br.prototype.s9}),Object.defineProperty(Br.prototype,"MAX_VALUE",{configurable:!0,get:Br.prototype.t9}),Object.defineProperty(Br.prototype,"SIZE_BYTES",{configurable:!0,get:Br.prototype.u9}),Object.defineProperty(Br.prototype,"SIZE_BITS",{configurable:!0,get:Br.prototype.v9}),Fr.prototype.s9=function(){return this.w9_1},Fr.prototype.t9=function(){return this.x9_1},Fr.prototype.u9=function(){return this.y9_1},Fr.prototype.v9=function(){return this.z9_1},Fr.$metadata$=El("ShortCompanionObject"),Object.defineProperty(Fr.prototype,"MIN_VALUE",{configurable:!0,get:Fr.prototype.s9}),Object.defineProperty(Fr.prototype,"MAX_VALUE",{configurable:!0,get:Fr.prototype.t9}),Object.defineProperty(Fr.prototype,"SIZE_BYTES",{configurable:!0,get:Fr.prototype.u9}),Object.defineProperty(Fr.prototype,"SIZE_BITS",{configurable:!0,get:Fr.prototype.v9}),Ur.prototype.s9=function(){return this.d1_1},Ur.prototype.t9=function(){return this.e1_1},Ur.prototype.u9=function(){return this.f1_1},Ur.prototype.v9=function(){return this.g1_1},Ur.$metadata$=El("IntCompanionObject"),Object.defineProperty(Ur.prototype,"MIN_VALUE",{configurable:!0,get:Ur.prototype.s9}),Object.defineProperty(Ur.prototype,"MAX_VALUE",{configurable:!0,get:Ur.prototype.t9}),Object.defineProperty(Ur.prototype,"SIZE_BYTES",{configurable:!0,get:Ur.prototype.u9}),Object.defineProperty(Ur.prototype,"SIZE_BITS",{configurable:!0,get:Ur.prototype.v9}),Vr.prototype.s9=function(){return this.aa_1},Vr.prototype.t9=function(){return this.ba_1},Vr.prototype.ha=function(){return this.ca_1},Vr.prototype.ia=function(){return this.da_1},Vr.prototype.ja=function(){return this.ea_1},Vr.prototype.u9=function(){return this.fa_1},Vr.prototype.v9=function(){return this.ga_1},Vr.$metadata$=El("FloatCompanionObject"),Object.defineProperty(Vr.prototype,"MIN_VALUE",{configurable:!0,get:Vr.prototype.s9}),Object.defineProperty(Vr.prototype,"MAX_VALUE",{configurable:!0,get:Vr.prototype.t9}),Object.defineProperty(Vr.prototype,"POSITIVE_INFINITY",{configurable:!0,get:Vr.prototype.ha}),Object.defineProperty(Vr.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:Vr.prototype.ia}),Object.defineProperty(Vr.prototype,"NaN",{configurable:!0,get:Vr.prototype.ja}),Object.defineProperty(Vr.prototype,"SIZE_BYTES",{configurable:!0,get:Vr.prototype.u9}),Object.defineProperty(Vr.prototype,"SIZE_BITS",{configurable:!0,get:Vr.prototype.v9}),Wr.prototype.s9=function(){return this.ka_1},Wr.prototype.t9=function(){return this.la_1},Wr.prototype.ha=function(){return this.ma_1},Wr.prototype.ia=function(){return this.na_1},Wr.prototype.ja=function(){return this.oa_1},Wr.prototype.u9=function(){return this.pa_1},Wr.prototype.v9=function(){return this.qa_1},Wr.$metadata$=El("DoubleCompanionObject"),Object.defineProperty(Wr.prototype,"MIN_VALUE",{configurable:!0,get:Wr.prototype.s9}),Object.defineProperty(Wr.prototype,"MAX_VALUE",{configurable:!0,get:Wr.prototype.t9}),Object.defineProperty(Wr.prototype,"POSITIVE_INFINITY",{configurable:!0,get:Wr.prototype.ha}),Object.defineProperty(Wr.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:Wr.prototype.ia}),Object.defineProperty(Wr.prototype,"NaN",{configurable:!0,get:Wr.prototype.ja}),Object.defineProperty(Wr.prototype,"SIZE_BYTES",{configurable:!0,get:Wr.prototype.u9}),Object.defineProperty(Wr.prototype,"SIZE_BITS",{configurable:!0,get:Wr.prototype.v9}),Zr.$metadata$=El("StringCompanionObject"),Kr.$metadata$=El("BooleanCompanionObject"),Xr.$metadata$=Cl("Comparator"),oo.prototype.sa=function(t){this.ta();for(var e=this.d();e.e();)if(su(e.f(),t))return e.z3(),!0;return!1},oo.prototype.k=function(t){this.ta();for(var e=!1,n=t.d();n.e();){var i=n.f();this.b(i)&&(e=!0)}return e},oo.prototype.ua=function(t){return this.ta(),Ue(rl(this,za)?this:fu(),(e=t,function(t){return e.n(t)}));var e},oo.prototype.va=function(){this.ta();for(var t=this.d();t.e();)t.f(),t.z3()},oo.prototype.toJSON=function(){return this.toArray()},oo.prototype.ta=function(){},oo.$metadata$=tl("AbstractMutableCollection",[Oa],void 0,void 0,void 0,se.prototype),so.prototype.w1=function(t){this.wa_1=t},so.prototype.x1=function(){return this.wa_1},so.prototype.za=function(t){this.xa_1=t},so.prototype.a9=function(){return this.xa_1},so.prototype.e=function(){return this.wa_1<this.ya_1.g()},so.prototype.f=function(){if(!this.e())throw nc();var t=this.wa_1;return this.wa_1=t+1|0,this.xa_1=t,this.ya_1.l(this.xa_1)},so.prototype.z3=function(){if(-1===this.xa_1)throw fc(ou("Call next() or previous() before removing element from the iterator."));this.ya_1.y3(this.xa_1),this.wa_1=this.xa_1,this.xa_1=-1},so.$metadata$=tl("IteratorImpl",[yr]),ao.prototype.r=function(){return this.x1()>0},ao.prototype.s=function(){return this.x1()},ao.prototype.t=function(){if(!this.r())throw nc();var t=this;return t.w1(t.x1()-1|0),this.za(t.x1()),this.eb_1.l(this.a9())},ao.$metadata$=tl("ListIteratorImpl",[gr],void 0,void 0,void 0,so.prototype),uo.prototype.jb=function(t,e){ce().b2(t,this.ib_1),this.gb_1.jb(this.hb_1+t|0,e);var n=this.ib_1;this.ib_1=n+1|0},uo.prototype.l=function(t){return ce().c2(t,this.ib_1),this.gb_1.l(this.hb_1+t|0)},uo.prototype.y3=function(t){ce().c2(t,this.ib_1);var e=this.gb_1.y3(this.hb_1+t|0),n=this.ib_1;return this.ib_1=n-1|0,e},uo.prototype.ra=function(t,e){return ce().c2(t,this.ib_1),this.gb_1.ra(this.hb_1+t|0,e)},uo.prototype.g=function(){return this.ib_1},uo.prototype.ta=function(){return this.gb_1.ta()},uo.$metadata$=tl("SubList",[rs],void 0,void 0,void 0,lo.prototype),lo.prototype.lb=function(t){this.ab_1=t},lo.prototype.mb=function(){return this.ab_1},lo.prototype.b=function(t){return this.ta(),this.jb(this.g(),t),!0},lo.prototype.va=function(){this.ta(),this.kb(0,this.g())},lo.prototype.d=function(){return new so(this)},lo.prototype.n=function(t){return this.p(t)>=0},lo.prototype.p=function(t){var e=0,n=Ee(this);if(e<=n)do{var i=e;if(e=e+1|0,su(this.l(i),t))return i}while(i!==n);return-1},lo.prototype.h2=function(t){var e=Ee(this);if(0<=e)do{var n=e;if(e=e+-1|0,su(this.l(n),t))return n}while(0<=e);return-1},lo.prototype.q=function(t){return new ao(this,t)},lo.prototype.nb=function(t,e){return new uo(this,t,e)},lo.prototype.kb=function(t,e){var n=this.q(t),i=e-t|0,r=0;if(r<i)do{r=r+1|0,n.f(),n.z3()}while(r<i)},lo.prototype.equals=function(t){return t===this||!(null==t||!rl(t,xa))&&ce().g2(this,t)},lo.prototype.hashCode=function(){return ce().f2(this)},lo.$metadata$=tl("AbstractMutableList",[Ta],void 0,void 0,void 0,oo.prototype),co.prototype.e=function(){return this.ob_1.e()},co.prototype.f=function(){return this.ob_1.f().a1()},co.prototype.z3=function(){return this.ob_1.z3()},co.$metadata$=tl(void 0,[yr]),ho.prototype.e=function(){return this.pb_1.e()},ho.prototype.f=function(){return this.pb_1.f().b1()},ho.prototype.z3=function(){return this.pb_1.z3()},ho.$metadata$=tl(void 0,[yr]),po.prototype.a1=function(){return this.qb_1},po.prototype.b1=function(){return this.rb_1},po.prototype.sb=function(t){var e=this.rb_1;return this.rb_1=t,e},po.prototype.hashCode=function(){return ye().k2(this)},po.prototype.toString=function(){return ye().l2(this)},po.prototype.equals=function(t){return ye().m2(this,t)},po.$metadata$=tl("SimpleEntry",[ka]),_o.prototype.n=function(t){return this.tb(t)},_o.prototype.sa=function(t){return this.ub(t)},_o.$metadata$=tl("AbstractEntrySet",void 0,void 0,void 0,void 0,vo.prototype),fo.prototype.wb=function(t){throw gc("Add is not supported on keys")},fo.prototype.b=function(t){return this.wb(null==t||pl(t)?t:fu())},fo.prototype.va=function(){this.vb_1.va()},fo.prototype.o2=function(t){return this.vb_1.r2(t)},fo.prototype.n=function(t){return!(null!=t&&!pl(t))&&this.o2(null==t||pl(t)?t:fu())},fo.prototype.d=function(){return new co(this.vb_1.z().d())},fo.prototype.p3=function(t){return this.ta(),!!this.vb_1.r2(t)&&(this.vb_1.p3(t),!0)},fo.prototype.sa=function(t){return!(null!=t&&!pl(t))&&this.p3(null==t||pl(t)?t:fu())},fo.prototype.g=function(){return this.vb_1.g()},fo.prototype.ta=function(){return this.vb_1.ta()},fo.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,vo.prototype),mo.prototype.cc=function(t){throw gc("Add is not supported on values")},mo.prototype.b=function(t){return this.cc(null==t||pl(t)?t:fu())},mo.prototype.u2=function(t){return this.bc_1.v2(t)},mo.prototype.n=function(t){return!(null!=t&&!pl(t))&&this.u2(null==t||pl(t)?t:fu())},mo.prototype.d=function(){return new ho(this.bc_1.z().d())},mo.prototype.g=function(){return this.bc_1.g()},mo.prototype.ta=function(){return this.bc_1.ta()},mo.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,oo.prototype),yo.prototype.va=function(){this.z().va()},yo.prototype.x2=function(){return null==this.zb_1&&(this.zb_1=new fo(this)),_u(this.zb_1)},yo.prototype.q3=function(t){this.ta();for(var e=t.z().d();e.e();){var n=e.f(),i=n.a1(),r=n.b1();this.a(i,r)}},yo.prototype.y2=function(){return null==this.ac_1&&(this.ac_1=new mo(this)),_u(this.ac_1)},yo.prototype.p3=function(t){this.ta();for(var e=this.z().d();e.e();){var n=e.f();if(su(t,n.a1())){var i=n.b1();return e.z3(),i}}return null},yo.prototype.ta=function(){},yo.$metadata$=tl("AbstractMutableMap",[Sa],void 0,void 0,void 0,we.prototype),vo.prototype.equals=function(t){return t===this||!(null==t||!rl(t,Ia))&&xe().a3(this,t)},vo.prototype.hashCode=function(){return xe().z2(this)},vo.$metadata$=tl("AbstractMutableSet",[$a],void 0,void 0,void 0,oo.prototype),Co.prototype.dc=function(t){},Co.prototype.g=function(){return this.i_1.length},Co.prototype.l=function(t){var e=this.i_1[xo(this,t)];return null==e||pl(e)?e:fu()},Co.prototype.ra=function(t,e){this.ta(),xo(this,t);var n=this.i_1[t];this.i_1[t]=e;var i=n;return null==i||pl(i)?i:fu()},Co.prototype.b=function(t){this.ta(),this.i_1.push(t);var e=this.mb();return this.lb(e+1|0),!0},Co.prototype.jb=function(t,e){this.ta(),this.i_1.splice($o(this,t),0,e);var n=this.mb();this.lb(n+1|0)},Co.prototype.k=function(t){if(this.ta(),t.m())return!1;var e,n=this,i=this.i_1,r=io(t);e=i.concat(r),n.i_1=e;var o=this.mb();return this.lb(o+1|0),!0},Co.prototype.ec=function(t,e){if(this.ta(),$o(this,t),t===this.g())return this.k(e);if(e.m())return!1;var n=t;if(n===this.g())return this.k(e);if(0===n){var i,r=io(e),o=this.i_1;i=r.concat(o),this.i_1=i}else{var s,a;s=Il(this.i_1,0,t),a=io(e),this.i_1=s.concat(a,Il(this.i_1,t,this.g()))}var u=this.mb();return this.lb(u+1|0),!0},Co.prototype.y3=function(t){this.ta(),xo(this,t);var e=this.mb();return this.lb(e+1|0),t===Ee(this)?this.i_1.pop():this.i_1.splice(t,1)[0]},Co.prototype.sa=function(t){this.ta();var e=0,n=this.i_1.length-1|0;if(e<=n)do{var i=e;if(e=e+1|0,su(this.i_1[i],t)){this.i_1.splice(i,1);var r=this.mb();return this.lb(r+1|0),!0}}while(e<=n);return!1},Co.prototype.kb=function(t,e){this.ta();var n=this.mb();this.lb(n+1|0),this.i_1.splice(t,e-t|0)},Co.prototype.va=function(){var t;this.ta(),t=[],this.i_1=t;var e=this.mb();this.lb(e+1|0)},Co.prototype.p=function(t){return At(this.i_1,t)},Co.prototype.h2=function(t){return kt(this.i_1,t)},Co.prototype.toString=function(){return tu(this.i_1)},Co.prototype.fc=function(){return[].slice.call(this.i_1)},Co.prototype.toArray=function(){return this.fc()},Co.prototype.ta=function(){if(this.j_1)throw vc()},Co.$metadata$=tl("ArrayList",[Ta,rs],void 0,void 0,void 0,lo.prototype),ko.prototype.gc=function(t,e){return su(t,e)},ko.prototype.hc=function(t){var e=null==t?null:au(t);return null==e?0:e},ko.$metadata$=El("HashCode",[So]),So.$metadata$=Cl("EqualityComparator"),To.prototype.jc=function(t){throw gc("Add is not supported on entries")},To.prototype.b=function(t){return this.jc(null!=t&&rl(t,ka)?t:fu())},To.prototype.va=function(){this.ic_1.va()},To.prototype.tb=function(t){return this.ic_1.w2(t)},To.prototype.d=function(){return this.ic_1.oc_1.d()},To.prototype.ub=function(t){return!!Nt(this,t)&&(this.ic_1.p3(t.a1()),!0)},To.prototype.g=function(){return this.ic_1.g()},To.$metadata$=tl("EntrySet",void 0,void 0,void 0,void 0,_o.prototype),Do.prototype.va=function(){this.oc_1.va()},Do.prototype.r2=function(t){return this.oc_1.o2(t)},Do.prototype.v2=function(t){var e;t:{var n=this.oc_1;if(rl(n,Aa)&&n.m())e=!1;else{for(var i=n.d();i.e();){var r=i.f();if(this.pc_1.gc(r.b1(),t)){e=!0;break t}}e=!1}}return e},Do.prototype.z=function(){return null==this.qc_1&&(this.qc_1=this.sc()),_u(this.qc_1)},Do.prototype.sc=function(){return new To(this)},Do.prototype.o=function(t){return this.oc_1.o(t)},Do.prototype.a=function(t,e){return this.oc_1.a(t,e)},Do.prototype.p3=function(t){return this.oc_1.p3(t)},Do.prototype.g=function(){return this.oc_1.g()},Do.$metadata$=tl("HashMap",[Sa],void 0,void 0,void 0,yo.prototype),No.prototype.tc=function(){return this.u_1},No.prototype.b=function(t){return null==this.u_1.a(t,this)},No.prototype.va=function(){this.u_1.va()},No.prototype.n=function(t){return this.u_1.r2(t)},No.prototype.m=function(){return this.u_1.m()},No.prototype.d=function(){return this.u_1.x2().d()},No.prototype.sa=function(t){return!(null==this.u_1.p3(t))},No.prototype.g=function(){return this.u_1.g()},No.$metadata$=tl("HashSet",[$a],void 0,void 0,void 0,vo.prototype),Fo.prototype.e=function(){return-1===this.uc_1&&(this.uc_1=function(t){if(null!=t.xc_1&&t.yc_1){var e=t.xc_1.length,n=t;if(n.zc_1=n.zc_1+1|0,n.zc_1<e)return 0}var i=t;if(i.wc_1=i.wc_1+1|0,i.wc_1<t.vc_1.length){t.xc_1=t.bd_1.dd_1[t.vc_1[t.wc_1]];var r=t,o=t.xc_1;return r.yc_1=null!=o&&hl(o),t.zc_1=0,0}return t.xc_1=null,1}(this)),0===this.uc_1},Fo.prototype.f=function(){if(!this.e())throw nc();var t=this.yc_1?this.xc_1[this.zc_1]:this.xc_1;return this.ad_1=t,this.uc_1=-1,t},Fo.prototype.z3=function(){if(null==this.ad_1)throw fc(ou("Required value was null."));this.bd_1.p3(_u(this.ad_1).a1()),this.ad_1=null;var t=this.zc_1;this.zc_1=t-1|0},Fo.$metadata$=tl(void 0,[yr]),Uo.prototype.rc=function(){return this.cd_1},Uo.prototype.g=function(){return this.ed_1},Uo.prototype.a=function(t,e){var n=this.cd_1.hc(t),i=Bo(this,n);if(null==i)this.dd_1[n]=new po(t,e);else{if(null==i||!hl(i)){var r,o=i;if(this.cd_1.gc(o.a1(),t))return o.sb(e);r=[o,new po(t,e)],this.dd_1[n]=r;var s=this.ed_1;return this.ed_1=s+1|0,null}var a=i,u=qo(a,this,t);if(null!=u)return u.sb(e);a.push(new po(t,e))}var l=this.ed_1;return this.ed_1=l+1|0,null},Uo.prototype.p3=function(t){var e=this.cd_1.hc(t),n=Bo(this,e);if(null==n)return null;var i=n;if(null==i||!hl(i)){var r=i;if(this.cd_1.gc(r.a1(),t)){qc(this.dd_1,e);var o=this.ed_1;return this.ed_1=o-1|0,r.b1()}return null}var s=i,a=0,u=s.length-1|0;if(a<=u)do{var l=a;a=a+1|0;var c=s[l];if(this.cd_1.gc(t,c.a1())){1===s.length?(s.length=0,qc(this.dd_1,e)):s.splice(l,1);var h=this.ed_1;return this.ed_1=h-1|0,c.b1()}}while(a<=u);return null},Uo.prototype.va=function(){this.dd_1=this.fd(),this.ed_1=0},Uo.prototype.o2=function(t){return!(null==Lo(this,t))},Uo.prototype.o=function(t){var e=Lo(this,t);return null==e?null:e.b1()},Uo.prototype.d=function(){return new Fo(this)},Uo.$metadata$=tl("InternalHashCodeMap",[Ho]),Ho.$metadata$=Cl("InternalMap",[za]),Vo.prototype.e=function(){return!(null===this.hd_1)},Vo.prototype.f=function(){if(!this.e())throw nc();var t=_u(this.hd_1);this.gd_1=t;var e,n=t.wd_1;return e=n!==this.id_1.td_1.qd_1?n:null,this.hd_1=e,t},Vo.prototype.z3=function(){if(null==this.gd_1)throw fc(ou("Check failed."));this.id_1.ta(),Go(_u(this.gd_1),this.id_1.td_1),this.id_1.td_1.rd_1.p3(_u(this.gd_1).a1()),this.gd_1=null},Vo.$metadata$=tl("EntryIterator",[yr]),Yo.prototype.sb=function(t){return this.yd_1.ta(),po.prototype.sb.call(this,t)},Yo.$metadata$=tl("ChainEntry",void 0,void 0,void 0,void 0,po.prototype),Wo.prototype.jc=function(t){throw gc("Add is not supported on entries")},Wo.prototype.b=function(t){return this.jc(null!=t&&rl(t,ka)?t:fu())},Wo.prototype.va=function(){this.td_1.va()},Wo.prototype.tb=function(t){return this.td_1.w2(t)},Wo.prototype.d=function(){return new Vo(this)},Wo.prototype.ub=function(t){return this.ta(),!!Nt(this,t)&&(this.td_1.p3(t.a1()),!0)},Wo.prototype.g=function(){return this.td_1.g()},Wo.prototype.ta=function(){return this.td_1.ta()},Wo.$metadata$=tl("EntrySet",void 0,void 0,void 0,void 0,_o.prototype),Jo.prototype.va=function(){this.ta(),this.rd_1.va(),this.qd_1=null},Jo.prototype.r2=function(t){return this.rd_1.r2(t)},Jo.prototype.v2=function(t){var e=this.qd_1;if(null==e)return!1;var n=e;do{if(su(n.b1(),t))return!0;n=_u(n.wd_1)}while(n!==this.qd_1);return!1},Jo.prototype.sc=function(){return new Wo(this)},Jo.prototype.o=function(t){var e=this.rd_1.o(t);return null==e?null:e.b1()},Jo.prototype.a=function(t,e){this.ta();var n=this.rd_1.o(t);if(null==n){var i=new Yo(this,t,e);return this.rd_1.a(t,i),function(t,e){if(null!=t.wd_1||null!=t.xd_1)throw fc(ou("Check failed."));var n=e.qd_1;if(null==n)e.qd_1=t,t.wd_1=t,t.xd_1=t;else{var i=n.xd_1;if(null==i)throw fc(ou("Required value was null."));var r=i;t.xd_1=r,t.wd_1=n,n.xd_1=t,r.wd_1=t}}(i,this),null}return n.sb(e)},Jo.prototype.p3=function(t){this.ta();var e=this.rd_1.p3(t);return null!=e?(Go(e,this),e.b1()):null},Jo.prototype.g=function(){return this.rd_1.g()},Jo.prototype.ta=function(){if(this.sd_1)throw vc()},Jo.$metadata$=tl("LinkedHashMap",[Sa],void 0,void 0,void 0,Do.prototype),is.prototype.ta=function(){return this.tc().ta()},is.$metadata$=tl("LinkedHashSet",[$a],void 0,void 0,void 0,No.prototype),rs.$metadata$=Cl("RandomAccess"),os.prototype.i4=function(){return this.ae_1.i4()},os.prototype.g4=function(t){var e=this.be_1;if(e===xn())this.be_1=t;else{if(e!==gn())throw fc("Already resumed");this.be_1=$n(),this.ae_1.g4(t)}},os.prototype.ce=function(){if(this.be_1===xn())return this.be_1=gn(),gn();var t,e=this.be_1;if(e===$n())t=gn();else{if(e instanceof Ai)throw e.a7_1;t=e}return t},os.$metadata$=tl("SafeContinuation",[on]),us.$metadata$=tl("CancellationException",void 0,void 0,void 0,void 0,mc.prototype),ls.$metadata$=Cl("Serializable"),fs.$metadata$=Cl("KCallable"),ds.$metadata$=Cl("KClass",[kn]),ms.prototype.ee=function(){return this.de_1},ms.prototype.equals=function(t){return t instanceof ms&&su(this.ee(),t.ee())},ms.prototype.hashCode=function(){var t=this.fe(),e=null==t?null:uu(t);return null==e?0:e},ms.prototype.toString=function(){return"class "+this.fe()},ms.$metadata$=tl("KClassImpl",[ds]),ys.prototype.equals=function(t){return t instanceof ys&&!!ms.prototype.equals.call(this,t)&&this.ie_1===t.ie_1},ys.prototype.fe=function(){return this.ie_1},ys.prototype.ge=function(t){return this.je_1(t)},ys.$metadata$=tl("PrimitiveKClassImpl",void 0,void 0,void 0,void 0,ms.prototype),vs.prototype.fe=function(){return this.le_1},vs.prototype.ge=function(t){return!1},vs.prototype.ee=function(){throw gc("There's no native JS class for Nothing type")},vs.prototype.equals=function(t){return t===this},vs.prototype.hashCode=function(){return 0},vs.$metadata$=El("NothingKClassImpl",void 0,void 0,void 0,void 0,ms.prototype),ws.prototype.fe=function(){throw fc("Unknown simpleName for ErrorKClass")},ws.prototype.ge=function(t){throw fc("Can's check isInstance on ErrorKClass")},ws.prototype.equals=function(t){return t===this},ws.prototype.hashCode=function(){return 0},ws.$metadata$=tl("ErrorKClass",[ds]),bs.prototype.fe=function(){return this.ne_1},bs.prototype.ge=function(t){return Al(t,this.ee())},bs.$metadata$=tl("SimpleKClassImpl",void 0,void 0,void 0,void 0,ms.prototype),xs.$metadata$=Cl("KProperty1",[Es]),$s.$metadata$=Cl("KProperty0",[Es]),Cs.$metadata$=Cl("KMutableProperty1",[xs,ks]),Es.$metadata$=Cl("KProperty",[fs]),As.$metadata$=Cl("KMutableProperty0",[$s,ks]),ks.$metadata$=Cl("KMutableProperty",[Es]),Ss.$metadata$=Cl("KType"),Ts.prototype.oe=function(){return this.re_1},Ts.prototype.pe=function(){return this.se_1},Ts.prototype.qe=function(){return this.te_1},Ts.prototype.equals=function(t){return!!(t instanceof Ts&&su(this.re_1,t.re_1)&&su(this.se_1,t.se_1))&&this.te_1===t.te_1},Ts.prototype.hashCode=function(){return gt(gt(au(this.re_1),31)+au(this.se_1)|0,31)+(0|this.te_1)|0},Ts.prototype.toString=function(){var t=this.re_1,e=rl(t,ds)?t:null,n=null==e?ou(this.re_1):null!=e.fe()?e.fe():"(non-denotable type)",i=this.se_1.m()?"":Mt(this.se_1,", ","<",">",0,null,null,56),r=this.te_1?"?":"";return Pa(n,i)+r},Ts.$metadata$=tl("KTypeImpl",[Ss]),Os.prototype.of=function(){return this.ue_1},Os.prototype.pf=function(){return this.ve_1},Os.prototype.qf=function(){return this.we_1},Os.prototype.rf=function(){return this.xe_1},Os.prototype.sf=function(){return this.ye_1},Os.prototype.tf=function(){return this.ze_1},Os.prototype.uf=function(){return this.af_1},Os.prototype.vf=function(){return this.bf_1},Os.prototype.wf=function(){return this.cf_1},Os.prototype.xf=function(){return this.df_1},Os.prototype.yf=function(){return this.ef_1},Os.prototype.zf=function(){return this.ff_1},Os.prototype.ag=function(){return this.gf_1},Os.prototype.bg=function(){return this.hf_1},Os.prototype.cg=function(){return this.if_1},Os.prototype.dg=function(){return this.jf_1},Os.prototype.eg=function(){return this.kf_1},Os.prototype.fg=function(){return this.lf_1},Os.prototype.gg=function(){return this.mf_1},Os.prototype.hg=function(){return this.nf_1},Os.prototype.functionClass=function(t){var e,n,i=Is()[t];if(null==i){var r=new ys(Function,"Function"+t,(n=t,function(t){return"function"==typeof t&&t.length===n}));Is()[t]=r,e=r}else e=i;return e},Os.$metadata$=El("PrimitiveClasses"),Object.defineProperty(Os.prototype,"anyClass",{configurable:!0,get:Os.prototype.of}),Object.defineProperty(Os.prototype,"numberClass",{configurable:!0,get:Os.prototype.pf}),Object.defineProperty(Os.prototype,"nothingClass",{configurable:!0,get:Os.prototype.qf}),Object.defineProperty(Os.prototype,"booleanClass",{configurable:!0,get:Os.prototype.rf}),Object.defineProperty(Os.prototype,"byteClass",{configurable:!0,get:Os.prototype.sf}),Object.defineProperty(Os.prototype,"shortClass",{configurable:!0,get:Os.prototype.tf}),Object.defineProperty(Os.prototype,"intClass",{configurable:!0,get:Os.prototype.uf}),Object.defineProperty(Os.prototype,"floatClass",{configurable:!0,get:Os.prototype.vf}),Object.defineProperty(Os.prototype,"doubleClass",{configurable:!0,get:Os.prototype.wf}),Object.defineProperty(Os.prototype,"arrayClass",{configurable:!0,get:Os.prototype.xf}),Object.defineProperty(Os.prototype,"stringClass",{configurable:!0,get:Os.prototype.yf}),Object.defineProperty(Os.prototype,"throwableClass",{configurable:!0,get:Os.prototype.zf}),Object.defineProperty(Os.prototype,"booleanArrayClass",{configurable:!0,get:Os.prototype.ag}),Object.defineProperty(Os.prototype,"charArrayClass",{configurable:!0,get:Os.prototype.bg}),Object.defineProperty(Os.prototype,"byteArrayClass",{configurable:!0,get:Os.prototype.cg}),Object.defineProperty(Os.prototype,"shortArrayClass",{configurable:!0,get:Os.prototype.dg}),Object.defineProperty(Os.prototype,"intArrayClass",{configurable:!0,get:Os.prototype.eg}),Object.defineProperty(Os.prototype,"longArrayClass",{configurable:!0,get:Os.prototype.fg}),Object.defineProperty(Os.prototype,"floatArrayClass",{configurable:!0,get:Os.prototype.gg}),Object.defineProperty(Os.prototype,"doubleArrayClass",{configurable:!0,get:Os.prototype.hg}),Rs.$metadata$=Cl("Appendable"),Ps.$metadata$=tl("CharacterCodingException",void 0,void 0,void 0,void 0,Zl.prototype),qs.prototype.l8=function(){return this.ig_1.length},qs.prototype.m8=function(t){var e=this.ig_1;if(!(t>=0&&t<=qn(e)))throw bc("index: "+t+", length: "+this.l8()+"}");return Ka(e,t)},qs.prototype.n8=function(t,e){return this.ig_1.substring(t,e)},qs.prototype.s5=function(t){return this.ig_1=this.ig_1+new wa(t),this},qs.prototype.c=function(t){return this.ig_1=this.ig_1+Ra(t),this},qs.prototype.jg=function(t,e,n){var i=t;return this.kg(null==i?"null":i,e,n)},qs.prototype.lg=function(t){return this.ig_1=this.ig_1+Ra(t),this},qs.prototype.mg=function(t){var e=this,n=this.ig_1,i=t;return e.ig_1=n+(null==i?"null":i),this},qs.prototype.ng=function(t){if(t<0)throw tc("Negative new length: "+t+".");if(t<=this.l8()){var e;e=this.ig_1.substring(0,t),this.ig_1=e}else{var n=this.l8();if(n<t)do{n=n+1|0;this.ig_1=this.ig_1+new wa(0)}while(n<t)}},qs.prototype.toString=function(){return this.ig_1},qs.prototype.kg=function(t,e,n){var i=ou(t);ce().e2(e,n,i.length);var r,o=this,s=this.ig_1;return r=i.substring(e,n),o.ig_1=s+r,this},qs.$metadata$=tl("StringBuilder",[Rs,fr]),Ys.prototype.rg=function(t){var e=this.og_1;return t.replace(e,"\\$&")},Ys.prototype.sg=function(t){var e=this.qg_1;return t.replace(e,"$$$$")},Ys.$metadata$=El("Companion"),Gs.prototype.w=function(t,e){return this.tg_1(t,e)},Gs.prototype.compare=function(t,e){return this.w(t,e)},Gs.$metadata$=tl("sam$kotlin_Comparator$0",[Xr]),ca.$metadata$=tl("DurationUnit",void 0,void 0,void 0,void 0,Da.prototype),va.$metadata$=El("Companion"),wa.prototype.hh=function(t){return fa(this.q1_1,t)},wa.prototype.p7=function(t){return function(t,e){return fa(t.q1_1,e instanceof wa?e.q1_1:fu())}(this,t)},wa.prototype.equals=function(t){return function(t,e){return e instanceof wa&&t===e.q1_1}(this.q1_1,t)},wa.prototype.hashCode=function(){return this.q1_1},wa.prototype.toString=function(){return ya(this.q1_1)},wa.$metadata$=tl("Char",[dr]),ba.$metadata$=Cl("Iterable"),xa.$metadata$=Cl("List",[Aa]),$a.$metadata$=Cl("MutableSet",[Ia,Oa]),Ca.$metadata$=Cl("Entry"),Ea.$metadata$=Cl("Map"),Aa.$metadata$=Cl("Collection",[ba]),ka.$metadata$=Cl("MutableEntry",[Ca]),Sa.$metadata$=Cl("MutableMap",[Ea]),Ta.$metadata$=Cl("MutableList",[xa,Oa]),Ia.$metadata$=Cl("Set",[Aa]),Oa.$metadata$=Cl("MutableCollection",[Aa,za]),za.$metadata$=Cl("MutableIterable",[ba]),Ma.$metadata$=El("Companion"),Da.prototype.i5=function(){return this.h5_1},Da.prototype.j5=function(t){return eu(this.h5_1,t.h5_1)},Da.prototype.p7=function(t){return this.j5(t instanceof Da?t:fu())},Da.prototype.equals=function(t){return this===t},Da.prototype.hashCode=function(){return ru(this)},Da.prototype.toString=function(){return this.g5_1},Da.$metadata$=tl("Enum",[dr]),Fa.prototype.e=function(){return!(this.ih_1===this.jh_1.length)},Fa.prototype.f=function(){if(this.ih_1===this.jh_1.length)throw rc(""+this.ih_1);var t=this.ih_1;return this.ih_1=t+1|0,this.jh_1[t]},Fa.$metadata$=tl(void 0,[mr]),Ua.prototype.e=function(){return!(this.kh_1===this.lh_1.length)},Ua.prototype.p8=function(){if(this.kh_1===this.lh_1.length)throw rc(""+this.kh_1);var t=this.kh_1;return this.kh_1=t+1|0,this.lh_1[t]},Ua.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,br.prototype),yu.prototype.t9=function(){return this.nh_1},yu.$metadata$=El("Companion"),gu.prototype.j1=function(t){return Eu(this,t)},gu.prototype.p7=function(t){return this.j1(t instanceof gu?t:fu())},gu.prototype.qh=function(t){return this.w5(Zu(t))},gu.prototype.w5=function(t){return Au(this,t)},gu.prototype.rh=function(t){return this.x5(Zu(t))},gu.prototype.x5=function(t){return ku(this,t)},gu.prototype.sh=function(t){return this.v5(Zu(t))},gu.prototype.v5=function(t){return Su(this,t)},gu.prototype.th=function(t){return this.u5(Zu(t))},gu.prototype.u5=function(t){return function(t,e){if(Uu(),Pu(e))throw Wl("division by zero");if(Pu(t))return wu();if(zu(t,$u())){if(zu(e,bu())||zu(e,xu()))return $u();if(zu(e,$u()))return bu();var n=Tu(Iu(t,1).u5(e),1);return zu(n,wu())?Ru(e)?bu():xu():Au(n,ku(t,Su(e,n)).u5(e))}if(zu(e,$u()))return wu();if(Ru(t))return Ru(e)?Nu(t).u5(Nu(e)):Nu(Nu(t).u5(e));if(Ru(e))return Nu(t.u5(Nu(e)));for(var i=wu(),r=t;Fu(r,e);){for(var o=Ou(r)/Ou(e),s=Math.max(1,Math.floor(o)),a=Math.ceil(Math.log(s)/Math.LN2),u=a<=48?1:Math.pow(2,a-48),l=qu(s),c=Su(l,e);Ru(c)||Bu(c,r);)c=Su(l=qu(s-=u),e);Pu(l)&&(l=bu()),i=Au(i,l),r=ku(r,c)}return i}(this,t)},gu.prototype.uh=function(){return this.w5(new gu(1,0))},gu.prototype.vh=function(){return this.x5(new gu(1,0))},gu.prototype.t5=function(){return this.wh().w5(new gu(1,0))},gu.prototype.n6=function(t){return Tu(this,t)},gu.prototype.l6=function(t){return Iu(this,t)},gu.prototype.k8=function(t){return function(t,e){Uu();var n=63&e;return 0===n?t:n<32?new gu(t.h1_1>>>n|0|t.i1_1<<(32-n|0),t.i1_1>>>n|0):new gu(32===n?t.i1_1:t.i1_1>>>(n-32|0)|0,0)}(this,t)},gu.prototype.v7=function(t){return new gu(this.h1_1&t.h1_1,this.i1_1&t.i1_1)},gu.prototype.xh=function(t){return new gu(this.h1_1|t.h1_1,this.i1_1|t.i1_1)},gu.prototype.j8=function(t){return new gu(this.h1_1^t.h1_1,this.i1_1^t.i1_1)},gu.prototype.wh=function(){return new gu(~this.h1_1,~this.i1_1)},gu.prototype.yh=function(){return Hu(this.h1_1)},gu.prototype.zh=function(){return Yu(this.h1_1)},gu.prototype.m6=function(){return this.h1_1},gu.prototype.o8=function(){return Ou(this)},gu.prototype.valueOf=function(){return this.o8()},gu.prototype.equals=function(t){return t instanceof gu&&zu(this,t)},gu.prototype.hashCode=function(){return t=this,Uu(),t.h1_1^t.i1_1;var t},gu.prototype.toString=function(){return Mu(this,10)},gu.$metadata$=tl("Long",[dr],void 0,void 0,void 0,wr.prototype),Ml.$metadata$=El("Digit"),Rl.$metadata$=El("Letter"),jl.$metadata$=El("OtherLowercase"),ql.prototype.oi=function(){return this.ki_1},ql.prototype.i4=function(){return _u(this.mi_1)},ql.prototype.pi=function(){var t,e=this.ni_1;if(null==e){var n=this.i4().u4(an()),i=null==n?null:n.s4(this),r=null==i?this:i;this.ni_1=r,t=r}else t=e;return t},ql.prototype.qi=function(t){var e,n=this;if(xi(t))e=null;else{var i=t;e=null==i||pl(i)?i:fu()}for(var r=e,o=$i(t);;){var s=n;null==o?s.ji_1=r:(s.hi_1=s.ii_1,s.ki_1=o);try{var a=s.ri();if(a===gn())return jr();r=a,o=null}catch(t){r=null,o=t}Ll(s);var u=_u(s.gi_1);if(!(u instanceof ql)){if(null!=o){var l,c=_u(o);Ei(),l=Si(c),u.g4(l)}else{var h,p=r;Ei(),h=p,u.g4(h)}return jr()}n=u,jr()}},ql.prototype.g4=function(t){return this.qi(t)},ql.$metadata$=tl("CoroutineImpl",[on]),Bl.prototype.i4=function(){throw fc("This continuation is already complete")},Bl.prototype.qi=function(t){throw fc("This continuation is already complete")},Bl.prototype.g4=function(t){return this.qi(t)},Bl.prototype.toString=function(){return"This continuation is already complete"},Bl.$metadata$=El("CompletedContinuation",[on]),Hl.prototype.ri=function(){if(null!=this.oi())throw this.oi();var t;return"function"==typeof(t=this.cj_1)?t(this.dj_1,this.bj_1):this.cj_1.si(this.dj_1,this.bj_1)},Hl.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,ql.prototype),Vl.prototype.ri=function(){if(null!=this.oi())throw this.oi();return this.mj_1()},Vl.$metadata$=tl(void 0,void 0,void 0,void 0,void 0,ql.prototype),Zl.$metadata$=tl("Exception",void 0,void 0,void 0,void 0,Error.prototype),Jl.$metadata$=tl("Error",void 0,void 0,void 0,void 0,Error.prototype),ec.$metadata$=tl("IllegalArgumentException",void 0,void 0,void 0,void 0,cc.prototype),oc.$metadata$=tl("NoSuchElementException",void 0,void 0,void 0,void 0,cc.prototype),cc.$metadata$=tl("RuntimeException",void 0,void 0,void 0,void 0,Zl.prototype),mc.$metadata$=tl("IllegalStateException",void 0,void 0,void 0,void 0,cc.prototype),wc.$metadata$=tl("UnsupportedOperationException",void 0,void 0,void 0,void 0,cc.prototype),xc.$metadata$=tl("IndexOutOfBoundsException",void 0,void 0,void 0,void 0,cc.prototype),$c.$metadata$=tl("ConcurrentModificationException",void 0,void 0,void 0,void 0,cc.prototype),Ec.$metadata$=tl("AssertionError",void 0,void 0,void 0,void 0,Jl.prototype),kc.$metadata$=tl("ArithmeticException",void 0,void 0,void 0,void 0,cc.prototype),Tc.$metadata$=tl("NumberFormatException",void 0,void 0,void 0,void 0,ec.prototype),Oc.$metadata$=tl("NullPointerException",void 0,void 0,void 0,void 0,cc.prototype),Mc.$metadata$=tl("NoWhenBranchMatchedException",void 0,void 0,void 0,void 0,cc.prototype),Rc.$metadata$=tl("ClassCastException",void 0,void 0,void 0,void 0,cc.prototype),jc.$metadata$=tl("UninitializedPropertyAccessException",void 0,void 0,void 0,void 0,cc.prototype),Cl("Function1"),Cl("Function0"),Cl("Function2"),Uc.$metadata$=Cl("SuspendFunction0"),Hc.$metadata$=Cl("SuspendFunction1"),Vc.$metadata$=Cl("SuspendFunction2"),mn.prototype.b5=xt,vn.prototype.u4=$t,vn.prototype.a5=Ct,vn.prototype.z4=Et,vn.prototype.b5=xt,Uo.prototype.fd=function(){var t=Object.create(null);return t.foo=1,qc(t,"foo"),t},j=null,ft=0,t.$_$=t.$_$||{},t.$_$.a=function(t,e,n){return new Ts(t,Sl(e),n)},t.$_$.b=function(t,e){if(t instanceof ms&&e instanceof ms){var n,i=e.ee().$metadata$,r=null==i?null:i.associatedObjectKey;if(null==(n=null==r?null:r))return null;var o=n,s=t.ee().$metadata$,a=null==s?null:s.associatedObjects;if(null==a)return null;var u=a[o];return null==u?null:u()}return null},t.$_$.c=function(t){var e;switch(typeof t){case"string":e=zs().ef_1;break;case"number":e=Lc(t,0)===t?zs().af_1:zs().cf_1;break;case"boolean":e=zs().xe_1;break;case"function":var n;n=t,e=zs().functionClass(n.length);break;default:var i;if(ml(t))i=zs().gf_1;else if(gl(t))i=zs().hf_1;else if(yl(t))i=zs().if_1;else if(vl(t))i=zs().jf_1;else if(wl(t))i=zs().kf_1;else if(xl(t))i=zs().lf_1;else if(bl(t))i=zs().mf_1;else if($l(t))i=zs().nf_1;else if(rl(t,ds))i=Ms(ds);else if(hl(t))i=zs().df_1;else{var r=Object.getPrototypeOf(t).constructor;i=r===Object?zs().ue_1:r===Error?zs().ff_1:Ds(r)}e=i}return e},t.$_$.d=Ms,t.$_$.e=function(t){var e=0,n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0,e=e+t[r].length|0}while(r!==i);var o=t[0],s=new o.constructor(e);if(null!=o.$type$){var a=o.$type$;s.$type$=a}e=0;var u=0,l=t.length-1|0;if(u<=l)do{var c=u;u=u+1|0;var h=t[c],p=0,_=h.length-1|0;if(p<=_)do{var f=p;p=p+1|0;var d=e;e=d+1|0,s[d]=h[f]}while(f!==_)}while(c!==l);return s},t.$_$.f=pa,t.$_$.g=function(){return di(),y},t.$_$.h=function(){return di(),m},t.$_$.i=function(t,e){return null==t||pl(t)?t:fu()},t.$_$.j=function(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=t.length),function(t,e,n,i){ce().d2(n,i,t.length),t.fill(e,n,i)}(t,e,n,i)},t.$_$.k=function(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=t.length),Tl(t,e,n,i)},t.$_$.l=Mt,t.$_$.m=zt,t.$_$.n=Ft,t.$_$.o=function(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return"string"==typeof e?Zn(t,e,0,n,2)>=0:ti(t,e,0,Ja(t),n,!1,16)>=0}(t,e,n)},t.$_$.p=function(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return Nn(t,e,0,n,2)>=0}(t,e,n)},t.$_$.q=ea,t.$_$.r=function(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=!1),Bn(t,e,n,i)},t.$_$.s=Zn,t.$_$.t=Nn,t.$_$.u=ei,t.$_$.v=function(t,e,n,i,r,o){return 0!=(4&r)&&(i=!1),function(t,e,n,i){var r=new RegExp(Ws().rg(e),i?"gui":"gu"),o=Ws().sg(n);return t.replace(r,o)}(t,e,n,i)},t.$_$.w=function(t,e,n,i,r,o){return 0!=(4&r)&&(i=!1),function(t,e,n,i){var r=new RegExp(Ws().rg(ya(e)),i?"gui":"gu"),o=ya(n);return t.replace(r,o)}(t,e,n,i)},t.$_$.x=function(t,e,n,i,r,o){return 0!=(2&r)&&(n=!1),0!=(4&r)&&(i=0),ii(t,e,n,i)},t.$_$.y=function(t,e,n,i,r,o){return 0!=(2&r)&&(n=!1),0!=(4&r)&&(i=0),function(t,e,n,i){if(1===e.length){var r=e[0];if(0!==Ja(r))return Fn(t,r,n,i)}for(var o=ee(Vn(t,e,0,n,i,2)),s=wo(De(o,10)),a=o.d();a.e();){var u;u=Un(t,a.f()),s.b(u)}return s}(t,e,n,i)},t.$_$.z=Js,t.$_$.a1=function(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return Ja(t)>0&&In(Ka(t,0),e,n)}(t,e,n)},t.$_$.b1=function(t,e,n,i){return 0!=(1&n)&&(e="|"),On(t,e)},t.$_$.c1=wo,t.$_$.d1=go,t.$_$.e1=bo,t.$_$.f1=Mo,t.$_$.g1=Oo,t.$_$.h1=function(t){return function(t,e){return Io(e),e.q3(t),e}(t,Object.create(Do.prototype))},t.$_$.i1=Po,t.$_$.j1=function(){return t=Object.create(No.prototype),vo.call(t),No.call(t),t.u_1=Oo(),t;var t},t.$_$.k1=function(t){return function(t,e){return vo.call(e),No.call(e),e.u_1=Mo(t.g()),e.k(t),e}(t,Object.create(No.prototype))},t.$_$.l1=Xo,t.$_$.m1=Zo,t.$_$.n1=function(t){return function(t,e){return Io(e),Jo.call(e),e.rd_1=Oo(),e.q3(t),e}(t,Object.create(Jo.prototype))},t.$_$.o1=Qo,t.$_$.p1=ts,t.$_$.q1=ss,t.$_$.r1=function t(e){var n=ss(e,Object.create(us.prototype));return lu(n,t),n},t.$_$.s1=as,t.$_$.t1=function t(e,n){var i=as(e,n,Object.create(us.prototype));return lu(i,t),i},t.$_$.u1=function(t){return function(t,e){return os.call(e,t,xn()),e}(t,Object.create(os.prototype))},t.$_$.v1=js,t.$_$.w1=Ls,t.$_$.x1=function t(){var e,n=(sc(e=Object.create($c.prototype)),$c.call(e),e);return lu(n,t),n},t.$_$.y1=function t(e){var n=function(t,e){return ac(t,e),$c.call(e),e}(e,Object.create($c.prototype));return lu(n,t),n},t.$_$.z1=function t(e){var n=Kl(e,Object.create(Jl.prototype));return lu(n,t),n},t.$_$.a2=Xl,t.$_$.b2=function t(e,n){var i=Xl(e,n,Object.create(Jl.prototype));return lu(i,t),i},t.$_$.c2=Yl,t.$_$.d2=Gl,t.$_$.e2=function(t,e){return lc(t,e),ec.call(e),e},t.$_$.f2=function t(){var e,n=(sc(e=Object.create(ec.prototype)),ec.call(e),e);return lu(n,t),n},t.$_$.g2=Ql,t.$_$.h2=tc,t.$_$.i2=function(t,e,n){return uc(t,e,n),ec.call(n),n},t.$_$.j2=hc,t.$_$.k2=pc,t.$_$.l2=_c,t.$_$.m2=fc,t.$_$.n2=dc,t.$_$.o2=function t(e,n){var i=dc(e,n,Object.create(mc.prototype));return lu(i,t),i},t.$_$.p2=function t(){var e,n=(sc(e=Object.create(xc.prototype)),xc.call(e),e);return lu(n,t),n},t.$_$.q2=bc,t.$_$.r2=nc,t.$_$.s2=ic,t.$_$.t2=lc,t.$_$.u2=uc,t.$_$.v2=function t(e,n){var i=uc(e,n,Object.create(cc.prototype));return lu(i,t),i},t.$_$.w2=yc,t.$_$.x2=vc,t.$_$.y2=gc,t.$_$.z2=function(t){return function(t){var e,n=oi(t);if(si(t))e=n;else{var i,r;if(vu(),i=new gu(-1,2147483647).u5(Zu(1e6)),n.j1(i)>0)vu(),e=new gu(-1,2147483647);else vu(),r=new gu(0,-2147483648).u5(Zu(1e6)),n.j1(r)<0?(vu(),e=new gu(0,-2147483648)):e=ai(n)}return e}(t)},t.$_$.a3=_a,t.$_$.b3=fa,t.$_$.c3=da,t.$_$.d3=function(t,e){return Gu(t-e|0)},t.$_$.e3=function(t,e){return Gu(t+e|0)},t.$_$.f3=function(t,e){return new Rr(t,e)},t.$_$.g3=ma,t.$_$.h3=ya,t.$_$.i3=wi,t.$_$.j3=$i,t.$_$.k3=xi,t.$_$.l3=bi,t.$_$.m3=Di,t.$_$.n3=Ri,t.$_$.o3=Li,t.$_$.p3=Bi,t.$_$.q3=Fi,t.$_$.r3=Yi,t.$_$.s3=Gi,t.$_$.t3=Zi,t.$_$.u3=Qi,t.$_$.v3=er,t.$_$.w3=nr,t.$_$.x3=sr,t.$_$.y3=an,t.$_$.z3=_n,t.$_$.a4=function(){return null==P&&new Kr,P},t.$_$.b4=function(){return null==I&&new Br,I},t.$_$.c4=Gr,t.$_$.d4=Yr,t.$_$.e4=Hr,t.$_$.f4=function(){return null==O&&new Fr,O},t.$_$.g4=function(){return null==R&&new Zr,R},t.$_$.h4=zs,t.$_$.i4=ga,t.$_$.j4=vu,t.$_$.k4=Ei,t.$_$.l4=ji,t.$_$.m4=Hi,t.$_$.n4=Xi,t.$_$.o4=rr,t.$_$.p4=jr,t.$_$.q4=se,t.$_$.r4=he,t.$_$.s4=we,t.$_$.t4=oo,t.$_$.u4=lo,t.$_$.v4=yo,t.$_$.w4=vo,t.$_$.x4=$e,t.$_$.y4=Co,t.$_$.z4=Aa,t.$_$.a5=Do,t.$_$.b5=No,t.$_$.c5=ba,t.$_$.d5=mr,t.$_$.e5=Jo,t.$_$.f5=is,t.$_$.g5=vr,t.$_$.h5=xa,t.$_$.i5=Ca,t.$_$.j5=Ea,t.$_$.k5=Oa,t.$_$.l5=yr,t.$_$.m5=gr,t.$_$.n5=Ta,t.$_$.o5=ka,t.$_$.p5=Sa,t.$_$.q5=$a,t.$_$.r5=Ia,t.$_$.s5=function(t,e){return t.k(Sl(e))},t.$_$.t5=He,t.$_$.u5=function(t,e,n,i,r){ce().d2(i,r,t.length);var o=r-i|0;if(ce().d2(n,n+o|0,e.length),wt(e)&&wt(t)){var s=t.subarray(i,r);e.set(s,n)}else if(t!==e||n<=i){var a=0;if(a<o)do{var u=a;a=a+1|0,e[n+u|0]=t[i+u|0]}while(a<o)}else{var l=o-1|0;if(0<=l)do{var c=l;l=l+-1|0,e[n+c|0]=t[i+c|0]}while(0<=l)}},t.$_$.v5=Sl,t.$_$.w5=De,t.$_$.x5=Nt,t.$_$.y5=function(t,e){return function(t,e){var n=t,i=e;if(n===i)return!0;if(null==n||null==i||!nl(i)||n.length!=i.length)return!1;var r=0,o=n.length;if(r<o)do{var s=r;if(r=r+1|0,!su(n[s],i[s]))return!1}while(r<o);return!0}(t,e)},t.$_$.z5=function(t){return function(t){var e=t;if(null==e)return 0;var n=1,i=0,r=e.length;if(i<r)do{var o=i;i=i+1|0,n=gt(n,31)+au(e[o])|0}while(i<r);return n}(t)},t.$_$.a6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));return du(t,new Int16Array(e))},t.$_$.b6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));var n=mu(t,e,new gu(0,0));return n.$type$="LongArray",n},t.$_$.c6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));var n=mu(t,e,!1);return n.$type$="BooleanArray",n},t.$_$.d6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));var n=du(t,qa(e));return n.$type$="CharArray",n},t.$_$.e6=kl,t.$_$.f6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));return du(t,new Float64Array(e))},t.$_$.g6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));return du(t,new Float32Array(e))},t.$_$.h6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));return mu(t,e,null)},t.$_$.i6=function(t,e){if(!(e>=0))throw tc(ou("Invalid new array size: "+e+"."));return du(t,new Int32Array(e))},t.$_$.j6=io,t.$_$.k6=function(t){return Pt(function(t){return rl(t,Aa)?ts(t):qt(t,Qo())}(t))},t.$_$.l6=function(t,e){if(!(e>=0))throw tc(ou("Requested element count "+e+" is less than zero."));return Lt(t,Xt(t.g()-e|0,0))},t.$_$.m6=Ce,t.$_$.n6=Le,t.$_$.o6=Qe,t.$_$.p6=Tl,t.$_$.q6=function(t){return function(t,e){for(var n=t.d();n.e();){var i=n.f();null!=i&&e.b(i)}return e}(t,go())},t.$_$.r6=function(t){return t.m()?null:t.l(0)},t.$_$.s6=function(t){if(rl(t,xa))return t.m()?null:t.l(0);var e=t.d();return e.e()?e.f():null},t.$_$.t6=function(t){return 0===t.length?null:t[0]},t.$_$.u6=jt,t.$_$.v6=function(t){for(var e=go(),n=t.d();n.e();)He(e,n.f());return e},t.$_$.w6=function(t,e){return function(t,e){if(rl(t,Ne))return t.o3(e);var n=t.o(e);if(null==n&&!t.r2(e))throw rc("Key "+e+" is missing in the map.");return null==n||pl(n)?n:fu()}(t,e)},t.$_$.x6=At,t.$_$.y6=function(t){return new Mr(0,function(t){return t.length-1|0}(t))},t.$_$.z6=function(t){return new Mr(0,Tt(t))},t.$_$.a7=function(t){return t.length-1|0},t.$_$.b7=Ee,t.$_$.c7=Tt,t.$_$.d7=kt,t.$_$.e7=function(t){return t.m()?null:t.l(t.g()-1|0)},t.$_$.f7=function(t){if(t.m())throw rc("List is empty.");return t.l(Ee(t))},t.$_$.g7=function(t){return function(t,e){for(var n=t,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0,null!=o&&e.b(o)}return e}(t,go())},t.$_$.h7=Jr,t.$_$.i7=function(t){return t.length>0?Sl(t):Ce()},t.$_$.j7=to,t.$_$.k7=function(t){return t.length>0?(e=t,Fe(n=Xo(t.length),e),n):Le();var e,n},t.$_$.l7=Oe,t.$_$.m7=function(t,e){return function(t,e){var n=t.slice();n.length=n.length+e.g()|0,void 0!==t.$type$&&(n.$type$=t.$type$);for(var i=t.length,r=e.d();r.e();){var o=r.f(),s=i;i=s+1|0,n[s]=o}return n}(t,e)},t.$_$.n7=function(t,e){var n=function(t){return rl(t,Aa)?t.g():null}(e),i=null==n?null:t.g()+n|0,r=ns(null==i?gt(t.g(),2):i);return r.k(t),He(r,e),r},t.$_$.o7=function(t,e){if(rl(t,Aa))return Dt(t,e);var n=go();return He(n,t),He(n,e),n},t.$_$.p7=Dt,t.$_$.q7=function(t,e){var n=wo(t.g()+1|0);return n.k(t),n.b(e),n},t.$_$.r7=function(t){if(t.m())throw rc("List is empty.");return t.y3(0)},t.$_$.s7=function(t){if(t.m())throw rc("List is empty.");return t.y3(Ee(t))},t.$_$.t7=function(t){if(rl(t,Aa)&&t.g()<=1)return Pt(t);var e=Ut(t);return function(t){var e=(t.g()/2|0)-1|0;if(e<0)return jr();var n=Ee(t),i=0;if(i<=e)do{var r=i;i=i+1|0;var o=t.l(r);t.ra(r,t.l(n)),t.ra(n,o),n=n-1|0}while(r!==e)}(e),e},t.$_$.u7=Qr,t.$_$.v7=function(t){return t.length>0?function(t){switch(t.length){case 0:return Qe();case 1:return Qr(t[0]);default:return It(t,ns(t.length))}}(t):Qe()},t.$_$.w7=function(t){return 1===t.g()?t.l(0):null},t.$_$.x7=no,t.$_$.y7=function(t,e){if(rl(t,Aa)){if(t.g()<=1)return Pt(t);var n=io(t),i=hl(n)?n:fu();return function(t,e){t.length>1&&Eo(t,e)}(i,e),Sl(i)}var r=Ut(t);return no(r,e),r},t.$_$.z7=Lt,t.$_$.a8=function(t){for(var e=La(t.g()),n=0,i=t.d();i.e();){var r=i.f(),o=n;n=o+1|0,e[o]=r}return e},t.$_$.b8=function(t){return qt(t,Po(De(t,12)))},t.$_$.c8=function(t){for(var e=new Int32Array(t.g()),n=0,i=t.d();i.e();){var r=i.f(),o=n;n=o+1|0,e[o]=r}return e},t.$_$.d8=function(t){if(0===t.g())return Ce();var e=t.z().d();if(!e.e())return Ce();var n=e.f();if(!e.e())return Jr(new Oi(n.a1(),n.b1()));var i,r=wo(t.g());i=new Oi(n.a1(),n.b1()),r.b(i);do{var o,s=e.f();o=new Oi(s.a1(),s.b1()),r.b(o)}while(e.e());return r},t.$_$.e8=Pt,t.$_$.f8=function(t){switch(t.length){case 0:return Ce();case 1:return Jr(t[0]);default:return St(t)}},t.$_$.g8=function(t){if(rl(t,Aa)){var e;switch(t.g()){case 0:e=Le();break;case 1:n=rl(t,xa)?t.l(0):t.d().f(),Fe(r=Mo((i=[n]).length),i),e=r;break;default:e=Be(t,Xo(t.g()))}return e}var n,i,r;return function(t){var e;e=0===t.g()?Le():t;return e}(Be(t,Zo()))},t.$_$.h8=Rt,t.$_$.i8=St,t.$_$.j8=function(t){if(rl(t,Aa)){var e;switch(t.g()){case 0:e=Qe();break;case 1:e=Qr(rl(t,xa)?t.l(0):t.d().f());break;default:e=qt(t,ns(t.g()))}return e}return function(t){switch(t.g()){case 0:return Qe();case 1:return Qr(t.d().f());default:return t}}(qt(t,Qo()))},t.$_$.k8=function(t){return[].slice.call(t)},t.$_$.l8=function(t){return new Re((e=t,function(){return Na(e)}));var e},t.$_$.m8=function(t,e){return t===e?0:null==t?-1:null==e?1:eu(null!=t&&("string"===(i=typeof(n=t))||"boolean"===i||fl(n)||rl(n,_s(Ms(dr))))?t:fu(),e);var n,i},t.$_$.n8=us,t.$_$.o8=gn,t.$_$.p8=Ul,t.$_$.q8=Fl,t.$_$.r8=vn,t.$_$.s8=yn,t.$_$.t8=function(t){if(t instanceof yn){var e;if(t.y4(this.a1())){var n=t.x4(this);e=null!=n&&rl(n,cn)?n:null}else e=null;return e}return an()===t?rl(this,cn)?this:fu():null},t.$_$.u8=function(t){return t instanceof yn?t.y4(this.a1())&&null!=t.x4(this)?_n():this:an()===t?_n():this},t.$_$.v8=un,t.$_$.w8=on,t.$_$.x8=Ct,t.$_$.y8=$t,t.$_$.z8=Et,t.$_$.a9=cn,t.$_$.b9=ln,t.$_$.c9=xt,t.$_$.d9=ql,t.$_$.e9=Uc,t.$_$.f9=Hc,t.$_$.g9=Vc,t.$_$.h9=function(t,e,n){var i,r=Fl(Ul(t,e,n));Ei(),i=jr(),r.g4(i)},t.$_$.i9=function(t){return Object.prototype.toString.call(t)},t.$_$.j9=Na,t.$_$.k9=La,t.$_$.l9=lu,t.$_$.m9=Ba,t.$_$.n9=qa,t.$_$.o9=Ka,t.$_$.p9=Ja,t.$_$.q9=Qa,t.$_$.r9=tl,t.$_$.s9=eu,t.$_$.t9=su,t.$_$.u9=hu,t.$_$.v9=ja,t.$_$.w9=function(t,e,n,i){return Qu(),Ju(t,0,e,i,n?i:null)},t.$_$.x9=Ga,t.$_$.y9=Ju,t.$_$.z9=uu,t.$_$.aa=au,t.$_$.ba=function(t){return new Ua(t)},t.$_$.ca=Cl,t.$_$.da=hl,t.$_$.ea=ml,t.$_$.fa=yl,t.$_$.ga=gl,t.$_$.ha=dl,t.$_$.ia=$l,t.$_$.ja=bl,t.$_$.ka=wl,t.$_$.la=rl,t.$_$.ma=xl,t.$_$.na=pl,t.$_$.oa=vl,t.$_$.pa=_l,t.$_$.qa=_s,t.$_$.ra=function(t){var e=ja(Array(t),new gu(0,0));return e.$type$="LongArray",e},t.$_$.sa=function(t,e){var n,i=new Error;if(cu(t)){var r;if(cu(e))r=t;else{var o=null==e?null:e.toString();r=null==o?void 0:o}n=r}else n=null==t?void 0:t;return i.message=n,i.cause=e,i.name="Throwable",i},t.$_$.ta=Gu,t.$_$.ua=function(t){return+t},t.$_$.va=Vu,t.$_$.wa=Wu,t.$_$.xa=El,t.$_$.ya=Hu,t.$_$.za=Zu,t.$_$.ab=Yu,t.$_$.bb=ou,t.$_$.cb=function(t){if(hs(t))throw tc("Cannot round NaN value.");return t>Hr().e1_1?Hr().e1_1:t<Hr().d1_1?Hr().d1_1:Vu(Math.round(t))},t.$_$.db=Cn,t.$_$.eb=Xt,t.$_$.fb=function(t,e){return t.j1(e)>0?e:t},t.$_$.gb=Qt,t.$_$.hb=Kt,t.$_$.ib=Jt,t.$_$.jb=function(t,e){return new An(t,e)},t.$_$.kb=function(t,e){return function(t,e){if(!t)throw tc("Step must be positive, was: "+ou(e)+".")}(e>0,e),Ar().n1(t.k1_1,t.l1_1,t.m1_1>0?e:0|-e)},t.$_$.lb=Zt,t.$_$.mb=ds,t.$_$.nb=As,t.$_$.ob=Cs,t.$_$.pb=$s,t.$_$.qb=xs,t.$_$.rb=Sn,t.$_$.sb=Ye,t.$_$.tb=function(t){return new Ze(t)},t.$_$.ub=Rs,t.$_$.vb=function(t){return Ks(),function(t,e,n,i){if(ua(),!(e>=0&&n<=t.length&&e<=n))throw tc(ou("Failed requirement."));for(var r=e,o=Ls();r<n;){var s=r;r=s+1|0;var a=t[s];if(a>=0)o.s5(Gu(a));else if(a>>5==-2){var u=ra(t,a,r,n,i);u<=0?(o.s5(65533),r=r+(0|-u)|0):(o.s5(Gu(u)),r=r+1|0)}else if(a>>4==-2){var l=oa(t,a,r,n,i);l<=0?(o.s5(65533),r=r+(0|-l)|0):(o.s5(Gu(l)),r=r+2|0)}else if(a>>3==-2){var c=sa(t,a,r,n,i);if(c<=0)o.s5(65533),r=r+(0|-c)|0;else{var h=(c-65536|0)>>10|55296,p=1023&c|56320;o.s5(Gu(h)),o.s5(Gu(p)),r=r+3|0}}else aa(0,r,i),o.s5(65533)}return o.toString()}(t,0,t.length,!1)},t.$_$.wb=function(t){return Ks(),function(t,e,n,i){if(ua(),!(e>=0&&n<=t.length&&e<=n))throw tc(ou("Failed requirement."));for(var r=new Int8Array(gt(n-e|0,3)),o=0,s=e;s<n;){var a=s;s=a+1|0;var u=ma(Ka(t,a));if(u<128){var l=o;o=l+1|0,r[l]=Hu(u)}else if(u<2048){var c=o;o=c+1|0,r[c]=Hu(u>>6|192);var h=o;o=h+1|0,r[h]=Hu(63&u|128)}else if(u<55296||u>=57344){var p=o;o=p+1|0,r[p]=Hu(u>>12|224);var _=o;o=_+1|0,r[_]=Hu(u>>6&63|128);var f=o;o=f+1|0,r[f]=Hu(63&u|128)}else{var d=ia(t,u,s,n,i);if(d<=0){var m=o;o=m+1|0,r[m]=na()[0];var y=o;o=y+1|0,r[y]=na()[1];var v=o;o=v+1|0,r[v]=na()[2]}else{var g=o;o=g+1|0,r[g]=Hu(d>>18|240);var w=o;o=w+1|0,r[w]=Hu(d>>12&63|128);var b=o;o=b+1|0,r[b]=Hu(d>>6&63|128);var x=o;o=x+1|0,r[x]=Hu(63&d|128),s=s+1|0}}}return r.length===o?r:kl(r,o)}(t,0,t.length,!1)},t.$_$.xb=function(t,e,n){if(null==t)return null==e;if(null==e)return!1;if(!n)return t==e;if(t.length!==e.length)return!1;var i=0,r=t.length;if(i<r)do{var o=i;if(i=i+1|0,!In(Ka(t,o),Ka(e,o),n))return!1}while(i<r);return!0},t.$_$.yb=function(t){if(0===Ja(t))throw rc("Char sequence is empty.");return Ka(t,0)},t.$_$.zb=Xs,t.$_$.ac=function(t){return ga(),ga(),t<=56319&&55296<=t},t.$_$.bc=function(t){return ga(),ga(),t<=57343&&56320<=t},t.$_$.cc=function(t){return 97<=t&&t<=122||!(fa(t,128)<0)&&function(t){return 1===function(t){var e=ma(t),n=zl(Pl().bi_1,e),i=Pl().bi_1[n],r=(i+Pl().ci_1[n]|0)-1|0,o=Pl().di_1[n];if(e>r)return 0;var s=3&o;if(0===s){var a=2,u=i,l=0;if(l<=1)do{if(l=l+1|0,(u=u+(o>>a&127)|0)>e)return 3;if((u=u+(o>>(a=a+7|0)&127)|0)>e)return 0;a=a+7|0}while(l<=1);return 3}if(o<=7)return s;var c=e-i|0;return o>>gt(2,o<=31?c%2|0:c)&3}(t)||function(t){var e=zl(Nl().ei_1,t);return e>=0&&t<(Nl().ei_1[e]+Nl().fi_1[e]|0)}(ma(t))}(t)},t.$_$.dc=function(t){return ga(),ga(),t<=57343&&55296<=t},t.$_$.ec=Fs,t.$_$.fc=qn,t.$_$.gc=function(t){if(0===Ja(t))throw rc("Char sequence is empty.");return Ka(t,qn(t))},t.$_$.hc=function(t,e){if(function(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return n||"string"!=typeof t||"string"!=typeof e?Yn(t,0,e,0,Ja(e),n):Js(t,e,!1,2)}(t,e,n)}(t,e,!1,2)){var n=Ja(e);return t.substring(n)}return t},t.$_$.ic=function(t,e){if(function(t,e,n,i,r){return 0!=(2&i)&&(n=!1),function(t,e,n){return n||"string"!=typeof t||"string"!=typeof e?Yn(t,Ja(t)-Ja(e)|0,e,0,Ja(e),n):ea(t,e,!1,2)}(t,e,n)}(t,e,!1,2)){var n=t.length-Ja(e)|0;return t.substring(0,n)}return t},t.$_$.jc=function(t){var e;switch(Ja(t)){case 0:throw rc("Char sequence is empty.");case 1:e=Ka(t,0);break;default:throw tc("Char sequence has more than one element.")}return e},t.$_$.kc=function(t,e){if(!(e>=0))throw tc(ou("Requested character count "+e+" is less than zero."));var n=Qt(e,t.length);return t.substring(0,n)},t.$_$.lc=function(t){return Gt(t)},t.$_$.mc=function(t){return null!=t&&"true"===t.toLowerCase()},t.$_$.nc=function(t){var e=+t;return hs(e)&&!Vs(t)||0===e&&Xs(t)?null:e},t.$_$.oc=function(t){var e=+t;return(hs(e)&&!Vs(t)||0===e&&Xs(t))&&Pn(t),e},t.$_$.pc=Rn,t.$_$.qc=function(t){var e,n=Rn(t);return null==n?Pn(t):e=n,e},t.$_$.rc=Dn,t.$_$.sc=function(t){var e,n=Dn(t);return null==n?Pn(t):e=n,e},t.$_$.tc=function(t){var e,n=function(t){return function(t,e){var n=lr(t,e);if(null==(null==n?null:new Wi(n)))return null;var i=n;ji();var r=255;return cr(i,r)>0?null:Hu(i)}(t,10)}(t);return null==(null==n?null:new qi(n))?Pn(t):e=n,e},t.$_$.uc=function(t){var e,n=function(t){return lr(t,10)}(t);return null==(null==n?null:new Wi(n))?Pn(t):e=n,e},t.$_$.vc=ur,t.$_$.wc=function(t){var e,n=ur(t);return null==(null==n?null:new tr(n))?Pn(t):e=n,e},t.$_$.xc=function(t){var e,n=function(t){return function(t,e){var n=lr(t,e);if(null==(null==n?null:new Wi(n)))return null;var i=n;rr();var r=65535;return cr(i,r)>0?null:Yu(i)}(t,10)}(t);return null==(null==n?null:new ar(n))?Pn(t):e=n,e},t.$_$.yc=function(t){return function(t,e){for(var n=ni(t),i=go(),r=n.d();r.e();){var o=r.f();jn(o)&&i.b(o)}for(var s=i,a=wo(De(s,10)),u=s.d();u.e();){var l=u.f();a.b(Mn(l))}for(var c=function(t){var e=t.d();if(!e.e())return null;for(var n=e.f();e.e();){var i=e.f();eu(n,i)>0&&(n=i)}return n}(a),h=null==c?0:c,p=t.length+gt(e.length,n.g())|0,_=zn(e),f=Ee(n),d=go(),m=0,y=n.d();y.e();){var v=y.f(),g=m;m=g+1|0;var w,b,x,$=eo(g);0!==$&&$!==f||!Xs(v)?w=null==(x=null==(b=ie(v,h))?null:_(b))?v:x:w=null;var C=w;null==C||(d.b(C),jr())}return Ft(d,js(p),"\n",null,null,0,null,null,124).toString()}(t,"")},t.$_$.zc=function(t){var e=0,n=Ja(t)-1|0,i=!1;t:for(;e<=n;){var r=Fs(Ka(t,i?n:e));if(i){if(!r)break t;n=n-1|0}else r?e=e+1|0:i=!0}return Qa(t,e,n+1|0)},t.$_$.ad=function(t,e){var n=ha(t,e,(la(),W));if(hs(n))throw tc(ou("Duration value cannot be NaN."));var i=cs(n),r=new gu(387905,-1073741824);return i.j1(new gu(-387905,1073741823))<=0&&r.j1(i)<=0?ui(i):function(t){var e=new gu(1108857478,-1074);return t.j1(new gu(-1108857478,1073))<=0&&e.j1(t)<=0?ui(ai(t)):(n=Kt(t,new gu(1,-1073741824),new gu(-1,1073741823)),ri(n.n6(1).w5(new gu(1,0))));var n}(cs(ha(t,e,pa())))},t.$_$.bd=_r,t.$_$.cd=wa,t.$_$.dd=dr,t.$_$.ed=Xr,t.$_$.fd=hi,t.$_$.gd=ci,t.$_$.hd=Da,t.$_$.id=Jl,t.$_$.jd=Zl,t.$_$.kd=ec,t.$_$.ld=mc,t.$_$.md=gu,t.$_$.nd=oc,t.$_$.od=Oi,t.$_$.pd=cc,t.$_$.qd=fu,t.$_$.rd=function(){throw pc()},t.$_$.sd=Mi,t.$_$.td=qi,t.$_$.ud=Wi,t.$_$.vd=tr,t.$_$.wd=ar,t.$_$.xd=Pr,t.$_$.yd=wc,t.$_$.zd=function(t,e){if(t!==e){var n=t._suppressed;null==n?t._suppressed=Oe([e]):n.b(e)}},t.$_$.ae=function(t){return t},t.$_$.be=function(t){var e=t;return(65535&(e=(16711935&(e=(252645135&(e=(858993459&(e=(1431655765&e)+(1431655765&(e>>>1|0))|0))+(858993459&(e>>>2|0))|0))+(252645135&(e>>>4|0))|0))+(16711935&(e>>>8|0))|0))+(e>>>16|0)|0},t.$_$.ce=function(t){var e,n=t.h1_1;return 0===n?(Hr(),e=32+ps(t.i1_1)|0):e=ps(n),e},t.$_$.de=Si,t.$_$.ee=_u,t.$_$.fe=function(t,e){return _i(),new pi(t.p6_1,e).u6()},t.$_$.ge=function(t){return!function(t){var e;return Gr(),t===1/0?e=!0:(Gr(),e=t===-1/0),e}(t)&&!hs(t)},t.$_$.he=function(t){return!function(t){var e;return Yr(),t===1/0?e=!0:(Yr(),e=t===-1/0),e}(t)&&!function(t){return!(t==t)}(t)},t.$_$.ie=hs,t.$_$.je=function(t,e){return new yi(e)},t.$_$.ke=function(t){return new yi(t)},t.$_$.le=function(){throw zc()},t.$_$.me=Pa,t.$_$.ne=function(t,e){var n=t<<e;return Hr(),n|t>>>(32-e|0)|0},t.$_$.oe=function(t,e){return Hr(),t<<(32-e|0)|t>>>e|0},t.$_$.pe=function(t){return t&(0|-t)},t.$_$.qe=function(){throw re()},t.$_$.re=function(t){throw Pc("lateinit property "+t+" has not been initialized")},t.$_$.se=Ra,t.$_$.te=zi,t})?n.apply(e,[e]):n)||(t.exports=i)},3645:function(t,e,n){var i,r,o;r=[e,n(8744)],void 0===(o="function"==typeof(i=function(t,e){"use strict";var n,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N,L,q,B,F,U,H,V,Y,W,G,Z,K,X,J,Q=Math.imul,tt=e.$_$.ca,et=e.$_$.c,nt=e.$_$.g4,it=e.$_$.p4,rt=e.$_$.m6,ot=e.$_$.h,st=e.$_$.je,at=e.$_$.r9,ut=e.$_$.qb,lt=e.$_$.y9,ct=e.$_$.g2,ht=e.$_$.l9,pt=e.$_$.i2,_t=e.$_$.kd,ft=e.$_$.w5,dt=e.$_$.c1,mt=e.$_$.bb,yt=e.$_$.h2,vt=e.$_$.qd,gt=e.$_$.la,wt=e.$_$.mb,bt=e.$_$.j6,xt=e.$_$.sd,$t=e.$_$.d,Ct=e.$_$.od,Et=e.$_$.i5,At=e.$_$.e5,kt=e.$_$.p5,St=e.$_$.j5,Tt=e.$_$.a5,It=e.$_$.f5,Ot=e.$_$.q5,zt=e.$_$.r5,Mt=e.$_$.b5,Dt=e.$_$.y4,Rt=e.$_$.n5,Pt=e.$_$.h5,jt=e.$_$.z4,Nt=e.$_$.t9,Lt=e.$_$.z9,qt=e.$_$.d5,Bt=e.$_$.c5,Ft=e.$_$.zb,Ut=e.$_$.f8,Ht=e.$_$.d1,Vt=e.$_$.j1,Yt=e.$_$.b8,Wt=e.$_$.a8,Gt=e.$_$.l8,Zt=e.$_$.te,Kt=e.$_$.g8,Xt=e.$_$.ke,Jt=e.$_$.y5,Qt=e.$_$.lb,te=e.$_$.l,ee=e.$_$.xa,ne=e.$_$.ee,ie=e.$_$.md,re=e.$_$.cd,oe=e.$_$.na,se=e.$_$.pc,ae=e.$_$.aa,ue=e.$_$.m2,le=e.$_$.da,ce=e.$_$.j9,he=e.$_$.v5,pe=e.$_$.e1,_e=e.$_$.kb,fe=e.$_$.w6,de=e.$_$.m1,me=e.$_$.n1,ye=e.$_$.g1,ve=e.$_$.h1,ge=e.$_$.k1,we=e.$_$.o1,be=e.$_$.p1,xe=e.$_$.ra,$e=e.$_$.j4,Ce=e.$_$.a7,Ee=e.$_$.ce,Ae=e.$_$.e4,ke=e.$_$.q3,Se=e.$_$.ud,Te=e.$_$.p3,Ie=e.$_$.t3,Oe=e.$_$.vd,ze=e.$_$.s3,Me=e.$_$.b4,De=e.$_$.n3,Re=e.$_$.td,Pe=e.$_$.m3,je=e.$_$.f4,Ne=e.$_$.w3,Le=e.$_$.wd,qe=e.$_$.v3,Be=e.$_$.i1,Fe=e.$_$.rb,Ue=e.$_$.z5,He=e.$_$.v9,Ve=e.$_$.k9,Ye=e.$_$.n6,We=e.$_$.i4,Ge=e.$_$.ga,Ze=e.$_$.n9,Ke=e.$_$.c4,Xe=e.$_$.ia,Je=e.$_$.d4,Qe=e.$_$.ja,tn=e.$_$.ma,en=e.$_$.ka,nn=e.$_$.oa,rn=e.$_$.fa,on=e.$_$.a4,sn=e.$_$.ea,an=e.$_$.eb,un=e.$_$.d6,ln=e.$_$.f6,cn=e.$_$.g6,hn=e.$_$.b6,pn=e.$_$.i6,_n=e.$_$.a6,fn=e.$_$.e6,dn=e.$_$.c6,mn=e.$_$.xd,yn=e.$_$.yc,vn=e.$_$.xb,gn=e.$_$.p9,wn=e.$_$.o9,bn=e.$_$.h3,xn=e.$_$.lc,$n=e.$_$.cc,Cn=e.$_$.h4,En=e.$_$.k7,An=e.$_$.e7,kn=e.$_$.b7,Sn=e.$_$.bd,Tn=e.$_$.z6,In=e.$_$.q2,On=e.$_$.y6,zn=e.$_$.qa,Mn=e.$_$.b;function Dn(){return!1}function Rn(){return!1}function Pn(){return rt()}function jn(t){return t.r1m(this)}function Nn(){return!1}function Ln(t){return-1}function qn(t,e,n,i,r,o){return 0!=(8&r)&&(i=null),null==o?this.y1p(t,e,n,i):o(t,e,n,i)}function Bn(){}function Fn(t,e){return this.n1p(t)}function Un(t,e){if(t.p1m().q1n())return this.b1r(gt(t,Yn)?t:vt(),e);null==e?this.g1q():(this.e1r(),this.b1r(t,e))}function Hn(){return _o()}function Vn(){}function Yn(){}function Wn(){}function Gn(t,e,n){var i,r=t.s1m(e,n);return null==r?function(t,e){var n=t.fe();xr(null==n?""+t:n,e)}(et(n),t.t1m()):i=r,i}function Zn(t,e,n){var i,r=t.u1m(e,n);return null==r?xr(n,t.t1m()):i=r,i}function Kn(t){return function(){return e=Pi("kotlinx.serialization.Polymorphic",(null==v&&new hr,v),[],function(t){return function(e){var n=pi(nt()).p1m();e.d1n("type",n,null,!1,12,null);var i=Pi("kotlinx.serialization.Polymorphic<"+t.e1n_1.fe()+">",Ui(),[],null,12);return e.d1n("value",i,null,!1,12,null),e.x1m_1=t.f1n_1,it()}}(t),4),n=t.e1n_1,new zi(e,n);var e,n}}function Xn(t){br.call(this),this.e1n_1=t,this.f1n_1=rt();var e=ot();this.g1n_1=st(e,Kn(this))}function Jn(){}function Qn(){}function ti(){}function ei(){}function ni(t,e){return ct(t,e),ri.call(e),e}function ii(t){var e=ni(t,Object.create(ri.prototype));return ht(e,ii),e}function ri(){ht(this,ri)}function oi(t){ni(t,this),ht(this,oi)}function si(t,e){var n=function(t,e,n){return ai.call(n,1===t.g()?"Field '"+t.l(0)+"' is required for type with serial name '"+e+"', but it was missing":"Fields "+t+" are required for type with serial name '"+e+"', but they were missing",null),n}(t,e,Object.create(ai.prototype));return ht(n,si),n}function ai(t,e){(function(t,e,n){pt(t,e,n),ri.call(n)})(t,e,this),ht(this,ai)}function ui(t,e){return li(t,e,!1)}function li(t,e,n){for(var i=ao(e),r=e.qe(),o=e.pe(),s=dt(ft(o,10)),a=o.d();a.e();){var u,l=a.f().n1n_1;if(null==l)throw yt(mt("Star projections in type arguments are not allowed, but had "+e));u=l,s.b(u)}var c,h=s;if(h.m()){var p=ci(i);c=null==p?t.o1n(i,null,2,null):p}else c=function(t,e,n,i){var r;if(i){for(var o=dt(ft(e,10)),s=e.d();s.e();){var a=s.f();o.b(hi(t,a))}r=o}else{for(var u=dt(ft(e,10)),l=e.d();l.e();){var c,h=ui(t,l.f());if(null==h)return null;c=h,u.b(c)}r=u}var p,_=r,f=n;if(f.equals($t(jt))||f.equals($t(Pt))||f.equals($t(Rt))||f.equals($t(Dt)))p=new Fr(_.l(0));else if(f.equals($t(Mt)))p=new Ur(_.l(0));else if(f.equals($t(zt))||f.equals($t(Ot))||f.equals($t(It)))p=new Hr(_.l(0));else if(f.equals($t(Tt)))p=new Br(_.l(0),_.l(1));else if(f.equals($t(St))||f.equals($t(kt))||f.equals($t(At)))p=new qr(_.l(0),_.l(1));else if(f.equals($t(Et)))$=_.l(0),C=_.l(1),p=new ns($,C);else if(f.equals($t(Ct)))p=function(t,e){return new is(t,e)}(_.l(0),_.l(1));else if(f.equals($t(xt)))w=_.l(0),b=_.l(1),x=_.l(2),p=new rs(w,b,x);else{if(function(t){return t.equals(Cn().xf())}(n)){var d=e.l(0).oe(),m=(v=null!=d&&gt(d,wt)?d:vt(),g=_.l(0),new jr(v,g));return gt(m,Vn)?m:vt()}var y=ms(n,bt(_).slice());p=null==y?function(t,e,n){var i=ci(e);return null==i?t.p1n(e,n):i}(t,n,_):y}var v,g;var w,b,x;var $,C;return p}(t,h,i,n);var _,f=c;return null==(_=null==f?null:null!=f&&gt(f,Vn)?f:vt())?null:function(t,e){return e?Ii(t):gt(t,Vn)?t:vt()}(_,r)}function ci(t){var e=function(t){var e,n=ms(t,[]);if(null==n){var i=zn(t).Companion,r=null==i?null:i.serializer();e=null!=r&&gt(r,Vn)?r:null}else e=n;return e}(t);return null==e?function(t){Ko();var e=Mo().o(t);return null==e||gt(e,Vn)?e:vt()}(t):e}function hi(t,e){var n,i=li(t,e,!0);return null==i?function(t){throw ii("Serializer for class '"+t.fe()+"' is not found.\nMark the class as @Serializable or provide the serializer explicitly.\nOn Kotlin/JS explicitly declared serializer should be used for interfaces and enums without @Serializable annotation")}(ao(e)):n=i,n}function pi(t){return Ro()}function _i(t){return null==L&&new Po,L}function fi(){return null==T&&new yo,T}function di(t){return No()}function mi(){return null==I&&new vo,I}function yi(t){return null==B&&new Lo,B}function vi(){return null==O&&new go,O}function gi(t){return Bo()}function wi(){return null==z&&new wo,z}function bi(t){return null==U&&new Fo,U}function xi(){return null==M&&new bo,M}function $i(t){return null==H&&new Uo,H}function Ci(){return null==D&&new xo,D}function Ei(t){return null==V&&new Ho,V}function Ai(){return null==R&&new $o,R}function ki(t){return null==Y&&new Vo,Y}function Si(){return null==P&&new Co,P}function Ti(t){return null==W&&new Yo,W}function Ii(t){return t.p1m().q1n()?gt(t,Vn)?t:vt():new eo(t)}function Oi(t){var e=t;return e instanceof zi?t.v1n_1:e instanceof no?Oi(t.r1n_1):null}function zi(t,e){this.u1n_1=t,this.v1n_1=e,this.w1n_1=this.u1n_1.x1n()+"<"+this.v1n_1.fe()+">"}function Mi(){}function Di(t){this.i1o_1=t,this.h1o_1=t.z1n()}function Ri(t){this.j1o_1=t}function Pi(t,e,n,i,r,o){return 0!=(8&r)&&(i=function(t){return it()}),function(t,e,n,i){if(Ft(t))throw yt(mt("Blank serial names are prohibited"));if(Nt(e,ir()))throw yt(mt("For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead"));var r=new ji(t);return i(r),new Li(t,e,r.y1m_1.g(),Ut(n),r)}(t,e,n,i)}function ji(t){this.v1m_1=t,this.w1m_1=!1,this.x1m_1=rt(),this.y1m_1=Ht(),this.z1m_1=Vt(),this.a1n_1=Ht(),this.b1n_1=Ht(),this.c1n_1=Ht()}function Ni(t){return lt("_hashCode",1,ut,(function(t){return Ni(t)}),null),t.w1o_1.b1()}function Li(t,e,n,i,r){this.l1o_1=t,this.m1o_1=e,this.n1o_1=n,this.o1o_1=r.x1m_1,this.p1o_1=Yt(r.y1m_1);var o,s=r.y1m_1;o=bt(s),this.q1o_1=o,this.r1o_1=oo(r.a1n_1);var a,u,l=r.b1n_1;a=bt(l),this.s1o_1=a,this.t1o_1=Wt(r.c1n_1);for(var c,h=Gt(this.q1o_1),p=dt(ft(h,10)),_=h.d();_.e();){var f,d=_.f();f=Zt(d.j3_1,d.i3_1),p.b(f)}c=p,this.u1o_1=Kt(c),this.v1o_1=oo(i),this.w1o_1=Xt((u=this,function(){return lo(u,u.v1o_1)}))}function qi(t,e,n,i,r){return 0!=(4&i)&&(n=function(t){return it()}),function(t,e,n){if(Ft(t))throw yt(mt("Blank serial names are prohibited"));var i=new ji(t);return n(i),new Li(t,ir(),i.y1m_1.g(),Ut(e),i)}(t,e,n)}function Bi(){n=this,Hi.call(this)}function Fi(){i=this,Hi.call(this)}function Ui(){return null==i&&new Fi,i}function Hi(){}function Vi(){r=this,er.call(this)}function Yi(){o=this,er.call(this)}function Wi(){s=this,er.call(this)}function Gi(){a=this,er.call(this)}function Zi(){u=this,er.call(this)}function Ki(){l=this,er.call(this)}function Xi(){c=this,er.call(this)}function Ji(){h=this,er.call(this)}function Qi(){p=this,er.call(this)}function tr(){return null==p&&new Qi,p}function er(){Hi.call(this)}function nr(){_=this,lr.call(this)}function ir(){return null==_&&new nr,_}function rr(){f=this,lr.call(this)}function or(){return null==f&&new rr,f}function sr(){d=this,lr.call(this)}function ar(){return null==d&&new sr,d}function ur(){m=this,lr.call(this)}function lr(){Hi.call(this)}function cr(){y=this,pr.call(this)}function hr(){v=this,pr.call(this)}function pr(){Hi.call(this)}function _r(){}function fr(){}function dr(){}function mr(){g=this,this.h1r_1=-1,this.i1r_1=-3}function yr(){return null==g&&new mr,g}function vr(){}function gr(){}function wr(){}function br(){}function xr(t,e){var n="in the scope of '"+e.fe()+"'";throw ii(null==t?"Class discriminator was missing and no default polymorphic serializers were registered "+n:"Class '"+t+"' is not registered for polymorphic serialization "+n+".\nMark the base class as 'sealed' or register the serializer explicitly.")}function $r(){}function Cr(t){Sr.call(this,t),this.o1r_1=t.x1n()+"Array"}function Er(t){Sr.call(this,t)}function Ar(t,e){Tr.call(this,"kotlin.collections.LinkedHashMap",t,e)}function kr(t,e){Tr.call(this,"kotlin.collections.HashMap",t,e)}function Sr(t){this.p1r_1=t,this.q1r_1=1}function Tr(t,e,n){this.t1r_1=t,this.u1r_1=e,this.v1r_1=n,this.w1r_1=2}function Ir(t){Sr.call(this,t)}function Or(t){Sr.call(this,t)}function zr(t){Sr.call(this,t)}function Mr(t){Rr.call(this,t),this.e1s_1=new Cr(t.p1m())}function Dr(){}function Rr(t){Pr.call(this),this.x1s_1=t}function Pr(){}function jr(t,e){Rr.call(this,e),this.b1t_1=t,this.c1t_1=new Er(e.p1m())}function Nr(t){Rr.call(this,t)}function Lr(t,e){Pr.call(this),this.n1t_1=t,this.o1t_1=e}function qr(t,e){Lr.call(this,t,e),this.t1t_1=new Ar(t.p1m(),e.p1m())}function Br(t,e){Lr.call(this,t,e),this.c1u_1=new kr(t.p1m(),e.p1m())}function Fr(t){Nr.call(this,t),this.h1u_1=new Ir(t.p1m())}function Ur(t){Nr.call(this,t),this.o1u_1=new zr(t.p1m())}function Hr(t){Nr.call(this,t),this.v1u_1=new Or(t.p1m())}function Vr(){w=this,this.a1v_1=xe(0)}function Yr(){return null==w&&new Vr,w}function Wr(t,e){Yr(),this.b1v_1=t,this.c1v_1=e;var n=this.b1v_1.z1n();if($e(),n<=64){var i;$e(),i=64===n?new ie(0,0):new ie(-1,-1).n6(n),this.d1v_1=i,this.e1v_1=Yr().a1v_1}else this.d1v_1=new ie(0,0),this.e1v_1=function(t,e){var n=(e-1|0)>>>6|0;$e();var i=63&e,r=xe(n);return 0!==i&&(r[Ce(r)]=new ie(-1,-1).n6(e)),r}(0,n)}function Gr(t,e){return new Zr(t,new Kr(e))}function Zr(t,e){po.call(this,t,e,1),this.t1v_1=!0}function Kr(t){this.i1w_1=t}function Xr(){b=this,this.l1w_1=Gr("kotlin.UInt",bi(Ae()))}function Jr(){x=this,this.o1w_1=Gr("kotlin.ULong",gi($e()))}function Qr(){$=this,this.r1w_1=Gr("kotlin.UByte",Ei(Me()))}function to(){C=this,this.u1w_1=Gr("kotlin.UShort",$i(je()))}function eo(t){this.x1w_1=t,this.y1w_1=new no(this.x1w_1.p1m())}function no(t){this.r1n_1=t,this.s1n_1=this.r1n_1.x1n()+"?",this.t1n_1=so(this.r1n_1)}function io(t,e){return function(){var n=(null==m&&new ur,m);return Pi(t,n,[],function(t){return function(e){return e.x1m_1=t.b1x_1,it()}}(e),4)}}function ro(t,e){this.a1x_1=e,this.b1x_1=rt();var n=ot();this.c1x_1=st(n,io(t,this))}function oo(t){var e;uo();var n=null==(e=null==t||t.m()?null:t)?null:bt(e);return null==n?(uo(),E):n}function so(t){if(uo(),gt(t,$r))return t.x1o();var e=Be(t.z1n()),n=0,i=t.z1n();if(n<i)do{var r=n;n=n+1|0;var o=t.f1o(r);e.b(o)}while(n<i);return e}function ao(t){uo();var e=t.oe();if(null==e||!gt(e,wt)){if(null!=e&&gt(e,Fe))throw ue(mt("Captured type paramerer "+e+" from generic non-reified function. Such functionality cannot be supported as "+e+" is erased, either specify serializer explicitly or make calling function inline with reified "+e));throw ue(mt("Only KClass supported as classifier, got "+e))}var n=e;return gt(n,wt)?n:vt()}function uo(){A||(A=!0,E=[])}function lo(t,e){var n=Lt(t.x1n());n=Q(31,n)+Ue(e)|0;for(var i=function(t){return new Ri(t)}(t),r=1,o=i.d();o.e();){var s,a=o.f(),u=Q(31,r),l=null==(s=a.x1n())?null:ae(s);r=u+(null==l?0:l)|0}for(var c=r,h=1,p=i.d();p.e();){var _,f=p.f(),d=Q(31,h),m=null==(_=f.b1o())?null:ae(_);h=d+(null==m?0:m)|0}var y=h;return n=Q(31,n)+c|0,Q(31,n)+y|0}function co(t){return lt("childSerializers",1,ut,(function(t){return co(t)}),null),t.d1w_1.b1()}function ho(t){return lt("_hashCode",1,ut,(function(t){return ho(t)}),null),t.f1w_1.b1()}function po(t,e,n){this.u1v_1=t,this.v1v_1=e,this.w1v_1=n,this.x1v_1=-1;for(var i=0,r=this.w1v_1,o=He(Array(r),null);i<r;){"[UNINITIALIZED]",o[i]="[UNINITIALIZED]",i=i+1|0}this.y1v_1=o;var s,a=this.w1v_1;s=He(Array(a),null),this.z1v_1=s,this.a1w_1=null,this.b1w_1=Ve(this.w1v_1),this.c1w_1=Ye();var u,l=ot();this.d1w_1=st(l,(u=this,function(){var t=u.v1v_1,e=null==t?null:t.j1w();return null==e?_o():e}));var c=ot();this.e1w_1=st(c,function(t){return function(){var e,n=t.v1v_1,i=null==n?null:n.k1w();if(null==i)e=null;else{for(var r=dt(i.length),o=ce(i);o.e();){var s;s=o.f().p1m(),r.b(s)}e=r}return oo(e)}}(this));var h=ot();this.f1w_1=st(h,function(t){return function(){return lo(t,t.g1w())}}(this))}function _o(){return S||(S=!0,k=[]),k}function fo(){}function mo(){}function yo(){T=this,Mr.call(this,_i(We()))}function vo(){I=this,Mr.call(this,di(Ke()))}function go(){O=this,Mr.call(this,yi(Je()))}function wo(){z=this,Mr.call(this,gi($e()))}function bo(){M=this,Mr.call(this,bi(Ae()))}function xo(){D=this,Mr.call(this,$i(je()))}function $o(){R=this,Mr.call(this,Ei(Me()))}function Co(){P=this,Mr.call(this,ki(on()))}function Eo(t){Dr.call(this),this.j1x_1=t,this.k1x_1=t.length,this.dc(10)}function Ao(t){Dr.call(this),this.s1x_1=t,this.t1x_1=t.length,this.dc(10)}function ko(t){Dr.call(this),this.b1y_1=t,this.c1y_1=t.length,this.dc(10)}function So(t){Dr.call(this),this.k1y_1=t,this.l1y_1=t.length,this.dc(10)}function To(t){Dr.call(this),this.t1y_1=t,this.u1y_1=t.length,this.dc(10)}function Io(t){Dr.call(this),this.c1z_1=t,this.d1z_1=t.length,this.dc(10)}function Oo(t){Dr.call(this),this.l1z_1=t,this.m1z_1=t.length,this.dc(10)}function zo(t){Dr.call(this),this.u1z_1=t,this.v1z_1=t.length,this.dc(10)}function Mo(){return Ko(),j}function Do(){N=this,this.y1z_1=new Go("kotlin.String",tr())}function Ro(){return null==N&&new Do,N}function Po(){L=this,this.a20_1=new Go("kotlin.Char",(null==s&&new Wi,s))}function jo(){q=this,this.d20_1=new Go("kotlin.Double",(null==h&&new Ji,h))}function No(){return null==q&&new jo,q}function Lo(){B=this,this.f20_1=new Go("kotlin.Float",(null==c&&new Xi,c))}function qo(){F=this,this.h20_1=new Go("kotlin.Long",(null==l&&new Ki,l))}function Bo(){return null==F&&new qo,F}function Fo(){U=this,this.j20_1=new Go("kotlin.Int",(null==u&&new Zi,u))}function Uo(){H=this,this.l20_1=new Go("kotlin.Short",(null==a&&new Gi,a))}function Ho(){V=this,this.n20_1=new Go("kotlin.Byte",(null==o&&new Yi,o))}function Vo(){Y=this,this.p20_1=new Go("kotlin.Boolean",(null==r&&new Vi,r))}function Yo(){W=this,this.r20_1=new ro("kotlin.Unit",it())}function Wo(t){throw ue("Primitive descriptor does not have elements")}function Go(t,e){this.u20_1=t,this.v20_1=e}function Zo(t){var e;if(Ko(),gn(t)>0){var n,i=wn(t,0);n=$n(i)?xn(i):bn(i),e=mt(n)+t.substring(1)}else e=t;return e}function Ko(){G||(G=!0,j=En([Zt(Cn().yf(),pi(nt())),Zt($t(re),_i(We())),Zt(Cn().bg(),fi()),Zt(Cn().wf(),di(Ke())),Zt(Cn().hg(),mi()),Zt(Cn().vf(),yi(Je())),Zt(Cn().gg(),vi()),Zt($t(ie),gi($e())),Zt(Cn().fg(),wi()),Zt(Cn().uf(),bi(Ae())),Zt(Cn().eg(),xi()),Zt(Cn().tf(),$i(je())),Zt(Cn().dg(),Ci()),Zt(Cn().sf(),Ei(Me())),Zt(Cn().cg(),Ai()),Zt(Cn().rf(),ki(on())),Zt(Cn().ag(),Si()),Zt($t(mn),Ti(it()))]))}function Xo(){Qo.call(this)}function Jo(t,e,n){t.r21(e);var i=n();return t.c21_1||t.s21(),t.c21_1=!1,i}function Qo(){var t;t=Ht(),this.b21_1=t,this.c21_1=!1}function ts(){return K||(K=!0,Z=new Object),Z}function es(t,e){this.t21_1=t,this.u21_1=e}function ns(t,e){os.call(this,t,e);var n,i,r=ar();this.x21_1=Pi("kotlin.collections.Map.Entry",r,[],(n=t,i=e,function(t){var e=n.p1m();t.d1n("key",e,null,!1,12,null);var r=i.p1m();return t.d1n("value",r,null,!1,12,null),it()}),4)}function is(t,e){var n,i;os.call(this,t,e),this.i22_1=qi("kotlin.Pair",[],(n=t,i=e,function(t){var e=n.p1m();t.d1n("first",e,null,!1,12,null);var r=i.p1m();return t.d1n("second",r,null,!1,12,null),it()}),2)}function rs(t,e,n){var i;this.l22_1=t,this.m22_1=e,this.n22_1=n,this.o22_1=qi("kotlin.Triple",[],(i=this,function(t){var e=i.l22_1.p1m();t.d1n("first",e,null,!1,12,null);var n=i.m22_1.p1m();t.d1n("second",n,null,!1,12,null);var r=i.n22_1.p1m();return t.d1n("third",r,null,!1,12,null),it()}),2)}function os(t,e){this.d22_1=t,this.e22_1=e}function ss(){return J||(J=!0,X=new us(Ye(),Ye(),Ye(),Ye(),Ye())),X}function as(){}function us(t,e,n,i,r){as.call(this),this.r22_1=t,this.s22_1=e,this.t22_1=n,this.u22_1=i,this.v22_1=r}function ls(){}function cs(){}function hs(){}function ps(){}function _s(t){this.g23_1=t}function fs(t,e){if(!(0<=e&&e<=(t.length-1|0)))throw In("Index "+e+" out of bounds "+Tn(t));return t[e]}function ds(t,e){if(!(0<=e&&e<=(t.length-1|0)))throw In("Index "+e+" out of bounds "+On(t));return t[e]}function ms(t,e){var n;try{var i,r=Mn(t,$t(_s));if(null!=r&&gt(r,Vn))i=null!=r&&gt(r,Vn)?r:vt();else if(null!=r&&gt(r,mo)){var o=r.d1x(e.slice());i=gt(o,Vn)?o:vt()}else i=function(t){var e=zn(t).$metadata$;return"interface"==(null==e?null:e.kind)}(t)?new Xn(t):null;n=i}catch(t){n=null}return n}return Xn.prototype=Object.create(br.prototype),Xn.prototype.constructor=Xn,Jn.prototype=Object.create(br.prototype),Jn.prototype.constructor=Jn,ri.prototype=Object.create(_t.prototype),ri.prototype.constructor=ri,oi.prototype=Object.create(ri.prototype),oi.prototype.constructor=oi,ai.prototype=Object.create(ri.prototype),ai.prototype.constructor=ai,Bi.prototype=Object.create(Hi.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(Hi.prototype),Fi.prototype.constructor=Fi,er.prototype=Object.create(Hi.prototype),er.prototype.constructor=er,Vi.prototype=Object.create(er.prototype),Vi.prototype.constructor=Vi,Yi.prototype=Object.create(er.prototype),Yi.prototype.constructor=Yi,Wi.prototype=Object.create(er.prototype),Wi.prototype.constructor=Wi,Gi.prototype=Object.create(er.prototype),Gi.prototype.constructor=Gi,Zi.prototype=Object.create(er.prototype),Zi.prototype.constructor=Zi,Ki.prototype=Object.create(er.prototype),Ki.prototype.constructor=Ki,Xi.prototype=Object.create(er.prototype),Xi.prototype.constructor=Xi,Ji.prototype=Object.create(er.prototype),Ji.prototype.constructor=Ji,Qi.prototype=Object.create(er.prototype),Qi.prototype.constructor=Qi,lr.prototype=Object.create(Hi.prototype),lr.prototype.constructor=lr,nr.prototype=Object.create(lr.prototype),nr.prototype.constructor=nr,rr.prototype=Object.create(lr.prototype),rr.prototype.constructor=rr,sr.prototype=Object.create(lr.prototype),sr.prototype.constructor=sr,ur.prototype=Object.create(lr.prototype),ur.prototype.constructor=ur,pr.prototype=Object.create(Hi.prototype),pr.prototype.constructor=pr,cr.prototype=Object.create(pr.prototype),cr.prototype.constructor=cr,hr.prototype=Object.create(pr.prototype),hr.prototype.constructor=hr,Cr.prototype=Object.create(Sr.prototype),Cr.prototype.constructor=Cr,Er.prototype=Object.create(Sr.prototype),Er.prototype.constructor=Er,Ar.prototype=Object.create(Tr.prototype),Ar.prototype.constructor=Ar,kr.prototype=Object.create(Tr.prototype),kr.prototype.constructor=kr,Ir.prototype=Object.create(Sr.prototype),Ir.prototype.constructor=Ir,Or.prototype=Object.create(Sr.prototype),Or.prototype.constructor=Or,zr.prototype=Object.create(Sr.prototype),zr.prototype.constructor=zr,Rr.prototype=Object.create(Pr.prototype),Rr.prototype.constructor=Rr,Mr.prototype=Object.create(Rr.prototype),Mr.prototype.constructor=Mr,jr.prototype=Object.create(Rr.prototype),jr.prototype.constructor=jr,Nr.prototype=Object.create(Rr.prototype),Nr.prototype.constructor=Nr,Lr.prototype=Object.create(Pr.prototype),Lr.prototype.constructor=Lr,qr.prototype=Object.create(Lr.prototype),qr.prototype.constructor=qr,Br.prototype=Object.create(Lr.prototype),Br.prototype.constructor=Br,Fr.prototype=Object.create(Nr.prototype),Fr.prototype.constructor=Fr,Ur.prototype=Object.create(Nr.prototype),Ur.prototype.constructor=Ur,Hr.prototype=Object.create(Nr.prototype),Hr.prototype.constructor=Hr,Zr.prototype=Object.create(po.prototype),Zr.prototype.constructor=Zr,yo.prototype=Object.create(Mr.prototype),yo.prototype.constructor=yo,vo.prototype=Object.create(Mr.prototype),vo.prototype.constructor=vo,go.prototype=Object.create(Mr.prototype),go.prototype.constructor=go,wo.prototype=Object.create(Mr.prototype),wo.prototype.constructor=wo,bo.prototype=Object.create(Mr.prototype),bo.prototype.constructor=bo,xo.prototype=Object.create(Mr.prototype),xo.prototype.constructor=xo,$o.prototype=Object.create(Mr.prototype),$o.prototype.constructor=$o,Co.prototype=Object.create(Mr.prototype),Co.prototype.constructor=Co,Eo.prototype=Object.create(Dr.prototype),Eo.prototype.constructor=Eo,Ao.prototype=Object.create(Dr.prototype),Ao.prototype.constructor=Ao,ko.prototype=Object.create(Dr.prototype),ko.prototype.constructor=ko,So.prototype=Object.create(Dr.prototype),So.prototype.constructor=So,To.prototype=Object.create(Dr.prototype),To.prototype.constructor=To,Io.prototype=Object.create(Dr.prototype),Io.prototype.constructor=Io,Oo.prototype=Object.create(Dr.prototype),Oo.prototype.constructor=Oo,zo.prototype=Object.create(Dr.prototype),zo.prototype.constructor=zo,Xo.prototype=Object.create(Qo.prototype),Xo.prototype.constructor=Xo,ns.prototype=Object.create(os.prototype),ns.prototype.constructor=ns,is.prototype=Object.create(os.prototype),is.prototype.constructor=is,us.prototype=Object.create(as.prototype),us.prototype.constructor=us,ls.prototype=Object.create(hs.prototype),ls.prototype.constructor=ls,cs.prototype=Object.create(hs.prototype),cs.prototype.constructor=cs,Vn.$metadata$=tt("KSerializer",[Yn,Wn]),Yn.$metadata$=tt("SerializationStrategy"),Wn.$metadata$=tt("DeserializationStrategy"),Xn.prototype.t1m=function(){return this.e1n_1},Xn.prototype.p1m=function(){return lt("descriptor",1,ut,(function(t){return t.p1m()}),null),this.g1n_1.b1()},Xn.prototype.toString=function(){return"kotlinx.serialization.PolymorphicSerializer(baseClass: "+this.e1n_1+")"},Xn.$metadata$=at("PolymorphicSerializer",void 0,void 0,void 0,void 0,br.prototype),Jn.$metadata$=at("SealedClassSerializer",void 0,void 0,void 0,void 0,br.prototype),Qn.$metadata$=tt("StringFormat",[ti]),ti.$metadata$=tt("SerialFormat"),ei.$metadata$=tt("BinaryFormat",[ti]),ri.$metadata$=at("SerializationException",void 0,void 0,void 0,void 0,_t.prototype),oi.$metadata$=at("UnknownFieldException",void 0,void 0,void 0,void 0,ri.prototype),ai.$metadata$=at("MissingFieldException",void 0,void 0,void 0,void 0,ri.prototype),zi.prototype.y1n=function(){return this.u1n_1.y1n()},zi.prototype.z1n=function(){return this.u1n_1.z1n()},zi.prototype.a1o=function(){return this.u1n_1.a1o()},zi.prototype.q1n=function(){return this.u1n_1.q1n()},zi.prototype.b1o=function(){return this.u1n_1.b1o()},zi.prototype.c1o=function(t){return this.u1n_1.c1o(t)},zi.prototype.d1o=function(t){return this.u1n_1.d1o(t)},zi.prototype.e1o=function(t){return this.u1n_1.e1o(t)},zi.prototype.f1o=function(t){return this.u1n_1.f1o(t)},zi.prototype.g1o=function(t){return this.u1n_1.g1o(t)},zi.prototype.x1n=function(){return this.w1n_1},zi.prototype.equals=function(t){var e=t instanceof zi?t:null;if(null==e)return!1;var n=e;return!!Nt(this.u1n_1,n.u1n_1)&&n.v1n_1.equals(this.v1n_1)},zi.prototype.hashCode=function(){var t=this.v1n_1.hashCode();return Q(31,t)+Lt(this.w1n_1)|0},zi.prototype.toString=function(){return"ContextDescriptor(kClass: "+this.v1n_1+", original: "+this.u1n_1+")"},zi.$metadata$=at("ContextDescriptor",[Mi]),Mi.$metadata$=tt("SerialDescriptor"),Di.prototype.e=function(){return this.h1o_1>0},Di.prototype.f=function(){var t=this.i1o_1.z1n(),e=this.h1o_1;return this.h1o_1=e-1|0,this.i1o_1.d1o(t-e|0)},Di.$metadata$=at(void 0,[qt]),Ri.prototype.d=function(){return new Di(this.j1o_1)},Ri.$metadata$=at(void 0,[Bt]),ji.prototype.k1o=function(t,e,n,i){if(!this.z1m_1.b(t))throw yt(mt("Element with name '"+t+"' is already registered"));this.y1m_1.b(t),this.a1n_1.b(e),this.b1n_1.b(n),this.c1n_1.b(i)},ji.prototype.d1n=function(t,e,n,i,r,o){return 0!=(4&r)&&(n=rt()),0!=(8&r)&&(i=!1),this.k1o(t,e,n,i)},ji.$metadata$=at("ClassSerialDescriptorBuilder"),Li.prototype.x1n=function(){return this.l1o_1},Li.prototype.b1o=function(){return this.m1o_1},Li.prototype.z1n=function(){return this.n1o_1},Li.prototype.y1n=function(){return this.o1o_1},Li.prototype.x1o=function(){return this.p1o_1},Li.prototype.f1o=function(t){return fs(this.q1o_1,t)},Li.prototype.e1o=function(t){var e,n=this.u1o_1.o(t);return null==n?(yr(),e=-3):e=n,e},Li.prototype.c1o=function(t){return fs(this.s1o_1,t)},Li.prototype.d1o=function(t){return fs(this.r1o_1,t)},Li.prototype.g1o=function(t){return ds(this.t1o_1,t)},Li.prototype.equals=function(t){var e;t:if(this!==t)if(t instanceof Li)if(this.x1n()===t.x1n()){var n=t;if(Jt(this.v1o_1,n.v1o_1))if(this.z1n()===t.z1n()){var i=0,r=this.z1n();if(i<r)do{var o=i;if(i=i+1|0,this.d1o(o).x1n()!==t.d1o(o).x1n()){e=!1;break t}if(!Nt(this.d1o(o).b1o(),t.d1o(o).b1o())){e=!1;break t}}while(i<r);e=!0}else e=!1;else e=!1}else e=!1;else e=!1;else e=!0;return e},Li.prototype.hashCode=function(){return Ni(this)},Li.prototype.toString=function(){var t,e=Qt(0,this.n1o_1),n=this.l1o_1+"(";return te(e,", ",n,")",0,null,(t=this,function(e){return t.f1o(e)+": "+t.d1o(e).x1n()}),24,null)},Li.$metadata$=at("SerialDescriptorImpl",[Mi,$r]),Bi.$metadata$=ee("ENUM",void 0,void 0,void 0,void 0,Hi.prototype),Fi.$metadata$=ee("CONTEXTUAL",void 0,void 0,void 0,void 0,Hi.prototype),Hi.prototype.toString=function(){return ne(et(this).fe())},Hi.prototype.hashCode=function(){return Lt(this.toString())},Hi.$metadata$=at("SerialKind"),Vi.$metadata$=ee("BOOLEAN",void 0,void 0,void 0,void 0,er.prototype),Yi.$metadata$=ee("BYTE",void 0,void 0,void 0,void 0,er.prototype),Wi.$metadata$=ee("CHAR",void 0,void 0,void 0,void 0,er.prototype),Gi.$metadata$=ee("SHORT",void 0,void 0,void 0,void 0,er.prototype),Zi.$metadata$=ee("INT",void 0,void 0,void 0,void 0,er.prototype),Ki.$metadata$=ee("LONG",void 0,void 0,void 0,void 0,er.prototype),Xi.$metadata$=ee("FLOAT",void 0,void 0,void 0,void 0,er.prototype),Ji.$metadata$=ee("DOUBLE",void 0,void 0,void 0,void 0,er.prototype),Qi.$metadata$=ee("STRING",void 0,void 0,void 0,void 0,er.prototype),er.$metadata$=at("PrimitiveKind",void 0,void 0,void 0,void 0,Hi.prototype),nr.$metadata$=ee("CLASS",void 0,void 0,void 0,void 0,lr.prototype),rr.$metadata$=ee("LIST",void 0,void 0,void 0,void 0,lr.prototype),sr.$metadata$=ee("MAP",void 0,void 0,void 0,void 0,lr.prototype),ur.$metadata$=ee("OBJECT",void 0,void 0,void 0,void 0,lr.prototype),lr.$metadata$=at("StructureKind",void 0,void 0,void 0,void 0,Hi.prototype),cr.$metadata$=ee("SEALED",void 0,void 0,void 0,void 0,pr.prototype),hr.$metadata$=ee("OPEN",void 0,void 0,void 0,void 0,pr.prototype),pr.$metadata$=at("PolymorphicKind",void 0,void 0,void 0,void 0,Hi.prototype),_r.prototype.y1o=function(){throw ii(et(this)+" can't retrieve untyped values")},_r.prototype.z1o=function(){return!0},_r.prototype.a1p=function(){return null},_r.prototype.b1p=function(){var t=this.y1o();return"boolean"==typeof t?t:vt()},_r.prototype.c1p=function(){var t=this.y1o();return"number"==typeof t?t:vt()},_r.prototype.d1p=function(){var t=this.y1o();return"number"==typeof t?t:vt()},_r.prototype.e1p=function(){var t=this.y1o();return"number"==typeof t?t:vt()},_r.prototype.f1p=function(){var t=this.y1o();return t instanceof ie?t:vt()},_r.prototype.g1p=function(){var t=this.y1o();return"number"==typeof t?t:vt()},_r.prototype.h1p=function(){var t=this.y1o();return"number"==typeof t?t:vt()},_r.prototype.i1p=function(){var t=this.y1o();return t instanceof re?t.q1_1:vt()},_r.prototype.j1p=function(){var t=this.y1o();return"string"==typeof t?t:vt()},_r.prototype.k1p=function(t){return this},_r.prototype.l1p=function(t,e){return this.m1p(t)},_r.prototype.n1p=function(t){return this},_r.prototype.o1p=function(t){},_r.prototype.p1p=function(t,e){return this.b1p()},_r.prototype.q1p=function(t,e){return this.c1p()},_r.prototype.r1p=function(t,e){return this.d1p()},_r.prototype.s1p=function(t,e){return this.e1p()},_r.prototype.t1p=function(t,e){return this.f1p()},_r.prototype.u1p=function(t,e){return this.g1p()},_r.prototype.v1p=function(t,e){return this.h1p()},_r.prototype.w1p=function(t,e){return this.i1p()},_r.prototype.x1p=function(t,e){return this.j1p()},_r.prototype.y1p=function(t,e,n,i){return this.l1p(n,i)},_r.prototype.a1q=function(t,e,n,i){return n.p1m().q1n()||this.z1o()?this.l1p(n,i):this.a1p()},_r.$metadata$=at("AbstractDecoder",[dr,vr]),fr.prototype.n1p=function(t){return this},fr.prototype.o1p=function(t){},fr.prototype.e1q=function(t,e){return!0},fr.prototype.f1q=function(t){throw ii("Non-serializable "+et(t)+" is not supported by "+et(this)+" encoder")},fr.prototype.g1q=function(){throw ii("'null' is not supported by default")},fr.prototype.h1q=function(t){return this.f1q(t)},fr.prototype.i1q=function(t){return this.f1q(t)},fr.prototype.j1q=function(t){return this.f1q(t)},fr.prototype.k1q=function(t){return this.f1q(t)},fr.prototype.l1q=function(t){return this.f1q(t)},fr.prototype.m1q=function(t){return this.f1q(t)},fr.prototype.n1q=function(t){return this.f1q(t)},fr.prototype.o1q=function(t){return this.f1q(new re(t))},fr.prototype.p1q=function(t){return this.f1q(t)},fr.prototype.q1q=function(t){return this},fr.prototype.r1q=function(t,e,n){this.e1q(t,e)&&this.h1q(n)},fr.prototype.s1q=function(t,e,n){this.e1q(t,e)&&this.i1q(n)},fr.prototype.t1q=function(t,e,n){this.e1q(t,e)&&this.j1q(n)},fr.prototype.u1q=function(t,e,n){this.e1q(t,e)&&this.k1q(n)},fr.prototype.v1q=function(t,e,n){this.e1q(t,e)&&this.l1q(n)},fr.prototype.w1q=function(t,e,n){this.e1q(t,e)&&this.m1q(n)},fr.prototype.x1q=function(t,e,n){this.e1q(t,e)&&this.n1q(n)},fr.prototype.y1q=function(t,e,n){this.e1q(t,e)&&this.o1q(n)},fr.prototype.z1q=function(t,e,n){this.e1q(t,e)&&this.p1q(n)},fr.prototype.a1r=function(t,e,n,i){this.e1q(t,e)&&this.b1r(n,i)},fr.prototype.c1r=function(t,e,n,i){this.e1q(t,e)&&this.d1r(n,i)},fr.$metadata$=at("AbstractEncoder",[gr,wr]),dr.$metadata$=tt("Decoder"),mr.prototype.j1r=function(){return this.h1r_1},mr.$metadata$=ee("Companion"),vr.$metadata$=tt("CompositeDecoder"),gr.$metadata$=tt("Encoder"),wr.$metadata$=tt("CompositeEncoder"),br.prototype.q1m=function(t,e){var n=Gn(this,t,e),i=this.p1m(),r=t.n1p(i);r.z1q(this.p1m(),0,n.p1m().x1n());var o,s=this.p1m();o=gt(n,Yn)?n:vt(),r.a1r(s,1,o,e),r.o1p(i)},br.prototype.r1m=function(t){var e,n=this.p1m(),i=t.n1p(n),r=null,o=null;if(i.b1q())e=function(t,e){var n=e.x1p(t.p1m(),0),i=Zn(t,e,n),r=t.p1m();return e.z1p(r,1,i,null,8,null)}(this,i);else{t:for(;;){var s=i.c1q(this.p1m());if(yr(),-1===s)break t;if(0===s)r=i.x1p(this.p1m(),s);else{if(1!==s)throw ii("Invalid index in polymorphic deserialization of "+(null==r?"unknown class":r)+"\n Expected 0, 1 or DECODE_DONE(-1), but found "+s);var a=r;if(null==a)throw yt(mt("Cannot read polymorphic value before its type token"));var u=Zn(this,i,r=a),l=this.p1m();o=i.z1p(l,s,u,null,8,null)}}var c=o;if(null==c)throw yt(mt("Polymorphic value has not been read for class "+r));var h=c;e=oe(h)?h:vt()}var p=e;return i.o1p(n),p},br.prototype.u1m=function(t,e){return t.j1n().k1r(this.t1m(),e)},br.prototype.s1m=function(t,e){return t.j1n().l1r(this.t1m(),e)},br.$metadata$=at("AbstractPolymorphicSerializer",[Vn]),$r.$metadata$=tt("CachedNames"),Cr.prototype.x1n=function(){return this.o1r_1},Cr.$metadata$=at("PrimitiveArrayDescriptor",void 0,void 0,void 0,void 0,Sr.prototype),Er.prototype.x1n=function(){return"kotlin.Array"},Er.$metadata$=at("ArrayClassDesc",void 0,void 0,void 0,void 0,Sr.prototype),Ar.$metadata$=at("LinkedHashMapClassDesc",void 0,void 0,void 0,void 0,Tr.prototype),kr.$metadata$=at("HashMapClassDesc",void 0,void 0,void 0,void 0,Tr.prototype),Sr.prototype.b1o=function(){return or()},Sr.prototype.z1n=function(){return this.q1r_1},Sr.prototype.f1o=function(t){return t.toString()},Sr.prototype.e1o=function(t){var e=se(t);if(null==e)throw yt(t+" is not a valid list index");return e},Sr.prototype.g1o=function(t){var e;if(!(t>=0))throw e="Illegal index "+t+", "+this.x1n()+" expects only non-negative indices",yt(mt(e));return!1},Sr.prototype.c1o=function(t){var e;if(!(t>=0))throw e="Illegal index "+t+", "+this.x1n()+" expects only non-negative indices",yt(mt(e));return rt()},Sr.prototype.d1o=function(t){var e;if(!(t>=0))throw e="Illegal index "+t+", "+this.x1n()+" expects only non-negative indices",yt(mt(e));return this.p1r_1},Sr.prototype.equals=function(t){return this===t||t instanceof Sr&&!(!Nt(this.p1r_1,t.p1r_1)||this.x1n()!==t.x1n())},Sr.prototype.hashCode=function(){return Q(ae(this.p1r_1),31)+Lt(this.x1n())|0},Sr.prototype.toString=function(){return this.x1n()+"("+this.p1r_1+")"},Sr.$metadata$=at("ListLikeDescriptor",[Mi]),Tr.prototype.x1n=function(){return this.t1r_1},Tr.prototype.b1o=function(){return ar()},Tr.prototype.z1n=function(){return this.w1r_1},Tr.prototype.f1o=function(t){return t.toString()},Tr.prototype.e1o=function(t){var e=se(t);if(null==e)throw yt(t+" is not a valid map index");return e},Tr.prototype.g1o=function(t){var e;if(!(t>=0))throw e="Illegal index "+t+", "+this.x1n()+" expects only non-negative indices",yt(mt(e));return!1},Tr.prototype.c1o=function(t){var e;if(!(t>=0))throw e="Illegal index "+t+", "+this.x1n()+" expects only non-negative indices",yt(mt(e));return rt()},Tr.prototype.d1o=function(t){var e,n;if(!(t>=0))throw e="Illegal index "+t+", "+this.x1n()+" expects only non-negative indices",yt(mt(e));switch(t%2|0){case 0:n=this.u1r_1;break;case 1:n=this.v1r_1;break;default:throw ue("Unreached")}return n},Tr.prototype.equals=function(t){return this===t||t instanceof Tr&&this.x1n()===t.x1n()&&!!Nt(this.u1r_1,t.u1r_1)&&!!Nt(this.v1r_1,t.v1r_1)},Tr.prototype.hashCode=function(){var t=Lt(this.x1n());return t=Q(31,t)+ae(this.u1r_1)|0,Q(31,t)+ae(this.v1r_1)|0},Tr.prototype.toString=function(){return this.x1n()+"("+this.u1r_1+", "+this.v1r_1+")"},Tr.$metadata$=at("MapLikeDescriptor",[Mi]),Ir.prototype.x1n=function(){return"kotlin.collections.ArrayList"},Ir.$metadata$=at("ArrayListClassDesc",void 0,void 0,void 0,void 0,Sr.prototype),Or.prototype.x1n=function(){return"kotlin.collections.LinkedHashSet"},Or.$metadata$=at("LinkedHashSetClassDesc",void 0,void 0,void 0,void 0,Sr.prototype),zr.prototype.x1n=function(){return"kotlin.collections.HashSet"},zr.$metadata$=at("HashSetClassDesc",void 0,void 0,void 0,void 0,Sr.prototype),Mr.prototype.p1m=function(){return this.e1s_1},Mr.prototype.f1s=function(t){return t.g1s()},Mr.prototype.h1s=function(t){return t.i1s()},Mr.prototype.j1s=function(t,e){return t.dc(e)},Mr.prototype.k1s=function(t){throw ue("This method lead to boxing and must not be used, use writeContents instead")},Mr.prototype.l1s=function(t){return this.k1s(null==t||oe(t)?t:vt())},Mr.prototype.m1s=function(t,e,n){throw ue("This method lead to boxing and must not be used, use Builder.append instead")},Mr.prototype.n1s=function(){return this.p1s(this.o1s())},Mr.prototype.t1s=function(t,e){var n=this.u1s(e),i=this.e1s_1,r=t.f1r(i,n);this.s1s(r,e,n),r.o1p(i)},Mr.prototype.q1m=function(t,e){return this.t1s(t,null==e||oe(e)?e:vt())},Mr.prototype.v1s=function(t,e){return this.t1s(t,null==e||oe(e)?e:vt())},Mr.prototype.r1m=function(t){return this.w1s(t,null)},Mr.$metadata$=at("PrimitiveArraySerializer",void 0,void 0,void 0,void 0,Rr.prototype),Dr.prototype.z1s=function(t,e,n){return 0!=(1&e)&&(t=this.g1s()+1|0),null==n?this.dc(t):n(t)},Dr.$metadata$=at("PrimitiveArrayBuilder"),Rr.prototype.v1s=function(t,e){var n=this.u1s(e),i=this.p1m(),r=t.f1r(i,n),o=this.l1s(e),s=0;if(s<n)do{var a=s;s=s+1|0,r.a1r(this.p1m(),a,this.x1s_1,o.f())}while(s<n);r.o1p(i)},Rr.prototype.q1m=function(t,e){return this.v1s(t,null==e||oe(e)?e:vt())},Rr.prototype.y1s=function(t,e,n,i){if(!(i>=0))throw yt(mt("Size must be known in advance when using READ_ALL"));var r=0;if(r<i)do{var o=r;r=r+1|0,this.q1s(t,n+o|0,e,!1)}while(r<i)},Rr.prototype.q1s=function(t,e,n,i){var r=this.p1m();this.m1s(n,e,t.z1p(r,e,this.x1s_1,null,8,null))},Rr.$metadata$=at("CollectionLikeSerializer",void 0,void 0,void 0,void 0,Pr.prototype),Pr.prototype.w1s=function(t,e){var n=e,i=null==n?null:this.p1s(n),r=null==i?this.n1s():i,o=this.f1s(r),s=t.n1p(this.p1m());if(s.b1q())this.y1s(s,r,o,function(t,e,n){var i=e.d1q(t.p1m());return t.j1s(n,i),i}(this,s,r));else t:for(;;){var a=s.c1q(this.p1m());if(yr(),-1===a)break t;var u=o+a|0;this.r1s(s,u,r,!1,8,null)}return s.o1p(this.p1m()),this.h1s(r)},Pr.prototype.r1m=function(t){return this.w1s(t,null)},Pr.prototype.r1s=function(t,e,n,i,r,o){return 0!=(8&r)&&(i=!0),null==o?this.q1s(t,e,n,i):o(t,e,n,i)},Pr.$metadata$=at("AbstractCollectionSerializer",[Vn]),jr.prototype.p1m=function(){return this.c1t_1},jr.prototype.d1t=function(t){return t.length},jr.prototype.u1s=function(t){return this.d1t(null!=t&&le(t)?t:vt())},jr.prototype.e1t=function(t){return ce(t)},jr.prototype.l1s=function(t){return this.e1t(null!=t&&le(t)?t:vt())},jr.prototype.n1s=function(){return Ht()},jr.prototype.f1t=function(t){return t.g()},jr.prototype.f1s=function(t){return this.f1t(t instanceof Dt?t:vt())},jr.prototype.g1t=function(t){return function(t,e){return bt(t)}(t,this.b1t_1)},jr.prototype.h1s=function(t){return this.g1t(t instanceof Dt?t:vt())},jr.prototype.h1t=function(t){return pe(he(t))},jr.prototype.p1s=function(t){return this.h1t(null!=t&&le(t)?t:vt())},jr.prototype.i1t=function(t,e){return t.dc(e)},jr.prototype.j1s=function(t,e){return this.i1t(t instanceof Dt?t:vt(),e)},jr.prototype.j1t=function(t,e,n){t.jb(e,n)},jr.prototype.m1s=function(t,e,n){var i=t instanceof Dt?t:vt();return this.j1t(i,e,null==n||oe(n)?n:vt())},jr.$metadata$=at("ReferenceArraySerializer",void 0,void 0,void 0,void 0,Rr.prototype),Nr.prototype.l1t=function(t){return t.g()},Nr.prototype.u1s=function(t){return this.l1t(null!=t&&gt(t,jt)?t:vt())},Nr.prototype.m1t=function(t){return t.d()},Nr.prototype.l1s=function(t){return this.m1t(null!=t&&gt(t,jt)?t:vt())},Nr.$metadata$=at("CollectionSerializer",void 0,void 0,void 0,void 0,Rr.prototype),Lr.prototype.p1t=function(){return this.n1t_1},Lr.prototype.q1t=function(){return this.o1t_1},Lr.prototype.y1s=function(t,e,n,i){if(!(i>=0))throw yt(mt("Size must be known in advance when using READ_ALL"));var r=_e(Qt(0,Q(i,2)),2),o=r.k1_1,s=r.l1_1,a=r.m1_1;if(a>0&&o<=s||a<0&&s<=o)do{var u=o;o=o+a|0,this.q1s(t,n+u|0,e,!1)}while(u!==s)},Lr.prototype.q1s=function(t,e,n,i){var r,o=this.p1m(),s=t.z1p(o,e,this.n1t_1,null,8,null);if(i){var a=t.c1q(this.p1m());if(a!==(e+1|0))throw yt(mt("Value must follow key in a map, index for key: "+e+", returned index for value: "+a));r=a}else r=e+1|0;var u,l=r;if(!n.r2(s)||this.o1t_1.p1m().b1o()instanceof er){var c=this.p1m();u=t.z1p(c,l,this.o1t_1,null,8,null)}else u=t.y1p(this.p1m(),l,this.o1t_1,fe(n,s));var h=u;n.a(s,h)},Lr.prototype.v1s=function(t,e){for(var n=this.u1s(e),i=this.p1m(),r=t.f1r(i,n),o=0,s=this.l1s(e);s.e();){var a=s.f(),u=a.a1(),l=a.b1(),c=this.p1m(),h=o;o=h+1|0,r.a1r(c,h,this.n1t_1,u);var p=this.p1m(),_=o;o=_+1|0,r.a1r(p,_,this.o1t_1,l)}r.o1p(i)},Lr.prototype.q1m=function(t,e){return this.v1s(t,null==e||oe(e)?e:vt())},Lr.$metadata$=at("MapLikeSerializer",void 0,void 0,void 0,void 0,Pr.prototype),qr.prototype.p1m=function(){return this.t1t_1},qr.prototype.u1t=function(t){return t.g()},qr.prototype.u1s=function(t){return this.u1t(null!=t&&gt(t,St)?t:vt())},qr.prototype.v1t=function(t){return t.z().d()},qr.prototype.l1s=function(t){return this.v1t(null!=t&&gt(t,St)?t:vt())},qr.prototype.n1s=function(){return de()},qr.prototype.w1t=function(t){return Q(t.g(),2)},qr.prototype.f1s=function(t){return this.w1t(t instanceof At?t:vt())},qr.prototype.x1t=function(t){return t},qr.prototype.h1s=function(t){return this.x1t(t instanceof At?t:vt())},qr.prototype.y1t=function(t){var e=t instanceof At?t:null;return null==e?me(t):e},qr.prototype.p1s=function(t){return this.y1t(null!=t&&gt(t,St)?t:vt())},qr.prototype.z1t=function(t,e){},qr.prototype.j1s=function(t,e){return this.z1t(t instanceof At?t:vt(),e)},qr.$metadata$=at("LinkedHashMapSerializer",void 0,void 0,void 0,void 0,Lr.prototype),Br.prototype.p1m=function(){return this.c1u_1},Br.prototype.u1t=function(t){return t.g()},Br.prototype.u1s=function(t){return this.u1t(null!=t&&gt(t,St)?t:vt())},Br.prototype.v1t=function(t){return t.z().d()},Br.prototype.l1s=function(t){return this.v1t(null!=t&&gt(t,St)?t:vt())},Br.prototype.n1s=function(){return ye()},Br.prototype.d1u=function(t){return Q(t.g(),2)},Br.prototype.f1s=function(t){return this.d1u(t instanceof Tt?t:vt())},Br.prototype.e1u=function(t){return t},Br.prototype.h1s=function(t){return this.e1u(t instanceof Tt?t:vt())},Br.prototype.y1t=function(t){var e=t instanceof Tt?t:null;return null==e?ve(t):e},Br.prototype.p1s=function(t){return this.y1t(null!=t&&gt(t,St)?t:vt())},Br.prototype.f1u=function(t,e){},Br.prototype.j1s=function(t,e){return this.f1u(t instanceof Tt?t:vt(),e)},Br.$metadata$=at("HashMapSerializer",void 0,void 0,void 0,void 0,Lr.prototype),Fr.prototype.p1m=function(){return this.h1u_1},Fr.prototype.n1s=function(){return Ht()},Fr.prototype.i1u=function(t){return t.g()},Fr.prototype.f1s=function(t){return this.i1u(t instanceof Dt?t:vt())},Fr.prototype.j1u=function(t){return t},Fr.prototype.h1s=function(t){return this.j1u(t instanceof Dt?t:vt())},Fr.prototype.k1u=function(t){var e=t instanceof Dt?t:null;return null==e?pe(t):e},Fr.prototype.p1s=function(t){return this.k1u(null!=t&&gt(t,Pt)?t:vt())},Fr.prototype.l1u=function(t,e){return t.dc(e)},Fr.prototype.j1s=function(t,e){return this.l1u(t instanceof Dt?t:vt(),e)},Fr.prototype.m1u=function(t,e,n){t.jb(e,n)},Fr.prototype.m1s=function(t,e,n){var i=t instanceof Dt?t:vt();return this.m1u(i,e,null==n||oe(n)?n:vt())},Fr.$metadata$=at("ArrayListSerializer",void 0,void 0,void 0,void 0,Nr.prototype),Ur.prototype.p1m=function(){return this.o1u_1},Ur.prototype.n1s=function(){return Vt()},Ur.prototype.p1u=function(t){return t.g()},Ur.prototype.f1s=function(t){return this.p1u(t instanceof Mt?t:vt())},Ur.prototype.q1u=function(t){return t},Ur.prototype.h1s=function(t){return this.q1u(t instanceof Mt?t:vt())},Ur.prototype.r1u=function(t){var e=t instanceof Mt?t:null;return null==e?ge(t):e},Ur.prototype.p1s=function(t){return this.r1u(null!=t&&gt(t,zt)?t:vt())},Ur.prototype.s1u=function(t,e){},Ur.prototype.j1s=function(t,e){return this.s1u(t instanceof Mt?t:vt(),e)},Ur.prototype.t1u=function(t,e,n){t.b(n)},Ur.prototype.m1s=function(t,e,n){var i=t instanceof Mt?t:vt();return this.t1u(i,e,null==n||oe(n)?n:vt())},Ur.$metadata$=at("HashSetSerializer",void 0,void 0,void 0,void 0,Nr.prototype),Hr.prototype.p1m=function(){return this.v1u_1},Hr.prototype.n1s=function(){return we()},Hr.prototype.w1u=function(t){return t.g()},Hr.prototype.f1s=function(t){return this.w1u(t instanceof It?t:vt())},Hr.prototype.x1u=function(t){return t},Hr.prototype.h1s=function(t){return this.x1u(t instanceof It?t:vt())},Hr.prototype.r1u=function(t){var e=t instanceof It?t:null;return null==e?be(t):e},Hr.prototype.p1s=function(t){return this.r1u(null!=t&&gt(t,zt)?t:vt())},Hr.prototype.y1u=function(t,e){},Hr.prototype.j1s=function(t,e){return this.y1u(t instanceof It?t:vt(),e)},Hr.prototype.z1u=function(t,e,n){t.b(n)},Hr.prototype.m1s=function(t,e,n){var i=t instanceof It?t:vt();return this.z1u(i,e,null==n||oe(n)?n:vt())},Hr.$metadata$=at("LinkedHashSetSerializer",void 0,void 0,void 0,void 0,Nr.prototype),Vr.$metadata$=ee("Companion"),Wr.prototype.f1v=function(t){$e(),t<64?this.d1v_1=this.d1v_1.xh(new ie(1,0).n6(t)):function(t,e){var n=(e>>>6|0)-1|0;$e();var i=63&e;t.e1v_1[n]=t.e1v_1[n].xh(new ie(1,0).n6(i))}(this,t)},Wr.prototype.g1v=function(){for(var t=this.b1v_1.z1n();!this.d1v_1.equals(new ie(-1,-1));){var e=Ee(this.d1v_1.wh());if(this.d1v_1=this.d1v_1.xh(new ie(1,0).n6(e)),this.c1v_1(this.b1v_1,e))return e}return $e(),t>64?function(t){var e=0,n=t.e1v_1.length-1|0;if(e<=n)do{var i=e;e=e+1|0;var r=i+1|0;$e();for(var o=Q(r,64),s=t.e1v_1[i];!s.equals(new ie(-1,-1));){var a=Ee(s.wh());s=s.xh(new ie(1,0).n6(a));var u=o+a|0;if(t.c1v_1(t.b1v_1,u))return t.e1v_1[i]=s,u}t.e1v_1[i]=s}while(e<=n);return yr(),-1}(this):(yr(),-1)},Wr.$metadata$=at("ElementMarker"),Zr.prototype.a1o=function(){return this.t1v_1},Zr.prototype.hashCode=function(){return Q(po.prototype.hashCode.call(this),31)},Zr.prototype.equals=function(t){var e;t:if(this!==t)if(t instanceof Zr)if(this.x1n()===t.x1n()){var n=t;if(n.t1v_1&&Jt(this.g1w(),n.g1w()))if(this.z1n()===t.z1n()){var i=0,r=this.z1n();if(i<r)do{var o=i;if(i=i+1|0,this.d1o(o).x1n()!==t.d1o(o).x1n()){e=!1;break t}if(!Nt(this.d1o(o).b1o(),t.d1o(o).b1o())){e=!1;break t}}while(i<r);e=!0}else e=!1;else e=!1}else e=!1;else e=!1;else e=!0;return e},Zr.$metadata$=at("InlineClassDescriptor",void 0,void 0,void 0,void 0,po.prototype),Kr.prototype.j1w=function(){return[this.i1w_1]},Kr.prototype.p1m=function(){throw ue("unsupported")},Kr.prototype.q1m=function(t,e){throw ue("unsupported")},Kr.prototype.r1m=function(t){throw ue("unsupported")},Kr.$metadata$=at(void 0,[fo]),Xr.prototype.p1m=function(){return this.l1w_1},Xr.prototype.m1w=function(t,e){var n,i=t.q1q(this.l1w_1);n=ke(e),i.k1q(n)},Xr.prototype.q1m=function(t,e){return this.m1w(t,e instanceof Se?e.u7_1:vt())},Xr.prototype.n1w=function(t){var e=t.k1p(this.l1w_1).e1p();return Te(e)},Xr.prototype.r1m=function(t){return new Se(this.n1w(t))},Xr.$metadata$=ee("UIntSerializer",[Vn]),Jr.prototype.p1m=function(){return this.o1w_1},Jr.prototype.p1w=function(t,e){var n,i=t.q1q(this.o1w_1);n=Ie(e),i.l1q(n)},Jr.prototype.q1m=function(t,e){return this.p1w(t,e instanceof Oe?e.b8_1:vt())},Jr.prototype.q1w=function(t){var e=t.k1p(this.o1w_1).f1p();return ze(e)},Jr.prototype.r1m=function(t){return new Oe(this.q1w(t))},Jr.$metadata$=ee("ULongSerializer",[Vn]),Qr.prototype.p1m=function(){return this.r1w_1},Qr.prototype.s1w=function(t,e){var n,i=t.q1q(this.r1w_1);n=De(e),i.i1q(n)},Qr.prototype.q1m=function(t,e){return this.s1w(t,e instanceof Re?e.n7_1:vt())},Qr.prototype.t1w=function(t){var e=t.k1p(this.r1w_1).c1p();return Pe(e)},Qr.prototype.r1m=function(t){return new Re(this.t1w(t))},Qr.$metadata$=ee("UByteSerializer",[Vn]),to.prototype.p1m=function(){return this.u1w_1},to.prototype.v1w=function(t,e){var n,i=t.q1q(this.u1w_1);n=Ne(e),i.j1q(n)},to.prototype.q1m=function(t,e){return this.v1w(t,e instanceof Le?e.h8_1:vt())},to.prototype.w1w=function(t){var e=t.k1p(this.u1w_1).d1p();return qe(e)},to.prototype.r1m=function(t){return new Le(this.w1w(t))},to.$metadata$=ee("UShortSerializer",[Vn]),eo.prototype.p1m=function(){return this.y1w_1},eo.prototype.z1w=function(t,e){null!=e?(t.e1r(),t.b1r(this.x1w_1,e)):t.g1q()},eo.prototype.q1m=function(t,e){return this.z1w(t,null==e||oe(e)?e:vt())},eo.prototype.r1m=function(t){return t.z1o()?t.m1p(this.x1w_1):t.a1p()},eo.prototype.equals=function(t){return this===t||!(null==t||!et(this).equals(et(t)))&&(t instanceof eo||vt(),!!Nt(this.x1w_1,t.x1w_1))},eo.prototype.hashCode=function(){return ae(this.x1w_1)},eo.$metadata$=at("NullableSerializer",[Vn]),no.prototype.y1n=function(){return this.r1n_1.y1n()},no.prototype.z1n=function(){return this.r1n_1.z1n()},no.prototype.a1o=function(){return this.r1n_1.a1o()},no.prototype.b1o=function(){return this.r1n_1.b1o()},no.prototype.c1o=function(t){return this.r1n_1.c1o(t)},no.prototype.d1o=function(t){return this.r1n_1.d1o(t)},no.prototype.e1o=function(t){return this.r1n_1.e1o(t)},no.prototype.f1o=function(t){return this.r1n_1.f1o(t)},no.prototype.g1o=function(t){return this.r1n_1.g1o(t)},no.prototype.x1n=function(){return this.s1n_1},no.prototype.x1o=function(){return this.t1n_1},no.prototype.q1n=function(){return!0},no.prototype.equals=function(t){return this===t||t instanceof no&&!!Nt(this.r1n_1,t.r1n_1)},no.prototype.toString=function(){return this.r1n_1+"?"},no.prototype.hashCode=function(){return Q(ae(this.r1n_1),31)},no.$metadata$=at("SerialDescriptorForNullable",[Mi,$r]),ro.prototype.p1m=function(){return lt("descriptor",1,ut,(function(t){return t.p1m()}),null),this.c1x_1.b1()},ro.prototype.q1m=function(t,e){t.n1p(this.p1m()).o1p(this.p1m())},ro.prototype.r1m=function(t){var e=this.p1m(),n=t.n1p(e),i=n.c1q(this.p1m());if(yr(),-1!==i)throw ii("Unexpected index "+i);return it(),n.o1p(e),this.a1x_1},ro.$metadata$=at("ObjectSerializer",[Vn]),po.prototype.x1n=function(){return this.u1v_1},po.prototype.z1n=function(){return this.w1v_1},po.prototype.b1o=function(){return ir()},po.prototype.y1n=function(){var t=this.a1w_1;return null==t?rt():t},po.prototype.x1o=function(){return this.c1w_1.x2()},po.prototype.g1w=function(){return lt("typeParameterDescriptors",1,ut,(function(t){return t.g1w()}),null),this.e1w_1.b1()},po.prototype.h1w=function(t,e){var n=this;n.x1v_1=n.x1v_1+1|0,this.y1v_1[n.x1v_1]=t,this.b1w_1[this.x1v_1]=e,this.z1v_1[this.x1v_1]=null,this.x1v_1===(this.w1v_1-1|0)&&(this.c1w_1=function(t){var e=ye(),n=0,i=t.y1v_1.length-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=t.y1v_1[r];e.a(o,r)}while(n<=i);return e}(this))},po.prototype.d1o=function(t){return fs(co(this),t).p1m()},po.prototype.g1o=function(t){return ds(this.b1w_1,t)},po.prototype.c1o=function(t){var e=fs(this.z1v_1,t);return null==e?rt():e},po.prototype.f1o=function(t){return fs(this.y1v_1,t)},po.prototype.e1o=function(t){var e,n=this.c1w_1.o(t);return null==n?(yr(),e=-3):e=n,e},po.prototype.equals=function(t){var e;t:if(this!==t)if(t instanceof po)if(this.x1n()===t.x1n()){var n=t;if(Jt(this.g1w(),n.g1w()))if(this.z1n()===t.z1n()){var i=0,r=this.z1n();if(i<r)do{var o=i;if(i=i+1|0,this.d1o(o).x1n()!==t.d1o(o).x1n()){e=!1;break t}if(!Nt(this.d1o(o).b1o(),t.d1o(o).b1o())){e=!1;break t}}while(i<r);e=!0}else e=!1;else e=!1}else e=!1;else e=!1;else e=!0;return e},po.prototype.hashCode=function(){return ho(this)},po.prototype.toString=function(){var t,e=Qt(0,this.w1v_1),n=this.x1n()+"(";return te(e,", ",n,")",0,null,(t=this,function(e){return t.f1o(e)+": "+t.d1o(e).x1n()}),24,null)},po.$metadata$=at("PluginGeneratedSerialDescriptor",[Mi,$r]),fo.$metadata$=tt("GeneratedSerializer",[Vn]),mo.$metadata$=tt("SerializerFactory"),yo.prototype.g1x=function(t){return t.length},yo.prototype.u1s=function(t){return this.g1x(null!=t&&Ge(t)?t:vt())},yo.prototype.h1x=function(t){return new Eo(t)},yo.prototype.p1s=function(t){return this.h1x(null!=t&&Ge(t)?t:vt())},yo.prototype.o1s=function(){return Ze(0)},yo.prototype.i1x=function(t,e,n,i){n.l1x(t.w1p(this.p1m(),e))},yo.prototype.q1s=function(t,e,n,i){return this.i1x(t,e,n instanceof Eo?n:vt(),i)},yo.prototype.m1x=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.y1q(this.p1m(),r,e[r])}while(i<n)},yo.prototype.s1s=function(t,e,n){return this.m1x(t,null!=e&&Ge(e)?e:vt(),n)},yo.$metadata$=ee("CharArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),vo.prototype.p1x=function(t){return t.length},vo.prototype.u1s=function(t){return this.p1x(null!=t&&Xe(t)?t:vt())},vo.prototype.q1x=function(t){return new Ao(t)},vo.prototype.p1s=function(t){return this.q1x(null!=t&&Xe(t)?t:vt())},vo.prototype.o1s=function(){return new Float64Array(0)},vo.prototype.r1x=function(t,e,n,i){n.u1x(t.v1p(this.p1m(),e))},vo.prototype.q1s=function(t,e,n,i){return this.r1x(t,e,n instanceof Ao?n:vt(),i)},vo.prototype.v1x=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.x1q(this.p1m(),r,e[r])}while(i<n)},vo.prototype.s1s=function(t,e,n){return this.v1x(t,null!=e&&Xe(e)?e:vt(),n)},vo.$metadata$=ee("DoubleArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),go.prototype.y1x=function(t){return t.length},go.prototype.u1s=function(t){return this.y1x(null!=t&&Qe(t)?t:vt())},go.prototype.z1x=function(t){return new ko(t)},go.prototype.p1s=function(t){return this.z1x(null!=t&&Qe(t)?t:vt())},go.prototype.o1s=function(){return new Float32Array(0)},go.prototype.a1y=function(t,e,n,i){n.d1y(t.u1p(this.p1m(),e))},go.prototype.q1s=function(t,e,n,i){return this.a1y(t,e,n instanceof ko?n:vt(),i)},go.prototype.e1y=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.w1q(this.p1m(),r,e[r])}while(i<n)},go.prototype.s1s=function(t,e,n){return this.e1y(t,null!=e&&Qe(e)?e:vt(),n)},go.$metadata$=ee("FloatArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),wo.prototype.h1y=function(t){return t.length},wo.prototype.u1s=function(t){return this.h1y(null!=t&&tn(t)?t:vt())},wo.prototype.i1y=function(t){return new So(t)},wo.prototype.p1s=function(t){return this.i1y(null!=t&&tn(t)?t:vt())},wo.prototype.o1s=function(){return xe(0)},wo.prototype.j1y=function(t,e,n,i){n.m1y(t.t1p(this.p1m(),e))},wo.prototype.q1s=function(t,e,n,i){return this.j1y(t,e,n instanceof So?n:vt(),i)},wo.prototype.n1y=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.v1q(this.p1m(),r,e[r])}while(i<n)},wo.prototype.s1s=function(t,e,n){return this.n1y(t,null!=e&&tn(e)?e:vt(),n)},wo.$metadata$=ee("LongArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),bo.prototype.q1y=function(t){return t.length},bo.prototype.u1s=function(t){return this.q1y(null!=t&&en(t)?t:vt())},bo.prototype.r1y=function(t){return new To(t)},bo.prototype.p1s=function(t){return this.r1y(null!=t&&en(t)?t:vt())},bo.prototype.o1s=function(){return new Int32Array(0)},bo.prototype.s1y=function(t,e,n,i){n.v1y(t.s1p(this.p1m(),e))},bo.prototype.q1s=function(t,e,n,i){return this.s1y(t,e,n instanceof To?n:vt(),i)},bo.prototype.w1y=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.u1q(this.p1m(),r,e[r])}while(i<n)},bo.prototype.s1s=function(t,e,n){return this.w1y(t,null!=e&&en(e)?e:vt(),n)},bo.$metadata$=ee("IntArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),xo.prototype.z1y=function(t){return t.length},xo.prototype.u1s=function(t){return this.z1y(null!=t&&nn(t)?t:vt())},xo.prototype.a1z=function(t){return new Io(t)},xo.prototype.p1s=function(t){return this.a1z(null!=t&&nn(t)?t:vt())},xo.prototype.o1s=function(){return new Int16Array(0)},xo.prototype.b1z=function(t,e,n,i){n.e1z(t.r1p(this.p1m(),e))},xo.prototype.q1s=function(t,e,n,i){return this.b1z(t,e,n instanceof Io?n:vt(),i)},xo.prototype.f1z=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.t1q(this.p1m(),r,e[r])}while(i<n)},xo.prototype.s1s=function(t,e,n){return this.f1z(t,null!=e&&nn(e)?e:vt(),n)},xo.$metadata$=ee("ShortArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),$o.prototype.i1z=function(t){return t.length},$o.prototype.u1s=function(t){return this.i1z(null!=t&&rn(t)?t:vt())},$o.prototype.j1z=function(t){return new Oo(t)},$o.prototype.p1s=function(t){return this.j1z(null!=t&&rn(t)?t:vt())},$o.prototype.o1s=function(){return new Int8Array(0)},$o.prototype.k1z=function(t,e,n,i){n.n1z(t.q1p(this.p1m(),e))},$o.prototype.q1s=function(t,e,n,i){return this.k1z(t,e,n instanceof Oo?n:vt(),i)},$o.prototype.o1z=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.s1q(this.p1m(),r,e[r])}while(i<n)},$o.prototype.s1s=function(t,e,n){return this.o1z(t,null!=e&&rn(e)?e:vt(),n)},$o.$metadata$=ee("ByteArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),Co.prototype.r1z=function(t){return t.length},Co.prototype.u1s=function(t){return this.r1z(null!=t&&sn(t)?t:vt())},Co.prototype.s1z=function(t){return new zo(t)},Co.prototype.p1s=function(t){return this.s1z(null!=t&&sn(t)?t:vt())},Co.prototype.o1s=function(){return Ve(0)},Co.prototype.t1z=function(t,e,n,i){n.w1z(t.p1p(this.p1m(),e))},Co.prototype.q1s=function(t,e,n,i){return this.t1z(t,e,n instanceof zo?n:vt(),i)},Co.prototype.x1z=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.r1q(this.p1m(),r,e[r])}while(i<n)},Co.prototype.s1s=function(t,e,n){return this.x1z(t,null!=e&&sn(e)?e:vt(),n)},Co.$metadata$=ee("BooleanArraySerializer",[Vn],void 0,void 0,void 0,Mr.prototype),Eo.prototype.g1s=function(){return this.k1x_1},Eo.prototype.dc=function(t){this.j1x_1.length<t&&(this.j1x_1=un(this.j1x_1,an(t,Q(this.j1x_1.length,2))))},Eo.prototype.l1x=function(t){this.z1s(0,1,null);var e=this.j1x_1,n=this.k1x_1;this.k1x_1=n+1|0,e[n]=t},Eo.prototype.i1s=function(){return un(this.j1x_1,this.k1x_1)},Eo.$metadata$=at("CharArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),Ao.prototype.g1s=function(){return this.t1x_1},Ao.prototype.dc=function(t){this.s1x_1.length<t&&(this.s1x_1=ln(this.s1x_1,an(t,Q(this.s1x_1.length,2))))},Ao.prototype.u1x=function(t){this.z1s(0,1,null);var e=this.s1x_1,n=this.t1x_1;this.t1x_1=n+1|0,e[n]=t},Ao.prototype.i1s=function(){return ln(this.s1x_1,this.t1x_1)},Ao.$metadata$=at("DoubleArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),ko.prototype.g1s=function(){return this.c1y_1},ko.prototype.dc=function(t){this.b1y_1.length<t&&(this.b1y_1=cn(this.b1y_1,an(t,Q(this.b1y_1.length,2))))},ko.prototype.d1y=function(t){this.z1s(0,1,null);var e=this.b1y_1,n=this.c1y_1;this.c1y_1=n+1|0,e[n]=t},ko.prototype.i1s=function(){return cn(this.b1y_1,this.c1y_1)},ko.$metadata$=at("FloatArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),So.prototype.g1s=function(){return this.l1y_1},So.prototype.dc=function(t){this.k1y_1.length<t&&(this.k1y_1=hn(this.k1y_1,an(t,Q(this.k1y_1.length,2))))},So.prototype.m1y=function(t){this.z1s(0,1,null);var e=this.k1y_1,n=this.l1y_1;this.l1y_1=n+1|0,e[n]=t},So.prototype.i1s=function(){return hn(this.k1y_1,this.l1y_1)},So.$metadata$=at("LongArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),To.prototype.g1s=function(){return this.u1y_1},To.prototype.dc=function(t){this.t1y_1.length<t&&(this.t1y_1=pn(this.t1y_1,an(t,Q(this.t1y_1.length,2))))},To.prototype.v1y=function(t){this.z1s(0,1,null);var e=this.t1y_1,n=this.u1y_1;this.u1y_1=n+1|0,e[n]=t},To.prototype.i1s=function(){return pn(this.t1y_1,this.u1y_1)},To.$metadata$=at("IntArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),Io.prototype.g1s=function(){return this.d1z_1},Io.prototype.dc=function(t){this.c1z_1.length<t&&(this.c1z_1=_n(this.c1z_1,an(t,Q(this.c1z_1.length,2))))},Io.prototype.e1z=function(t){this.z1s(0,1,null);var e=this.c1z_1,n=this.d1z_1;this.d1z_1=n+1|0,e[n]=t},Io.prototype.i1s=function(){return _n(this.c1z_1,this.d1z_1)},Io.$metadata$=at("ShortArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),Oo.prototype.g1s=function(){return this.m1z_1},Oo.prototype.dc=function(t){this.l1z_1.length<t&&(this.l1z_1=fn(this.l1z_1,an(t,Q(this.l1z_1.length,2))))},Oo.prototype.n1z=function(t){this.z1s(0,1,null);var e=this.l1z_1,n=this.m1z_1;this.m1z_1=n+1|0,e[n]=t},Oo.prototype.i1s=function(){return fn(this.l1z_1,this.m1z_1)},Oo.$metadata$=at("ByteArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),zo.prototype.g1s=function(){return this.v1z_1},zo.prototype.dc=function(t){this.u1z_1.length<t&&(this.u1z_1=dn(this.u1z_1,an(t,Q(this.u1z_1.length,2))))},zo.prototype.w1z=function(t){this.z1s(0,1,null);var e=this.u1z_1,n=this.v1z_1;this.v1z_1=n+1|0,e[n]=t},zo.prototype.i1s=function(){return dn(this.u1z_1,this.v1z_1)},zo.$metadata$=at("BooleanArrayBuilder",void 0,void 0,void 0,void 0,Dr.prototype),Do.prototype.p1m=function(){return this.y1z_1},Do.prototype.z1z=function(t,e){return t.p1q(e)},Do.prototype.q1m=function(t,e){return this.z1z(t,null!=e&&"string"==typeof e?e:vt())},Do.prototype.r1m=function(t){return t.j1p()},Do.$metadata$=ee("StringSerializer",[Vn]),Po.prototype.p1m=function(){return this.a20_1},Po.prototype.b20=function(t,e){return t.o1q(e)},Po.prototype.q1m=function(t,e){return this.b20(t,e instanceof re?e.q1_1:vt())},Po.prototype.c20=function(t){return t.i1p()},Po.prototype.r1m=function(t){return new re(this.c20(t))},Po.$metadata$=ee("CharSerializer",[Vn]),jo.prototype.p1m=function(){return this.d20_1},jo.prototype.e20=function(t,e){return t.n1q(e)},jo.prototype.q1m=function(t,e){return this.e20(t,null!=e&&"number"==typeof e?e:vt())},jo.prototype.r1m=function(t){return t.h1p()},jo.$metadata$=ee("DoubleSerializer",[Vn]),Lo.prototype.p1m=function(){return this.f20_1},Lo.prototype.g20=function(t,e){return t.m1q(e)},Lo.prototype.q1m=function(t,e){return this.g20(t,null!=e&&"number"==typeof e?e:vt())},Lo.prototype.r1m=function(t){return t.g1p()},Lo.$metadata$=ee("FloatSerializer",[Vn]),qo.prototype.p1m=function(){return this.h20_1},qo.prototype.i20=function(t,e){return t.l1q(e)},qo.prototype.q1m=function(t,e){return this.i20(t,e instanceof ie?e:vt())},qo.prototype.r1m=function(t){return t.f1p()},qo.$metadata$=ee("LongSerializer",[Vn]),Fo.prototype.p1m=function(){return this.j20_1},Fo.prototype.k20=function(t,e){return t.k1q(e)},Fo.prototype.q1m=function(t,e){return this.k20(t,null!=e&&"number"==typeof e?e:vt())},Fo.prototype.r1m=function(t){return t.e1p()},Fo.$metadata$=ee("IntSerializer",[Vn]),Uo.prototype.p1m=function(){return this.l20_1},Uo.prototype.m20=function(t,e){return t.j1q(e)},Uo.prototype.q1m=function(t,e){return this.m20(t,null!=e&&"number"==typeof e?e:vt())},Uo.prototype.r1m=function(t){return t.d1p()},Uo.$metadata$=ee("ShortSerializer",[Vn]),Ho.prototype.p1m=function(){return this.n20_1},Ho.prototype.o20=function(t,e){return t.i1q(e)},Ho.prototype.q1m=function(t,e){return this.o20(t,null!=e&&"number"==typeof e?e:vt())},Ho.prototype.r1m=function(t){return t.c1p()},Ho.$metadata$=ee("ByteSerializer",[Vn]),Vo.prototype.p1m=function(){return this.p20_1},Vo.prototype.q20=function(t,e){return t.h1q(e)},Vo.prototype.q1m=function(t,e){return this.q20(t,null!=e&&"boolean"==typeof e?e:vt())},Vo.prototype.r1m=function(t){return t.b1p()},Vo.$metadata$=ee("BooleanSerializer",[Vn]),Yo.prototype.p1m=function(){return this.r20_1.p1m()},Yo.prototype.s20=function(t){this.r20_1.r1m(t)},Yo.prototype.r1m=function(t){return this.s20(t),it()},Yo.prototype.t20=function(t,e){this.r20_1.q1m(t,it())},Yo.prototype.q1m=function(t,e){return this.t20(t,e instanceof mn?e:vt())},Yo.$metadata$=ee("UnitSerializer",[Vn]),Go.prototype.x1n=function(){return this.u20_1},Go.prototype.b1o=function(){return this.v20_1},Go.prototype.z1n=function(){return 0},Go.prototype.f1o=function(t){Wo()},Go.prototype.e1o=function(t){Wo()},Go.prototype.g1o=function(t){Wo()},Go.prototype.d1o=function(t){Wo()},Go.prototype.c1o=function(t){Wo()},Go.prototype.toString=function(){return"PrimitiveDescriptor("+this.u20_1+")"},Go.$metadata$=at("PrimitiveSerialDescriptor",[Mi]),Xo.prototype.y20=function(t,e){return this.a21(this.z20(t,e))},Xo.prototype.a21=function(t){var e=this.d21();return this.e21(null==e?"":e,t)},Xo.prototype.z20=function(t,e){return t.f1o(e)},Xo.prototype.e21=function(t,e){return 0===gn(t)?e:t+"."+e},Xo.$metadata$=at("NamedValueDecoder",void 0,void 0,void 0,void 0,Qo.prototype),Qo.prototype.j1n=function(){return ss()},Qo.prototype.f21=function(t){throw ii(et(this)+" can't retrieve untyped values")},Qo.prototype.g21=function(t){return!0},Qo.prototype.h21=function(t){var e=this.f21(t);return"boolean"==typeof e?e:vt()},Qo.prototype.i21=function(t){var e=this.f21(t);return"number"==typeof e?e:vt()},Qo.prototype.j21=function(t){var e=this.f21(t);return"number"==typeof e?e:vt()},Qo.prototype.k21=function(t){var e=this.f21(t);return"number"==typeof e?e:vt()},Qo.prototype.l21=function(t){var e=this.f21(t);return e instanceof ie?e:vt()},Qo.prototype.m21=function(t){var e=this.f21(t);return"number"==typeof e?e:vt()},Qo.prototype.n21=function(t){var e=this.f21(t);return"number"==typeof e?e:vt()},Qo.prototype.o21=function(t){var e=this.f21(t);return e instanceof re?e.q1_1:vt()},Qo.prototype.p21=function(t){var e=this.f21(t);return"string"==typeof e?e:vt()},Qo.prototype.q21=function(t,e){return this.r21(t),this},Qo.prototype.l1p=function(t,e){return this.m1p(t)},Qo.prototype.k1p=function(t){return this.q21(this.s21(),t)},Qo.prototype.z1o=function(){var t=this.d21();if(null==t)return!1;var e=t;return this.g21(e)},Qo.prototype.a1p=function(){return null},Qo.prototype.b1p=function(){return this.h21(this.s21())},Qo.prototype.c1p=function(){return this.i21(this.s21())},Qo.prototype.d1p=function(){return this.j21(this.s21())},Qo.prototype.e1p=function(){return this.k21(this.s21())},Qo.prototype.f1p=function(){return this.l21(this.s21())},Qo.prototype.g1p=function(){return this.m21(this.s21())},Qo.prototype.h1p=function(){return this.n21(this.s21())},Qo.prototype.i1p=function(){return this.o21(this.s21())},Qo.prototype.j1p=function(){return this.p21(this.s21())},Qo.prototype.n1p=function(t){return this},Qo.prototype.o1p=function(t){},Qo.prototype.p1p=function(t,e){return this.h21(this.y20(t,e))},Qo.prototype.q1p=function(t,e){return this.i21(this.y20(t,e))},Qo.prototype.r1p=function(t,e){return this.j21(this.y20(t,e))},Qo.prototype.s1p=function(t,e){return this.k21(this.y20(t,e))},Qo.prototype.t1p=function(t,e){return this.l21(this.y20(t,e))},Qo.prototype.u1p=function(t,e){return this.m21(this.y20(t,e))},Qo.prototype.v1p=function(t,e){return this.n21(this.y20(t,e))},Qo.prototype.w1p=function(t,e){return this.o21(this.y20(t,e))},Qo.prototype.x1p=function(t,e){return this.p21(this.y20(t,e))},Qo.prototype.y1p=function(t,e,n,i){return Jo(this,this.y20(t,e),(r=this,o=n,s=i,function(){return r.l1p(o,s)}));var r,o,s},Qo.prototype.a1q=function(t,e,n,i){return Jo(this,this.y20(t,e),(r=this,o=n,s=i,function(){return r.z1o()?r.l1p(o,s):r.a1p()}));var r,o,s},Qo.prototype.d21=function(){return An(this.b21_1)},Qo.prototype.r21=function(t){this.b21_1.b(t)},Qo.prototype.s21=function(){var t=this.b21_1.y3(kn(this.b21_1));return this.c21_1=!0,t},Qo.$metadata$=at("TaggedDecoder",[dr,vr]),es.prototype.a1=function(){return this.t21_1},es.prototype.b1=function(){return this.u21_1},es.prototype.toString=function(){return"MapEntry(key="+this.t21_1+", value="+this.u21_1+")"},es.prototype.hashCode=function(){var t=null==this.t21_1?0:ae(this.t21_1);return Q(t,31)+(null==this.u21_1?0:ae(this.u21_1))|0},es.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof es))return!1;var e=t instanceof es?t:vt();return!!Nt(this.t21_1,e.t21_1)&&!!Nt(this.u21_1,e.u21_1)},es.$metadata$=at("MapEntry",[Et]),ns.prototype.p1m=function(){return this.x21_1},ns.prototype.y21=function(t){return t.a1()},ns.prototype.z21=function(t){return this.y21(null!=t&&gt(t,Et)?t:vt())},ns.prototype.a22=function(t){return t.b1()},ns.prototype.b22=function(t){return this.a22(null!=t&&gt(t,Et)?t:vt())},ns.prototype.c22=function(t,e){return new es(t,e)},ns.$metadata$=at("MapEntrySerializer",void 0,void 0,void 0,void 0,os.prototype),is.prototype.p1m=function(){return this.i22_1},is.prototype.j22=function(t){return t.u3_1},is.prototype.z21=function(t){return this.j22(t instanceof Ct?t:vt())},is.prototype.k22=function(t){return t.v3_1},is.prototype.b22=function(t){return this.k22(t instanceof Ct?t:vt())},is.prototype.c22=function(t,e){return Zt(t,e)},is.$metadata$=at("PairSerializer",void 0,void 0,void 0,void 0,os.prototype),rs.prototype.p1m=function(){return this.o22_1},rs.prototype.p22=function(t,e){var n=t.n1p(this.o22_1);n.a1r(this.o22_1,0,this.l22_1,e.g7_1),n.a1r(this.o22_1,1,this.m22_1,e.h7_1),n.a1r(this.o22_1,2,this.n22_1,e.i7_1),n.o1p(this.o22_1)},rs.prototype.q1m=function(t,e){return this.p22(t,e instanceof xt?e:vt())},rs.prototype.r1m=function(t){var e=t.n1p(this.o22_1);return e.b1q()?function(t,e){var n=e.z1p(t.o22_1,0,t.l22_1,null,8,null),i=e.z1p(t.o22_1,1,t.m22_1,null,8,null),r=e.z1p(t.o22_1,2,t.n22_1,null,8,null);return e.o1p(t.o22_1),new xt(n,i,r)}(this,e):function(t,e){var n=ts(),i=ts(),r=ts();t:for(;;){var o=e.c1q(t.o22_1);if(yr(),-1===o)break t;if(0===o)n=e.z1p(t.o22_1,0,t.l22_1,null,8,null);else if(1===o)i=e.z1p(t.o22_1,1,t.m22_1,null,8,null);else{if(2!==o)throw ii("Unexpected index "+o);r=e.z1p(t.o22_1,2,t.n22_1,null,8,null)}}if(e.o1p(t.o22_1),n===ts())throw ii("Element 'first' is missing");if(i===ts())throw ii("Element 'second' is missing");if(r===ts())throw ii("Element 'third' is missing");var s=null==n||oe(n)?n:vt(),a=null==i||oe(i)?i:vt();return new xt(s,a,null==r||oe(r)?r:vt())}(this,e)},rs.$metadata$=at("TripleSerializer",[Vn]),os.prototype.f22=function(t,e){var n=t.n1p(this.p1m());n.a1r(this.p1m(),0,this.d22_1,this.z21(e)),n.a1r(this.p1m(),1,this.e22_1,this.b22(e)),n.o1p(this.p1m())},os.prototype.q1m=function(t,e){return this.f22(t,null==e||oe(e)?e:vt())},os.prototype.r1m=function(t){var e=t.n1p(this.p1m());if(e.b1q()){var n=this.p1m(),i=e.z1p(n,0,this.d22_1,null,8,null),r=this.p1m(),o=e.z1p(r,1,this.e22_1,null,8,null);return this.c22(i,o)}var s=ts(),a=ts();t:for(;;){var u=e.c1q(this.p1m());if(yr(),-1===u)break t;if(0===u){var l=this.p1m();s=e.z1p(l,0,this.d22_1,null,8,null)}else{if(1!==u)throw ii("Invalid index: "+u);var c=this.p1m();a=e.z1p(c,1,this.e22_1,null,8,null)}}if(e.o1p(this.p1m()),s===ts())throw ii("Element 'key' is missing");if(a===ts())throw ii("Element 'value' is missing");var h=null==s||oe(s)?s:vt();return this.c22(h,null==a||oe(a)?a:vt())},os.$metadata$=at("KeyValueSerializer",[Vn]),as.prototype.o1n=function(t,e,n,i){return 0!=(2&n)&&(e=rt()),null==i?this.p1n(t,e):i(t,e)},as.$metadata$=at("SerializersModule"),us.prototype.l1r=function(t,e){if(!function(t,e){return e.ge(t)}(e,t))return null;var n=this.s22_1.o(t),i=null==n?null:n.o(et(e)),r=null!=i&&gt(i,Yn)?i:null;if(null!=r)return r;var o=this.t22_1.o(t),s=null!=o&&"function"==typeof o?o:null;return null==s?null:s(e)},us.prototype.k1r=function(t,e){var n=this.u22_1.o(t),i=null==n?null:(null!=n&&gt(n,St)?n:vt()).o(e),r=null!=i&&gt(i,Vn)?i:null;if(null!=r)return r;var o=this.v22_1.o(t),s=null!=o&&"function"==typeof o?o:null;return null==s?null:s(e)},us.prototype.p1n=function(t,e){var n=this.r22_1.o(t),i=null==n?null:n.w22(e);return null==i||gt(i,Vn)?i:null},us.prototype.q22=function(t){for(var e=this.r22_1.z().d();e.e();){var n=e.f(),i=n.a1(),r=n.b1(),o=r;if(o instanceof ls){var s=gt(i,wt)?i:vt(),a=r.z22_1;t.a23(s,gt(a,Vn)?a:vt())}else o instanceof cs&&t.y22(i,r.x22_1)}for(var u=this.s22_1.z().d();u.e();)for(var l=u.f(),c=l.a1(),h=l.b1().z().d();h.e();){var p,_=h.f(),f=_.a1(),d=_.b1(),m=gt(c,wt)?c:vt(),y=gt(f,wt)?f:vt();p=gt(d,Vn)?d:vt(),t.b23(m,y,p)}for(var v=this.t22_1.z().d();v.e();){var g=v.f(),w=g.a1(),b=g.b1(),x=gt(w,wt)?w:vt();t.c23(x,"function"==typeof b?b:vt())}for(var $=this.v22_1.z().d();$.e();){var C=$.f(),E=C.a1(),A=C.b1(),k=gt(E,wt)?E:vt();t.d23(k,"function"==typeof A?A:vt())}},us.$metadata$=at("SerialModuleImpl",void 0,void 0,void 0,void 0,as.prototype),ls.prototype.e23=function(){return this.z22_1},ls.$metadata$=at("Argless",void 0,void 0,void 0,void 0,hs.prototype),cs.prototype.f23=function(){return this.x22_1},cs.$metadata$=at("WithTypeArguments",void 0,void 0,void 0,void 0,hs.prototype),hs.$metadata$=at("ContextualProvider"),ps.$metadata$=tt("SerializersModuleCollector"),_s.prototype.equals=function(t){if(!(t instanceof _s))return!1;var e=t instanceof _s?t:vt();return!!this.g23_1.equals(e.g23_1)},_s.prototype.hashCode=function(){return Q(Lt("serializer"),127)^this.g23_1.hashCode()},_s.prototype.toString=function(){return"@kotlinx.serialization.SerializableWith(serializer="+this.g23_1+")"},_s.$metadata$=at("SerializableWith",[Sn],0),Li.prototype.q1n=Dn,Li.prototype.a1o=Rn,_r.prototype.z1p=qn,_r.prototype.m1p=jn,_r.prototype.b1q=Nn,_r.prototype.d1q=Ln,fr.prototype.e1r=Bn,fr.prototype.f1r=Fn,fr.prototype.b1r=function(t,e){t.q1m(this,e)},fr.prototype.d1r=Un,fr.prototype.g1r=function(t,e){return!0},Sr.prototype.q1n=Dn,Sr.prototype.a1o=Rn,Sr.prototype.y1n=Pn,Cr.prototype.q1n=Dn,Cr.prototype.a1o=Rn,Cr.prototype.y1n=Pn,Er.prototype.q1n=Dn,Er.prototype.a1o=Rn,Er.prototype.y1n=Pn,Tr.prototype.q1n=Dn,Tr.prototype.a1o=Rn,Tr.prototype.y1n=Pn,Ar.prototype.q1n=Dn,Ar.prototype.a1o=Rn,Ar.prototype.y1n=Pn,kr.prototype.q1n=Dn,kr.prototype.a1o=Rn,kr.prototype.y1n=Pn,Ir.prototype.q1n=Dn,Ir.prototype.a1o=Rn,Ir.prototype.y1n=Pn,Or.prototype.q1n=Dn,Or.prototype.a1o=Rn,Or.prototype.y1n=Pn,zr.prototype.q1n=Dn,zr.prototype.a1o=Rn,zr.prototype.y1n=Pn,po.prototype.q1n=Dn,po.prototype.a1o=Rn,Zr.prototype.q1n=Dn,Kr.prototype.k1w=Hn,Go.prototype.q1n=Dn,Go.prototype.a1o=Rn,Go.prototype.y1n=Pn,Qo.prototype.z1p=qn,Qo.prototype.m1p=jn,Qo.prototype.b1q=Nn,Qo.prototype.d1q=Ln,Xo.prototype.m1p=jn,Xo.prototype.z1p=qn,Xo.prototype.b1q=Nn,Xo.prototype.d1q=Ln,t.$_$=t.$_$||{},t.$_$.a=Pi,t.$_$.b=qn,t.$_$.c=ni,t.$_$.d=ii,t.$_$.e=function t(e){var n=function(t,e){return oi.call(e,"An unknown field for index "+t),e}(e,Object.create(oi.prototype));return ht(n,t),n},t.$_$.f=function(){return null==y&&new cr,y},t.$_$.g=tr,t.$_$.h=Ui,t.$_$.i=function(){return null==n&&new Bi,n},t.$_$.j=or,t.$_$.k=ar,t.$_$.l=yr,t.$_$.m=No,t.$_$.n=Bo,t.$_$.o=Ro,t.$_$.p=function(t){return new Fr(t)},t.$_$.q=function(t,e){return new qr(t,e)},t.$_$.r=function(t){return new Hr(t)},t.$_$.s=Ii,t.$_$.t=pi,t.$_$.u=function(t){return null==C&&new to,C},t.$_$.v=function(t){return null==b&&new Xr,b},t.$_$.w=function(t){return null==$&&new Qr,$},t.$_$.x=function(t){return null==x&&new Jr,x},t.$_$.y=pr,t.$_$.z=er,t.$_$.a1=function(t,e){if(Ft(t))throw yt(mt("Blank serial names are prohibited"));return function(t,e){return Ko(),function(t){Ko();for(var e=Mo().x2().d();e.e();){var n=e.f(),i=Zo(ne(n.fe()));if(vn(t,"kotlin."+i,!0)||vn(t,i,!0))throw yt(yn("\n                The name of serial descriptor should uniquely identify associated serializer.\n                For serial name "+t+" there already exist "+Zo(i)+"Serializer.\n                Please refer to SerialDescriptor documentation for additional information.\n            "))}}(t),new Go(t,e)}(t,e)},t.$_$.b1=Pn,t.$_$.c1=Rn,t.$_$.d1=Dn,t.$_$.e1=Mi,t.$_$.f1=Bi,t.$_$.g1=function(t,e){var n,i=Oi(e);if(null==i)n=null;else{var r=t.o1n(i,null,2,null);n=null==r?null:r.p1m()}return n},t.$_$.h1=_r,t.$_$.i1=fr,t.$_$.j1=Ln,t.$_$.k1=Nn,t.$_$.l1=vr,t.$_$.m1=wr,t.$_$.n1=jn,t.$_$.o1=dr,t.$_$.p1=Fn,t.$_$.q1=Bn,t.$_$.r1=Un,t.$_$.s1=gr,t.$_$.t1=br,t.$_$.u1=Fr,t.$_$.v1=Wr,t.$_$.w1=Hn,t.$_$.x1=fo,t.$_$.y1=Xo,t.$_$.z1=po,t.$_$.a2=mo,t.$_$.b2=function(t){return so(t)},t.$_$.c2=function(t,e,n){var i=Ht(),r=e&~t,o=0;if(o<32)do{var s=o;if(o=o+1|0,0!=(1&r)){var a=n.f1o(s);i.b(a)}r=r>>>1|0}while(o<32);throw si(i,n.x1n())},t.$_$.d2=ss,t.$_$.e2=function(t,e){return this.y22(t,(n=e,function(t){return n}));var n},t.$_$.f2=ps,t.$_$.g2=ei,t.$_$.h2=Wn,t.$_$.i2=Vn,t.$_$.j2=ai,t.$_$.k2=Jn,t.$_$.l2=ri,t.$_$.m2=Qn,t.$_$.n2=Gn,t.$_$.o2=ui,t.$_$.p2=function(t){var e,n=ci(t);return null==n?function(t){throw uo(),ii("Serializer for class '"+t.fe()+"' is not found.\nMark the class as @Serializable or provide the serializer explicitly.")}(t):e=n,e},t})?i.apply(e,r):i)||(t.exports=o)},3730:function(t,e,n){var i,r,o;r=[e,n(3645),n(8744)],void 0===(o="function"==typeof(i=function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N,L,q,B,F,U,H,V,Y,W,G,Z,K,X,J,Q,tt=Math.imul,et=e.$_$.d2,nt=n.$_$.xa,it=n.$_$.v9,rt=n.$_$.p4,ot=e.$_$.m2,st=n.$_$.r9,at=n.$_$.bb,ut=n.$_$.h2,lt=n.$_$.o9,ct=n.$_$.cd,ht=n.$_$.a3,pt=n.$_$.t9,_t=n.$_$.bd,ft=e.$_$.o1,dt=e.$_$.l1,mt=n.$_$.ca,yt=n.$_$.w1,vt=n.$_$.qd,gt=n.$_$.aa,wt=n.$_$.l,bt=n.$_$.j5,xt=n.$_$.h5,$t=n.$_$.c,Ct=n.$_$.z9,Et=n.$_$.h,At=n.$_$.je,kt=e.$_$.a2,St=n.$_$.qc,Tt=n.$_$.sc,It=n.$_$.oc,Ot=n.$_$.rc,zt=n.$_$.nc,Mt=e.$_$.f,Dt=e.$_$.a,Rt=e.$_$.i2,Pt=e.$_$.g,jt=n.$_$.g4,Nt=e.$_$.t,Lt=e.$_$.q,qt=e.$_$.e1,Bt=e.$_$.p,Ft=e.$_$.i,Ut=e.$_$.a1,Ht=n.$_$.vc,Vt=n.$_$.n4,Yt=e.$_$.x,Wt=n.$_$.t3,Gt=n.$_$.vd,Zt=n.$_$.la,Kt=n.$_$.m2,Xt=n.$_$.ke,Jt=e.$_$.d1,Qt=e.$_$.c1,te=e.$_$.b1,ee=n.$_$.qb,ne=n.$_$.y9,ie=e.$_$.s1,re=e.$_$.m1,oe=n.$_$.za,se=n.$_$.p3,ae=n.$_$.r3,ue=n.$_$.s3,le=n.$_$.u3,ce=n.$_$.m3,he=n.$_$.o3,pe=n.$_$.v3,_e=n.$_$.x3,fe=e.$_$.v1,de=n.$_$.l9,me=e.$_$.l2,ye=e.$_$.c,ve=n.$_$.p9,ge=n.$_$.q9,we=n.$_$.eb,be=n.$_$.gb,xe=e.$_$.l,$e=n.$_$.d1,Ce=n.$_$.w7,Ee=n.$_$.j9,Ae=n.$_$.ee,ke=n.$_$.n6,Se=n.$_$.w6,Te=n.$_$.h6,Ie=n.$_$.i6,Oe=e.$_$.j,ze=n.$_$.m1,Me=n.$_$.fd,De=n.$_$.fe,Re=n.$_$.d9,Pe=n.$_$.gd,je=n.$_$.xd,Ne=n.$_$.o8,Le=(n.$_$.g9,e.$_$.t1),qe=n.$_$.na,Be=e.$_$.n2,Fe=n.$_$.d,Ue=e.$_$.h2,He=e.$_$.k2,Ve=e.$_$.b2,Ye=e.$_$.f1,We=e.$_$.z,Ge=e.$_$.y,Ze=e.$_$.h,Ke=e.$_$.k,Xe=e.$_$.e2,Je=e.$_$.f2,Qe=e.$_$.h1,tn=n.$_$.me,en=e.$_$.j2,nn=e.$_$.b,rn=n.$_$.kd,on=n.$_$.he,sn=n.$_$.ge,an=e.$_$.k1,un=e.$_$.j1,ln=n.$_$.uc,cn=n.$_$.q3,hn=n.$_$.wc,pn=n.$_$.tc,_n=n.$_$.n3,fn=n.$_$.xc,dn=n.$_$.w3,mn=e.$_$.n1,yn=e.$_$.i1,vn=n.$_$.h3,gn=e.$_$.q1,wn=e.$_$.p1,bn=e.$_$.r1,xn=n.$_$.m4,$n=e.$_$.v,Cn=n.$_$.l4,En=e.$_$.w,An=n.$_$.o4,kn=e.$_$.u,Sn=n.$_$.v7,Tn=n.$_$.ta,In=n.$_$.g3,On=n.$_$.xb,zn=n.$_$.ya,Mn=e.$_$.y1,Dn=n.$_$.f2,Rn=n.$_$.b4,Pn=n.$_$.f4,jn=n.$_$.ab,Nn=n.$_$.jc,Ln=n.$_$.o6,qn=n.$_$.n7,Bn=n.$_$.e8,Fn=n.$_$.hd,Un=e.$_$.g1,Hn=n.$_$.f7,Vn=n.$_$.s7,Yn=n.$_$.u,Wn=n.$_$.md,Gn=n.$_$.c3,Zn=n.$_$.j4,Kn=n.$_$.n9,Xn=n.$_$.t,Jn=n.$_$.v1,Qn=n.$_$.f1;function ti(){i=this,ni.call(this,function(t,e,n,i,r,o,s,a,u,l,c,h,p,_){return function(t,e,n,i,r,o,s,a,u,l,c,h,p,_,f){return 0!=(1&p)&&(t=!1),0!=(2&p)&&(e=!1),0!=(4&p)&&(n=!1),0!=(8&p)&&(i=!1),0!=(16&p)&&(r=!1),0!=(32&p)&&(o=!0),0!=(64&p)&&(s="    "),0!=(128&p)&&(a=!1),0!=(256&p)&&(u=!1),0!=(512&p)&&(l="type"),0!=(1024&p)&&(c=!1),0!=(2048&p)&&(h=!0),ai.call(f,t,e,n,i,r,o,s,a,u,l,c,h),f}(t,e,n,i,r,o,s,a,u,l,c,h,p,0,Object.create(ai.prototype))}(!1,!1,!1,!1,!1,!1,null,!1,!1,null,!1,!1,4095),et())}function ei(){return null==i&&new ti,i}function ni(t,e){ei(),this.h23_1=t,this.i23_1=e,this.j23_1=new kr}function ii(t){this.g24_1=t.h23_1.t24_1,this.h24_1=t.h23_1.y24_1,this.i24_1=t.h23_1.u24_1,this.j24_1=t.h23_1.v24_1,this.k24_1=t.h23_1.w24_1,this.l24_1=t.h23_1.x24_1,this.m24_1=t.h23_1.z24_1,this.n24_1=t.h23_1.a25_1,this.o24_1=t.h23_1.b25_1,this.p24_1=t.h23_1.c25_1,this.q24_1=t.h23_1.d25_1,this.r24_1=t.h23_1.e25_1,this.s24_1=t.j1n()}function ri(t,e){ni.call(this,t,e),function(t){if(pt(t.j1n(),et()))return rt();var e=new Er(t.k23().b25_1,t.k23().c25_1);t.j1n().q22(e)}(this)}function oi(){}function si(){}function ai(t,e,n,i,r,o,s,a,u,l,c,h){this.t24_1=t,this.u24_1=e,this.v24_1=n,this.w24_1=i,this.x24_1=r,this.y24_1=o,this.z24_1=s,this.a25_1=a,this.b25_1=u,this.c25_1=l,this.d25_1=c,this.e25_1=h}function ui(){}function li(){r=this}function ci(){null==r&&new li}function hi(){o=this}function pi(){null==o&&new hi,ci.call(this)}function _i(){s=this}function fi(t){null==s&&new _i,ci.call(this),this.k25_1=t}function di(){a=this}function mi(t){null==a&&new di,ci.call(this),this.n25_1=t}function yi(t,e){pi.call(this),this.r25_1=e,this.s25_1=at(t)}function vi(){u=this,pi.call(this),this.t25_1="null";var t=Et();this.u25_1=At(t,(function(){return Ri()}))}function gi(){return null==u&&new vi,u}function wi(t){return function(t){return qr(),!!On(t,"true",!0)||!On(t,"false",!0)&&null}(t.j25())}function bi(t){return St(t.j25())}function xi(t){var e,n=t instanceof pi?t:null;return null==n?function(t,e){throw ut("Element "+$t(t)+" is not a "+e)}(t,"JsonPrimitive"):e=n,e}function $i(){return function(t){var e=Pi((function(){return ki().w25_1}));t.d1n("JsonPrimitive",e,null,!1,12,null);var n=Pi((function(){return Ri().x25_1}));t.d1n("JsonNull",n,null,!1,12,null);var i=Pi((function(){return Ni().y25_1}));t.d1n("JsonLiteral",i,null,!1,12,null);var r=Pi((function(){return Ii().z25_1}));t.d1n("JsonObject",r,null,!1,12,null);var o=Pi((function(){return Mi().a26_1}));return t.d1n("JsonArray",o,null,!1,12,null),rt()}}function Ci(){l=this;var t=Mt();this.b26_1=Dt("kotlinx.serialization.json.JsonElement",t,[],$i(),4,null)}function Ei(){return null==l&&new Ci,l}function Ai(){c=this;var t=Pt();this.w25_1=Dt("kotlinx.serialization.json.JsonPrimitive",t,[],null,12,null)}function ki(){return null==c&&new Ai,c}function Si(){h=this,this.e26_1=Lt(Nt(jt()),Ei()).p1m(),this.f26_1="kotlinx.serialization.json.JsonObject"}function Ti(){p=this,this.z25_1=(null==h&&new Si,h)}function Ii(){return null==p&&new Ti,p}function Oi(){_=this,this.h26_1=Bt(Ei()).p1m(),this.i26_1="kotlinx.serialization.json.JsonArray"}function zi(){f=this,this.a26_1=(null==_&&new Oi,_)}function Mi(){return null==f&&new zi,f}function Di(){d=this;var t=Ft();this.x25_1=Dt("kotlinx.serialization.json.JsonNull",t,[],null,12,null)}function Ri(){return null==d&&new Di,d}function Pi(t){return new Ui(t)}function ji(){m=this,this.y25_1=Ut("kotlinx.serialization.json.JsonLiteral",Pt())}function Ni(){return null==m&&new ji,m}function Li(t){!function(t){var e=Zt(t,Hi)?t:null;if(null==e)throw Kt("This serializer can be used only with Json format.Expected Encoder to be JsonEncoder, got "+$t(t))}(t)}function qi(t){var e=Zt(t,ui)?t:null;if(null==e)throw Kt("This serializer can be used only with Json format.Expected Decoder to be JsonDecoder, got "+$t(t));return e}function Bi(t){qi(t)}function Fi(t){return ne("original",1,ee,(function(t){return Fi(t)}),null),t.m26_1.b1()}function Ui(t){this.m26_1=Xt(t)}function Hi(){}function Vi(t){this.n26_1=t,this.o26_1=!0}function Yi(t){Vi.call(this,t)}function Wi(t,e){Vi.call(this,t),this.k27_1=e,this.l27_1=0}function Gi(t){var e,n;this.m27_1=new fe(t,(e=this,n=function(t,n){return r=t,o=n,(i=e).n27_1=!r.g1o(o)&&r.d1o(o).q1n(),i.n27_1;var i,r,o},n.callableName="readIfAbsent",n)),this.n27_1=!1}function Zi(t){rr.call(this,t),de(this,Zi)}function Ki(t,e){return new Zi("Unexpected special floating-point value "+at(t)+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. "+Lo()+"\nCurrent output: "+sr(e,0,1))}function Xi(t){return new Zi("Value of type '"+t.x1n()+"' can't be used in JSON as a key in the map. It should have either primitive or enum kind, but its kind is '"+t.b1o()+"'.\n"+Q)}function Ji(t,e){var n="Unexpected special floating-point value "+at(e)+". By default, non-finite floating point values are prohibited because they do not conform JSON specification";t.o27(n,0,Lo(),2,null)}function Qi(t){rr.call(this,t),de(this,Qi)}function tr(t,e,n){return nr(t,e+"\nJSON input: "+or(n,t))}function er(t,e,n){return nr(-1,function(t,e,n){return"Unexpected special floating-point value "+at(t)+" with key "+e+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. "+Lo()+"\nCurrent output: "+sr(n,0,1)}(t,e,n))}function nr(t,e){return new Qi(t>=0?"Unexpected JSON token at offset "+t+": "+e:e)}function ir(t,e){return nr(-1,"Encountered unknown key '"+t+"'.\n"+K+"\nCurrent input: "+sr(e,0,1))}function rr(t){ye(t,this),de(this,rr)}function or(t,e){if(ve(t)<200)return t;if(-1===e){var n=ve(t)-60|0;if(n<=0)return t;var i=ve(t);return"....."+at(ge(t,n,i))}var r=e-30|0,o=e+30|0,s=r<=0?"":".....",a=o>=ve(t)?"":".....",u=we(r,0),l=be(o,ve(t));return s+at(ge(t,u,l))+a}function sr(t,e,n,i){return 0!=(1&n)&&(e=-1),or(t,e)}function ar(){return hr(),y}function ur(t,e,n){hr();var i=t.e1o(n);if(xe(),-3!==i)return i;if(!e.h23_1.e25_1)return i;var r,o,s,a=Bo(e),u=ar(),l=a.q27(t,u,(o=t,s=function(){return lr(o)},s.callableName="buildAlternativeNamesMap",s)).o(n);return null==l?(xe(),r=-3):r=l,r}function lr(t){hr();var e=null,n=0,i=t.z1n();if(n<i)do{var r=n;n=n+1|0;for(var o=t.c1o(r),s=$e(),a=o.d();a.e();){var u=a.f();u instanceof si&&s.b(u)}var l=Ce(s),c=null==l?null:l.r27_1;if(null==c);else for(var h=Ee(c);h.e();){var p=h.f();null==e&&(e=Uo(t.z1n())),cr(Ae(e),t,p,r)}}while(n<i);var _=e;return null==_?ke():_}function cr(t,e,n,i){if((Zt(t,bt)?t:vt()).r2(n))throw new rr("The suggested name '"+n+"' for property "+e.f1o(i)+" is already one of the names for property "+e.f1o(Se(t,n))+" in "+e);t.a(n,i)}function hr(){v||(v=!0,y=new Ar)}function pr(){g=this}function _r(){return null==g&&new pr,g}function fr(t){var e=tt(t.u27_1,2);t.s27_1=Te(t.s27_1,e),t.t27_1=Ie(t.t27_1,e)}function dr(){var t;t=it(Array(8),null),this.s27_1=t;for(var e=0,n=new Int32Array(8);e<8;){-1,n[e]=-1,e=e+1|0}this.t27_1=n,this.u27_1=-1}function mr(t){var e=t.b28_1.k28();t.b28_1.f28()===Eo()&&t.b28_1.o27("Unexpected leading comma",0,null,6,null);for(var n=$e();t.b28_1.g28();){var i=t.j28();if(n.b(i),(e=t.b28_1.k28())!==Eo()){var r=t.b28_1,o=e===Oo(),s=r.b24_1;if(!o){r.o27("Expected end of the array or comma",s,null,4,null)}}}return e===Io()?t.b28_1.e28(Oo()):e===Eo()&&t.b28_1.o27("Unexpected trailing comma",0,null,6,null),new mi(n)}function yr(t,e){var n=t.c28_1||!e?t.b28_1.i28():t.b28_1.h28();return e||n!==uo()?new yi(n,e):gi()}function vr(t){return De(new Me((e=new gr(t,null),(n=function(t,n,i){return e.l29(t,n,i)}).$arity=2,n)),rt());var e,n}function gr(t,e){this.g29_1=t,Re.call(this,e)}function wr(t,e,n){Re.call(this,n),this.t28_1=t,this.u28_1=e}function br(t,e){this.b28_1=e,this.c28_1=t.v24_1,this.d28_1=0}function xr(t,e){if(!(e instanceof Le)||t.h25().h23_1.b25_1)return e.r1m(t);var n=t.i25(),i=e.p1m();if(!(n instanceof fi))throw nr(-1,"Expected "+Fe(fi)+" as the serialized body of "+i.x1n()+", but had "+$t(n));var r,o=n,s=$r(e.p1m(),t.h25()),a=o.m25(s),u=null==a?null:xi(a),l=null==u?null:u.j25(),c=e.u1m(t,l);null==c?function(t,e){throw tr(-1,"Polymorphic serializer was not found for "+(null==t?"missing class discriminator ('null')":"class discriminator '"+t+"'"),e.toString())}(l,o):r=c;var h=r;return function(t,e,n,i){return new Gr(t,n,e,i.p1m()).m1p(i)}(t.h25(),s,o,Zt(h,Ue)?h:vt())}function $r(t,e){for(var n=t.y1n().d();n.e();){var i=n.f();if(i instanceof oi)return i.n29_1}return e.h23_1.c25_1}function Cr(t,e,n){return function(t,e,n){if(!(t instanceof He))return rt();if(Ve(e.p1m()).n(n)){var i=t.p1m().x1n(),r=e.p1m().x1n();throw Kt(at("Sealed class '"+r+"' cannot be serialized as base class '"+i+"' because it has property name that conflicts with JSON class discriminator '"+n+"'. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism"))}}(t,e,n)}function Er(t,e){this.o29_1=t,this.p29_1=e}function Ar(){}function kr(){this.p27_1=Uo(1)}function Sr(t,e,n){var i;t:{var r=t.u23_1,o=e.d1o(n);if(o.q1n()||t.w23_1.u29()){if(pt(o.b1o(),Ft())){var s=t.w23_1.v29(t.z23_1.v24_1);if(null==s){i=!1;break t}var a=ur(o,r,s);if(xe(),-3===a){t.w23_1.h28(),i=!0;break t}}i=!1}else i=!0}return i}function Tr(t,e){return t.z23_1.u24_1?t.w23_1.x29(t.z23_1.v24_1):t.w23_1.w29(e),t.w23_1.t29()}function Ir(t){return t.z23_1.v24_1?t.w23_1.z29():t.w23_1.y29()}function Or(t,e,n,i){Qe.call(this),this.u23_1=t,this.v23_1=e,this.w23_1=n,this.x23_1=this.u23_1.j1n(),this.y23_1=-1,this.z23_1=this.u23_1.h23_1,this.a24_1=this.z23_1.y24_1?null:new Gi(i)}function zr(t,e){Qe.call(this),this.i2a_1=t,this.j2a_1=e.j1n()}function Mr(t,e,n,i,r){return Dr.call(r,function(t,e){return e.h23_1.x24_1?new Wi(t,e):new Vi(t)}(t,e),e,n,i),r}function Dr(t,e,n,i){yn.call(this),this.l23_1=t,this.m23_1=e,this.n23_1=n,this.o23_1=i,this.p23_1=this.m23_1.j1n(),this.q23_1=this.m23_1.h23_1,this.r23_1=!1,this.s23_1=null;var r=this.n23_1.i5();null!=this.o23_1&&(null===this.o23_1[r]&&this.o23_1[r]===this||(this.o23_1[r]=this))}function Rr(t){return Pr(),!!t.a1o()&&(Pr(),w).n(t)}function Pr(){b||(b=!0,w=Sn([$n(xn()).p1m(),Yt(Vt()).p1m(),En(Cn()).p1m(),kn(An()).p1m()]))}function jr(){return qr(),x}function Nr(t){qr();var e=15&t;return Tn(e<10?e+48|0:97+(e-10|0)|0)}function Lr(t,e){qr(),t.s5($o());var n=0,i=0,r=ve(e)-1|0;if(i<=r)do{var o=i;i=i+1|0;var s=lt(e,o),a=In(s);a<jr().length&&null!=jr()[a]&&(t.jg(e,n,o),t.mg(jr()[a]),n=o+1|0)}while(i<=r);0!==n?t.jg(e,n,e.length):t.mg(e),t.s5($o())}function qr(){if($);else{$=!0;var t=it(Array(93),null),e=0;if(e<=31)do{var n=e;e=e+1|0;var i=Nr(n>>12),r=Nr(n>>8),o=Nr(n>>4),s=Nr(n);t[n]="\\u"+new ct(i)+new ct(r)+new ct(o)+new ct(s)}while(e<=31);t[34]='\\"',t[92]="\\\\",t[9]="\\t",t[8]="\\b",t[10]="\\n",t[13]="\\r",t[12]="\\f",x=t;var a=new Int8Array(93),u=0;if(u<=31)do{var l=u;u=u+1|0,a[l]=1}while(u<=31);34,a[34]=zn(34),92,a[92]=zn(92),116,a[9]=zn(116),98,a[8]=zn(98),110,a[10]=zn(110),114,a[13]=zn(114),102,a[12]=zn(102)}}function Br(t){var e=t.d21(),n=null==e?null:t.p2a(e);return null==n?t.b1():n}function Fr(t,e){throw tr(-1,"Failed to parse '"+e+"'",at(Br(t)))}function Ur(t,e,n){var i=t instanceof yi?t:null;if(null==i)throw nr(-1,"Unexpected 'null' when "+n+" was expected");return i}function Hr(t,e){Mn.call(this),this.m2a_1=t,this.n2a_1=e,this.o2a_1=this.h25().h23_1}function Vr(t,e,n,i,r,o,s){return 0!=(4&r)&&(n=null),0!=(8&r)&&(i=null),Gr.call(s,t,e,n,i),s}function Yr(t,e,n,i){var r,o;t:{var s=t.h25(),a=e.d1o(n);if(!a.q1n()&&t.p2a(i)instanceof vi)r=!0;else{if(pt(a.b1o(),Ft())){var u=t.p2a(i),l=u instanceof pi?u:null,c=null==l?null:(o=l)instanceof vi?null:o.j25();if(null==c){r=!1;break t}var h=ur(a,s,c);if(xe(),-3===h){rt(),r=!0;break t}}r=!1}}return r}function Wr(t,e,n){return t.l2b_1=!t.h25().h23_1.y24_1&&!e.g1o(n)&&e.d1o(n).q1n(),t.l2b_1}function Gr(t,e,n,i){Hr.call(this,t,e),this.h2b_1=e,this.i2b_1=n,this.j2b_1=i,this.k2b_1=0,this.l2b_1=!1}function Zr(t,e){Hr.call(this,t,e),this.r2b_1=e,this.s2b_1=this.r2b_1.g(),this.t2b_1=-1}function Kr(t,e){Vr(t,e,null,null,12,0,this),this.e2c_1=e,this.f2c_1=Bn(this.e2c_1.x2()),this.g2c_1=tt(this.f2c_1.g(),2),this.h2c_1=-1}function Xr(){if(S)return rt();S=!0,C=new Jr("OBJ",0,lo(),co()),E=new Jr("LIST",1,ho(),po()),A=new Jr("MAP",2,lo(),co()),k=new Jr("POLY_OBJ",3,ho(),po())}function Jr(t,e,n,i){Fn.call(this,t,e),this.d2a_1=n,this.e2a_1=i}function Qr(t,e){var n,i=e.b1o();if(i instanceof Ge)n=ro();else if(pt(i,Oe()))n=no();else if(pt(i,Ke())){var r,o=to(e.d1o(0),t.j1n()),s=o.b1o();if(s instanceof We||pt(s,Ft()))r=io();else{if(!t.h23_1.w24_1)throw Xi(o);r=no()}n=r}else n=eo();return n}function to(t,e){var n;if(pt(t.b1o(),Ze())){var i=Un(e,t),r=null==i?null:to(i,e);n=null==r?t:r}else n=t.a1o()?to(t.d1o(0),e):t;return n}function eo(){return Xr(),C}function no(){return Xr(),E}function io(){return Xr(),A}function ro(){return Xr(),k}function oo(){return T}function so(){return I}function ao(){return O}function uo(){return z}function lo(){return M}function co(){return D}function ho(){return R}function po(){return P}function _o(t,e,n){return t.i2c(e,n),function(t,e){var n=e;-1===(n=t.k2c(n))&&t.o27("Expected escape sequence to continue, got EOF",0,null,6,null);var i=t.j2c(),r=n;n=r+1|0;var o=lt(i,r);if(pt(new ct(o),new ct(ht(117))))return yo(t,t.j2c(),n);var s=function(t){return t<117?No().v2c_1[t]:ht(0)}(In(o));if(pt(new ct(s),new ct(ht(0)))){var a="Invalid escaped char '"+new ct(o)+"'";t.o27(a,0,null,6,null)}return t.e24_1.s5(s),n}(t,n+1|0)}function fo(t,e,n){t.i2c(e,n);var i=t.e24_1.toString();return t.e24_1.ng(0),i}function mo(t){var e=Ae(t.d24_1);return t.d24_1=null,e}function yo(t,e,n){return(n+4|0)>=ve(e)?(t.b24_1=n,t.l2c(),(t.b24_1+4|0)>=ve(e)&&t.o27("Unexpected EOF during unicode escape",0,null,6,null),yo(t,e,t.b24_1)):(t.e24_1.s5(Tn((((vo(t,e,n)<<12)+(vo(t,e,n+1|0)<<8)|0)+(vo(t,e,n+2|0)<<4)|0)+vo(t,e,n+3|0)|0)),n+4|0)}function vo(t,e,n){var i,r=lt(e,n);if(ht(48)<=r&&r<=ht(57))i=In(r)-48|0;else if(ht(97)<=r&&r<=ht(102))i=10+(In(r)-97|0)|0;else if(ht(65)<=r&&r<=ht(70))i=10+(In(r)-65|0)|0;else{var o="Invalid toHexChar char '"+new ct(r)+"' in unicode escape";t.o27(o,0,null,6,null)}return i}function go(t,e){var n=t.k2c(e);(n>=ve(t.j2c())||-1===n)&&t.o27("EOF",0,null,6,null);var i=t.j2c(),r=n;n=r+1|0;var o,s=lt(i,r),a=32|In(s);if(116===a)wo(t,"rue",n),o=!0;else if(102===a)wo(t,"alse",n),o=!1;else{var u="Expected valid boolean literal prefix, but had '"+t.i28()+"'";t.o27(u,0,null,6,null)}return o}function wo(t,e,n){(ve(t.j2c())-n|0)<e.length&&t.o27("Unexpected end of boolean literal",0,null,6,null);var i=0,r=ve(e)-1|0;if(i<=r)do{var o=i;i=i+1|0;var s=lt(e,o),a=lt(t.j2c(),n+o|0);if(In(s)!==(32|In(a))){var u="Expected valid boolean literal prefix, but had '"+t.i28()+"'";t.o27(u,0,null,6,null)}}while(i<=r);t.b24_1=n+e.length|0}function bo(){this.b24_1=0,this.c24_1=new dr,this.d24_1=null,this.e24_1=yt()}function xo(t){return In(t)<126?No().w2c_1[In(t)]:0}function $o(){return L}function Co(){return q}function Eo(){return F}function Ao(){return U}function ko(){return H}function So(){return V}function To(){return Y}function Io(){return W}function Oo(){return G}function zo(){return Z}function Mo(t,e,n){var i;pt(new ct(n),new ct(ht(117)))||(i=In(n),t.v2c_1[i]=Tn(e))}function Do(t,e,n){return Mo(t,In(e),n)}function Ro(t,e,n){t.w2c_1[e]=n}function Po(t,e,n){return Ro(t,In(e),n)}function jo(){X=this,this.v2c_1=Kn(117),this.w2c_1=new Int8Array(126),function(t){var e=0;if(e<=31)do{var n=e;e=e+1|0,Mo(t,n,ht(117))}while(e<=31);Mo(t,8,ht(98)),Mo(t,9,ht(116)),Mo(t,10,ht(110)),Mo(t,12,ht(102)),Mo(t,13,ht(114)),Do(t,ht(47),ht(47)),Do(t,ht(34),ht(34)),Do(t,ht(92),ht(92))}(this),function(t){var e=0;if(e<=32)do{var n=e;e=e+1|0,Ro(t,n,127)}while(e<=32);Ro(t,9,3),Ro(t,10,3),Ro(t,13,3),Ro(t,32,3),Po(t,ht(44),4),Po(t,ht(58),5),Po(t,ht(123),6),Po(t,ht(125),7),Po(t,ht(91),8),Po(t,ht(93),9),Po(t,ht(34),1),Po(t,ht(92),2)}(this)}function No(){return null==X&&new jo,X}function Lo(){return J}function qo(t){bo.call(this),this.b2d_1=t}function Bo(t){return t.j23_1}function Fo(){this.t23_1=Jn(128)}function Uo(t){return Qn(t)}return ti.prototype=Object.create(ni.prototype),ti.prototype.constructor=ti,ri.prototype=Object.create(ni.prototype),ri.prototype.constructor=ri,pi.prototype=Object.create(ci.prototype),pi.prototype.constructor=pi,fi.prototype=Object.create(ci.prototype),fi.prototype.constructor=fi,mi.prototype=Object.create(ci.prototype),mi.prototype.constructor=mi,yi.prototype=Object.create(pi.prototype),yi.prototype.constructor=yi,vi.prototype=Object.create(pi.prototype),vi.prototype.constructor=vi,Yi.prototype=Object.create(Vi.prototype),Yi.prototype.constructor=Yi,Wi.prototype=Object.create(Vi.prototype),Wi.prototype.constructor=Wi,rr.prototype=Object.create(me.prototype),rr.prototype.constructor=rr,Zi.prototype=Object.create(rr.prototype),Zi.prototype.constructor=Zi,Qi.prototype=Object.create(rr.prototype),Qi.prototype.constructor=Qi,gr.prototype=Object.create(Re.prototype),gr.prototype.constructor=gr,wr.prototype=Object.create(Re.prototype),wr.prototype.constructor=wr,Or.prototype=Object.create(Qe.prototype),Or.prototype.constructor=Or,zr.prototype=Object.create(Qe.prototype),zr.prototype.constructor=zr,Dr.prototype=Object.create(yn.prototype),Dr.prototype.constructor=Dr,Hr.prototype=Object.create(Mn.prototype),Hr.prototype.constructor=Hr,Gr.prototype=Object.create(Hr.prototype),Gr.prototype.constructor=Gr,Zr.prototype=Object.create(Hr.prototype),Zr.prototype.constructor=Zr,Kr.prototype=Object.create(Gr.prototype),Kr.prototype.constructor=Kr,Jr.prototype=Object.create(Fn.prototype),Jr.prototype.constructor=Jr,qo.prototype=Object.create(bo.prototype),qo.prototype.constructor=qo,ti.$metadata$=nt("Default",void 0,void 0,void 0,void 0,ni.prototype),ni.prototype.k23=function(){return this.h23_1},ni.prototype.j1n=function(){return this.i23_1},ni.prototype.h1n=function(t,e){var n,i,r,o,s=new Fo;try{var a=eo(),u=[eo(),no(),io(),ro()].length;return(n=s,i=this,r=a,o=it(Array(u),null),Mr(n,i,r,o,Object.create(Dr.prototype))).b1r(t,e),s.toString()}finally{s.yt()}},ni.prototype.i1n=function(t,e){var n=new qo(e),i=new Or(this,eo(),n,t.p1m()).m1p(t);return n.f24(),i},ni.$metadata$=st("Json",[ot]),ii.prototype.f25=function(){return this.m24_1},ii.prototype.i1s=function(){if(this.o24_1&&"type"!==this.p24_1)throw ut(at("Class discriminator should not be specified when array polymorphism is specified"));if(this.l24_1){if("    "!==this.m24_1){var t,e;t:{for(var n=this.m24_1,i=0,r=n.length;i<r;){var o=lt(n,i);if(i=i+1|0,!(pt(new ct(o),new ct(ht(32)))||pt(new ct(o),new ct(ht(9)))||pt(new ct(o),new ct(ht(13)))||pt(new ct(o),new ct(ht(10))))){t=!1;break t}}t=!0}if(!t)throw e="Only whitespace, tab, newline and carriage return are allowed as pretty print symbols. Had "+this.m24_1,ut(at(e))}}else if("    "!==this.m24_1)throw ut(at("Indent should not be specified when default printing mode is used"));return new ai(this.g24_1,this.i24_1,this.j24_1,this.k24_1,this.l24_1,this.h24_1,this.m24_1,this.n24_1,this.o24_1,this.p24_1,this.q24_1,this.r24_1)},ii.$metadata$=st("JsonBuilder"),ri.$metadata$=st("JsonImpl",void 0,void 0,void 0,void 0,ni.prototype),oi.$metadata$=st("JsonClassDiscriminator",[_t]),si.$metadata$=st("JsonNames",[_t]),ai.prototype.g25=function(){return this.v24_1},ai.prototype.f25=function(){return this.z24_1},ai.prototype.toString=function(){return"JsonConfiguration(encodeDefaults="+this.t24_1+", ignoreUnknownKeys="+this.u24_1+", isLenient="+this.v24_1+", allowStructuredMapKeys="+this.w24_1+", prettyPrint="+this.x24_1+", explicitNulls="+this.y24_1+", prettyPrintIndent='"+this.z24_1+"', coerceInputValues="+this.a25_1+", useArrayPolymorphism="+this.b25_1+", classDiscriminator='"+this.c25_1+"', allowSpecialFloatingPointValues="+this.d25_1+")"},ai.$metadata$=st("JsonConfiguration"),ui.$metadata$=mt("JsonDecoder",[ft,dt]),li.$metadata$=nt("Companion"),ci.$metadata$=st("JsonElement",void 0,void 0,{0:Ei}),hi.$metadata$=nt("Companion"),pi.prototype.toString=function(){return this.j25()},pi.$metadata$=st("JsonPrimitive",void 0,void 0,{0:ki},void 0,ci.prototype),_i.$metadata$=nt("Companion"),fi.prototype.z=function(){return this.k25_1.z()},fi.prototype.x2=function(){return this.k25_1.x2()},fi.prototype.g=function(){return this.k25_1.g()},fi.prototype.y2=function(){return this.k25_1.y2()},fi.prototype.l25=function(t){return this.k25_1.r2(t)},fi.prototype.r2=function(t){return null!=t&&"string"==typeof t&&this.l25(null!=t&&"string"==typeof t?t:vt())},fi.prototype.m25=function(t){return this.k25_1.o(t)},fi.prototype.o=function(t){return null==t||"string"!=typeof t?null:this.m25(null!=t&&"string"==typeof t?t:vt())},fi.prototype.m=function(){return this.k25_1.m()},fi.prototype.equals=function(t){return pt(this.k25_1,t)},fi.prototype.hashCode=function(){return gt(this.k25_1)},fi.prototype.toString=function(){var t=this.k25_1.z();return wt(t,",","{","}",0,null,(function(t){var e=t.a1(),n=t.b1(),i=yt();return Lr(i,e),i.s5(ht(58)),i.lg(n),i.toString()}),24,null)},fi.$metadata$=st("JsonObject",[bt],void 0,{0:Ii},void 0,ci.prototype),di.$metadata$=nt("Companion"),mi.prototype.g=function(){return this.n25_1.g()},mi.prototype.o25=function(t){return this.n25_1.n(t)},mi.prototype.n=function(t){return t instanceof ci&&this.o25(t instanceof ci?t:vt())},mi.prototype.p25=function(t){return this.n25_1.t1(t)},mi.prototype.t1=function(t){return this.p25(t)},mi.prototype.l=function(t){return this.n25_1.l(t)},mi.prototype.q25=function(t){return this.n25_1.p(t)},mi.prototype.p=function(t){return t instanceof ci?this.q25(t instanceof ci?t:vt()):-1},mi.prototype.m=function(){return this.n25_1.m()},mi.prototype.d=function(){return this.n25_1.d()},mi.prototype.q=function(t){return this.n25_1.q(t)},mi.prototype.equals=function(t){return pt(this.n25_1,t)},mi.prototype.hashCode=function(){return gt(this.n25_1)},mi.prototype.toString=function(){return wt(this.n25_1,",","[","]",0,null,null,56,null)},mi.$metadata$=st("JsonArray",[xt],void 0,{0:Mi},void 0,ci.prototype),yi.prototype.j25=function(){return this.s25_1},yi.prototype.toString=function(){var t;if(this.r25_1){var e=yt();Lr(e,this.s25_1),t=e.toString()}else t=this.s25_1;return t},yi.prototype.equals=function(t){return this===t||!(null==t||!$t(this).equals($t(t)))&&(t instanceof yi||vt(),this.r25_1===t.r25_1&&this.s25_1===t.s25_1)},yi.prototype.hashCode=function(){var t=0|this.r25_1;return tt(31,t)+Ct(this.s25_1)|0},yi.$metadata$=st("JsonLiteral",void 0,void 0,void 0,void 0,pi.prototype),vi.prototype.j25=function(){return this.t25_1},vi.prototype.v25=function(){return this.u25_1.b1()},vi.prototype.d1x=function(t){return this.v25()},vi.$metadata$=nt("JsonNull",[kt],void 0,{0:Ri},void 0,pi.prototype),Ci.prototype.p1m=function(){return this.b26_1},Ci.prototype.c26=function(t,e){Li(t);var n=e;n instanceof pi?t.b1r(ki(),e):n instanceof fi?t.b1r(Ii(),e):n instanceof mi&&t.b1r(Mi(),e)},Ci.prototype.q1m=function(t,e){return this.c26(t,e instanceof ci?e:vt())},Ci.prototype.r1m=function(t){return qi(t).i25()},Ci.$metadata$=nt("JsonElementSerializer",[Rt]),Ai.prototype.p1m=function(){return this.w25_1},Ai.prototype.d26=function(t,e){var n;if(Li(t),e instanceof vi)n=t.b1r(Ri(),gi());else{var i=Ni();n=t.b1r(i,e instanceof yi?e:vt())}return n},Ai.prototype.q1m=function(t,e){return this.d26(t,e instanceof pi?e:vt())},Ai.prototype.r1m=function(t){var e=qi(t).i25();if(!(e instanceof pi))throw tr(-1,"Unexpected JSON element, expected JsonPrimitive, had "+$t(e),at(e));return e},Ai.$metadata$=nt("JsonPrimitiveSerializer",[Rt]),Si.prototype.y1n=function(){return this.e26_1.y1n()},Si.prototype.z1n=function(){return this.e26_1.z1n()},Si.prototype.a1o=function(){return this.e26_1.a1o()},Si.prototype.q1n=function(){return this.e26_1.q1n()},Si.prototype.b1o=function(){return this.e26_1.b1o()},Si.prototype.c1o=function(t){return this.e26_1.c1o(t)},Si.prototype.d1o=function(t){return this.e26_1.d1o(t)},Si.prototype.e1o=function(t){return this.e26_1.e1o(t)},Si.prototype.f1o=function(t){return this.e26_1.f1o(t)},Si.prototype.g1o=function(t){return this.e26_1.g1o(t)},Si.prototype.x1n=function(){return this.f26_1},Si.$metadata$=nt("JsonObjectDescriptor",[qt]),Ti.prototype.p1m=function(){return this.z25_1},Ti.prototype.g26=function(t,e){Li(t),Lt(Nt(jt()),Ei()).q1m(t,e)},Ti.prototype.q1m=function(t,e){return this.g26(t,e instanceof fi?e:vt())},Ti.prototype.r1m=function(t){return Bi(t),new fi(Lt(Nt(jt()),Ei()).r1m(t))},Ti.$metadata$=nt("JsonObjectSerializer",[Rt]),Oi.prototype.y1n=function(){return this.h26_1.y1n()},Oi.prototype.z1n=function(){return this.h26_1.z1n()},Oi.prototype.a1o=function(){return this.h26_1.a1o()},Oi.prototype.q1n=function(){return this.h26_1.q1n()},Oi.prototype.b1o=function(){return this.h26_1.b1o()},Oi.prototype.c1o=function(t){return this.h26_1.c1o(t)},Oi.prototype.d1o=function(t){return this.h26_1.d1o(t)},Oi.prototype.e1o=function(t){return this.h26_1.e1o(t)},Oi.prototype.f1o=function(t){return this.h26_1.f1o(t)},Oi.prototype.g1o=function(t){return this.h26_1.g1o(t)},Oi.prototype.x1n=function(){return this.i26_1},Oi.$metadata$=nt("JsonArrayDescriptor",[qt]),zi.prototype.p1m=function(){return this.a26_1},zi.prototype.j26=function(t,e){Li(t),Bt(Ei()).q1m(t,e)},zi.prototype.q1m=function(t,e){return this.j26(t,e instanceof mi?e:vt())},zi.prototype.r1m=function(t){return Bi(t),new mi(Bt(Ei()).r1m(t))},zi.$metadata$=nt("JsonArraySerializer",[Rt]),Di.prototype.p1m=function(){return this.x25_1},Di.prototype.k26=function(t,e){Li(t),t.g1q()},Di.prototype.q1m=function(t,e){return this.k26(t,e instanceof vi?e:vt())},Di.prototype.r1m=function(t){if(Bi(t),t.z1o())throw new Qi("Expected 'null' literal");return t.a1p(),gi()},Di.$metadata$=nt("JsonNullSerializer",[Rt]),ji.prototype.p1m=function(){return this.y25_1},ji.prototype.l26=function(t,e){if(Li(t),e.r25_1)return t.p1q(e.s25_1);var n=Ot(e.j25());if(null!=n)return t.l1q(n);var i=Ht(e.s25_1);if(null!=(null==i?null:new Gt(i))){var r,o=t.q1q(Yt(Vt()).p1m());return r=Wt(i),o.l1q(r),rt()}var s=function(t){return zt(t.j25())}(e);if(null!=s)return t.n1q(s);var a=wi(e);if(null!=a)return t.h1q(a);t.p1q(e.s25_1)},ji.prototype.q1m=function(t,e){return this.l26(t,e instanceof yi?e:vt())},ji.prototype.r1m=function(t){var e=qi(t).i25();if(!(e instanceof yi))throw tr(-1,"Unexpected JSON element, expected JsonLiteral, had "+$t(e),at(e));return e},ji.$metadata$=nt("JsonLiteralSerializer",[Rt]),Ui.prototype.x1n=function(){return Fi(this).x1n()},Ui.prototype.b1o=function(){return Fi(this).b1o()},Ui.prototype.z1n=function(){return Fi(this).z1n()},Ui.prototype.f1o=function(t){return Fi(this).f1o(t)},Ui.prototype.e1o=function(t){return Fi(this).e1o(t)},Ui.prototype.c1o=function(t){return Fi(this).c1o(t)},Ui.prototype.d1o=function(t){return Fi(this).d1o(t)},Ui.prototype.g1o=function(t){return Fi(this).g1o(t)},Ui.$metadata$=st(void 0,[qt]),Hi.$metadata$=mt("JsonEncoder",[ie,re]),Vi.prototype.p26=function(t){this.o26_1=t},Vi.prototype.q26=function(){this.o26_1=!0},Vi.prototype.r26=function(){return rt()},Vi.prototype.s26=function(){this.o26_1=!1},Vi.prototype.t26=function(){return rt()},Vi.prototype.u26=function(t){return this.n26_1.l1x(t)},Vi.prototype.v26=function(t){return this.n26_1.w26(t)},Vi.prototype.x26=function(t){return this.n26_1.w26(t.toString())},Vi.prototype.y26=function(t){return this.n26_1.w26(t.toString())},Vi.prototype.z26=function(t){return this.n26_1.m1y(oe(t))},Vi.prototype.a27=function(t){return this.n26_1.m1y(oe(t))},Vi.prototype.b27=function(t){return this.n26_1.m1y(oe(t))},Vi.prototype.c27=function(t){return this.n26_1.m1y(t)},Vi.prototype.d27=function(t){return this.n26_1.w26(t.toString())},Vi.prototype.e27=function(t){return this.n26_1.f27(t)},Vi.$metadata$=st("Composer"),Yi.prototype.b27=function(t){var e;return e=se(t),Vi.prototype.v26.call(this,ae(e))},Yi.prototype.c27=function(t){var e;return e=ue(t),Vi.prototype.v26.call(this,le(e))},Yi.prototype.z26=function(t){var e;return e=ce(t),Vi.prototype.v26.call(this,he(e))},Yi.prototype.a27=function(t){var e;return e=pe(t),Vi.prototype.v26.call(this,_e(e))},Yi.$metadata$=st("ComposerForUnsignedNumbers",void 0,void 0,void 0,void 0,Vi.prototype),Wi.prototype.q26=function(){this.p26(!0);var t=this.l27_1;this.l27_1=t+1|0},Wi.prototype.r26=function(){var t=this.l27_1;this.l27_1=t-1|0},Wi.prototype.s26=function(){this.p26(!1),this.v26("\n");var t=this.l27_1,e=0;if(e<t)do{e=e+1|0,this.v26(this.k27_1.h23_1.z24_1)}while(e<t)},Wi.prototype.t26=function(){this.u26(ht(32))},Wi.$metadata$=st("ComposerWithPrettyPrint",void 0,void 0,void 0,void 0,Vi.prototype),Gi.prototype.f1v=function(t){this.m27_1.f1v(t)},Gi.prototype.g1v=function(){return this.m27_1.g1v()},Gi.$metadata$=st("JsonElementMarker"),Zi.$metadata$=st("JsonEncodingException",void 0,void 0,void 0,void 0,rr.prototype),Qi.$metadata$=st("JsonDecodingException",void 0,void 0,void 0,void 0,rr.prototype),rr.$metadata$=st("JsonException",void 0,void 0,void 0,void 0,me.prototype),pr.$metadata$=nt("Tombstone"),dr.prototype.v27=function(t){var e=this;e.u27_1=e.u27_1+1|0;var n=e.u27_1;n===this.s27_1.length&&fr(this),this.s27_1[n]=t},dr.prototype.w27=function(t){this.t27_1[this.u27_1]=t},dr.prototype.x27=function(t){var e;if(-2!==this.t27_1[this.u27_1]){var n=this;n.u27_1=n.u27_1+1|0,e=n.u27_1===this.s27_1.length}else e=!1;e&&fr(this),this.s27_1[this.u27_1]=t,this.t27_1[this.u27_1]=-2},dr.prototype.y27=function(){-2===this.t27_1[this.u27_1]&&(this.s27_1[this.u27_1]=_r())},dr.prototype.z27=function(){var t=this.u27_1;if(-2===this.t27_1[t]){this.t27_1[t]=-1;var e=this.u27_1;this.u27_1=e-1|0}if(-1!==this.u27_1){var n=this.u27_1;this.u27_1=n-1|0}},dr.prototype.a28=function(){var t=yt();t.mg("$");var e=this.u27_1+1|0,n=0;if(n<e)do{var i=n;n=n+1|0;var r=this.s27_1[i];if(null!=r&&Zt(r,qt))if(pt(r.b1o(),Oe()))-1!==this.t27_1[i]&&(t.mg("["),t.lg(this.t27_1[i]),t.mg("]"));else{var o=this.t27_1[i];o>=0&&(t.mg("."),t.mg(r.f1o(o)))}else r!==_r()&&(t.mg("["),t.mg("'"),t.lg(r),t.mg("'"),t.mg("]"))}while(n<e);return t.toString()},dr.prototype.toString=function(){return this.a28()},dr.$metadata$=st("JsonPath"),gr.prototype.l29=function(t,e,n){var i=this.m29(t,e,n);return i.ji_1=rt(),i.ki_1=null,i.ri()},gr.prototype.w6=function(t,e,n){var i=t instanceof Pe?t:vt();return this.l29(i,e instanceof je?e:vt(),n)},gr.prototype.ri=function(){var t,e,n,i=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.j29_1=this.g29_1.b28_1.f28(),this.j29_1===Co()){this.k29_1=yr(this.g29_1,!0),this.hi_1=2;continue t}if(this.j29_1===zo()){this.k29_1=yr(this.g29_1,!1),this.hi_1=2;continue t}if(this.j29_1===So()){if(this.hi_1=1,t=this.h29_1,e=this.g29_1,n=void 0,(n=new wr(e,t,this)).ji_1=rt(),n.ki_1=null,(i=n.ri())===Ne())return i;continue t}if(this.j29_1===Io()){this.k29_1=mr(this.g29_1),this.hi_1=2;continue t}this.g29_1.b28_1.o27("Can't begin reading element, unexpected token",0,null,6,null);break;case 1:this.k29_1=i,this.hi_1=2;continue t;case 2:return this.k29_1;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},gr.prototype.m29=function(t,e,n){var i=new gr(this.g29_1,n);return i.h29_1=t,i.i29_1=e,i},gr.$metadata$=st("JsonTreeReader$readDeepRecursive$slambda",void 0,void 0,void 0,[2],Re.prototype),wr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.v28_1=this.t28_1.b28_1.e28(So()),this.t28_1.b28_1.f28()===Eo()&&this.t28_1.b28_1.o27("Unexpected leading comma",0,null,6,null),this.w28_1=ze(),this.hi_1=1;continue t;case 1:if(!this.t28_1.b28_1.g28()){this.hi_1=4;continue t}if(this.x28_1=this.t28_1.c28_1?this.t28_1.b28_1.i28():this.t28_1.b28_1.h28(),this.t28_1.b28_1.e28(ko()),this.hi_1=2,(t=this.u28_1.o6(rt(),this))===Ne())return t;continue t;case 2:var e=t;this.w28_1.a(this.x28_1,e),this.v28_1=this.t28_1.b28_1.k28();var n=this.v28_1;if(n===Eo()){this.hi_1=3;continue t}if(n===To()){this.hi_1=4;continue t}this.t28_1.b28_1.o27("Expected end of the object or comma",0,null,6,null);break;case 3:this.hi_1=1;continue t;case 4:return this.v28_1===So()?this.t28_1.b28_1.e28(To()):this.v28_1===Eo()&&this.t28_1.b28_1.o27("Unexpected trailing comma",0,null,6,null),new fi(this.w28_1);case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},wr.$metadata$=st("$readObjectCOROUTINE$0",void 0,void 0,void 0,void 0,Re.prototype),br.prototype.j28=function(){var t,e=this.b28_1.f28();if(e===Co())t=yr(this,!0);else if(e===zo())t=yr(this,!1);else if(e===So()){var n=this;n.d28_1=n.d28_1+1|0;var i=200===n.d28_1?vr(this):function(t){var e=t.b28_1.e28(So());t.b28_1.f28()===Eo()&&t.b28_1.o27("Unexpected leading comma",0,null,6,null);var n=ze();t:for(;t.b28_1.g28();){var i=t.c28_1?t.b28_1.i28():t.b28_1.h28();t.b28_1.e28(ko());var r=t.j28();n.a(i,r);var o=e=t.b28_1.k28();if(o===Eo());else{if(o===To())break t;t.b28_1.o27("Expected end of the object or comma",0,null,6,null)}}return e===So()?t.b28_1.e28(To()):e===Eo()&&t.b28_1.o27("Unexpected trailing comma",0,null,6,null),new fi(n)}(this);this.d28_1=this.d28_1-1|0,t=i}else if(e===Io())t=mr(this);else{var r="Cannot begin reading element, unexpected token: "+e;this.b28_1.o27(r,0,null,6,null)}return t},br.$metadata$=st("JsonTreeReader"),Er.prototype.y22=function(t,e){},Er.prototype.b23=function(t,e,n){var i=n.p1m();(function(t,e,n){var i=e.b1o();if(i instanceof Ge||pt(i,Ze()))throw ut("Serializer for "+n.fe()+" can't be registered as a subclass for polymorphic serialization because its kind "+i+" is not concrete. To work with multiple hierarchies, register it as a base class.");if(t.o29_1)return rt();if(pt(i,Oe())||pt(i,Ke())||i instanceof We||i instanceof Ye)throw ut("Serializer for "+n.fe()+" of kind "+i+" cannot be serialized polymorphically with class discriminator.")})(this,i,e),this.o29_1||function(t,e,n){var i=0,r=e.z1n();if(i<r)do{var o=i;i=i+1|0;var s=e.f1o(o);if(s===t.p29_1)throw ut("Polymorphic serializer for "+n+" has property '"+s+"' that conflicts with JSON class discriminator. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism")}while(i<r)}(this,i,e)},Er.prototype.c23=function(t,e){},Er.prototype.d23=function(t,e){},Er.$metadata$=st("PolymorphismValidator",[Je]),Ar.$metadata$=st("Key"),kr.prototype.q29=function(t,e,n){var i,r=this.p27_1,o=r.o(t);if(null==o){var s=Uo(1);r.a(t,s),i=s}else i=o;var a=i,u=e instanceof Ar?e:vt(),l=qe(n)?n:vt();a.a(u,l)},kr.prototype.q27=function(t,e,n){var i=this.r29(t,e);if(null!=i)return i;var r=n();return this.q29(t,e,r),r},kr.prototype.r29=function(t,e){var n=this.p27_1.o(t),i=null==n?null:n.o(e instanceof Ar?e:vt());return qe(i)?i:null},kr.$metadata$=st("DescriptorSchemaCache"),Or.prototype.h25=function(){return this.u23_1},Or.prototype.a2a=function(){return this.w23_1},Or.prototype.j1n=function(){return this.x23_1},Or.prototype.i25=function(){return new br(this.u23_1.h23_1,this.w23_1).j28()},Or.prototype.m1p=function(t){try{return xr(this,t)}catch(t){throw t instanceof en?new en(tn(t.message," at path: ")+this.w23_1.c24_1.a28(),t):t}},Or.prototype.n1p=function(t){var e,n,i=Qr(this.u23_1,t);switch(this.w23_1.c24_1.v27(t),this.w23_1.s29(i.d2a_1),(n=this).w23_1.f28()===Eo()&&n.w23_1.o27("Unexpected leading comma",0,null,6,null),i.i5()){case 1:case 2:case 3:e=new Or(this.u23_1,i,this.w23_1,t);break;default:e=this.v23_1.equals(i)&&this.u23_1.h23_1.y24_1?this:new Or(this.u23_1,i,this.w23_1,t)}return e},Or.prototype.o1p=function(t){this.u23_1.h23_1.u24_1&&0===t.z1n()&&function(t,e){t:for(;;){var n=t.c1q(e);if(xe(),-1===n)break t}}(this,t),this.w23_1.s29(this.v23_1.e2a_1),this.w23_1.c24_1.z27()},Or.prototype.z1o=function(){var t=this.a24_1,e=null==t?null:t.n27_1;return(null==e||!e)&&this.w23_1.u29()},Or.prototype.a1p=function(){return null},Or.prototype.y1p=function(t,e,n,i){var r=!!this.v23_1.equals(io())&&0==(1&e);r&&this.w23_1.c24_1.y27();var o=Qe.prototype.y1p.call(this,t,e,n,i);return r&&this.w23_1.c24_1.x27(o),o},Or.prototype.c1q=function(t){var e;switch(this.v23_1.i5()){case 0:e=function(t,e){for(var n=t.w23_1.t29();t.w23_1.g28();){n=!1;var i=Ir(t);t.w23_1.s29(oo());var r,o=ur(e,t.u23_1,i);if(xe(),-3!==o){if(!t.z23_1.a25_1||!Sr(t,e,o)){var s=t.a24_1;return null==s||s.f1v(o),o}n=t.w23_1.t29(),r=!1}else r=!0;r&&(n=Tr(t,i))}n&&t.w23_1.o27("Unexpected trailing comma",0,null,6,null);var a,u=t.a24_1,l=null==u?null:u.g1v();return null==l?(xe(),a=-1):a=l,a}(this,t);break;case 2:e=function(t){var e,n=!1,i=!(0==(t.y23_1%2|0));if(i?-1!==t.y23_1&&(n=t.w23_1.t29()):t.w23_1.s29(oo()),t.w23_1.g28()){if(i)if(-1===t.y23_1){var r=t.w23_1,o=!n,s=r.b24_1;o||r.o27("Unexpected trailing comma",s,null,4,null)}else{var a=t.w23_1,u=n,l=a.b24_1;u||a.o27("Expected comma after the key-value pair",l,null,4,null)}var c=t;c.y23_1=c.y23_1+1|0,e=c.y23_1}else n&&t.w23_1.o27("Expected '}', but had ',' instead",0,null,6,null),xe(),e=-1;return e}(this);break;default:e=function(t){var e,n=t.w23_1.t29();if(t.w23_1.g28()){-1===t.y23_1||n||t.w23_1.o27("Expected end of the array or comma",0,null,6,null);var i=t;i.y23_1=i.y23_1+1|0,e=i.y23_1}else n&&t.w23_1.o27("Unexpected trailing comma",0,null,6,null),xe(),e=-1;return e}(this)}return this.v23_1.equals(io())||this.w23_1.c24_1.w27(e),e},Or.prototype.b1p=function(){return this.z23_1.v24_1?this.w23_1.g2a():this.w23_1.f2a()},Or.prototype.c1p=function(){var t=this.w23_1.h2a();if(!t.equals(oe(t.yh()))){var e="Failed to parse byte for input '"+at(t)+"'";this.w23_1.o27(e,0,null,6,null)}return t.yh()},Or.prototype.d1p=function(){var t=this.w23_1.h2a();if(!t.equals(oe(t.zh()))){var e="Failed to parse short for input '"+at(t)+"'";this.w23_1.o27(e,0,null,6,null)}return t.zh()},Or.prototype.e1p=function(){var t=this.w23_1.h2a();if(!t.equals(oe(t.m6()))){var e="Failed to parse int for input '"+at(t)+"'";this.w23_1.o27(e,0,null,6,null)}return t.m6()},Or.prototype.f1p=function(){return this.w23_1.h2a()},Or.prototype.g1p=function(){var t;t:{var e=this.w23_1,n=e.i28();try{t=It(n);break t}catch(t){if(!(t instanceof rn))throw t;var i="Failed to parse type 'float' for input '"+n+"'";e.o27(i,0,null,6,null)}}var r=t;if(this.u23_1.h23_1.d25_1||on(r))return r;Ji(this.w23_1,r)},Or.prototype.h1p=function(){var t;t:{var e=this.w23_1,n=e.i28();try{t=It(n);break t}catch(t){if(!(t instanceof rn))throw t;var i="Failed to parse type 'double' for input '"+n+"'";e.o27(i,0,null,6,null)}}var r=t;if(this.u23_1.h23_1.d25_1||sn(r))return r;Ji(this.w23_1,r)},Or.prototype.i1p=function(){var t=this.w23_1.i28();if(1!==t.length){var e="Expected single char, but got '"+t+"'";this.w23_1.o27(e,0,null,6,null)}return lt(t,0)},Or.prototype.j1p=function(){return this.z23_1.v24_1?this.w23_1.z29():this.w23_1.h28()},Or.prototype.k1p=function(t){return Rr(t)?new zr(this.w23_1,this.u23_1):Qe.prototype.k1p.call(this,t)},Or.$metadata$=st("StreamingJsonDecoder",[ui],void 0,void 0,void 0,Qe.prototype),zr.prototype.j1n=function(){return this.j2a_1},zr.prototype.c1q=function(t){throw Kt("unsupported")},zr.prototype.e1p=function(){var t;t:{var e=this.i2a_1,n=e.i28();try{var i=ln(n);t=cn(i);break t}catch(t){if(!(t instanceof rn))throw t;var r="Failed to parse type 'UInt' for input '"+n+"'";e.o27(r,0,null,6,null)}}return t},zr.prototype.f1p=function(){var t;t:{var e=this.i2a_1,n=e.i28();try{var i=hn(n);t=Wt(i);break t}catch(t){if(!(t instanceof rn))throw t;var r="Failed to parse type 'ULong' for input '"+n+"'";e.o27(r,0,null,6,null)}}return t},zr.prototype.c1p=function(){var t;t:{var e=this.i2a_1,n=e.i28();try{var i=pn(n);t=_n(i);break t}catch(t){if(!(t instanceof rn))throw t;var r="Failed to parse type 'UByte' for input '"+n+"'";e.o27(r,0,null,6,null)}}return t},zr.prototype.d1p=function(){var t;t:{var e=this.i2a_1,n=e.i28();try{var i=fn(n);t=dn(i);break t}catch(t){if(!(t instanceof rn))throw t;var r="Failed to parse type 'UShort' for input '"+n+"'";e.o27(r,0,null,6,null)}}return t},zr.$metadata$=st("JsonDecoderForUnsignedTypes",void 0,void 0,void 0,void 0,Qe.prototype),Dr.prototype.h25=function(){return this.m23_1},Dr.prototype.j1n=function(){return this.p23_1},Dr.prototype.g1r=function(t,e){return this.q23_1.t24_1},Dr.prototype.b1r=function(t,e){if(t instanceof Le&&!this.h25().h23_1.b25_1){var n=t instanceof Le?t:vt(),i=$r(t.p1m(),this.h25()),r=Be(n,this,qe(e)?e:vt());Cr(n,r,i),function(t){if(t instanceof Ye)throw Kt("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead");if(t instanceof We)throw Kt("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead");if(t instanceof Ge)throw Kt("Actual serializer for polymorphic cannot be polymorphic itself")}(r.p1m().b1o()),this.s23_1=i,r.q1m(this,e)}else t.q1m(this,e),rt()},Dr.prototype.n1p=function(t){var e=Qr(this.m23_1,t);if(pt(new ct(e.d2a_1),new ct(so()))||(this.l23_1.u26(e.d2a_1),this.l23_1.q26()),null!=this.s23_1&&(function(t,e){t.l23_1.s26(),t.p1q(Ae(t.s23_1)),t.l23_1.u26(oo()),t.l23_1.t26(),t.p1q(e.x1n())}(this,t),this.s23_1=null),this.n23_1.equals(e))return this;var n=this.o23_1,i=null==n?null:n[e.i5()];return null==i?new Dr(this.l23_1,this.m23_1,e,this.o23_1):i},Dr.prototype.o1p=function(t){pt(new ct(this.n23_1.e2a_1),new ct(so()))||(this.l23_1.r26(),this.l23_1.s26(),this.l23_1.u26(this.n23_1.e2a_1))},Dr.prototype.e1q=function(t,e){switch(this.n23_1.i5()){case 1:this.l23_1.o26_1||this.l23_1.u26(ao()),this.l23_1.s26();break;case 2:if(this.l23_1.o26_1)this.r23_1=!0,this.l23_1.s26();else{var n;0==(e%2|0)?(this.l23_1.u26(ao()),this.l23_1.s26(),n=!0):(this.l23_1.u26(oo()),this.l23_1.t26(),n=!1),this.r23_1=n}break;case 3:0===e&&(this.r23_1=!0),1===e&&(this.l23_1.u26(ao()),this.l23_1.t26(),this.r23_1=!1);break;default:this.l23_1.o26_1||this.l23_1.u26(ao()),this.l23_1.s26(),this.p1q(t.f1o(e)),this.l23_1.u26(oo()),this.l23_1.t26()}return!0},Dr.prototype.c1r=function(t,e,n,i){(null!=i||this.q23_1.y24_1)&&yn.prototype.c1r.call(this,t,e,n,i)},Dr.prototype.q1q=function(t){return Rr(t)?new Dr(new Yi(this.l23_1.n26_1),this.m23_1,this.n23_1,null):yn.prototype.q1q.call(this,t)},Dr.prototype.g1q=function(){this.l23_1.v26(uo())},Dr.prototype.h1q=function(t){this.r23_1?this.p1q(t.toString()):this.l23_1.d27(t)},Dr.prototype.i1q=function(t){this.r23_1?this.p1q(t.toString()):this.l23_1.z26(t)},Dr.prototype.j1q=function(t){this.r23_1?this.p1q(t.toString()):this.l23_1.a27(t)},Dr.prototype.k1q=function(t){this.r23_1?this.p1q(t.toString()):this.l23_1.b27(t)},Dr.prototype.l1q=function(t){this.r23_1?this.p1q(t.toString()):this.l23_1.c27(t)},Dr.prototype.m1q=function(t){if(this.r23_1?this.p1q(t.toString()):this.l23_1.x26(t),!this.q23_1.d25_1&&!on(t))throw Ki(t,this.l23_1.n26_1.toString())},Dr.prototype.n1q=function(t){if(this.r23_1?this.p1q(t.toString()):this.l23_1.y26(t),!this.q23_1.d25_1&&!sn(t))throw Ki(t,this.l23_1.n26_1.toString())},Dr.prototype.o1q=function(t){this.p1q(vn(t))},Dr.prototype.p1q=function(t){return this.l23_1.e27(t)},Dr.$metadata$=st("StreamingJsonEncoder",[Hi],void 0,void 0,void 0,yn.prototype),Hr.prototype.h25=function(){return this.m2a_1},Hr.prototype.b1=function(){return this.n2a_1},Hr.prototype.j1n=function(){return this.h25().j1n()},Hr.prototype.k23=function(){return this.o2a_1},Hr.prototype.i25=function(){return Br(this)},Hr.prototype.m1p=function(t){return xr(this,t)},Hr.prototype.e21=function(t,e){return e},Hr.prototype.n1p=function(t){var e,n=Br(this),i=t.b1o();if(pt(i,Oe())||i instanceof Ge){var r=this.h25();if(!(n instanceof mi))throw nr(-1,"Expected "+Fe(mi)+" as the serialized body of "+t.x1n()+", but had "+$t(n));e=new Zr(r,n)}else if(pt(i,Ke())){var o,s=this.h25(),a=to(t.d1o(0),s.j1n()),u=a.b1o();if(u instanceof We||pt(u,Ft())){var l=this.h25();if(!(n instanceof fi))throw nr(-1,"Expected "+Fe(fi)+" as the serialized body of "+t.x1n()+", but had "+$t(n));o=new Kr(l,n)}else{if(!s.h23_1.w24_1)throw Xi(a);var c=this.h25();if(!(n instanceof mi))throw nr(-1,"Expected "+Fe(mi)+" as the serialized body of "+t.x1n()+", but had "+$t(n));o=new Zr(c,n)}e=o}else{var h=this.h25();if(!(n instanceof fi))throw nr(-1,"Expected "+Fe(fi)+" as the serialized body of "+t.x1n()+", but had "+$t(n));e=Vr(h,n,null,null,12,0,Object.create(Gr.prototype))}return e},Hr.prototype.o1p=function(t){},Hr.prototype.z1o=function(){return!(Br(this)instanceof vi)},Hr.prototype.q2a=function(t){var e=this.p2a(t),n=e instanceof pi?e:null;if(null==n)throw tr(-1,"Expected JsonPrimitive at "+t+", found "+e,at(Br(this)));return n},Hr.prototype.r2a=function(t){return!(this.p2a(t)===gi())},Hr.prototype.g21=function(t){return this.r2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.s2a=function(t){var e,n=this.q2a(t);if(!this.h25().h23_1.v24_1&&Ur(n,0,"boolean").r25_1)throw tr(-1,"Boolean literal for key '"+t+"' should be unquoted.\n"+Ao(),at(Br(this)));try{var i=wi(n);if(null==i)throw Dn();var r,o=i;null==o?Fr(this,"boolean"):r=o,e=r}catch(t){if(!(t instanceof rn))throw t;Fr(this,"boolean")}return e},Hr.prototype.h21=function(t){return this.s2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.t2a=function(t){var e;t:{var n=this.q2a(t);try{var i,r=bi(n),o=Rn().o9_1,s=r<=Rn().p9_1&&o<=r?zn(r):null;null==s?Fr(this,"byte"):i=s,e=i;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"byte")}}return e},Hr.prototype.i21=function(t){return this.t2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.u2a=function(t){var e;t:{var n=this.q2a(t);try{var i,r=bi(n),o=Pn().w9_1,s=r<=Pn().x9_1&&o<=r?jn(r):null;null==s?Fr(this,"short"):i=s,e=i;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"short")}}return e},Hr.prototype.j21=function(t){return this.u2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.v2a=function(t){var e;t:{var n=this.q2a(t);try{var i,r=bi(n);null==r?Fr(this,"int"):i=r,e=i;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"int")}}return e},Hr.prototype.k21=function(t){return this.v2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.w2a=function(t){var e;t:{var n=this.q2a(t);try{var i,r=Tt(n.j25());null==r?Fr(this,"long"):i=r,e=i;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"long")}}return e},Hr.prototype.l21=function(t){return this.w2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.x2a=function(t){var e,n;t:{var i=this.q2a(t);try{var r,o=(n=i.j25(),It(n));null==o?Fr(this,"float"):r=o,e=r;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"float")}}var s=e;if(this.h25().h23_1.d25_1||on(s))return s;throw er(s,t,at(Br(this)))},Hr.prototype.m21=function(t){return this.x2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.y2a=function(t){var e;t:{var n=this.q2a(t);try{var i,r=It(n.j25());null==r?Fr(this,"double"):i=r,e=i;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"double")}}var o=e;if(this.h25().h23_1.d25_1||sn(o))return o;throw er(o,t,at(Br(this)))},Hr.prototype.n21=function(t){return this.y2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.z2a=function(t){var e;t:{var n=this.q2a(t);try{var i,r=Nn(n.j25());null==(null==r?null:new ct(r))?Fr(this,"char"):i=r,e=i;break t}catch(t){if(!(t instanceof rn))throw t;Fr(this,"char")}}return e},Hr.prototype.o21=function(t){return this.z2a(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.a2b=function(t){var e=this.q2a(t);if(!this.h25().h23_1.v24_1&&!Ur(e,0,"string").r25_1)throw tr(-1,"String literal for key '"+t+"' should be quoted.\n"+Ao(),at(Br(this)));if(e instanceof vi)throw tr(-1,"Unexpected 'null' value instead of string literal",at(Br(this)));return e.j25()},Hr.prototype.p21=function(t){return this.a2b(null!=t&&"string"==typeof t?t:vt())},Hr.prototype.b2b=function(t,e){return Rr(e)?new zr(new qo(this.q2a(t).j25()),this.h25()):Mn.prototype.q21.call(this,t,e)},Hr.prototype.q21=function(t,e){return this.b2b(null!=t&&"string"==typeof t?t:vt(),e)},Hr.$metadata$=st("AbstractJsonTreeDecoder",[ui],void 0,void 0,void 0,Mn.prototype),Gr.prototype.b1=function(){return this.h2b_1},Gr.prototype.c1q=function(t){for(;this.k2b_1<t.z1n();){var e=this.k2b_1;this.k2b_1=e+1|0;var n=this.y20(t,e),i=this.k2b_1-1|0;this.l2b_1=!1;var r=this.b1();if(((Zt(r,bt)?r:vt()).r2(n)||Wr(this,t,i))&&(!this.k23().a25_1||!Yr(this,t,i,n)))return i}return xe(),-1},Gr.prototype.z1o=function(){return!this.l2b_1&&Hr.prototype.z1o.call(this)},Gr.prototype.z20=function(t,e){var n=t.f1o(e);if(!this.k23().e25_1)return n;if(this.b1().x2().n(n))return n;var i,r,o,s,a=Bo(this.h25()),u=ar(),l=a.q27(t,u,(o=t,(s=function(){return lr(o)}).callableName="buildAlternativeNamesMap",s));t:{for(var c=this.b1().x2().d();c.e();){var h=c.f();if(l.o(h)===e){r=h;break t}}r=null}return null==(i=r)?n:i},Gr.prototype.p2a=function(t){return Se(this.b1(),t)},Gr.prototype.n1p=function(t){return t===this.j2b_1?this:Hr.prototype.n1p.call(this,t)},Gr.prototype.o1p=function(t){var e;if(this.k23().u24_1||t.b1o()instanceof Ge)return rt();if(this.k23().e25_1){var n,i=Ve(t),r=Bo(this.h25()).r29(t,ar()),o=null==r?null:r.x2();n=null==o?Ln():o,e=qn(i,n)}else e=Ve(t);for(var s=e,a=this.b1().x2().d();a.e();){var u=a.f();if(!s.n(u)&&u!==this.i2b_1)throw ir(u,this.b1().toString())}},Gr.$metadata$=st("JsonTreeDecoder",void 0,void 0,void 0,void 0,Hr.prototype),Zr.prototype.b1=function(){return this.r2b_1},Zr.prototype.z20=function(t,e){return e.toString()},Zr.prototype.p2a=function(t){return this.r2b_1.l(St(t))},Zr.prototype.c1q=function(t){for(;this.t2b_1<(this.s2b_1-1|0);){var e=this.t2b_1;return this.t2b_1=e+1|0,this.t2b_1}return xe(),-1},Zr.$metadata$=st("JsonTreeListDecoder",void 0,void 0,void 0,void 0,Hr.prototype),Kr.prototype.b1=function(){return this.e2c_1},Kr.prototype.z20=function(t,e){var n=e/2|0;return this.f2c_1.l(n)},Kr.prototype.c1q=function(t){for(;this.h2c_1<(this.g2c_1-1|0);){var e=this.h2c_1;return this.h2c_1=e+1|0,this.h2c_1}return xe(),-1},Kr.prototype.p2a=function(t){return 0==(this.h2c_1%2|0)?null==(e=t)?gi():new yi(e,!0):Se(this.e2c_1,t);var e},Kr.prototype.o1p=function(t){},Kr.$metadata$=st("JsonTreeMapDecoder",void 0,void 0,void 0,void 0,Gr.prototype),Jr.$metadata$=st("WriteMode",void 0,void 0,void 0,void 0,Fn.prototype),bo.prototype.m2c=function(t){this.b24_1=t},bo.prototype.n2c=function(){return this.b24_1},bo.prototype.l2c=function(){},bo.prototype.o2c=function(t){var e=t;return!(pt(new ct(e),new ct(ht(125)))||pt(new ct(e),new ct(ht(93)))||pt(new ct(e),new ct(ht(58)))||pt(new ct(e),new ct(ht(44))))},bo.prototype.f24=function(){if(10!==this.k28()){var t="Expected EOF after parsing, but had "+new ct(lt(this.j2c(),this.b24_1-1|0))+" instead";this.o27(t,0,null,6,null)}},bo.prototype.e28=function(t){var e=this.k28();return e!==t&&this.p2c(t),e},bo.prototype.s29=function(t){this.l2c();for(var e=this.j2c(),n=this.b24_1;-1!==(n=this.k2c(n));){var i=n;n=i+1|0;var r=lt(e,i);if(!(pt(new ct(r),new ct(ht(32)))||pt(new ct(r),new ct(ht(10)))||pt(new ct(r),new ct(ht(13)))||pt(new ct(r),new ct(ht(9))))){if(this.b24_1=n,pt(new ct(r),new ct(t)))return rt();this.q2c(t)}}this.b24_1=n,this.q2c(t)},bo.prototype.q2c=function(t){this.b24_1=this.b24_1-1|0,this.b24_1>=0&&pt(new ct(t),new ct(ht(34)))&&"null"===this.i28()&&this.r2c("Expected string literal but 'null' literal was found",this.b24_1-4|0,"Use 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values."),this.p2c(xo(t))},bo.prototype.p2c=function(t){var e="Expected "+(1===t?"quotation mark '\"'":4===t?"comma ','":5===t?"semicolon ':'":6===t?"start of the object '{'":7===t?"end of the object '}'":8===t?"start of the array '['":9===t?"end of the array ']'":"valid token")+", but had '"+(this.b24_1===ve(this.j2c())||this.b24_1<=0?"EOF":vn(lt(this.j2c(),this.b24_1-1|0)))+"' instead",n=this.b24_1-1|0;this.o27(e,n,null,4,null)},bo.prototype.f28=function(){for(var t=this.j2c(),e=this.b24_1;-1!==(e=this.k2c(e));){var n=lt(t,e);if(!(pt(new ct(n),new ct(ht(32)))||pt(new ct(n),new ct(ht(10)))||pt(new ct(n),new ct(ht(13)))||pt(new ct(n),new ct(ht(9)))))return this.b24_1=e,xo(n);e=e+1|0}return this.b24_1=e,10},bo.prototype.u29=function(){var t=this.s2c();t=this.k2c(t);var e=ve(this.j2c())-t|0;if(e<4||-1===t)return!0;var n=0;if(n<=3)do{var i=n;if(n=n+1|0,!pt(new ct(lt("null",i)),new ct(lt(this.j2c(),t+i|0))))return!0}while(n<=3);return e>4&&0===xo(lt(this.j2c(),t+4|0))||(this.b24_1=t+4|0,!1)},bo.prototype.s2c=function(){var t=this.b24_1;t:for(;-1!==(t=this.k2c(t));){var e=lt(this.j2c(),t);if(!(pt(new ct(e),new ct(ht(32)))||pt(new ct(e),new ct(ht(10)))||pt(new ct(e),new ct(ht(13)))||pt(new ct(e),new ct(ht(9)))))break t;t=t+1|0}return this.b24_1=t,t},bo.prototype.v29=function(t){var e,n=this.f28();if(t){if(1!==n&&0!==n)return null;e=this.i28()}else{if(1!==n)return null;e=this.h28()}var i=e;return this.d24_1=i,i},bo.prototype.t2c=function(t,e){var n=this.j2c();return at(ge(n,t,e))},bo.prototype.h28=function(){return null!=this.d24_1?mo(this):this.y29()},bo.prototype.consumeString2=function(t,e,n){for(var i=n,r=e,o=lt(t,i),s=!1;!pt(new ct(o),new ct(ht(34)));){if(pt(new ct(o),new ct(ht(92)))){if(s=!0,-1===(i=this.k2c(_o(this,r,i)))){var a=i;this.o27("EOF",a,null,4,null)}r=i}else if((i=i+1|0)>=ve(t)){if(s=!0,this.i2c(r,i),-1===(i=this.k2c(i))){var u=i;this.o27("EOF",u,null,4,null)}r=i}o=lt(t,i)}var l=s?fo(this,r,i):this.t2c(r,i);return this.b24_1=i+1|0,l},bo.prototype.z29=function(){var t,e=this.i28();return"null"===e&&!pt(new ct(lt((t=this).j2c(),t.b24_1-1|0)),new ct(ht(34)))&&this.o27("Unexpected 'null' value instead of string literal",0,null,6,null),e},bo.prototype.i28=function(){if(null!=this.d24_1)return mo(this);var t=this.s2c();if(t>=ve(this.j2c())||-1===t){var e=t;this.o27("EOF",e,null,4,null)}var n=xo(lt(this.j2c(),t));if(1===n)return this.h28();if(0!==n){var i="Expected beginning of the string, but got "+new ct(lt(this.j2c(),t));this.o27(i,0,null,6,null)}for(var r=!1;0===xo(lt(this.j2c(),t));)if((t=t+1|0)>=ve(this.j2c())){r=!0,this.i2c(this.b24_1,t);var o=this.k2c(t);if(-1===o)return this.b24_1=t,fo(this,0,0);t=o}var s=r?fo(this,this.b24_1,t):this.t2c(this.b24_1,t);return this.b24_1=t,s},bo.prototype.i2c=function(t,e){this.e24_1.jg(this.j2c(),t,e)},bo.prototype.u2c=function(t,e,n){if(!t){var i=n();this.o27(i,e,null,4,null)}},bo.prototype.x29=function(t){var e=$e(),n=this.f28();if(8!==n&&6!==n)return this.i28(),rt();for(;;)if(1!==(n=this.f28())){var i=n;if(8===i||6===i)e.b(n);else if(9===i){if(8!==Hn(e))throw tr(this.b24_1,"found ] instead of } at path: "+this.c24_1,this.j2c());Vn(e)}else if(7===i){if(6!==Hn(e))throw tr(this.b24_1,"found } instead of ] at path: "+this.c24_1,this.j2c());Vn(e)}else 10===i&&this.o27("Unexpected end of input due to malformed JSON during ignoring unknown keys",0,null,6,null);if(this.k28(),0===e.g())return rt()}else t?this.i28():this.y29()},bo.prototype.toString=function(){return"JsonReader(source='"+this.j2c()+"', currentPosition="+this.b24_1+")"},bo.prototype.w29=function(t){var e=this.t2c(0,this.b24_1),n=Yn(e,t,0,!1,6,null);this.r2c("Encountered an unknown key '"+t+"'",n,"Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.")},bo.prototype.r2c=function(t,e,n){var i=0===ve(n)?"":"\n"+n;throw tr(e,t+" at path: "+this.c24_1.a28()+i,this.j2c())},bo.prototype.o27=function(t,e,n,i,r){return 0!=(2&i)&&(e=this.b24_1),0!=(4&i)&&(n=""),this.r2c(t,e,n)},bo.prototype.h2a=function(){var t,e=this.s2c();((e=this.k2c(e))>=ve(this.j2c())||-1===e)&&this.o27("EOF",0,null,6,null),pt(new ct(lt(this.j2c(),e)),new ct(ht(34)))?((e=e+1|0)===ve(this.j2c())&&this.o27("EOF",0,null,6,null),t=!0):t=!1;var n,i=t,r=new Wn(0,0),o=!1,s=e,a=!0;t:for(;a;){var u=lt(this.j2c(),e);if(pt(new ct(u),new ct(ht(45))))e!==s&&this.o27("Unexpected symbol '-' in numeric literal",0,null,6,null),o=!0,e=e+1|0;else{if(0!==xo(u))break t;a=!((e=e+1|0)===ve(this.j2c()));var l,c=Gn(u,ht(48));if(!(0<=c&&c<=9)){var h="Unexpected symbol '"+new ct(u)+"' in numeric literal";this.o27(h,0,null,6,null)}l=r.v5(new Wn(10,0)).x5(oe(c)),(r=l).j1(new Wn(0,0))>0&&this.o27("Numeric value overflow",0,null,6,null)}}if((s===e||o&&s===(e-1|0))&&this.o27("Expected numeric literal",0,null,6,null),i&&(a||this.o27("EOF",0,null,6,null),pt(new ct(lt(this.j2c(),e)),new ct(ht(34)))||this.o27("Expected closing quotation mark",0,null,6,null),e=e+1|0),this.b24_1=e,o)n=r;else{var p=r;Zn(),p.equals(new Wn(0,-2147483648))?this.o27("Numeric value overflow",0,null,6,null):n=r.t5()}return n},bo.prototype.f2a=function(){return go(this,this.s2c())},bo.prototype.g2a=function(){var t,e=this.s2c();e===ve(this.j2c())&&this.o27("EOF",0,null,6,null),pt(new ct(lt(this.j2c(),e)),new ct(ht(34)))?(e=e+1|0,t=!0):t=!1;var n=t,i=go(this,e);if(n){this.b24_1===ve(this.j2c())&&this.o27("EOF",0,null,6,null),pt(new ct(lt(this.j2c(),this.b24_1)),new ct(ht(34)))||this.o27("Expected closing quotation mark",0,null,6,null);this.b24_1=this.b24_1+1|0}return i},bo.$metadata$=st("AbstractJsonLexer"),jo.$metadata$=nt("CharMappings"),qo.prototype.j2c=function(){return this.b2d_1},qo.prototype.k2c=function(t){return t<this.b2d_1.length?t:-1},qo.prototype.k28=function(){for(var t=this.b2d_1;-1!==this.n2c()&&this.n2c()<t.length;){var e=this.n2c();this.m2c(e+1|0);var n=xo(lt(t,e));if(n!==j)return n}return N},qo.prototype.t29=function(){var t=this.s2c();if(t===this.b2d_1.length||-1===t)return!1;if(pt(new ct(lt(this.b2d_1,t)),new ct(ht(44)))){var e=this;return e.m2c(e.n2c()+1|0),e.n2c(),!0}return!1},qo.prototype.g28=function(){var t=this.n2c();if(-1===t)return!1;for(;t<this.b2d_1.length;){var e=lt(this.b2d_1,t);if(!(pt(new ct(e),new ct(ht(32)))||pt(new ct(e),new ct(ht(10)))||pt(new ct(e),new ct(ht(13)))||pt(new ct(e),new ct(ht(9)))))return this.m2c(t),this.o2c(e);t=t+1|0}return this.m2c(t),!1},qo.prototype.s2c=function(){var t=this.n2c();if(-1===t)return t;t:for(;t<this.b2d_1.length;){var e=lt(this.b2d_1,t);if(!(pt(new ct(e),new ct(ht(32)))||pt(new ct(e),new ct(ht(10)))||pt(new ct(e),new ct(ht(13)))||pt(new ct(e),new ct(ht(9)))))break t;t=t+1|0}return this.m2c(t),t},qo.prototype.s29=function(t){-1===this.n2c()&&this.q2c(t);for(var e=this.b2d_1;this.n2c()<e.length;){var n=this.n2c();this.m2c(n+1|0);var i=lt(e,n);if(!(pt(new ct(i),new ct(ht(32)))||pt(new ct(i),new ct(ht(10)))||pt(new ct(i),new ct(ht(13)))||pt(new ct(i),new ct(ht(9))))){if(pt(new ct(i),new ct(t)))return rt();this.q2c(t)}}this.q2c(t)},qo.prototype.y29=function(){this.s29($o());var t=this.n2c(),e=ht(34),n=Xn(this.b2d_1,e,t,!1,4,null);-1===n&&this.p2c(Co());var i=t;if(i<n)do{var r=i;if(i=i+1|0,pt(new ct(lt(this.b2d_1,r)),new ct(B)))return this.consumeString2(this.b2d_1,this.n2c(),r)}while(i<n);return this.m2c(n+1|0),this.b2d_1.substring(t,n)},qo.$metadata$=st("StringJsonLexer",void 0,void 0,void 0,void 0,bo.prototype),Fo.prototype.m1y=function(t){this.t23_1.lg(t)},Fo.prototype.l1x=function(t){this.t23_1.s5(t)},Fo.prototype.w26=function(t){this.t23_1.mg(t)},Fo.prototype.f27=function(t){Lr(this.t23_1,t)},Fo.prototype.toString=function(){return this.t23_1.toString()},Fo.prototype.yt=function(){},Fo.$metadata$=st("JsonStringBuilder"),Ui.prototype.q1n=Jt,Ui.prototype.a1o=Qt,Ui.prototype.y1n=te,Er.prototype.a23=Xe,Or.prototype.z1p=nn,Or.prototype.b1q=an,Or.prototype.d1q=un,zr.prototype.m1p=mn,zr.prototype.z1p=nn,zr.prototype.b1q=an,zr.prototype.d1q=un,Dr.prototype.e1r=gn,Dr.prototype.f1r=wn,Dr.prototype.d1r=bn,Hr.prototype.z1p=nn,Hr.prototype.b1q=an,Hr.prototype.d1q=un,Gr.prototype.z1p=nn,Gr.prototype.b1q=an,Gr.prototype.d1q=un,Zr.prototype.z1p=nn,Zr.prototype.b1q=an,Zr.prototype.d1q=un,Kr.prototype.z1p=nn,Kr.prototype.b1q=an,Kr.prototype.d1q=un,T=ht(58),I=ht(0),O=ht(44),z="null",M=ht(123),D=ht(125),R=ht(91),P=ht(93),j=3,N=10,L=ht(34),q=1,B=ht(92),F=4,U="Use 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",H=5,V=6,Y=7,W=8,G=9,Z=0,K="Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.",J="It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'",Q="Use 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.",t.$_$=t.$_$||{},t.$_$.a=function(t,e,n,i){return 0!=(1&n)&&(t=ei()),function(t,e){var n=new ii(t);return e(n),new ri(n.i1s(),n.s24_1)}(t,e)},t})?i.apply(e,r):i)||(t.exports=o)},7646:function(t,e,n){var i,r,o;r=[e,n(8744),n(2868)],void 0===(o="function"==typeof(i=function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N,L,q,B,F,U,H,V,Y,W,G,Z,K,X,J,Q,tt,et,nt,it,rt,ot,st,at,ut,lt,ct,ht,pt,_t,ft,dt=Math.imul,mt=e.$_$.qd,yt=e.$_$.na,vt=e.$_$.p4,gt=e.$_$.c9,wt=e.$_$.y8,bt=e.$_$.x8,xt=e.$_$.z8,$t=e.$_$.w8,Ct=e.$_$.r9,Et=e.$_$.z3,At=e.$_$.y3,kt=e.$_$.t9,St=e.$_$.p8,Tt=e.$_$.m2,It=n.$_$.d,Ot=e.$_$.q8,zt=e.$_$.o8,Mt=e.$_$.d9,Dt=e.$_$.ca,Rt=e.$_$.la,Pt=e.$_$.se,jt=e.$_$.bb,Nt=n.$_$.c,Lt=e.$_$.xa,qt=e.$_$.aa,Bt=n.$_$.a,Ft=e.$_$.r1,Ut=e.$_$.j3,Ht=e.$_$.l3,Vt=e.$_$.k4,Yt=e.$_$.i3,Wt=e.$_$.de,Gt=e.$_$.s8,Zt=e.$_$.r8,Kt=e.$_$.t8,Xt=e.$_$.u8,Jt=e.$_$.v8,Qt=e.$_$.b9,te=e.$_$.a9,ee=e.$_$.v2,ne=e.$_$.z9,ie=e.$_$.t1,re=e.$_$.hd,oe=e.$_$.h9,se=e.$_$.le,ae=e.$_$.md,ue=e.$_$.j4,le=e.$_$.pd,ce=e.$_$.u2,he=e.$_$.l9,pe=e.$_$.id,_e=e.$_$.a2,fe=e.$_$.w1,de=e.$_$.i9,me=e.$_$.re,ye=e.$_$.c1,ve=e.$_$.n8,ge=e.$_$.y4,we=e.$_$.sb,be=e.$_$.o2,xe=e.$_$.tb,$e=(e.$_$.f9,e.$_$.yd),Ce=e.$_$.y2,Ee=e.$_$.v9,Ae=e.$_$.p6,ke=e.$_$.h2,Se=e.$_$.k,Te=e.$_$.ee,Ie=e.$_$.nd,Oe=e.$_$.s2,ze=e.$_$.ld,Me=e.$_$.l2,De=e.$_$.e4,Re=e.$_$.za,Pe=e.$_$.j9,je=e.$_$.h6,Ne=e.$_$.qe,Le=e.$_$.u5,qe=e.$_$.rc,Be=e.$_$.c,Fe=e.$_$.s1,Ue=e.$_$.hb,He=e.$_$.i1,Ve=e.$_$.x2;function Ye(t,e,n){return 0!=(1&e)&&(t=null),null==n?this.mo(t):n(t)}function We(t,e,n,i,r){return 0!=(1&i)&&(t=!1),0!=(2&i)&&(e=!0),null==r?this.io(t,e,n):r(t,e,n)}function Ge(t,e,n,i){return 0!=(2&n)&&(e=null),null==i?this.mq(t,e):i(t,e)}function Ze(t,e,n){return 0!=(1&e)&&(t=null),null==n?this.rq(t):n(t)}function Ke(t,e,n){return 0!=(1&e)&&(t=null),null==n?this.t11(t):n(t)}function Xe(t,e,n){return 0!=(1&e)&&(t=null),null==n?this.mo(t):n(t)}function Je(t,e,n){lr.call(this,n),e&&this.cn(t.u4(gi())),this.fn_1=t.b5(this)}function Qe(t,e){Je.call(this,t,!0,e)}function tn(t,e){Qe.call(this,t,!1),this.np_1=St(e,this,this)}function en(t,e){na.call(this,t,e),this.fp_1=It(0)}function nn(t,e){Mt.call(this,e),this.cq_1=t}function rn(t,e){Je.call(this,t,!0,e)}function on(t,e){rn.call(this,t,!1),this.kq_1=St(e,this,this)}function sn(){}function an(t,e){var n;return n=new un(e),t.tq(n)}function un(t){An.call(this),this.wq_1=t}function ln(t,e){var n;return n=new hn(e),t.tq(n)}function cn(t){if(!(t instanceof Fs))return new En(t,Hs());var e=t.fr(),n=null==e?null:e.mr()?e:null;return null==n?new En(t,et):n}function hn(t){zn.call(this),this.nr_1=t}function pn(){return o||(o=!0,i=new ia("RESUME_TOKEN")),i}function _n(t){var e;if(2===t.ur()){var n=t.hr_1;e=(n instanceof Fs?n:mt()).sr()}else e=!1;return e}function fn(t,e,n){var i;try{i=Aa(e,n)}catch(e){if(!(e instanceof Error))throw e;i=Gn(t.i4(),new di("Exception in invokeOnCancellation handler for "+t,e))}return i}function dn(t){var e=t.i4().u4(gi());if(null==e)return null;var n,i=e;n=new wr(t);var r=i.jo(!0,!1,n,2,null);return t.lr_1=r,r}function mn(t){var e=t.hr_1,n=e instanceof Fs?e:null,i=null==n?null:n.wr(t);if(null==i)return vt();var r=i;t.xr(),t.rq(r)}function yn(t,e,n){var i="It's prohibited to register multiple handlers, tried to register "+e+", already has "+Pt(n);throw Tt(jt(i))}function vn(t,e){if(function(t){for(var e=t.jr_1;;)switch(e.qm_1){case 0:if(t.jr_1.atomicfu$compareAndSet(0,2))return!0;break;case 1:return!1;default:throw Tt("Already resumed")}}(t))return vt();!function(t,e){var n=t.is(),i=4===e;if(!i&&n instanceof Fs&&Ys(e)===Ys(t.tr_1)){var r=n.ar_1,o=n.i4();r.wt(o)?r.xt(o,t):function(t){var e=fi().xu();if(e.qu())e.ou(t);else{e.tu(!0);try{for(Gs(t,t.is(),!0);e.ju(););}catch(e){if(!(e instanceof Error))throw e;t.ws(e,null)}finally{e.uu(!0)}}}(t)}else Gs(t,n,i)}(t,e)}function gn(t,e,n,i,r,o){return n instanceof Ln?n:(Ys(i)||null!=o)&&(null!=r||e instanceof An&&!(e instanceof zn)||null!=o)?In(n,e instanceof An?e:null,r,o,null,16,null):n}function wn(t,e,n,i){for(var r=t.kr_1;;)t:{var o=r.pm_1,s=o;if(null!=s&&Rt(s,Tn)){var a=gn(0,o,e,n,i,null);if(!t.kr_1.atomicfu$compareAndSet(o,a)){vt();break t}return Cn(t),vn(t,n),vt()}if(s instanceof qn&&o.cs()){var u=i;return null==u||t.yr(u,o.s1()),vt()}$n(0,e)}}function bn(t,e,n,i,r,o){return 0!=(8&r)&&(i=null),wn(t,e,n,i)}function xn(t,e,n,i){for(var r=t.kr_1;;)t:{var o=r.pm_1,s=o;if(null!=s&&Rt(s,Tn)){var a=gn(0,o,e,t.ur(),i,n);if(!t.kr_1.atomicfu$compareAndSet(o,a)){vt();break t}return Cn(t),pn()}return s instanceof On&&null!=n&&o.gs_1===n?pn():null}}function $n(t,e){var n="Already resumed, but proposed with update "+Pt(e);throw Tt(jt(n))}function Cn(t){_n(t)||t.xr()}function En(t,e){Vs.call(this,e),this.hr_1=t,this.ir_1=this.hr_1.i4(),this.jr_1=It(0),this.kr_1=Nt(Sn()),this.lr_1=null}function An(){ka.call(this)}function kn(){r=this}function Sn(){return null==r&&new kn,r}function Tn(){}function In(t,e,n,i,r,o,s){return function(t,e,n,i,r,o,s,a){return 0!=(2&o)&&(e=null),0!=(4&o)&&(n=null),0!=(8&o)&&(i=null),0!=(16&o)&&(r=null),On.call(a,t,e,n,i,r),a}(t,e,n,i,r,o,0,Object.create(On.prototype))}function On(t,e,n,i,r){this.ds_1=t,this.es_1=e,this.fs_1=n,this.gs_1=i,this.hs_1=r}function zn(){An.call(this)}function Mn(t){An.call(this),this.bt_1=t}function Dn(){}function Rn(t,e){Mt.call(this,e),this.mt_1=t}function Pn(t){lr.call(this,!0),this.cn(t)}function jn(){}function Nn(t,e,n,i){return function(t,e,n,i,r){return 0!=(2&n)&&(e=!1),Ln.call(r,t,e),r}(t,e,n,0,Object.create(Ln.prototype))}function Ln(t,e){this.mn_1=t,this.nn_1=Bt(e)}function qn(t,e,n){var i=e;Ln.call(this,null==i?Ft("Continuation "+t+" was cancelled normally"):i,n),this.bs_1=Bt(!1)}function Bn(t,e){var n,i=Ut(t);if(null==i){var r=Ht(t),o=null==r||yt(r)?r:mt();n=null!=e?new Un(o,e):o}else n=Nn(i,!1,2);return n}function Fn(t,e,n,i){return 0!=(1&n)&&(e=null),Bn(t,e)}function Un(t,e){this.tt_1=t,this.ut_1=e}function Hn(t,e){var n;if(t instanceof Ln){Vt();var i=ru(t.mn_1);n=Yt(Wt(i))}else{Vt();var r=null==t||yt(t)?t:mt();n=Yt(r)}return n}function Vn(){s=this;var t=At();Gt.call(this,t,(function(t){return t instanceof Wn?t:null}))}function Yn(){return null==s&&new Vn,s}function Wn(){Yn(),Zt.call(this,At())}function Gn(t,e){try{var n=t.u4(Kn());if(null!=n)return n.zt(t,e),vt()}catch(t){if(t instanceof Error)return za(0,(i=e)===(r=t)?i:ee("Exception while trying to handle coroutine exception",r)),vt();throw t}var i,r;za(0,e)}function Zn(){a=this}function Kn(){return null==a&&new Zn,a}function Xn(){}function Jn(t){this.bu_1=t,Zt.call(this,Kn())}function Qn(){u=this}function ti(){return null==u&&new Qn,u}function ei(t){ti(),Zt.call(this,ti()),this.du_1=t}function ni(){}function ii(t,e){var n=t.gn().u4(gi());if(null==n)throw Tt(jt("Scope cannot be cancelled because it does not have a job: "+t));n.mo(e)}function ri(){l=this}function oi(){if(_)return vt();_=!0,c=new si("DEFAULT",0),h=new si("LAZY",1),new si("ATOMIC",2),p=new si("UNDISPATCHED",3)}function si(t,e){re.call(this,t,e)}function ai(){return oi(),c}function ui(){}function li(){}function ci(){}function hi(t,e){return e?new ae(0,1):new ae(1,0)}function pi(){Wn.call(this),this.gu_1=new ae(0,0),this.hu_1=!1,this.iu_1=null}function _i(){f=this,this.wu_1=new ou}function fi(){return null==f&&new _i,f}function di(t,e){ce(t,e,this),he(this,di)}function mi(t,e){_e(t,e,this),he(this,mi)}function yi(){}function vi(){d=this}function gi(){return null==d&&new vi,d}function wi(){}function bi(){}function xi(){}function $i(){}function Ci(){m=this}function Ei(){return null==m&&new Ci,m}function Ai(t){var e=t.u4(gi());null==e||ki(e)}function ki(t){if(!t.hn())throw t.eo()}function Si(t){return new br(t)}function Ti(t,e,n){return 0!=(1&e)&&(t=null),Si(t)}function Ii(t,e,n){return t.mo(ie(e,n))}function Oi(){return xr(),y}function zi(){return xr(),v}function Mi(){return xr(),g}function Di(){return xr(),w}function Ri(){return xr(),b}function Pi(){return xr(),$}function ji(t){this.bv_1=t}function Ni(){}function Li(){eu.call(this)}function qi(){Ea.call(this)}function Bi(t,e){t.dw_1.pm_1=e}function Fi(t){return t.dw_1.pm_1}function Ui(t){return ye(4)}function Hi(t,e,n){var i,r=n instanceof Ln?n:null,o=null==r?null:r.mn_1;i=e.ew();var s=e.fw(o),a=function(t,e,n){if(n.m()){if(e.ew()){var i=null;return new qa(null==i?t.kn():i,null,t)}return null}var r;t:{for(var o=n.d();o.e();){var s=o.f();if(!(s instanceof ve)){r=s;break t}}r=null}if(null!=r)return r;var a=n.l(0);if(a instanceof Ar){var u;t:{for(var l=n.d();l.e();){var c=l.f();if(c!==a&&c instanceof Ar){u=c;break t}}u=null}if(null!=u)return u}return a}(t,e,s);null!=a&&function(t,e,n){if(n.g()<=1)return vt();for(var i=(a=n.g(),He(a)),r=e,o=n.d();o.e();){var s=o.f();!(s===e||s===r||s instanceof ve)&&i.b(s)}var a}(0,a,s);var u=a,l=null==u||u===o?n:Nn(u,!1,2);return null!=u&&(Wi(t,u)||t.yo(u))&&(l instanceof Ln?l:mt()).ts(),i||t.vo(u),t.ln(l),t.an_1.atomicfu$compareAndSet(e,cr(l)),Vi(t,e,l),l}function Vi(t,e,n){var i=t.zn();null==i||(i.yq(),t.yn(Ei()));var r=n instanceof Ln?n:null,o=null==r?null:r.mn_1;if(e instanceof qi)try{e.invoke(o)}catch(n){if(!(n instanceof Error))throw n;t.sn(new di("Exception in completion handler "+e+" for "+t,n))}else{var s=e.cv();null==s||function(t,e,n){for(var i=null,r=t.hv();!kt(r,t);){if(r instanceof qi){var o=r;try{o.invoke(n)}catch(t){if(!(t instanceof Error))throw t;null==(null==i?null:i)&&(i=new di("Exception in completion handler "+o+" for "+e,t),vt())}}r=r.or_1}var s=i;null==s||e.sn(s),vt()}(s,t,o)}}function Yi(t,e,n){t.vo(n);for(var i=null,r=e.hv();!kt(r,e);){if(r instanceof hr){var o=r;try{o.invoke(n)}catch(e){if(!(e instanceof Error))throw e;null==(null==i?null:i)&&(i=new di("Exception in completion handler "+o+" for "+t,e),vt())}}r=r.or_1}var s=i;null==s||t.sn(s),Wi(t,n)}function Wi(t,e){if(t.wo())return!0;var n=e instanceof ve,i=t.zn();return null===i||i===Ei()?n:!!i.qo(e)||n}function Gi(t,e){var n=e;return n instanceof ji?e.bv_1?0:t.an_1.atomicfu$compareAndSet(e,Pi())?(t.do(),1):-1:n instanceof pr?t.an_1.atomicfu$compareAndSet(e,e.gw_1)?(t.do(),1):-1:0}function Zi(t,e,n,i){var r;return t.ao()===e?(n.ov(i),r=!0):r=!1,r}function Ki(t,e){var n=new Li,i=e.bv_1?n:new pr(n);t.an_1.atomicfu$compareAndSet(e,i)}function Xi(t,e){e.zv(new Li);var n=e.or_1;t.an_1.atomicfu$compareAndSet(e,n)}function Ji(t,e){var n;if(null==e||e instanceof Error){var i,r=e;if(null==r){i=new qa(t.kn(),null,t)}else i=r;n=i}else n=(null!=e&&Rt(e,xi)?e:mt()).to();return n}function Qi(t,e){var n,i=e.cv();if(null==i){var r,o=e;if(o instanceof ji)r=new Li;else{if(!(o instanceof qi))throw Tt(jt("State should have list: "+e));Xi(t,e),r=null}n=r}else n=i;return n}function tr(t,e,n){var i=Qi(t,e);if(null==i)return!1;var r=i,o=new or(r,!1,n);return!!t.an_1.atomicfu$compareAndSet(e,o)&&(Yi(t,r,n),!0)}function er(t,e,n){return null!=e&&Rt(e,Ni)?!(e instanceof ji||e instanceof qi)||e instanceof _r||n instanceof Ln?function(t,e,n){var i=Qi(t,e);if(null==i)return Mi();var r=i,o=e instanceof or?e:null,s=null==o?new or(r,!1,null):o,a=null;if(s.hw())return Oi();if(s.lw(!0),s!==e&&!t.an_1.atomicfu$compareAndSet(e,s))return Mi();var u=s.ew(),l=n instanceof Ln?n:null;null==l||s.jw(l.mn_1);var c=s.kw();a=u?null:c,vt(),null==a||Yi(t,r,a);var h=function(t,e){var n,i=e instanceof _r?e:null;if(null==i){var r=e.cv();n=null==r?null:ir(r)}else n=i;return n}(0,e);return null!=h&&nr(t,s,h,n)?zi():Hi(t,s,n)}(t,e,n):function(t,e,n){return!!t.an_1.atomicfu$compareAndSet(e,cr(n))&&(t.vo(null),t.ln(n),Vi(t,e,n),!0)}(t,e,n)?n:Mi():Oi()}function nr(t,e,n,i){for(var r=t,o=e,s=n,a=i;;){var u,l=r,c=o,h=s,p=a;if(u=new sr(l,c,h,p),h.qw_1.jo(!1,!1,u,1,null)!==Ei())return!0;var _=ir(h);if(null==_)return!1;r=l,o=c,s=_,a=p}}function ir(t,e){for(var n=t;n.qr_1;)n=n.pr_1;for(;;)if(!(n=n.or_1).qr_1){if(n instanceof _r)return n;if(n instanceof Li)return null}}function rr(t,e){var n=e;return n instanceof or?e.ew()?"Cancelling":e.hw()?"Completing":"Active":null!=n&&Rt(n,Ni)?e.hn()?"Active":"New":n instanceof Ln?"Cancelled":"Completed"}function or(t,e,n){this.aw_1=t,this.bw_1=Bt(e),this.cw_1=Nt(n),this.dw_1=Nt(null)}function sr(t,e,n,i){qi.call(this),this.ww_1=t,this.xw_1=e,this.yw_1=n,this.zw_1=i}function ar(t,e){En.call(this,t,Hs()),this.gx_1=e}function ur(t,e){this.px_1=t,Mt.call(this,e)}function lr(t){this.an_1=Nt(t?Pi():(xr(),x)),this.bn_1=Nt(null)}function cr(t){return xr(),null!=t&&Rt(t,Ni)?new gr(t):t}function hr(){qi.call(this)}function pr(t){this.gw_1=t}function _r(t){hr.call(this),this.qw_1=t}function fr(t){hr.call(this),this.dy_1=t,this.ey_1=It(0)}function dr(t){qi.call(this),this.jy_1=t}function mr(t){qi.call(this),this.oy_1=t}function yr(t){xr();var e=t instanceof gr?t:null,n=null==e?null:e.py_1;return null==n?t:n}function vr(t){qi.call(this),this.uy_1=t}function gr(t){this.py_1=t}function wr(t){hr.call(this),this.zy_1=t}function br(t){lr.call(this,!0),this.cn(t),this.cz_1=function(t){var e=t.zn(),n=e instanceof _r?e:null,i=null==n?null:n.yv();if(null==i)return!1;for(var r=i;;){if(r.xo())return!0;var o=r.zn(),s=o instanceof _r?o:null,a=null==s?null:s.yv();if(null==a)return!1;r=a}}(this)}function xr(){C||(C=!0,y=new ia("COMPLETING_ALREADY"),v=new ia("COMPLETING_WAITING_CHILDREN"),g=new ia("COMPLETING_RETRY"),w=new ia("TOO_LATE_TO_CANCEL"),b=new ia("SEALED"),x=new ji(!1),$=new ji(!0))}function $r(){Wn.call(this)}function Cr(t){return new Er(t)}function Er(t){br.call(this,t)}function Ar(){}function kr(){E=this,Wn.call(this)}function Sr(){A=this}function Tr(){return Kr(),k}function Ir(){return Kr(),S}function Or(){return Kr(),T}function zr(){return Kr(),I}function Mr(){return Kr(),O}function Dr(t,e){if(e instanceof Gr){if(null!=e.uz_1)throw e.vz();return!1}return!0}function Rr(t,e){var n=t.g10(e);return n&&t.h10(),n}function Pr(t,e,n){var i;return i=new jr(t,n),e.tq(i)}function jr(t,e){this.j10_1=t,zn.call(this),this.i10_1=e}function Nr(t){this.wz_1=t,this.xz_1=zr()}function Lr(t,e){Zr.call(this),this.r10_1=t,this.s10_1=e}function qr(t){Vr.call(this,t)}function Br(t,e){return Fr(t,e),e.e12()}function Fr(t,e){var n=Zs(null,1);t:for(;;){var i,r=(i=e.pr_1)instanceof Zr?i:null;if(null==r)break t;var o=r;o.rr()?n=Ks(n,o):o.tv()}var s=n;if(null!=s)if(s instanceof ge){var a=s instanceof ge?s:mt(),u=a.g()-1|0;if(0<=u)do{var l=u;u=u+-1|0,a.l(l).a11(e)}while(0<=u)}else{var c=s;(null==c||yt(c)?c:mt()).a11(e)}else vt();t.c12(e)}function Ur(t){var e=t.d10_1.or_1;if(e===t.d10_1)return"EmptyQueue";var n=e,i=n instanceof Gr?jt(e):n instanceof Zr?"ReceiveQueued":n instanceof Yr?"SendQueued":"UNEXPECTED:"+e,r=t.d10_1.pr_1;return r!==e&&(i=i+",queueSize="+function(t){for(var e=0,n=t.d10_1,i=n.hv();!kt(i,n);)i instanceof nu&&(e=e+1|0),i=i.or_1;return e}(t),r instanceof Gr&&(i=i+",closedForSend="+r)),i}function Hr(t){Yr.call(this),this.i12_1=t}function Vr(t){this.c10_1=t,this.d10_1=new eu,this.e10_1=Nt(null)}function Yr(){nu.call(this)}function Wr(){}function Gr(t){Yr.call(this),this.uz_1=t}function Zr(){nu.call(this)}function Kr(){z||(z=!0,k=new ia("EMPTY"),S=new ia("OFFER_SUCCESS"),T=new ia("OFFER_FAILED"),I=new ia("POLL_FAILED"),new ia("ENQUEUE_FAILED"),O=new ia("ON_CLOSE_HANDLER_INVOKED"))}function Xr(t,e,n){e<t.t12_1?(function(t,e){if(e>=t.w12_1.length){var n=dt(t.w12_1.length,2),i=t.t12_1,r=Math.min(n,i),o=Ee(Array(r),null),s=0;if(s<e)do{var a=s;s=s+1|0,o[a]=t.w12_1[(t.x12_1+a|0)%t.w12_1.length|0]}while(s<e);Ae(o,Tr(),e,r),t.w12_1=o,t.x12_1=0}}(t,e),t.w12_1[(t.x12_1+e|0)%t.w12_1.length|0]=n):(t.w12_1[t.x12_1%t.w12_1.length|0]=null,t.w12_1[(t.x12_1+e|0)%t.w12_1.length|0]=n,t.x12_1=(t.x12_1+1|0)%t.w12_1.length|0)}function Jr(t,e,n){var i;if(qr.call(this,n),this.t12_1=t,this.u12_1=e,!(this.t12_1>=1))throw i="ArrayChannel capacity must be at least 1, but "+this.t12_1+" was specified",ke(jt(i));this.v12_1=new tu;var r,o,s=this.t12_1;o=Math.min(s,8);var a=Ee(Array(o),null),u=Tr();Se(a,u,0,0,6,null),r=a,this.w12_1=r,this.x12_1=0,this.y12_1=It(0)}function Qr(){if(R)return vt();R=!0,M=new to("SUSPEND",0),D=new to("DROP_OLDEST",1),new to("DROP_LATEST",2)}function to(t,e){re.call(this,t,e)}function eo(){return Qr(),M}function no(){var t,e;P=this,this.z12_1=2147483647,this.a13_1=0,this.b13_1=-1,this.c13_1=-2,this.d13_1=-3,this.e13_1="kotlinx.coroutines.channels.defaultBuffer",this.f13_1=(t=1,e=2147483646,function(t,e,n,i){var r=null;if(null==r)return e;var o=r,s=qe(o);if(null==s)throw Tt(jt("System property '"+t+"' has unrecognized value '"+o+"'"));var a=s;if(!(n.j1(a)<=0&&a.j1(i)<=0)){var u="System property '"+t+"' should be in range "+jt(n)+".."+jt(i)+", but is '"+jt(a)+"'";throw Tt(jt(u))}return a}("kotlinx.coroutines.channels.defaultBuffer",Re(64),Re(t),Re(e)).m6())}function io(){return null==P&&new no,P}function ro(){}function oo(){}function so(){}function ao(){}function uo(t){ao.call(this),this.g13_1=t}function lo(){j=this,this.l12_1=new ao}function co(){return null==j&&new lo,j}function ho(){}function po(t){Oe(t,this),he(this,po)}function _o(t,e,n){var i,r=t;if(io(),0===r)i=e.equals(eo())?new wo(n):new Jr(1,e,n);else if(io(),-1===r){if(!e.equals(eo()))throw ke(jt("CONFLATED capacity cannot be used with non-default onBufferOverflow"));i=new vo(n)}else io(),2147483647===r?i=new go(n):(io(),i=-2===r?new Jr(e.equals(eo())?io().f13_1:1,e,n):1===t&&e.equals((Qr(),D))?new vo(n):new Jr(t,e,n));return i}function fo(t){Me(t,this),he(this,fo)}function mo(){return N}function yo(t,e){var n,i=t.l13_1;if(i===Tr())n=null;else{var r,o=t.f10();r=null==o?null:function(t,e,n,i,r){return 0!=(2&i)&&(n=null),ta(t,e,n)}(o,null==i||yt(i)?i:mt(),null,2),n=r}var s=n;return t.l13_1=e,s}function vo(t){qr.call(this,t),this.k13_1=new tu,this.l13_1=Tr()}function go(t){qr.call(this,t)}function wo(t){qr.call(this,t)}function bo(t){Co.call(this),this.s13_1=t}function xo(){}function $o(t,e,n){Mt.call(this,n),this.d14_1=t,this.e14_1=e}function Co(){}function Eo(){}function Ao(){return Go(),L}function ko(){}function So(){}function To(t){var e=t.x14_1,n=t.w14_1;return e.j1(n)<=0?e:n}function Io(t){var e=To(t),n=t.y14_1;return e.w5(Re(n)).x5(t.w14_1).m6()}function Oo(t){return t.y14_1+t.z14_1|0}function zo(t){var e=To(t),n=t.y14_1;return e.w5(Re(n))}function Mo(t,e){if(0===t.e15())return function(t,e){if(0===t.s14_1)return!0;Ro(t,e);var n=t,i=n.y14_1;n.y14_1=i+1|0,t.y14_1>t.s14_1&&Do(t);var r,o=t,s=To(t),a=t.y14_1;return r=s.w5(Re(a)),o.x14_1=r,!0}(t,e);if(t.y14_1>=t.t14_1&&t.x14_1.j1(t.w14_1)<=0)switch(t.u14_1.i5()){case 0:return!1;case 2:return!0}Ro(t,e);var n,i=t,r=i.y14_1;return i.y14_1=r+1|0,t.y14_1>t.t14_1&&Do(t),Io(t)>t.s14_1&&(n=t.w14_1.w5(new ae(1,0)),jo(t,n,t.x14_1,zo(t),function(t){var e=To(t),n=t.y14_1,i=e.w5(Re(n)),r=t.z14_1;return i.w5(Re(r))}(t))),!0}function Do(t){Wo(Te(t.v14_1),To(t),null);var e=t,n=e.y14_1;e.y14_1=n-1|0;var i=To(t).w5(new ae(1,0));t.w14_1.j1(i)<0&&(t.w14_1=i),t.x14_1.j1(i)<0&&function(t,e){if(0!==t.b15_1){var n=t.a15_1;if(null==n);else for(var i=Pe(n);i.e();){var r=i.f();null!=r&&r.f15_1.j1(new ae(0,0))>=0&&r.f15_1.j1(e)<0&&(r.f15_1=e)}}else vt();t.x14_1=e}(t,i)}function Ro(t,e){var n=Oo(t),i=t.v14_1;Wo(null==i?Po(t,null,0,2):n>=i.length?Po(t,i,n,dt(i.length,2)):i,To(t).w5(Re(n)),e)}function Po(t,e,n,i){if(!(i>0))throw Tt(jt("Buffer size overflow"));var r=Ee(Array(i),null);t.v14_1=r;var o=r;if(null==e)return o;var s=To(t),a=0;if(a<n)do{var u=a;a=a+1|0,Wo(o,s.w5(Re(u)),Yo(e,s.w5(Re(u))))}while(a<n);return o}function jo(t,e,n,i,r){var o=n.j1(e)<=0?n:e,s=To(t),a=new ae(1,0);if(s.j1(o)<0)do{var u=s;s=s.w5(a),Wo(Te(t.v14_1),u,null)}while(s.j1(o)<0);t.w14_1=e,t.x14_1=n,t.y14_1=i.x5(o).m6(),t.z14_1=r.x5(i).m6()}function No(t){if(0===t.t14_1&&t.z14_1<=1)return vt();var e=Te(t.v14_1);t:for(;;){var n;if(t.z14_1>0){var i=To(t),r=Oo(t);n=Yo(e,i.w5(Re(r)).x5(new ae(1,0)))===Ao()}else n=!1;if(!n)break t;var o=t,s=o.z14_1;o.z14_1=s-1|0;var a=To(t),u=Oo(t);Wo(e,a.w5(Re(u)),null)}}function Lo(t,e){var n,i=rs(),r=qo(t,e);if(r.j1(new ae(0,0))<0)n=Ao();else{var o,s=e.f15_1,a=function(t,e){var n=Yo(Te(t.v14_1),e);return n instanceof Fo?n.j15_1:n}(t,r),u=e;o=r.w5(new ae(1,0)),u.f15_1=o,i=t.l15(s),n=a}for(var l=n,c=i,h=0,p=c.length;h<p;){var _=c[h];h=h+1|0;var f,d=_;null==d||(Vt(),f=Yt(vt()),d.g4(f))}return l}function qo(t,e){var n=e.f15_1;return n.j1(zo(t))<0?n:t.t14_1>0||n.j1(To(t))>0||0===t.z14_1?new ae(-1,-1):n}function Bo(t,e){var n=e,i=e.length;if(0!==t.b15_1){var r=t.a15_1;if(null==r);else for(var o=Pe(r);o.e();){var s=o.f();if(null!=s){var a=s.g15_1;if(null!=a){var u=a;if(qo(t,s).j1(new ae(0,0))<0)vt();else{if(i>=n.length){var l,c=n,h=dt(2,n.length);l=Math.max(2,h),n=je(c,l)}var p=i;i=p+1|0,n[p]=u,s.g15_1=null}}else vt()}}}else vt();return n}function Fo(t,e,n,i){this.h15_1=t,this.i15_1=e,this.j15_1=n,this.k15_1=i}function Uo(t,e,n){Mt.call(this,n),this.u15_1=t,this.v15_1=e}function Ho(t,e,n){os.call(this),this.s14_1=t,this.t14_1=e,this.u14_1=n,this.v14_1=null,this.w14_1=new ae(0,0),this.x14_1=new ae(0,0),this.y14_1=0,this.z14_1=0}function Vo(){ss.call(this),this.f15_1=new ae(-1,-1),this.g15_1=null}function Yo(t,e){return Go(),t[e.m6()&(t.length-1|0)]}function Wo(t,e,n){return Go(),t[e.m6()&(t.length-1|0)]=n}function Go(){q||(q=!0,L=new ia("NO_VALUE"))}function Zo(){return is(),B}function Ko(){return is(),F}function Xo(){}function Jo(){}function Qo(t,e,n){var i=0,r=t.k16(),o=t.z16_1.pm_1;if(null!=e&&!kt(o,e))return!1;if(kt(o,n))return!0;if(t.z16_1.pm_1=n,0!=(1&(i=t.a17_1)))return t.a17_1=i+2|0,!0;for(i=i+1|0,t.a17_1=i,r=t.k16(),vt();;){if(null==r);else for(var s=Pe(r);s.e();){var a=s.f();null==a||a.c17()}if(t.a17_1===i)return t.a17_1=i+1|0,!0;i=t.a17_1,r=t.k16(),vt()}}function ts(t,e,n){Mt.call(this,n),this.l17_1=t,this.m17_1=e}function es(t){os.call(this),this.z16_1=Nt(t),this.a17_1=0}function ns(){ss.call(this),this.b17_1=Nt(null)}function is(){U||(U=!0,B=new ia("NONE"),F=new ia("PENDING"))}function rs(){return V||(V=!0,t=Ee(Array(0),null),H=t),H;var t}function os(){this.a15_1=null,this.b15_1=0,this.c15_1=0,this.d15_1=null}function ss(){}function as(){}function us(){return W||(W=!0,Y=new ia("NULL"),new ia("UNINITIALIZED"),new ia("DONE")),Y}function ls(t,e){if(e.a5(0,(i=t,function(t,e){var n=e.a1(),r=i.i14_1.u4(n);if(n!==gi())return e!==r?De().d1_1:t+1|0;var o=null==r||Rt(r,wi)?r:mt(),s=function(t,e){for(var n=t,i=e;;){var r=i;if(null===n)return null;if(n===r)return n;if(!(n instanceof na))return n;n=n.tp(),i=r}}(Rt(e,wi)?e:mt(),o);if(s!==o)throw Tt(jt("Flow invariant is violated:\n\t\tEmission from another coroutine is detected.\n\t\tChild of "+s+", expected child of "+o+".\n\t\tFlowCollector is not thread-safe and concurrent emissions are prohibited.\n\t\tTo mitigate this restriction please use 'channelFlow' builder instead of 'flow'"));return null==o?t:t+1|0}))!==t.j14_1){var n="Flow invariant is violated:\n\t\tFlow was collected in "+t.i14_1+",\n\t\tbut emission happened in "+e+".\n\t\tPlease refer to 'flow' documentation or use 'flowOn' instead";throw Tt(jt(n))}var i}function cs(t){this.k18_1=t}function hs(){}function ps(){}function _s(t){this.m18_1=t}function fs(t,e,n){this.v18_1=t,this.w18_1=e,Mt.call(this,n)}function ds(t,e,n){var i=new fs(t,e,n),r=function(t,e){return i.y18(t,e)};return r.$arity=1,r}function ms(t,e,n){Mt.call(this,n),this.i19_1=t,this.j19_1=e}function ys(t,e){this.k19_1=t,this.l19_1=e}function vs(t,e){Mt.call(this,e),this.v19_1=t}function gs(){}function ws(t,e,n){Mt.call(this,n),this.g1a_1=t,this.h1a_1=e}function bs(t,e){this.i1a_1=e,this.j1a_1=t}function xs(t,e,n){Mt.call(this,n),this.s1a_1=t,this.t1a_1=e}function $s(t,e){this.u1a_1=e,this.v1a_1=t}function Cs(t){this.w1a_1=t}function Es(t,e,n){this.f1b_1=t,this.g1b_1=e,Mt.call(this,n)}function As(t,e,n){var i=new Es(t,e,n),r=function(t,e){return i.y18(t,e)};return r.$arity=1,r}function ks(t,e,n){Mt.call(this,n),this.q1b_1=t,this.r1b_1=e}function Ss(t,e){this.s1b_1=t,this.t1b_1=e}function Ts(t){this.u1b_1=t}function Is(t,e,n){this.d1c_1=t,this.e1c_1=e,Mt.call(this,n)}function Os(t,e,n){var i=new Is(t,e,n),r=function(t,e){return i.y18(t,e)};return r.$arity=1,r}function zs(t,e,n){Mt.call(this,n),this.p1c_1=t,this.q1c_1=e}function Ms(t,e){this.r1c_1=t,this.s1c_1=e}function Ds(){var t;t=Ee(Array(16),null),this.ku_1=t,this.lu_1=0,this.mu_1=0}function Rs(){return Z||(Z=!0,G=new ia("NO_DECISION"),new ia("RETRY_ATOMIC")),G}function Ps(){}function js(){Ps.call(this),this.t1c_1=Nt(Rs())}function Ns(){return Us(),K}function Ls(){return Us(),X}function qs(t,e,n){var i;if(Us(),t instanceof Fs){var r,o=t,s=Bn(e,n);if(o.ar_1.wt(o.i4()))o.cr_1=s,o.x1c(Hs()),r=o.ar_1.xt(o.i4(),o);else{var a=Hs(),u=fi().xu();if(u.qu())o.cr_1=s,o.x1c(a),u.ou(o);else{u.tu(!0);try{var l,c=o.i4().u4(gi());if(null==c||c.hn())l=!1;else{var h,p=c.eo();o.ls(s,p),Vt(),h=Yt(Wt(p)),o.g4(h),l=!0}for(l||(o.br_1,o.dr_1,o.br_1.g4(e));u.ju(););}catch(t){if(!(t instanceof Error))throw t;o.ws(t,null)}finally{u.uu(!0)}}r=vt()}i=r}else i=t.g4(e);return i}function Bs(t,e,n,i,r){return 0!=(2&i)&&(n=null),qs(t,e,n)}function Fs(t,e){Vs.call(this,tt),this.ar_1=t,this.br_1=e,this.cr_1=Ns(),this.dr_1=(this.i4(),0),this.er_1=Nt(null)}function Us(){J||(J=!0,K=new ia("UNDEFINED"),X=new ia("REUSABLE_CLAIMED"))}function Hs(){return Q}function Vs(t){Ja.call(this),this.tr_1=t}function Ys(t){return 1===t||2===t}function Ws(){return it}function Gs(t,e,n){var i,r=t.ks(),o=t.us(r);if(null!=o)Vt(),i=Yt(Wt(o));else{Vt();var s=t.ss(r);i=Yt(s)}var a=i;if(n){var u=e instanceof Fs?e:mt();u.br_1,u.dr_1,u.br_1.g4(a)}else e.g4(a)}function Zs(t,e,n){return 0!=(1&e)&&(t=null),t}function Ks(t,e){var n;if(null==t)n=e;else if(t instanceof ge){(t instanceof ge?t:mt()).b(e),n=t}else{var i=ye(4),r=t;i.b(null==r||yt(r)?r:mt()),i.b(e),n=i}return n}function Xs(t){this.d1d_1=t}function Js(t,e,n){return i=t,r=e,o=n,function(t){return function(t,e,n){var i=ta(t,e,null);null==i||Gn(n,i)}(i,r,o),vt()};var i,r,o}function Qs(t,e){ce(t,e,this),he(this,Qs)}function ta(t,e,n){try{t(e)}catch(t){if(!(t instanceof Error))throw t;if(null==n||n.cause===t)return new Qs("Exception in undelivered element handler for "+e,t)}return n}function ea(t){this.e1d_1=t}function na(t,e){Je.call(this,t,!0,!0),this.rp_1=e}function ia(t){this.f1d_1=t}function ra(t,e,n,i,r,o){return 0!=(4&r)&&(i=null),function(t,e,n,i){var r;try{var o=Ot(St(t,e,n));Vt(),r=qs(o,Yt(vt()),i)}catch(t){if(!(t instanceof Error))throw t;r=sa(n,t)}return r}(t,e,n,i)}function oa(t,e){var n;try{var i=Ot(t);Vt(),n=Bs(i,Yt(vt()),null,2)}catch(t){if(!(t instanceof Error))throw t;n=sa(e,t)}return n}function sa(t,e){return function(t,e){var n;throw Vt(),n=Yt(Wt(e)),t.g4(n),e}(t,e)}function aa(t,e,n){var i,r;try{var o;r="function"==typeof(o=n)?o(e,t):n.si(e,t)}catch(t){if(!(t instanceof Error))throw t;r=Nn(t,!1,2)}var s=r;if(s!==zt()){var a=t.pn(s);if(a!==zi()){if(a instanceof Ln)throw a.mn_1,ru(a.mn_1,t.rp_1);i=yr(a)}else i=zt()}else i=zt();return i}function ua(){}function la(){}function ca(){}function ha(){return $a(),ot}function pa(){return $a(),st}function _a(){return $a(),at}function fa(){return $a(),ut}function da(t){this.h1d_1=t}function ma(){}function ya(t){eu.call(this),this.w1d_1=t}function va(t,e){this.q1d_1=t,nu.call(this),this.o1d_1=e,this.p1d_1=Bt(!1)}function ga(t,e,n){this.i1e_1=t,va.call(this,t,e),this.h1e_1=n}function wa(t){js.call(this),this.k1e_1=t}function ba(t,e){return function(n){return t.k1d(e),vt()}}function xa(t){this.s1d_1=Nt(t?_a():fa())}function $a(){lt||(lt=!0,new ia("LOCK_FAIL"),rt=new ia("UNLOCK_FAIL"),ot=new ia("LOCKED"),st=new ia("UNLOCKED"),at=new da(ha()),ut=new da(pa()))}function Ca(){}function Ea(){nu.call(this)}function Aa(t,e){"function"==typeof t?t(e):t.invoke(e)}function ka(){}function Sa(t){return jt(t)}function Ta(){var t;return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&void 0!==navigator.userAgent&&void 0!==navigator.userAgent.match&&navigator.userAgent.match("\\bjsdom\\b")?t=Fa():t=!(!("undefined"!=typeof window&&null!=window)||void 0===window.addEventListener)?function(t){var e,n=t.coroutineDispatcher;if(null==n){var i=new Za(t);t.coroutineDispatcher=i,e=i}else e=n;return e}(window):"undefined"==typeof process||void 0===process.nextTick?(null==ft&&new Ua,ft):Fa(),t}function Ia(t,e){var n=t.gn().b5(e);return n!==ja().gz_1&&null==n.u4(At())?n.b5(ja().gz_1):n}function Oa(t,e){na.call(this,t,e)}function za(t,e){console.error(e)}function Ma(){return ht}function Da(t){var e=Be(t).fe();return null==e?"Unknown":e}function Ra(t){var e=t.__debug_counter;return"number"!=typeof e&&(e=ct=ct+1|0,t.__debug_counter=e),(null!=e&&"number"==typeof e?e:mt()).toString()}function Pa(){pt=this,this.gz_1=Ta(),this.hz_1=(null==E&&new kr,E),this.iz_1=new Na(this.gz_1,!1),this.jz_1=null}function ja(){return null==pt&&new Pa,pt}function Na(t,e){$r.call(this),this.v1e_1=t,this.w1e_1=e,this.x1e_1=this.w1e_1?this:new Na(this.v1e_1,!0)}function La(){pi.call(this)}function qa(t,e,n){Fe(t,e,this),this.c1f_1=n,he(this,qa)}function Ba(){_t=this,Va.call(this)}function Fa(){return null==_t&&new Ba,_t}function Ua(){ft=this,Va.call(this)}function Ha(t){var e;this.m1f_1=t,Ya.call(this),this.l1f_1=(e=this,function(){return e.x1f(),vt()})}function Va(){Wn.call(this),this.o1f_1=new Ha(this)}function Ya(){Ds.call(this),this.v1f_1=16,this.w1f_1=!1}function Wa(t){return Ue(t,new ae(0,0),new ae(2147483647,0)).m6()}function Ga(t){An.call(this),this.b1g_1=t}function Za(t){Wn.call(this),this.d1g_1=t,this.e1g_1=new Ka(this.d1g_1)}function Ka(t){var e;Ya.call(this),this.k1g_1=t,this.l1g_1="dispatchCoroutine",this.k1g_1.addEventListener("message",(e=this,function(t){return t.source==e.k1g_1&&t.data==e.l1g_1&&(t.stopPropagation(),e.x1f()),vt()}),!0)}function Xa(){}function Ja(){}function Qa(t,e){this.h14_1=t,this.i14_1=e,this.j14_1=this.i14_1.a5(0,(function(t,e){return t+1|0})),this.k14_1=null}function tu(){}function eu(){nu.call(this)}function nu(){this.or_1=this,this.pr_1=this,this.qr_1=!1}function iu(){}function ru(t,e){return t}function ou(){this.yu_1=null}return Je.prototype=Object.create(lr.prototype),Je.prototype.constructor=Je,Qe.prototype=Object.create(Je.prototype),Qe.prototype.constructor=Qe,tn.prototype=Object.create(Qe.prototype),tn.prototype.constructor=tn,na.prototype=Object.create(Je.prototype),na.prototype.constructor=na,en.prototype=Object.create(na.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Mt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Je.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(rn.prototype),on.prototype.constructor=on,An.prototype=Object.create(ka.prototype),An.prototype.constructor=An,un.prototype=Object.create(An.prototype),un.prototype.constructor=un,zn.prototype=Object.create(An.prototype),zn.prototype.constructor=zn,hn.prototype=Object.create(zn.prototype),hn.prototype.constructor=hn,Vs.prototype=Object.create(Ja.prototype),Vs.prototype.constructor=Vs,En.prototype=Object.create(Vs.prototype),En.prototype.constructor=En,Mn.prototype=Object.create(An.prototype),Mn.prototype.constructor=Mn,Rn.prototype=Object.create(Mt.prototype),Rn.prototype.constructor=Rn,Pn.prototype=Object.create(lr.prototype),Pn.prototype.constructor=Pn,qn.prototype=Object.create(Ln.prototype),qn.prototype.constructor=qn,Vn.prototype=Object.create(Gt.prototype),Vn.prototype.constructor=Vn,Wn.prototype=Object.create(Zt.prototype),Wn.prototype.constructor=Wn,Jn.prototype=Object.create(Zt.prototype),Jn.prototype.constructor=Jn,ei.prototype=Object.create(Zt.prototype),ei.prototype.constructor=ei,si.prototype=Object.create(re.prototype),si.prototype.constructor=si,pi.prototype=Object.create(Wn.prototype),pi.prototype.constructor=pi,di.prototype=Object.create(le.prototype),di.prototype.constructor=di,mi.prototype=Object.create(pe.prototype),mi.prototype.constructor=mi,eu.prototype=Object.create(nu.prototype),eu.prototype.constructor=eu,Li.prototype=Object.create(eu.prototype),Li.prototype.constructor=Li,Ea.prototype=Object.create(nu.prototype),Ea.prototype.constructor=Ea,qi.prototype=Object.create(Ea.prototype),qi.prototype.constructor=qi,sr.prototype=Object.create(qi.prototype),sr.prototype.constructor=sr,ar.prototype=Object.create(En.prototype),ar.prototype.constructor=ar,ur.prototype=Object.create(Mt.prototype),ur.prototype.constructor=ur,hr.prototype=Object.create(qi.prototype),hr.prototype.constructor=hr,_r.prototype=Object.create(hr.prototype),_r.prototype.constructor=_r,fr.prototype=Object.create(hr.prototype),fr.prototype.constructor=fr,dr.prototype=Object.create(qi.prototype),dr.prototype.constructor=dr,mr.prototype=Object.create(qi.prototype),mr.prototype.constructor=mr,vr.prototype=Object.create(qi.prototype),vr.prototype.constructor=vr,wr.prototype=Object.create(hr.prototype),wr.prototype.constructor=wr,br.prototype=Object.create(lr.prototype),br.prototype.constructor=br,$r.prototype=Object.create(Wn.prototype),$r.prototype.constructor=$r,Er.prototype=Object.create(br.prototype),Er.prototype.constructor=Er,Ar.prototype=Object.create(ve.prototype),Ar.prototype.constructor=Ar,kr.prototype=Object.create(Wn.prototype),kr.prototype.constructor=kr,jr.prototype=Object.create(zn.prototype),jr.prototype.constructor=jr,Zr.prototype=Object.create(nu.prototype),Zr.prototype.constructor=Zr,Lr.prototype=Object.create(Zr.prototype),Lr.prototype.constructor=Lr,qr.prototype=Object.create(Vr.prototype),qr.prototype.constructor=qr,Yr.prototype=Object.create(nu.prototype),Yr.prototype.constructor=Yr,Hr.prototype=Object.create(Yr.prototype),Hr.prototype.constructor=Hr,Gr.prototype=Object.create(Yr.prototype),Gr.prototype.constructor=Gr,Jr.prototype=Object.create(qr.prototype),Jr.prototype.constructor=Jr,to.prototype=Object.create(re.prototype),to.prototype.constructor=to,uo.prototype=Object.create(ao.prototype),uo.prototype.constructor=uo,po.prototype=Object.create(Ie.prototype),po.prototype.constructor=po,fo.prototype=Object.create(ze.prototype),fo.prototype.constructor=fo,vo.prototype=Object.create(qr.prototype),vo.prototype.constructor=vo,go.prototype=Object.create(qr.prototype),go.prototype.constructor=go,wo.prototype=Object.create(qr.prototype),wo.prototype.constructor=wo,bo.prototype=Object.create(Co.prototype),bo.prototype.constructor=bo,$o.prototype=Object.create(Mt.prototype),$o.prototype.constructor=$o,Uo.prototype=Object.create(Mt.prototype),Uo.prototype.constructor=Uo,Ho.prototype=Object.create(os.prototype),Ho.prototype.constructor=Ho,Vo.prototype=Object.create(ss.prototype),Vo.prototype.constructor=Vo,ts.prototype=Object.create(Mt.prototype),ts.prototype.constructor=ts,es.prototype=Object.create(os.prototype),es.prototype.constructor=es,ns.prototype=Object.create(ss.prototype),ns.prototype.constructor=ns,fs.prototype=Object.create(Mt.prototype),fs.prototype.constructor=fs,ms.prototype=Object.create(Mt.prototype),ms.prototype.constructor=ms,vs.prototype=Object.create(Mt.prototype),vs.prototype.constructor=vs,ws.prototype=Object.create(Mt.prototype),ws.prototype.constructor=ws,xs.prototype=Object.create(Mt.prototype),xs.prototype.constructor=xs,Es.prototype=Object.create(Mt.prototype),Es.prototype.constructor=Es,ks.prototype=Object.create(Mt.prototype),ks.prototype.constructor=ks,Is.prototype=Object.create(Mt.prototype),Is.prototype.constructor=Is,zs.prototype=Object.create(Mt.prototype),zs.prototype.constructor=zs,js.prototype=Object.create(Ps.prototype),js.prototype.constructor=js,Fs.prototype=Object.create(Vs.prototype),Fs.prototype.constructor=Fs,Qs.prototype=Object.create(le.prototype),Qs.prototype.constructor=Qs,ya.prototype=Object.create(eu.prototype),ya.prototype.constructor=ya,va.prototype=Object.create(nu.prototype),va.prototype.constructor=va,ga.prototype=Object.create(va.prototype),ga.prototype.constructor=ga,wa.prototype=Object.create(js.prototype),wa.prototype.constructor=wa,Ca.prototype=Object.create(Wn.prototype),Ca.prototype.constructor=Ca,Oa.prototype=Object.create(na.prototype),Oa.prototype.constructor=Oa,Na.prototype=Object.create($r.prototype),Na.prototype.constructor=Na,La.prototype=Object.create(pi.prototype),La.prototype.constructor=La,qa.prototype=Object.create(ve.prototype),qa.prototype.constructor=qa,Va.prototype=Object.create(Wn.prototype),Va.prototype.constructor=Va,Ba.prototype=Object.create(Va.prototype),Ba.prototype.constructor=Ba,Ua.prototype=Object.create(Va.prototype),Ua.prototype.constructor=Ua,Ya.prototype=Object.create(Ds.prototype),Ya.prototype.constructor=Ya,Ha.prototype=Object.create(Ya.prototype),Ha.prototype.constructor=Ha,Ga.prototype=Object.create(An.prototype),Ga.prototype.constructor=Ga,Za.prototype=Object.create(Wn.prototype),Za.prototype.constructor=Za,Ka.prototype=Object.create(Ya.prototype),Ka.prototype.constructor=Ka,Je.prototype.i4=function(){return this.fn_1},Je.prototype.gn=function(){return this.fn_1},Je.prototype.hn=function(){return lr.prototype.hn.call(this)},Je.prototype.in=function(t){},Je.prototype.jn=function(t,e){},Je.prototype.kn=function(){return Da(this)+" was cancelled"},Je.prototype.ln=function(t){t instanceof Ln?this.jn(t.mn_1,t.on()):this.in(null==t||yt(t)?t:mt())},Je.prototype.g4=function(t){var e=this.pn(Fn(t,null,1));if(e===zi())return vt();this.qn(e)},Je.prototype.qn=function(t){return this.rn(t)},Je.prototype.sn=function(t){Gn(this.fn_1,t)},Je.prototype.tn=function(){var t=(this.fn_1,null);return null==t?lr.prototype.tn.call(this):'"'+t+'":'+lr.prototype.tn.call(this)},Je.prototype.un=function(t,e,n){t.xn(n,e,this)},Je.$metadata$=Ct("AbstractCoroutine",[wi,$t,ni],void 0,void 0,void 0,lr.prototype),Qe.prototype.yo=function(t){return Gn(this.i4(),t),!0},Qe.$metadata$=Ct("StandaloneCoroutine",void 0,void 0,void 0,void 0,Je.prototype),tn.prototype.do=function(){oa(this.np_1,this)},tn.$metadata$=Ct("LazyStandaloneCoroutine",void 0,void 0,void 0,void 0,Qe.prototype),en.prototype.rn=function(t){this.qn(t)},en.prototype.qn=function(t){if(function(t){for(var e=t.fp_1;;)switch(e.qm_1){case 0:if(t.fp_1.atomicfu$compareAndSet(0,2))return!0;break;case 1:return!1;default:throw Tt("Already resumed")}}(this))return vt();Bs(Ot(this.sp()),Hn(t,this.sp()),null,2)},en.prototype.gp=function(){if(function(t){for(var e=t.fp_1;;)switch(e.qm_1){case 0:if(t.fp_1.atomicfu$compareAndSet(0,1))return!0;break;case 2:return!1;default:throw Tt("Already suspended")}}(this))return zt();var t=yr(this.ao());if(t instanceof Ln)throw t.mn_1;return null==t||yt(t)?t:mt()},en.$metadata$=Ct("DispatchedCoroutine",void 0,void 0,void 0,void 0,na.prototype),nn.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.cq_1.dq(this))===zt())return t;continue t;case 1:return null==t||yt(t)?t:mt();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},nn.$metadata$=Ct("$awaitCOROUTINE$0",void 0,void 0,void 0,void 0,Mt.prototype),rn.prototype.gl=function(t){var e=new nn(this,t);return e.ji_1=vt(),e.ki_1=null,e.ri()},rn.$metadata$=Ct("DeferredCoroutine",[li,la],void 0,void 0,void 0,Je.prototype),on.prototype.do=function(){oa(this.kq_1,this)},on.$metadata$=Ct("LazyDeferredCoroutine",void 0,void 0,void 0,void 0,rn.prototype),sn.$metadata$=Dt("CancellableContinuation",[$t]),un.prototype.xq=function(t){return this.wq_1.yq()},un.prototype.invoke=function(t){return this.xq(t)},un.prototype.toString=function(){return"DisposeOnCancel["+this.wq_1+"]"},un.$metadata$=Ct("DisposeOnCancel",void 0,void 0,void 0,void 0,An.prototype),hn.prototype.xq=function(t){this.nr_1.rr()},hn.prototype.invoke=function(t){return this.xq(t)},hn.prototype.toString=function(){return"RemoveOnCancel["+this.nr_1+"]"},hn.$metadata$=Ct("RemoveOnCancel",void 0,void 0,void 0,void 0,zn.prototype),En.prototype.is=function(){return this.hr_1},En.prototype.i4=function(){return this.ir_1},En.prototype.ao=function(){return this.kr_1.pm_1},En.prototype.bo=function(){var t=this.ao();return!(null!=t&&Rt(t,Tn))},En.prototype.lq=function(){return this.ao()instanceof qn},En.prototype.js=function(){var t=dn(this);if(null==t)return vt();var e=t;this.bo()&&(e.yq(),this.lr_1=Ei())},En.prototype.mr=function(){var t=this.kr_1.pm_1;return t instanceof On&&null!=t.gs_1?(this.xr(),!1):(this.jr_1.qm_1=0,this.kr_1.pm_1=Sn(),!0)},En.prototype.ks=function(){return this.ao()},En.prototype.ls=function(t,e){for(var n=this.kr_1;;){var i=n.pm_1,r=i;if(null!=r&&Rt(r,Tn))throw Tt("Not completed");if(r instanceof Ln)return vt();if(r instanceof On){if(i.ms())throw Tt(jt("Must be called at most once"));var o=i.ns(null,null,null,null,e,15,null);if(this.kr_1.atomicfu$compareAndSet(i,o))return i.os(this,e),vt()}else if(this.kr_1.atomicfu$compareAndSet(i,In(i,null,null,null,e,14)))return vt()}return vt()},En.prototype.rq=function(t){for(var e=this.kr_1;;){var n=e.pm_1;if(null==n||!Rt(n,Tn))return!1;var i=new qn(this,t,n instanceof An);if(this.kr_1.atomicfu$compareAndSet(n,i)){var r=n instanceof An?n:null;return null==r||this.ps(r,t),Cn(this),vn(this,this.ur()),!0}vt()}},En.prototype.qs=function(t){if(function(t,e){if(!_n(t))return!1;var n=t.hr_1;return(n instanceof Fs?n:mt()).vr(e)}(this,t))return vt();this.rq(t),Cn(this)},En.prototype.ps=function(t,e){var n;try{n=t.invoke(e)}catch(t){if(!(t instanceof Error))throw t;n=Gn(this.i4(),new di("Exception in invokeOnCancellation handler for "+this,t))}return n},En.prototype.yr=function(t,e){try{t(e)}catch(t){if(!(t instanceof Error))throw t;Gn(this.i4(),new di("Exception in resume onCancellation handler for "+this,t))}},En.prototype.rs=function(t){return t.eo()},En.prototype.gp=function(){var t=_n(this);if(function(t){for(var e=t.jr_1;;)switch(e.qm_1){case 0:if(t.jr_1.atomicfu$compareAndSet(0,1))return!0;break;case 2:return!1;default:throw Tt("Already suspended")}}(this))return null==this.lr_1&&dn(this),t&&mn(this),zt();t&&mn(this);var e=this.ao();if(e instanceof Ln)throw ru(e.mn_1);if(Ys(this.ur())){var n=this.i4().u4(gi());if(null!=n&&!n.hn()){var i=n.eo();throw this.ls(e,i),ru(i)}}return this.ss(e)},En.prototype.g4=function(t){return bn(this,function(t,e){var n,i=Ut(t);if(null==i){var r=Ht(t);n=null==r||yt(r)?r:mt()}else n=Nn(ru(i),!1,2);return n}(t),this.ur(),null,8)},En.prototype.vq=function(t,e){return wn(this,t,this.ur(),e)},En.prototype.tq=function(t){for(var e=function(t,e){return e instanceof An?e:new Mn(e)}(0,t),n=this.kr_1;;){var i=n.pm_1,r=i;if(r instanceof kn){if(this.kr_1.atomicfu$compareAndSet(i,e))return vt()}else if(r instanceof An)yn(0,t,i);else{if(r instanceof Ln){if(i.ts()||yn(0,t,i),i instanceof qn){var o=i instanceof Ln?i:null;fn(this,t,null==o?null:o.mn_1)}return vt()}if(r instanceof On){if(null!=i.es_1&&yn(0,t,i),e instanceof zn)return vt();if(i.ms())return fn(this,t,i.hs_1),vt();var s=i.ns(null,e,null,null,null,29,null);if(this.kr_1.atomicfu$compareAndSet(i,s))return vt()}else{if(e instanceof zn)return vt();var a=In(i,e,null,null,null,28);if(this.kr_1.atomicfu$compareAndSet(i,a))return vt()}}}},En.prototype.xr=function(){var t=this.lr_1;if(null==t)return vt();t.yq(),this.lr_1=Ei()},En.prototype.mq=function(t,e){return xn(this,t,e,null)},En.prototype.oq=function(t,e,n){return xn(this,t,e,n)},En.prototype.pq=function(t){return xn(this,Nn(t,!1,2),null,null)},En.prototype.qq=function(t){vn(this,this.ur())},En.prototype.uq=function(t,e){var n=this.hr_1,i=n instanceof Fs?n:null;bn(this,e,(null==i?null:i.ar_1)===t?nt:this.ur(),null,8)},En.prototype.ss=function(t){var e;if(t instanceof On){var n=t.ds_1;e=null==n||yt(n)?n:mt()}else e=null==t||yt(t)?t:mt();return e},En.prototype.us=function(t){var e=Vs.prototype.us.call(this,t);return null==e?null:ru(e,this.hr_1)},En.prototype.toString=function(){return this.tn()+"("+Sa(this.hr_1)+"){"+((null!=(t=this.ao())&&Rt(t,Tn)?"Active":t instanceof qn?"Cancelled":"Completed")+"}@")+Ra(this);var t},En.prototype.tn=function(){return"CancellableContinuation"},En.$metadata$=Ct("CancellableContinuationImpl",[sn,iu],void 0,void 0,void 0,Vs.prototype),An.$metadata$=Ct("CancelHandler",[Tn],void 0,void 0,void 0,ka.prototype),kn.prototype.toString=function(){return"Active"},kn.$metadata$=Lt("Active",[Tn]),Tn.$metadata$=Dt("NotCompleted"),On.prototype.xs=function(){return this.es_1},On.prototype.ys=function(){return this.gs_1},On.prototype.zs=function(){return this.hs_1},On.prototype.ms=function(){return!(null==this.hs_1)},On.prototype.os=function(t,e){var n=this.es_1;null==n||t.ps(n,e);var i=this.fs_1;null==i||t.yr(i,e)},On.prototype.at=function(t,e,n,i,r){return new On(t,e,n,i,r)},On.prototype.ns=function(t,e,n,i,r,o,s){return 0!=(1&o)&&(t=this.ds_1),0!=(2&o)&&(e=this.es_1),0!=(4&o)&&(n=this.fs_1),0!=(8&o)&&(i=this.gs_1),0!=(16&o)&&(r=this.hs_1),this.at(t,e,n,i,r)},On.prototype.toString=function(){return"CompletedContinuation(result="+Pt(this.ds_1)+", cancelHandler="+this.es_1+", onCancellation="+this.fs_1+", idempotentResume="+Pt(this.gs_1)+", cancelCause="+this.hs_1+")"},On.prototype.hashCode=function(){var t=null==this.ds_1?0:qt(this.ds_1);return t=dt(t,31)+(null==this.es_1?0:qt(this.es_1))|0,t=dt(t,31)+(null==this.fs_1?0:qt(this.fs_1))|0,t=dt(t,31)+(null==this.gs_1?0:qt(this.gs_1))|0,dt(t,31)+(null==this.hs_1?0:qt(this.hs_1))|0},On.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof On))return!1;var e=t instanceof On?t:mt();return!!(kt(this.ds_1,e.ds_1)&&kt(this.es_1,e.es_1)&&kt(this.fs_1,e.fs_1)&&kt(this.gs_1,e.gs_1)&&kt(this.hs_1,e.hs_1))},On.$metadata$=Ct("CompletedContinuation"),zn.$metadata$=Ct("BeforeResumeCancelHandler",void 0,void 0,void 0,void 0,An.prototype),Mn.prototype.xq=function(t){this.bt_1(t)},Mn.prototype.invoke=function(t){return this.xq(t)},Mn.prototype.toString=function(){return"InvokeOnCancel["+Da(this.bt_1)+"@"+Ra(this)+"]"},Mn.$metadata$=Ct("InvokeOnCancel",void 0,void 0,void 0,void 0,An.prototype),Dn.$metadata$=Dt("CompletableDeferred",[li]),Rn.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.mt_1.dq(this))===zt())return t;continue t;case 1:return null==t||yt(t)?t:mt();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Rn.$metadata$=Ct("$awaitCOROUTINE$1",void 0,void 0,void 0,void 0,Mt.prototype),Pn.prototype.lo=function(){return!0},Pn.prototype.gl=function(t){var e=new Rn(this,t);return e.ji_1=vt(),e.ki_1=null,e.ri()},Pn.prototype.ct=function(t){return this.pt(t)},Pn.prototype.dt=function(t){return this.pt(Nn(t,!1,2))},Pn.$metadata$=Ct("CompletableDeferredImpl",[Dn,la],void 0,void 0,void 0,lr.prototype),jn.$metadata$=Dt("CompletableJob",[wi]),Ln.prototype.s1=function(){return this.mn_1},Ln.prototype.on=function(){return this.nn_1.tm_1},Ln.prototype.ts=function(){return this.nn_1.atomicfu$compareAndSet(!1,!0)},Ln.prototype.toString=function(){return Da(this)+"["+this.mn_1+"]"},Ln.$metadata$=Ct("CompletedExceptionally"),qn.prototype.cs=function(){return this.bs_1.atomicfu$compareAndSet(!1,!0)},qn.$metadata$=Ct("CancelledContinuation",void 0,void 0,void 0,void 0,Ln.prototype),Un.prototype.toString=function(){return"CompletedWithCancellation(result="+Pt(this.tt_1)+", onCancellation="+this.ut_1+")"},Un.prototype.hashCode=function(){var t=null==this.tt_1?0:qt(this.tt_1);return dt(t,31)+qt(this.ut_1)|0},Un.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Un))return!1;var e=t instanceof Un?t:mt();return!!kt(this.tt_1,e.tt_1)&&!!kt(this.ut_1,e.ut_1)},Un.$metadata$=Ct("CompletedWithCancellation"),Vn.$metadata$=Lt("Key",void 0,void 0,void 0,void 0,Gt.prototype),Wn.prototype.wt=function(t){return!0},Wn.prototype.s4=function(t){return new Fs(this,t)},Wn.prototype.t4=function(t){(t instanceof Fs?t:mt()).yt()},Wn.prototype.toString=function(){return Da(this)+"@"+Ra(this)},Wn.$metadata$=Ct("CoroutineDispatcher",[Jt],void 0,void 0,void 0,Zt.prototype),Zn.$metadata$=Lt("Key",[Qt]),Xn.$metadata$=Dt("CoroutineExceptionHandler",[te]),Jn.prototype.zt=function(t,e){return this.bu_1(t,e)},Jn.$metadata$=Ct(void 0,[Xn],void 0,void 0,void 0,Zt.prototype),Qn.$metadata$=Lt("Key",[Qt]),ei.prototype.toString=function(){return"CoroutineName("+this.du_1+")"},ei.prototype.hashCode=function(){return ne(this.du_1)},ei.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ei))return!1;var e=t instanceof ei?t:mt();return this.du_1===e.du_1},ei.$metadata$=Ct("CoroutineName",void 0,void 0,void 0,void 0,Zt.prototype),ni.$metadata$=Dt("CoroutineScope"),ri.prototype.gn=function(){return Et()},ri.$metadata$=Lt("GlobalScope",[ni]),si.prototype.xn=function(t,e,n){var i;switch(this.i5()){case 0:i=ra(t,e,n,null,4);break;case 2:i=oe(t,e,n);break;case 3:i=function(t,e,n){t:{var i,r=n;try{var o;n.i4(),i="function"==typeof(o=t)?o(e,r):t.si(e,r)}catch(t){if(t instanceof Error){var s;Vt(),s=Yt(Wt(t)),r.g4(s),vt();break t}throw t}var a=i;if(a!==zt()){var u,l=null==a||yt(a)?a:mt();Vt(),u=Yt(l),r.g4(u)}}}(t,e,n);break;case 1:i=vt();break;default:se()}return i},si.prototype.ap=function(){return this===(oi(),h)},si.$metadata$=Ct("CoroutineStart",void 0,void 0,void 0,void 0,re.prototype),ui.$metadata$=Dt("CopyableThrowable"),li.$metadata$=Dt("Deferred",[wi]),ci.$metadata$=Dt("Delay"),pi.prototype.ju=function(){var t=this.iu_1;if(null==t)return!1;var e=t.nu();return null!=e&&(e.vs(),!0)},pi.prototype.ou=function(t){var e,n=this.iu_1;if(null==n){var i=new Ds;this.iu_1=i,e=i}else e=n;e.pu(t)},pi.prototype.qu=function(){return this.gu_1.j1(hi(0,!0))>=0},pi.prototype.ru=function(){var t=this.iu_1,e=null==t?null:t.su();return null==e||e},pi.prototype.tu=function(t){this.gu_1=this.gu_1.w5(hi(0,t)),t||(this.hu_1=!0)},pi.prototype.uu=function(t){if(this.gu_1=this.gu_1.x5(hi(0,t)),this.gu_1.j1(new ae(0,0))>0)return vt();this.hu_1&&this.vu()},pi.prototype.vu=function(){},pi.$metadata$=Ct("EventLoop",void 0,void 0,void 0,void 0,Wn.prototype),_i.prototype.xu=function(){var t,e=this.wu_1.zu();if(null==e){var n=new La;fi().wu_1.av(n),t=n}else t=e;return t},_i.$metadata$=Lt("ThreadLocalEventLoop"),di.$metadata$=Ct("CompletionHandlerException",void 0,void 0,void 0,void 0,le.prototype),mi.$metadata$=Ct("CoroutinesInternalError",void 0,void 0,void 0,void 0,pe.prototype),yi.$metadata$=Dt("DisposableHandle"),vi.$metadata$=Lt("Key",[Qt]),wi.$metadata$=Dt("Job",[te]),bi.$metadata$=Dt("ChildJob",[wi]),xi.$metadata$=Dt("ParentJob",[wi]),$i.$metadata$=Dt("ChildHandle",[yi]),Ci.prototype.tp=function(){return null},Ci.prototype.yq=function(){},Ci.prototype.qo=function(t){return!1},Ci.prototype.toString=function(){return"NonDisposableHandle"},Ci.$metadata$=Lt("NonDisposableHandle",[yi,$i]),ji.prototype.hn=function(){return this.bv_1},ji.prototype.cv=function(){return null},ji.prototype.toString=function(){return"Empty{"+(this.bv_1?"Active":"New")+"}"},ji.$metadata$=Ct("Empty",[Ni]),Ni.$metadata$=Dt("Incomplete"),Li.prototype.hn=function(){return!0},Li.prototype.cv=function(){return this},Li.prototype.gv=function(t){var e=fe();e.mg("List{"),e.mg(t),e.mg("}[");for(var n=!0,i=this.hv();!kt(i,this);){if(i instanceof qi){var r=i;n?n=!1:e.mg(", "),e.lg(r)}i=i.or_1}return e.mg("]"),e.toString()},Li.prototype.toString=function(){return Ma()?this.gv("Active"):de(this)},Li.$metadata$=Ct("NodeList",[Ni],void 0,void 0,void 0,eu.prototype),qi.prototype.yv=function(){var t=this.xv_1;if(null!=t)return t;me("job")},qi.prototype.hn=function(){return!0},qi.prototype.cv=function(){return null},qi.prototype.yq=function(){return this.yv().ko(this)},qi.prototype.toString=function(){return Da(this)+"@"+Ra(this)+"[job@"+Ra(this.yv())+"]"},qi.$metadata$=Ct("JobNode",[yi,Ni],void 0,void 0,void 0,Ea.prototype),or.prototype.cv=function(){return this.aw_1},or.prototype.lw=function(t){this.bw_1.tm_1=t},or.prototype.hw=function(){return this.bw_1.tm_1},or.prototype.rw=function(t){this.cw_1.pm_1=t},or.prototype.kw=function(){return this.cw_1.pm_1},or.prototype.iw=function(){return Fi(this)===Ri()},or.prototype.ew=function(){return!(null==this.kw())},or.prototype.hn=function(){return null==this.kw()},or.prototype.fw=function(t){var e,n=Fi(this);if(null==n)e=Ui();else if(n instanceof Error){var i=Ui();i.b(n),e=i}else{if(!(n instanceof ge)){var r="State is "+Pt(n);throw Tt(jt(r))}e=n instanceof ge?n:mt()}var o=e,s=this.kw(),a=s;return null==a||o.jb(0,a),null==t||kt(t,s)||o.b(t),Bi(this,Ri()),o},or.prototype.jw=function(t){var e=this.kw();if(null==e)return this.rw(t),vt();if(t===e)return vt();var n=Fi(this);if(null==n)Bi(this,t);else if(n instanceof Error){if(t===n)return vt();var i=Ui();i.b(n),i.b(t),Bi(this,i)}else{if(!(n instanceof ge)){var r="State is "+Pt(n);throw Tt(jt(r))}(n instanceof ge?n:mt()).b(t)}},or.prototype.toString=function(){return"Finishing[cancelling="+this.ew()+", completing="+this.hw()+", rootCause="+this.kw()+", exceptions="+Pt(Fi(this))+", list="+this.aw_1+"]"},or.$metadata$=Ct("Finishing",[Ni]),sr.prototype.xq=function(t){!function(t,e,n,i){var r=ir(n);if(null!=r&&nr(t,e,r,i))return vt();var o=Hi(t,e,i);t.rn(o)}(this.ww_1,this.xw_1,this.yw_1,this.zw_1)},sr.prototype.invoke=function(t){return this.xq(t)},sr.$metadata$=Ct("ChildCompletion",void 0,void 0,void 0,void 0,qi.prototype),ar.prototype.rs=function(t){var e=this.gx_1.ao();if(e instanceof or){var n=e.kw();if(null!=n)return n}return e instanceof Ln?e.mn_1:t.eo()},ar.prototype.tn=function(){return"AwaitContinuation"},ar.$metadata$=Ct("AwaitContinuation",void 0,void 0,void 0,void 0,En.prototype),ur.prototype.wx=function(t,e){var n=this.xx(t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},ur.prototype.si=function(t,e){return this.wx(t instanceof we?t:mt(),e)},ur.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=8,this.rx_1=this.px_1.ao(),this.rx_1 instanceof _r){if(this.hi_1=6,(t=this.qx_1.a4(this.rx_1.qw_1,this))===zt())return t;continue t}var e=this.rx_1;if(null!=e&&Rt(e,Ni)){if(this.sx_1=this.rx_1.cv(),null==this.sx_1){this.tx_1=null,this.hi_1=5;continue t}this.ux_1=this.sx_1.hv(),this.hi_1=1;continue t}this.hi_1=7;continue t;case 1:if(kt(this.ux_1,this.sx_1)){this.hi_1=4;continue t}if(this.ux_1 instanceof _r){if(this.vx_1=this.ux_1,this.hi_1=2,(t=this.qx_1.a4(this.vx_1.qw_1,this))===zt())return t;continue t}this.hi_1=3;continue t;case 2:this.hi_1=3;continue t;case 3:this.ux_1=this.ux_1.or_1,this.hi_1=1;continue t;case 4:this.tx_1=vt(),this.hi_1=5;continue t;case 5:case 6:this.hi_1=7;continue t;case 7:return vt();case 8:throw this.ki_1}}catch(t){if(8===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ur.prototype.xx=function(t,e){var n=new ur(this.px_1,e);return n.qx_1=t,n},ur.$metadata$=Ct("JobSupport$<get-children>$slambda",void 0,void 0,void 0,[1],Mt.prototype),lr.prototype.a1=function(){return gi()},lr.prototype.yn=function(t){this.bn_1.pm_1=t},lr.prototype.zn=function(){return this.bn_1.pm_1},lr.prototype.cn=function(t){if(null==t)return this.yn(Ei()),vt();t.co();var e=t.uo(this);this.yn(e),this.bo()&&(e.yq(),this.yn(Ei()))},lr.prototype.ao=function(){for(var t=this.an_1;;){var e=t.pm_1;if(!(e instanceof Ps))return e;e.yx(this)}},lr.prototype.hn=function(){var t=this.ao();return!(null==t||!Rt(t,Ni))&&t.hn()},lr.prototype.bo=function(){var t=this.ao();return!(null!=t&&Rt(t,Ni))},lr.prototype.co=function(){for(;;){var t=Gi(this,this.ao());if(0===t)return!1;if(1===t)return!0}},lr.prototype.do=function(){},lr.prototype.eo=function(){var t,e=this.ao();if(e instanceof or){var n=e.kw(),i=null==n?null:this.fo(n,Da(this)+" is cancelling");if(null==i)throw Tt(jt("Job is still new or active: "+this));t=i}else{if(null!=e&&Rt(e,Ni))throw Tt(jt("Job is still new or active: "+this));t=e instanceof Ln?this.go(e.mn_1,null,1,null):new qa(Da(this)+" has completed normally",null,this)}return t},lr.prototype.fo=function(t,e){var n,i=t instanceof ve?t:null;if(null==i){var r=e;n=new qa(null==r?this.kn():r,t,this)}else n=i;return n},lr.prototype.go=function(t,e,n,i){return 0!=(1&n)&&(e=null),this.fo(t,e)},lr.prototype.ho=function(t){return this.io(!1,!0,t)},lr.prototype.io=function(t,e,n){for(var i=function(t,e,n){var i;if(n){var r=e instanceof hr?e:null;i=null==r?new fr(e):r}else{var o=e instanceof qi?e:null,s=null==o?null:o;i=null==s?new dr(e):s}var a=i;return a.xv_1=t,a}(this,n,t);;)t:{var r=this.ao(),o=r;if(o instanceof ji)if(r.bv_1){if(this.an_1.atomicfu$compareAndSet(r,i))return i}else Ki(this,r);else{if(null==o||!Rt(o,Ni)){if(e){var s=r instanceof Ln?r:null;Aa(n,null==s?null:s.mn_1)}return Ei()}var a=r.cv();if(null==a)Xi(this,r instanceof qi?r:mt());else{var u=null,l=Ei();if(t&&r instanceof or&&(null==(u=r.kw())||n instanceof _r&&!r.hw())){if(!Zi(this,r,a,i)){vt();break t}if(null==u)return i;l=i,vt()}if(null!=u)return e&&Aa(n,u),l;if(Zi(this,r,a,i))return i}}}},lr.prototype.st=function(t){return function(t){for(;;){var e=t.ao();if(null==e||!Rt(e,Ni))return!1;if(Gi(t,e)>=0)return!0}}(this)?function(t,e){var n,i=new En(Ot(e),Hs());return i.js(),n=new mr(i),an(i,t.ho(n)),i.gp()}(this,t):(Ai(t.i4()),vt())},lr.prototype.ko=function(t){for(;;){var e=this.ao();if(!(e instanceof qi))return null!=e&&Rt(e,Ni)?(null!=e.cv()&&t.rr(),vt()):vt();if(e!==t)return vt();if(this.an_1.atomicfu$compareAndSet(e,Pi()))return vt()}},lr.prototype.lo=function(){return!1},lr.prototype.mo=function(t){var e,n=t;if(null==n){e=new qa(this.kn(),null,this)}else e=n;this.oo(e)},lr.prototype.kn=function(){return"Job was cancelled"},lr.prototype.oo=function(t){this.ro(t)},lr.prototype.po=function(t){this.ro(t)},lr.prototype.qo=function(t){return t instanceof ve||!!this.ro(t)&&this.xo()},lr.prototype.ro=function(t){var e,n=Oi();return!(!this.lo()||(n=function(t,e){for(;;){var n=t.ao();if(null==n||!Rt(n,Ni)||n instanceof or&&n.hw())return Oi();var i=er(t,n,Nn(Ji(t,e),!1,2));if(i!==Mi())return i}}(this,t))!==zi())||(n===Oi()&&(n=function(t,e){for(var n=null;;)t:{var i=t.ao(),r=i;if(r instanceof or){if(i.iw())return Di();var o=i.ew();if(null!=e||!o){var s,a=n;if(null==a){var u=Ji(t,e);n=u,s=u}else s=a;var l=s;i.jw(l)}var c=i.kw(),h=o?null:c;return null==h||Yi(t,i.aw_1,h),Oi()}if(null==r||!Rt(r,Ni))return Di();var p,_=n;if(null==_){var f=Ji(t,e);n=f,p=f}else p=_;var d=p;if(!i.hn()){var m=er(t,i,Nn(d,!1,2));if(m===Oi()){var y="Cannot happen in "+Pt(i);throw Tt(jt(y))}if(m===Mi()){vt();break t}return m}if(tr(t,i,d))return Oi()}}(this,t)),n===Oi()||n===zi()?e=!0:n===Di()?e=!1:(this.rn(n),e=!0),e)},lr.prototype.so=function(t,e){var n=t;return new qa(null==n?this.kn():n,e,this)},lr.prototype.to=function(){var t,e=this.ao(),n=e;if(n instanceof or)t=e.kw();else if(n instanceof Ln)t=e.mn_1;else{if(null!=n&&Rt(n,Ni)){var i="Cannot be cancelling child in this state: "+Pt(e);throw Tt(jt(i))}t=null}var r=t,o=r instanceof ve?r:null;return null==o?new qa("Parent job is "+rr(0,e),r,this):o},lr.prototype.pt=function(t){for(;;){var e=er(this,this.ao(),t);if(e===Oi())return!1;if(e===zi())return!0;if(e!==Mi())return this.rn(e),!0;vt()}},lr.prototype.pn=function(t){for(;;){var e=er(this,this.ao(),t);if(e===Oi())throw be("Job "+this+" is already complete or completing, but is being completed with "+Pt(t),(i=void 0,null==(i=(n=t)instanceof Ln?n:null)?null:i.mn_1));if(e!==Mi())return e;vt()}var n,i},lr.prototype.rt=function(){return xe((t=new ur(this,null),(e=function(e,n){return t.wx(e,n)}).$arity=1,e));var t,e},lr.prototype.uo=function(t){var e;e=new _r(t);var n=this.jo(!0,!1,e,2,null);return Rt(n,$i)?n:mt()},lr.prototype.sn=function(t){throw t},lr.prototype.vo=function(t){},lr.prototype.wo=function(){return!1},lr.prototype.xo=function(){return!0},lr.prototype.yo=function(t){return!1},lr.prototype.ln=function(t){},lr.prototype.rn=function(t){},lr.prototype.toString=function(){return this.zo()+"@"+Ra(this)},lr.prototype.zo=function(){return this.tn()+"{"+rr(0,this.ao())+"}"},lr.prototype.tn=function(){return Da(this)},lr.prototype.dq=function(t){t:for(;;){var e=this.ao();if(null==e||!Rt(e,Ni)){if(e instanceof Ln)throw e.mn_1;return yr(e)}if(Gi(this,e)>=0)break t}return function(t,e){var n,i=new ar(Ot(e),t);return i.js(),n=new vr(i),an(i,t.ho(n)),i.gp()}(this,t)},lr.$metadata$=Ct("JobSupport",[wi,bi,xi,ua]),hr.$metadata$=Ct("JobCancellingNode",void 0,void 0,void 0,void 0,qi.prototype),pr.prototype.cv=function(){return this.gw_1},pr.prototype.hn=function(){return!1},pr.prototype.toString=function(){return Ma()?this.gw_1.gv("New"):de(this)},pr.$metadata$=Ct("InactiveNodeList",[Ni]),_r.prototype.tp=function(){return this.yv()},_r.prototype.xq=function(t){return this.qw_1.po(this.yv())},_r.prototype.invoke=function(t){return this.xq(t)},_r.prototype.qo=function(t){return this.yv().qo(t)},_r.$metadata$=Ct("ChildHandleNode",[$i],void 0,void 0,void 0,hr.prototype),fr.prototype.xq=function(t){this.ey_1.atomicfu$compareAndSet(0,1)&&this.dy_1(t)},fr.prototype.invoke=function(t){return this.xq(t)},fr.$metadata$=Ct("InvokeOnCancelling",void 0,void 0,void 0,void 0,hr.prototype),dr.prototype.xq=function(t){return this.jy_1(t)},dr.prototype.invoke=function(t){return this.xq(t)},dr.$metadata$=Ct("InvokeOnCompletion",void 0,void 0,void 0,void 0,qi.prototype),mr.prototype.xq=function(t){var e,n=this.oy_1;return Vt(),e=Yt(vt()),n.g4(e)},mr.prototype.invoke=function(t){return this.xq(t)},mr.$metadata$=Ct("ResumeOnCompletion",void 0,void 0,void 0,void 0,qi.prototype),vr.prototype.xq=function(t){var e=this.yv().ao();if(e instanceof Ln){var n,i=this.uy_1,r=e.mn_1;Vt(),n=Yt(Wt(r)),i.g4(n)}else{var o,s=this.uy_1,a=yr(e),u=null==a||yt(a)?a:mt();Vt(),o=Yt(u),s.g4(o)}},vr.prototype.invoke=function(t){return this.xq(t)},vr.$metadata$=Ct("ResumeAwaitOnCompletion",void 0,void 0,void 0,void 0,qi.prototype),gr.$metadata$=Ct("IncompleteStateBox"),wr.prototype.xq=function(t){this.zy_1.qs(this.zy_1.rs(this.yv()))},wr.prototype.invoke=function(t){return this.xq(t)},wr.$metadata$=Ct("ChildContinuation",void 0,void 0,void 0,void 0,hr.prototype),br.prototype.lo=function(){return!0},br.prototype.xo=function(){return this.cz_1},br.prototype.qt=function(){return this.pt(vt())},br.prototype.dt=function(t){return this.pt(Nn(t,!1,2))},br.$metadata$=Ct("JobImpl",[jn],void 0,void 0,void 0,lr.prototype),$r.prototype.toString=function(){var t=this.fz();return null==t?Da(this)+"@"+Ra(this):t},$r.prototype.fz=function(){var t,e=ja().kz();if(this===e)return"Dispatchers.Main";try{t=e.ez()}catch(e){if(!(e instanceof $e))throw e;t=null}return this===t?"Dispatchers.Main.immediate":null},$r.$metadata$=Ct("MainCoroutineDispatcher",void 0,void 0,void 0,void 0,Wn.prototype),Er.prototype.qo=function(t){return!1},Er.$metadata$=Ct("SupervisorJobImpl",void 0,void 0,void 0,void 0,br.prototype),Ar.$metadata$=Ct("TimeoutCancellationException",[ui],void 0,void 0,void 0,ve.prototype),kr.prototype.wt=function(t){return!1},kr.prototype.xt=function(t,e){var n=t.u4((null==A&&new Sr,A));if(null!=n)return n.qz_1=!0,vt();throw Ce("Dispatchers.Unconfined.dispatch function can only be used by the yield function. If you wrap Unconfined dispatcher in your code, make sure you properly delegate isDispatchNeeded and dispatch calls.")},kr.prototype.toString=function(){return"Dispatchers.Unconfined"},kr.$metadata$=Lt("Unconfined",void 0,void 0,void 0,void 0,Wn.prototype),Sr.$metadata$=Lt("Key",[Qt]),jr.prototype.xq=function(t){this.i10_1.rr()&&this.j10_1.k10()},jr.prototype.invoke=function(t){return this.xq(t)},jr.prototype.toString=function(){return"RemoveReceiveOnCancel["+this.i10_1+"]"},jr.$metadata$=Ct("RemoveReceiveOnCancel",void 0,void 0,void 0,void 0,zn.prototype),Nr.prototype.l10=function(){return this.wz_1},Nr.prototype.m10=function(t){this.xz_1=t},Nr.prototype.n10=function(t){return this.xz_1!==zr()?Dr(0,this.xz_1):(this.xz_1=this.wz_1.b10(),this.xz_1!==zr()?Dr(0,this.xz_1):function(t,e){var n=cn(Ot(e));t:for(var i=new Lr(t,n);;){if(Rr(t.wz_1,i)){Pr(t.wz_1,n,i),vt();break t}var r=t.wz_1.b10();if(t.xz_1=r,r instanceof Gr){if(null==r.uz_1){var o;Vt(),o=Yt(!1),n.g4(o)}else{var s,a=r.vz();Vt(),s=Yt(Wt(a)),n.g4(s)}vt();break t}if(r!==zr()){var u,l=t.wz_1.f10();u=null==l?null:Js(l,null==r||yt(r)?r:mt(),n.i4()),n.vq(!0,u),vt();break t}}return n.gp()}(this,t))},Nr.prototype.f=function(){var t=this.xz_1;if(t instanceof Gr)throw t.vz();if(t!==zr())return this.xz_1=zr(),null==t||yt(t)?t:mt();throw Tt("'hasNext' should be called prior to 'next' invocation")},Nr.$metadata$=Ct("Itr",[ho]),Lr.prototype.t10=function(t,e){var n=e;return null==this.s10_1.oq(!0,null==n?null:n.v10_1,this.x10(t))?null:(null==e||e.y10(),pn())},Lr.prototype.z10=function(t){this.r10_1.xz_1=t,this.s10_1.qq(pn())},Lr.prototype.a11=function(t){var e=null==t.uz_1?this.s10_1.nq(!1,null,2,null):this.s10_1.pq(t.vz());null!=e&&(this.r10_1.xz_1=t,this.s10_1.qq(e))},Lr.prototype.x10=function(t){var e=this.r10_1.wz_1.f10();return null==e?null:Js(e,t,this.s10_1.i4())},Lr.prototype.toString=function(){return"ReceiveHasNext@"+Ra(this)},Lr.$metadata$=Ct("ReceiveHasNext",void 0,void 0,void 0,void 0,Zr.prototype),qr.prototype.b10=function(){for(;;){var t=this.h11();if(null==t)return zr();var e=t;if(null!=e.l11(null))return e.m11(),e.n11();e.o11()}},qr.prototype.p11=function(){return null!=this.q11()&&this.g11()},qr.prototype.g10=function(t){var e;if(this.f11()){var n,i=this.r11();i.pr_1 instanceof Yr?n=!1:(i.ov(t),n=!0),e=n}else{var r,o=this.r11();o.pr_1 instanceof Yr?r=!1:this.g11()?(o.ov(t),r=!0):r=!1,e=r}return e},qr.prototype.mo=function(t){if(this.p11())return vt();var e=t;this.s11(null==e?Ft(Da(this)+" was cancelled"):e)},qr.prototype.s11=function(t){var e=this.t11(t);return this.u11(e),e},qr.prototype.u11=function(t){var e=this.v11();if(null==e)throw Tt("Cannot happen");var n=e,i=Zs(null,1);t:for(;;){var r=n.pr_1;if(r instanceof eu)break t;r.rr()?i=Ks(i,r instanceof Yr?r:mt()):r.tv()}this.w11(i,n)},qr.prototype.w11=function(t,e){if(null!=t)if(t instanceof ge){var n=t instanceof ge?t:mt(),i=n.g()-1|0;if(0<=i)do{var r=i;i=i+-1|0,n.l(r).x11(e)}while(0<=i)}else{var o=t;(null==o||yt(o)?o:mt()).x11(e)}else vt()},qr.prototype.d=function(){return new Nr(this)},qr.prototype.y11=function(){var t=Vr.prototype.y11.call(this);return null!=t&&!(t instanceof Gr)&&this.k10(),t},qr.prototype.h10=function(){},qr.prototype.k10=function(){},qr.$metadata$=Ct("AbstractChannel",[ro],void 0,void 0,void 0,Vr.prototype),Hr.prototype.j12=function(){return this.i12_1},Hr.prototype.n11=function(){return this.i12_1},Hr.prototype.l11=function(t){var e=pn();return null==t||t.y10(),e},Hr.prototype.m11=function(){},Hr.prototype.x11=function(t){},Hr.prototype.toString=function(){return"SendBuffered@"+Ra(this)+"("+this.i12_1+")"},Hr.$metadata$=Ct("SendBuffered",void 0,void 0,void 0,void 0,Yr.prototype),Vr.prototype.f10=function(){return this.c10_1},Vr.prototype.r11=function(){return this.d10_1},Vr.prototype.z11=function(t){for(;;){var e=this.y11();if(null==e)return Or();var n=e;if(null!=n.t10(t,null))return n.z10(t),n.e11()}},Vr.prototype.v11=function(){var t,e,n=(t=this.d10_1.pr_1)instanceof Gr?t:null;return null==n?e=null:(Fr(this,n),e=n),e},Vr.prototype.q11=function(){var t,e,n=(t=this.d10_1.or_1)instanceof Gr?t:null;return null==n?e=null:(Fr(this,n),e=n),e},Vr.prototype.h11=function(){var t,e=this.d10_1,n=e.or_1;if(n!==e)if(n instanceof Yr)if(n instanceof Gr)t=n;else{if(!n.pv())throw Tt(jt("Should remove"));t=n}else t=null;else t=null;return t},Vr.prototype.k12=function(t){var e=this.d10_1,n=new Hr(t),i=e.pr_1;return Rt(i,Wr)?i:(e.ov(n),null)},Vr.prototype.a12=function(t){var e,n=this.z11(t);if(n===Ir())e=co().o12(vt());else if(n===Or()){var i=this.v11();if(null==i)return co().n12();var r=i;e=co().m12(Br(this,r))}else{if(!(n instanceof Gr)){var o="trySend returned "+jt(n);throw Tt(jt(o))}e=co().m12(Br(this,n))}return e},Vr.prototype.t11=function(t){var e,n=new Gr(t),i=this.d10_1;i.pr_1 instanceof Gr?e=!1:(i.ov(n),e=!0);var r,o,s=e;return s?r=n:r=(o=this.d10_1.pr_1)instanceof Gr?o:mt(),Fr(this,r),s&&function(t,e){var n=t.e10_1.pm_1;null!==n&&n!==Mr()&&t.e10_1.atomicfu$compareAndSet(n,Mr())&&(null!=n&&"function"==typeof n?n:mt())(e)}(this,t),s},Vr.prototype.c12=function(t){},Vr.prototype.y11=function(){var t,e=this.d10_1,n=e.or_1;if(n!==e)if(Rt(n,Wr))if(n instanceof Gr)t=n;else{if(!n.pv())throw Tt(jt("Should remove"));t=n}else t=null;else t=null;return t},Vr.prototype.toString=function(){return Da(this)+"@"+Ra(this)+"{"+Ur(this)+"}"+this.d12()},Vr.prototype.d12=function(){return""},Vr.$metadata$=Ct("AbstractSendChannel",[so]),Yr.prototype.o11=function(){},Yr.$metadata$=Ct("Send",void 0,void 0,void 0,void 0,nu.prototype),Wr.$metadata$=Dt("ReceiveOrClosed"),Gr.prototype.p12=function(){return this.uz_1},Gr.prototype.e12=function(){var t=this.uz_1;return null==t?new fo(mo()):t},Gr.prototype.vz=function(){var t=this.uz_1;return null==t?new po(mo()):t},Gr.prototype.e11=function(){return this},Gr.prototype.n11=function(){return this},Gr.prototype.l11=function(t){var e=pn();return null==t||t.y10(),e},Gr.prototype.m11=function(){},Gr.prototype.t10=function(t,e){var n=pn();return null==e||e.y10(),n},Gr.prototype.z10=function(t){},Gr.prototype.x11=function(t){return vt()},Gr.prototype.toString=function(){return"Closed@"+Ra(this)+"["+this.uz_1+"]"},Gr.$metadata$=Ct("Closed",[Wr],void 0,void 0,void 0,Yr.prototype),Zr.prototype.e11=function(){return Ir()},Zr.$metadata$=Ct("Receive",[Wr],void 0,void 0,void 0,nu.prototype),Jr.prototype.f11=function(){return!1},Jr.prototype.g11=function(){return 0===this.y12_1.qm_1},Jr.prototype.p11=function(){return this.v12_1,qr.prototype.p11.call(this)},Jr.prototype.z11=function(t){var e=null;this.v12_1;t:{var n=this.y12_1.qm_1,i=this.v11();if(null!=i)return i;var r=function(t,e){if(e<t.t12_1)return t.y12_1.qm_1=e+1|0,null;var n;switch(t.u12_1.i5()){case 0:n=Or();break;case 2:n=Ir();break;case 1:n=null;break;default:se()}return n}(this,n);if(null!=r)return r;if(0===n)e:for(;;){var o=this.y11();if(null==o)break e;if((e=o)instanceof Gr)return this.y12_1.qm_1=n,Te(e);if(null!=Te(e).t10(t,null)){this.y12_1.qm_1=n,vt();break t}}return Xr(this,n,t),Ir()}return Te(e).z10(t),Te(e).e11()},Jr.prototype.b10=function(){var t,e=null,n=!1,i=(this.v12_1,this.y12_1.qm_1);if(0===i){var r=this.v11();return null==r?zr():r}t=this.w12_1[this.x12_1],this.w12_1[this.x12_1]=null,this.y12_1.qm_1=i-1|0;var o=zr();if(i===this.t12_1)t:for(;;){var s=this.h11();if(null==s)break t;if(null!=Te(e=s).l11(null)){n=!0,o=Te(e).n11();break t}Te(e).o11()}return o!==zr()&&!(o instanceof Gr)&&(this.y12_1.qm_1=i,this.w12_1[(this.x12_1+i|0)%this.w12_1.length|0]=o),this.x12_1=(this.x12_1+1|0)%this.w12_1.length|0,vt(),n&&Te(e).m11(),t},Jr.prototype.g10=function(t){return this.v12_1,qr.prototype.g10.call(this,t)},Jr.prototype.u11=function(t){var e=this.f10(),n=null,i=(this.v12_1,this.y12_1.qm_1),r=0;if(r<i)do{r=r+1|0;var o=this.w12_1[this.x12_1];null!=e&&o!==Tr()&&(n=ta(e,null==o||yt(o)?o:mt(),n)),this.w12_1[this.x12_1]=Tr(),this.x12_1=(this.x12_1+1|0)%this.w12_1.length|0}while(r<i);if(this.y12_1.qm_1=0,vt(),qr.prototype.u11.call(this,t),null!=n)throw n},Jr.prototype.d12=function(){return"(buffer:capacity="+this.t12_1+",size="+this.y12_1.qm_1+")"},Jr.$metadata$=Ct("ArrayChannel",void 0,void 0,void 0,void 0,qr.prototype),to.$metadata$=Ct("BufferOverflow",void 0,void 0,void 0,void 0,re.prototype),no.$metadata$=Lt("Factory"),ro.$metadata$=Dt("Channel",[so,oo]),oo.$metadata$=Dt("ReceiveChannel"),so.$metadata$=Dt("SendChannel"),ao.prototype.toString=function(){return"Failed"},ao.$metadata$=Ct("Failed"),uo.prototype.equals=function(t){return t instanceof uo&&kt(this.g13_1,t.g13_1)},uo.prototype.hashCode=function(){var t=this.g13_1,e=null==t?null:qt(t);return null==e?0:e},uo.prototype.toString=function(){return"Closed("+this.g13_1+")"},uo.$metadata$=Ct("Closed",void 0,void 0,void 0,void 0,ao.prototype),lo.prototype.o12=function(t){return t},lo.prototype.n12=function(){return this.l12_1},lo.prototype.m12=function(t){return new uo(t)},lo.$metadata$=Lt("Companion"),ho.$metadata$=Dt("ChannelIterator"),po.$metadata$=Ct("ClosedReceiveChannelException",void 0,void 0,void 0,void 0,Ie.prototype),fo.$metadata$=Ct("ClosedSendChannelException",void 0,void 0,void 0,void 0,ze.prototype),vo.prototype.f11=function(){return!1},vo.prototype.g11=function(){return this.k13_1,this.l13_1===Tr()},vo.prototype.z11=function(t){var e=null;this.k13_1;t:{var n=this.v11();if(null!=n)return n;if(this.l13_1===Tr())e:for(;;){var i=this.y11();if(null==i)break e;if((e=i)instanceof Gr)return Te(e);if(null!=Te(e).t10(t,null)){vt();break t}}var r=yo(this,t);if(null!=r)throw r;return Ir()}return Te(e).z10(t),Te(e).e11()},vo.prototype.b10=function(){var t;if(this.k13_1,this.l13_1===Tr()){var e=this.v11();return null==e?zr():e}return t=this.l13_1,this.l13_1=Tr(),vt(),t},vo.prototype.u11=function(t){var e;if(this.k13_1,e=yo(this,Tr()),vt(),qr.prototype.u11.call(this,t),null!=e)throw e},vo.prototype.g10=function(t){return this.k13_1,qr.prototype.g10.call(this,t)},vo.prototype.d12=function(){return this.k13_1,"(value="+Pt(this.l13_1)+")"},vo.$metadata$=Ct("ConflatedChannel",void 0,void 0,void 0,void 0,qr.prototype),go.prototype.f11=function(){return!0},go.prototype.g11=function(){return!0},go.prototype.z11=function(t){for(;;){var e=qr.prototype.z11.call(this,t);if(e===Ir())return Ir();if(e!==Or()){if(e instanceof Gr)return e;var n="Invalid offerInternal result "+jt(e);throw Tt(jt(n))}var i=this.k12(t);if(null==i)return Ir();if(i instanceof Gr)return i}},go.prototype.w11=function(t,e){var n=null;if(null!=t)if(t instanceof ge){var i=t instanceof ge?t:mt(),r=i.g()-1|0;if(0<=r)do{var o=r;r=r+-1|0;var s=i.l(o);if(s instanceof Hr){var a,u=this.f10();if(null==u)a=null;else{var l=s.i12_1;a=ta(u,null==l||yt(l)?l:mt(),n)}n=a}else s.x11(e)}while(0<=r)}else{var c=t,h=null==c||yt(c)?c:mt();if(h instanceof Hr){var p,_=this.f10();if(null==_)p=null;else{var f=h.i12_1;p=ta(_,null==f||yt(f)?f:mt(),n)}n=p}else h.x11(e)}else vt();if(null!=n)throw n},go.$metadata$=Ct("LinkedListChannel",void 0,void 0,void 0,void 0,qr.prototype),wo.prototype.f11=function(){return!0},wo.prototype.g11=function(){return!0},wo.$metadata$=Ct("RendezvousChannel",void 0,void 0,void 0,void 0,qr.prototype),bo.prototype.t13=function(t,e){return this.s13_1(t,e)},bo.$metadata$=Ct("SafeFlow",void 0,void 0,void 0,void 0,Co.prototype),xo.$metadata$=Dt("Flow"),$o.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.f14_1=new Qa(this.e14_1,this.i4()),this.hi_1=1;continue t;case 1:if(this.ii_1=4,this.hi_1=2,(t=this.d14_1.t13(this.f14_1,this))===zt())return t;continue t;case 2:this.g14_1=t,this.ii_1=5,this.hi_1=3;continue t;case 3:return this.f14_1.l14(),vt();case 4:this.ii_1=5;var e=this.ki_1;throw this.f14_1.l14(),e;case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$o.$metadata$=Ct("$collectCOROUTINE$6",void 0,void 0,void 0,void 0,Mt.prototype),Co.prototype.u13=function(t,e){var n=new $o(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},Co.$metadata$=Ct("AbstractFlow",[xo,hs]),Eo.$metadata$=Dt("FlowCollector"),ko.$metadata$=Dt("SharedFlow",[xo]),So.$metadata$=Dt("MutableSharedFlow",[ko,Eo]),Fo.prototype.yq=function(){return function(t,e){if(e.i15_1.j1(To(t))<0)return vt();var n=Te(t.v14_1);return Yo(n,e.i15_1)!==e?vt():(Wo(n,e.i15_1,Ao()),No(t))}(this.h15_1,this)},Fo.$metadata$=Ct("Emitter",[yi]),Uo.prototype.ri=function(){var t,e,n,i,r=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=13,this.w15_1=this.u15_1.a16(),this.hi_1=1;continue t;case 1:if(this.ii_1=12,this.v15_1 instanceof gs){if(this.hi_1=2,(r=this.v15_1.d16(this))===zt())return r;continue t}this.hi_1=3;continue t;case 2:this.hi_1=3;continue t;case 3:this.y15_1=this.i4().u4(gi()),this.hi_1=4;continue t;case 4:case 7:this.hi_1=5;continue t;case 5:if(this.z15_1=Lo(this.u15_1,this.w15_1),this.z15_1!==Ao()){this.hi_1=8;continue t}this.hi_1=6;continue t;case 6:if(this.hi_1=7,t=this.u15_1,e=this.w15_1,n=void 0,i=void 0,(i=new En(Ot(this),Hs())).js(),qo(t,e).j1(new ae(0,0))<0?(e.g15_1=i,e.g15_1=i):(Vt(),n=Yt(vt()),i.g4(n),vt()),(r=i.gp())===zt())return r;continue t;case 8:var o=this.y15_1;null==o||ki(o),this.hi_1=9;var s=this.z15_1;if((r=this.v15_1.m14(null==s||yt(s)?s:mt(),this))===zt())return r;continue t;case 9:this.hi_1=4;continue t;case 10:this.x15_1=vt(),this.ii_1=13,this.hi_1=11;continue t;case 11:return this.u15_1.e16(this.w15_1),vt();case 12:this.ii_1=13;var a=this.ki_1;throw this.u15_1.e16(this.w15_1),a;case 13:throw this.ki_1}}catch(t){if(13===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Uo.$metadata$=Ct("$collectCOROUTINE$7",void 0,void 0,void 0,void 0,Mt.prototype),Ho.prototype.f16=function(){var t=Te(this.v14_1),e=this.w14_1,n=Io(this),i=Yo(t,e.w5(Re(n)).x5(new ae(1,0)));return null==i||yt(i)?i:mt()},Ho.prototype.n14=function(t,e){var n=new Uo(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},Ho.prototype.u13=function(t,e){return this.n14(t,e)},Ho.prototype.g16=function(t){var e,n=rs();Mo(this,t)?(n=Bo(this,n),e=!0):e=!1;for(var i=e,r=n,o=0,s=r.length;o<s;){var a=r[o];o=o+1|0;var u,l=a;null==l||(Vt(),u=Yt(vt()),l.g4(u))}return i},Ho.prototype.m14=function(t,e){return this.g16(t)?vt():function(t,e,n){var i=new En(Ot(n),Hs());i.js();var r,o,s=rs();if(Mo(t,e)){var a;Vt(),a=Yt(vt()),i.g4(a),s=Bo(t,s),o=null}else{var u=To(t),l=Oo(t),c=new Fo(t,u.w5(Re(l)),e,i);Ro(t,c);var h=t,p=h.z14_1;h.z14_1=p+1|0,0===t.t14_1&&(s=Bo(t,s)),o=c}null==(r=o)||an(i,r);for(var _=s,f=0,d=_.length;f<d;){var m=_[f];f=f+1|0;var y,v=m;null==v||(Vt(),y=Yt(vt()),v.g4(y))}return i.gp()}(this,t,e)},Ho.prototype.h16=function(){var t=this.w14_1;return t.j1(this.x14_1)<0&&(this.x14_1=t),t},Ho.prototype.l15=function(t){if(t.j1(this.x14_1)>0)return rs();var e=To(this),n=this.y14_1,i=e.w5(Re(n));if(0===this.t14_1&&this.z14_1>0&&(i=i.uh()),0!==this.b15_1){var r=this.a15_1;if(null==r);else for(var o=Pe(r);o.e();){var s=o.f();null!=s&&s.f15_1.j1(new ae(0,0))>=0&&s.f15_1.j1(i)<0&&(i=s.f15_1)}}else vt();if(i.j1(this.x14_1)<=0)return rs();var a,u=zo(this);if(this.e15()>0){var l=u.x5(i).m6(),c=this.z14_1,h=this.t14_1-l|0;a=Math.min(c,h)}else a=this.z14_1;var p=a,_=rs(),f=u,d=this.z14_1,m=f.w5(Re(d));if(p>0){_=Ee(Array(p),null);var y=0,v=Te(this.v14_1),g=u,w=new ae(1,0);if(g.j1(m)<0)t:do{var b=g;g=g.w5(w);var x=Yo(v,b);if(x!==Ao()){x instanceof Fo||mt();var $=y;if(y=$+1|0,_[$]=x.k15_1,Wo(v,b,Ao()),Wo(v,u,x.j15_1),u=u.uh(),y>=p)break t}}while(g.j1(m)<0)}var C=u.x5(e).m6();0===this.e15()&&(i=u);var E=this.w14_1,A=u,k=this.s14_1,S=Math.min(k,C),T=A.x5(Re(S)),I=E.j1(T)>=0?E:T;return 0===this.t14_1&&I.j1(m)<0&&kt(Yo(Te(this.v14_1),I),Ao())&&(u=u.uh(),I=I.uh()),jo(this,I,i,u,m),No(this),!(0===_.length)&&(_=Bo(this,_)),_},Ho.prototype.i16=function(){return new Vo},Ho.prototype.j16=function(t){return Ee(Array(t),null)},Ho.$metadata$=Ct("SharedFlowImpl",[So,hs,as],void 0,void 0,void 0,os.prototype),Vo.prototype.m16=function(t){this.f15_1=t},Vo.prototype.x1=function(){return this.f15_1},Vo.prototype.n16=function(t){this.g15_1=t},Vo.prototype.o16=function(){return this.g15_1},Vo.prototype.p16=function(t){return!(this.f15_1.j1(new ae(0,0))>=0||(this.f15_1=t.h16(),0))},Vo.prototype.q16=function(t){return this.p16(t instanceof Ho?t:mt())},Vo.prototype.r16=function(t){var e=this.f15_1;return this.f15_1=new ae(-1,-1),this.g15_1=null,t.l15(e)},Vo.prototype.s16=function(t){return this.r16(t instanceof Ho?t:mt())},Vo.$metadata$=Ct("SharedFlowSlot",void 0,void 0,void 0,void 0,ss.prototype),Xo.$metadata$=Dt("MutableStateFlow",[Jo,So]),Jo.$metadata$=Dt("StateFlow",[ko]),ts.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=12,this.n17_1=this.l17_1.a16(),this.hi_1=1;continue t;case 1:if(this.ii_1=11,this.m17_1 instanceof gs){if(this.hi_1=2,(t=this.m17_1.d16(this))===zt())return t;continue t}this.hi_1=3;continue t;case 2:this.hi_1=3;continue t;case 3:this.p17_1=this.i4().u4(gi()),this.q17_1=null,this.hi_1=4;continue t;case 4:this.r17_1=this.l17_1.z16_1.pm_1;var e,n=this.p17_1;if(null==n||ki(n),null!=this.q17_1&&kt(this.q17_1,this.r17_1)){this.hi_1=6;continue t}if(this.hi_1=5,this.s17_1=us(),this.r17_1===this.s17_1)e=null;else{var i=this.r17_1;e=yt(i)?i:mt()}if((t=this.m17_1.m14(e,this))===zt())return t;continue t;case 5:this.q17_1=this.r17_1,this.hi_1=6;continue t;case 6:if(this.n17_1.u17()){this.hi_1=8;continue t}if(this.hi_1=7,(t=this.n17_1.t17(this))===zt())return t;continue t;case 7:this.hi_1=8;continue t;case 8:this.hi_1=4;continue t;case 9:this.o17_1=vt(),this.ii_1=12,this.hi_1=10;continue t;case 10:return this.l17_1.e16(this.n17_1),vt();case 11:this.ii_1=12;var r=this.ki_1;throw this.l17_1.e16(this.n17_1),r;case 12:throw this.ki_1}}catch(t){if(12===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ts.$metadata$=Ct("$collectCOROUTINE$8",void 0,void 0,void 0,void 0,Mt.prototype),es.prototype.t16=function(t){var e=t;Qo(this,null,null==e?us():e)},es.prototype.b1=function(){var t=us(),e=this.z16_1.pm_1;return e===t?null:yt(e)?e:mt()},es.prototype.u16=function(t,e){var n=t,i=e;return Qo(this,null==n?us():n,null==i?us():i)},es.prototype.m14=function(t,e){return this.t16(t),vt()},es.prototype.n14=function(t,e){var n=new ts(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},es.prototype.u13=function(t,e){return this.n14(t,e)},es.prototype.i16=function(){return new ns},es.prototype.j16=function(t){return Ee(Array(t),null)},es.$metadata$=Ct("StateFlowImpl",[Xo,hs,as],void 0,void 0,void 0,os.prototype),ns.prototype.v17=function(t){return null==this.b17_1.pm_1&&(this.b17_1.pm_1=Zo(),!0)},ns.prototype.q16=function(t){return this.v17(t instanceof es?t:mt())},ns.prototype.w17=function(t){return this.b17_1.pm_1=null,rs()},ns.prototype.s16=function(t){return this.w17(t instanceof es?t:mt())},ns.prototype.c17=function(){for(var t=this.b17_1;;){var e=t.pm_1;if(null==e)return vt();if(e===Ko())return vt();if(e===Zo()){if(this.b17_1.atomicfu$compareAndSet(e,Ko()))return vt()}else if(this.b17_1.atomicfu$compareAndSet(e,Zo())){var n,i=e instanceof En?e:mt();return Vt(),n=Yt(vt()),i.g4(n),vt()}}},ns.prototype.u17=function(){return Te(this.b17_1.atomicfu$getAndSet(Zo()))===Ko()},ns.prototype.t17=function(t){var e,n=new En(Ot(t),Hs());return n.js(),this.b17_1.atomicfu$compareAndSet(Zo(),n)?vt():(Vt(),e=Yt(vt()),n.g4(e)),n.gp()},ns.$metadata$=Ct("StateFlowSlot",void 0,void 0,void 0,void 0,ss.prototype),os.prototype.k16=function(){return this.a15_1},os.prototype.e15=function(){return this.b15_1},os.prototype.a16=function(){var t,e=null,n=this.a15_1;if(null==n){var i=this.j16(2);this.a15_1=i,t=i}else{var r;if(this.b15_1>=n.length){var o=je(n,dt(2,n.length));this.a15_1=o,r=o}else r=n;t=r}var s,a=t,u=this.c15_1;t:for(;;){var l,c=a[u];if(null==c){var h=this.i16();a[u]=h,l=h}else l=c;if(s=l,(u=u+1|0)>=a.length&&(u=0),(s instanceof ss?s:mt()).q16(this))break t}this.c15_1=u;var p=this.b15_1;this.b15_1=p+1|0;var _=s;return null==(e=this.d15_1)||e.j18(1),_},os.prototype.e16=function(t){var e=null,n=this.b15_1;this.b15_1=n-1|0,e=this.d15_1,0===this.b15_1&&(this.c15_1=0);for(var i=(t instanceof ss?t:mt()).s16(this),r=0,o=i.length;r<o;){var s=i[r];r=r+1|0;var a,u=s;null==u||(Vt(),a=Yt(vt()),u.g4(a))}null==e||e.j18(-1)},os.prototype.l16=function(t){if(0===this.b15_1)return vt();var e=this.a15_1;if(null==e);else for(var n=Pe(e);n.e();){var i=n.f();null!=i&&t(i)}},os.$metadata$=Ct("AbstractSharedFlow"),ss.$metadata$=Ct("AbstractSharedFlowSlot"),as.$metadata$=Dt("FusibleFlow",[xo]),cs.prototype.u13=function(t,e){return this.k18_1(t,e)},cs.$metadata$=Ct(void 0,[xo]),hs.$metadata$=Dt("CancellableFlow",[xo]),ps.$metadata$=Ct("ThrowingCollector",[Eo]),_s.prototype.m14=function(t,e){return this.m18_1(t,e)},_s.$metadata$=Ct("sam$kotlinx_coroutines_flow_FlowCollector$0",[Eo]),fs.prototype.y18=function(t,e){var n=this.z18(t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},fs.prototype.si=function(t,e){return this.y18(null==t||yt(t)?t:mt(),e)},fs.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.v18_1(this.w18_1,this.x18_1,this))===zt())return t;continue t;case 1:return vt();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},fs.prototype.z18=function(t,e){var n=new fs(this.v18_1,this.w18_1,e);return n.x18_1=t,n},fs.$metadata$=Ct("unsafeTransform$o$collect$slambda",void 0,void 0,void 0,[1],Mt.prototype),ms.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=ds(this.i19_1.l19_1,this.j19_1,null);if((t=this.i19_1.k19_1.u13(new _s(e),this))===zt())return t;continue t;case 1:return vt();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ms.$metadata$=Ct("$collectCOROUTINE$10",void 0,void 0,void 0,void 0,Mt.prototype),ys.prototype.m19=function(t,e){var n=new ms(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},ys.prototype.u13=function(t,e){return this.m19(t,e)},ys.$metadata$=Ct(void 0,[xo]),vs.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=7,this.w19_1=new Qa(this.v19_1.b16_1,this.i4()),this.hi_1=1;continue t;case 1:if(this.ii_1=6,this.hi_1=2,(t=this.v19_1.c16_1(this.w19_1,this))===zt())return t;continue t;case 2:this.x19_1=t,this.ii_1=7,this.hi_1=3;continue t;case 3:if(this.w19_1.l14(),this.v19_1.b16_1 instanceof gs){if(this.hi_1=4,(t=this.v19_1.b16_1.d16(this))===zt())return t;continue t}this.hi_1=5;continue t;case 4:this.hi_1=5;continue t;case 5:return vt();case 6:this.ii_1=7;var e=this.ki_1;throw this.w19_1.l14(),e;case 7:throw this.ki_1}}catch(t){if(7===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},vs.$metadata$=Ct("$onSubscriptionCOROUTINE$15",void 0,void 0,void 0,void 0,Mt.prototype),gs.prototype.d16=function(t){var e=new vs(this,t);return e.ji_1=vt(),e.ki_1=null,e.ri()},gs.$metadata$=Ct("SubscribedFlowCollector",[Eo]),ws.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.g1a_1.j1a_1.n14(this.h1a_1,this))===zt())return t;continue t;case 1:Ne();break;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ws.$metadata$=Ct("$collectCOROUTINE$16",void 0,void 0,void 0,void 0,Mt.prototype),bs.prototype.n14=function(t,e){var n=new ws(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},bs.prototype.u13=function(t,e){return this.n14(t,e)},bs.$metadata$=Ct("ReadonlySharedFlow",[ko,hs,as]),xs.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.s1a_1.v1a_1.n14(this.t1a_1,this))===zt())return t;continue t;case 1:Ne();break;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},xs.$metadata$=Ct("$collectCOROUTINE$17",void 0,void 0,void 0,void 0,Mt.prototype),$s.prototype.b1=function(){return this.v1a_1.b1()},$s.prototype.n14=function(t,e){var n=new xs(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},$s.prototype.u13=function(t,e){return this.n14(t,e)},$s.$metadata$=Ct("ReadonlyStateFlow",[Jo,hs,as]),Cs.prototype.m14=function(t,e){return this.w1a_1(t,e)},Cs.$metadata$=Ct("sam$kotlinx_coroutines_flow_FlowCollector$0",[Eo]),Es.prototype.y18=function(t,e){var n=this.z18(t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},Es.prototype.si=function(t,e){return this.y18(null==t||yt(t)?t:mt(),e)},Es.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.f1b_1(this.h1b_1,this))===zt())return t;continue t;case 1:if(this.hi_1=2,(t=this.g1b_1.m14(this.h1b_1,this))===zt())return t;continue t;case 2:return vt();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Es.prototype.z18=function(t,e){var n=new Es(this.f1b_1,this.g1b_1,e);return n.h1b_1=t,n},Es.$metadata$=Ct("onEach$o$collect$slambda",void 0,void 0,void 0,[1],Mt.prototype),ks.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=As(this.q1b_1.t1b_1,this.r1b_1,null);if((t=this.q1b_1.s1b_1.u13(new Cs(e),this))===zt())return t;continue t;case 1:return vt();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ks.$metadata$=Ct("$collectCOROUTINE$18",void 0,void 0,void 0,void 0,Mt.prototype),Ss.prototype.u13=function(t,e){var n=new ks(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},Ss.$metadata$=Ct(void 0,[xo]),Ts.prototype.m14=function(t,e){return this.u1b_1(t,e)},Ts.$metadata$=Ct("sam$kotlinx_coroutines_flow_FlowCollector$0",[Eo]),Is.prototype.y18=function(t,e){var n=this.z18(t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},Is.prototype.si=function(t,e){return this.y18(null==t||yt(t)?t:mt(),e)},Is.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.e1c_1(this.f1c_1,this))===zt())return t;continue t;case 1:if(this.g1c_1=t,this.hi_1=2,(t=this.d1c_1.m14(this.g1c_1,this))===zt())return t;continue t;case 2:return vt();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Is.prototype.z18=function(t,e){var n=new Is(this.d1c_1,this.e1c_1,e);return n.f1c_1=t,n},Is.$metadata$=Ct("map$o$collect$slambda",void 0,void 0,void 0,[1],Mt.prototype),zs.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=Os(this.q1c_1,this.p1c_1.s1c_1,null);if((t=this.p1c_1.r1c_1.u13(new Ts(e),this))===zt())return t;continue t;case 1:return vt();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},zs.$metadata$=Ct("$collectCOROUTINE$19",void 0,void 0,void 0,void 0,Mt.prototype),Ms.prototype.m19=function(t,e){var n=new zs(this,t,e);return n.ji_1=vt(),n.ki_1=null,n.ri()},Ms.prototype.u13=function(t,e){return this.m19(t,e)},Ms.$metadata$=Ct(void 0,[xo]),Ds.prototype.su=function(){return this.lu_1===this.mu_1},Ds.prototype.pu=function(t){this.ku_1[this.mu_1]=t,this.mu_1=(this.mu_1+1|0)&(this.ku_1.length-1|0),this.mu_1===this.lu_1&&function(t){var e=t.ku_1.length,n=Ee(Array(e<<1),null),i=t.ku_1,r=t.lu_1,o=i.length;Le(i,n,0,r,o);var s=t.ku_1,a=t.ku_1.length-t.lu_1|0,u=t.lu_1;Le(s,n,a,0,u),t.ku_1=n,t.lu_1=0,t.mu_1=e}(this)},Ds.prototype.nu=function(){if(this.lu_1===this.mu_1)return null;var t=this.ku_1[this.lu_1];return this.ku_1[this.lu_1]=null,this.lu_1=(this.lu_1+1|0)&(this.ku_1.length-1|0),yt(t)?t:mt()},Ds.$metadata$=Ct("ArrayQueue"),Ps.prototype.toString=function(){return Da(this)+"@"+Ra(this)},Ps.$metadata$=Ct("OpDescriptor"),js.prototype.u1c=function(t){var e=this.t1c_1.pm_1;return e!==Rs()?e:this.t1c_1.atomicfu$compareAndSet(Rs(),t)?t:this.t1c_1.pm_1},js.prototype.yx=function(t){var e=this.t1c_1.pm_1;return e===Rs()&&(e=this.u1c(this.v1c(null==t||yt(t)?t:mt()))),this.w1c(null==t||yt(t)?t:mt(),e),e},js.$metadata$=Ct("AtomicOp",void 0,void 0,void 0,void 0,Ps.prototype),Fs.prototype.y1c=function(){return this.br_1},Fs.prototype.i4=function(){return this.br_1.i4()},Fs.prototype.z1c=function(){return this.dr_1},Fs.prototype.sr=function(){return!(null==this.er_1.pm_1)},Fs.prototype.a1d=function(){for(var t=this.er_1;;)if(t.pm_1!==Ls())return vt()},Fs.prototype.yt=function(){this.a1d();var t,e=(t=this.er_1.pm_1)instanceof En?t:null;null==e||e.xr()},Fs.prototype.fr=function(){for(var t=this.er_1;;){var e=t.pm_1;if(null===e)return this.er_1.pm_1=Ls(),null;if(e instanceof En){if(this.er_1.atomicfu$compareAndSet(e,Ls()))return e instanceof En?e:mt()}else if(e===Ls());else if(!(e instanceof Error)){var n="Inconsistent state "+Pt(e);throw Tt(jt(n))}}},Fs.prototype.wr=function(t){for(var e=this.er_1;;){var n=e.pm_1;if(n!==Ls()){if(n instanceof Error){if(!this.er_1.atomicfu$compareAndSet(n,null))throw ke(jt("Failed requirement."));return n}var i="Inconsistent state "+Pt(n);throw Tt(jt(i))}if(this.er_1.atomicfu$compareAndSet(Ls(),t))return null}},Fs.prototype.vr=function(t){for(var e=this.er_1;;){var n=e.pm_1,i=n;if(kt(i,Ls())){if(this.er_1.atomicfu$compareAndSet(Ls(),t))return!0}else{if(i instanceof Error)return!0;if(this.er_1.atomicfu$compareAndSet(n,null))return!1}}},Fs.prototype.ks=function(){var t=this.cr_1;return this.cr_1=Ns(),t},Fs.prototype.is=function(){return this},Fs.prototype.g4=function(t){var e=this.br_1.i4(),n=Fn(t,null,1);if(this.ar_1.wt(e))this.cr_1=n,this.x1c(Ws()),this.ar_1.xt(e,this);else{var i=Ws(),r=fi().xu();if(r.qu())this.cr_1=n,this.x1c(i),r.ou(this);else{r.tu(!0);try{for(this.i4(),this.dr_1,this.br_1.g4(t);r.ju(););}catch(t){if(!(t instanceof Error))throw t;this.ws(t,null)}finally{r.uu(!0)}}}},Fs.prototype.ls=function(t,e){t instanceof Un&&t.ut_1(e)},Fs.prototype.b1d=function(t){var e=this.i4().u4(gi());if(null!=e&&!e.hn()){var n,i=e.eo();return this.ls(t,i),Vt(),n=Yt(Wt(i)),this.g4(n),!0}return!1},Fs.prototype.c1d=function(t){this.br_1,this.dr_1,this.br_1.g4(t)},Fs.prototype.toString=function(){return"DispatchedContinuation["+this.ar_1+", "+Sa(this.br_1)+"]"},Fs.$metadata$=Ct("DispatchedContinuation",[iu,$t],void 0,void 0,void 0,Vs.prototype),Vs.prototype.x1c=function(t){this.tr_1=t},Vs.prototype.ur=function(){return this.tr_1},Vs.prototype.ls=function(t,e){},Vs.prototype.ss=function(t){return null==t||yt(t)?t:mt()},Vs.prototype.us=function(t){var e=t instanceof Ln?t:null;return null==e?null:e.mn_1},Vs.prototype.vs=function(){vt();var t=null;try{var e=this.is(),n=e instanceof Fs?e:mt(),i=n.br_1,r=(n.dr_1,i.i4()),o=this.ks(),s=this.us(o),a=null==s&&Ys(this.tr_1)?r.u4(gi()):null;if(null==a||a.hn()){if(null!=s){var u;Vt(),u=Yt(Wt(s)),i.g4(u)}else{var l,c=this.ss(o);Vt(),l=Yt(c),i.g4(l)}}else{var h,p=a.eo();this.ls(o,p),Vt();var _=ru(p);h=Yt(Wt(_)),i.g4(h)}}catch(e){if(!(e instanceof Error))throw e;t=e}finally{var f;try{Vt(),vt(),f=Yt(vt())}catch(t){if(!(t instanceof Error))throw t;Vt(),f=Yt(Wt(t))}var d=f;this.ws(t,Ut(d))}},Vs.prototype.ws=function(t,e){if(null===t&&null===e)return vt();var n=new mi("Fatal exception in coroutines machinery for "+this+". Please read KDoc to 'handleFatalException' method and report this incident to maintainers",Te(null==t?e:t));Gn(this.is().i4(),n)},Vs.$metadata$=Ct("DispatchedTask",void 0,void 0,void 0,void 0,Ja.prototype),Xs.prototype.toString=function(){return t=this.d1d_1,"InlineList(holder="+Pt(t)+")";var t},Xs.prototype.hashCode=function(){return null==(t=this.d1d_1)?0:qt(t);var t},Xs.prototype.equals=function(t){return function(t,e){if(!(e instanceof Xs))return!1;var n=e instanceof Xs?e.d1d_1:mt();return!!kt(t,n)}(this.d1d_1,t)},Xs.$metadata$=Ct("InlineList"),Qs.$metadata$=Ct("UndeliveredElementException",void 0,void 0,void 0,void 0,le.prototype),ea.prototype.gn=function(){return this.e1d_1},ea.prototype.toString=function(){return"CoroutineScope(coroutineContext="+this.e1d_1+")"},ea.$metadata$=Ct("ContextScope",[ni]),na.prototype.sp=function(){return this.rp_1},na.prototype.wo=function(){return!0},na.prototype.tp=function(){var t=this.zn();return null==t?null:t.tp()},na.prototype.rn=function(t){Bs(Ot(this.rp_1),Hn(t,this.rp_1),null,2)},na.prototype.qn=function(t){this.rp_1.g4(Hn(t,this.rp_1))},na.$metadata$=Ct("ScopeCoroutine",[iu],void 0,void 0,void 0,Je.prototype),ia.prototype.toString=function(){return"<"+this.f1d_1+">"},ia.prototype.g1d=function(t){return t===this?null:null==t||yt(t)?t:mt()},ia.$metadata$=Ct("Symbol"),ua.$metadata$=Dt("SelectClause0"),la.$metadata$=Dt("SelectClause1"),ca.$metadata$=Dt("SelectClause2"),da.prototype.i1d=function(){return this.h1d_1},da.prototype.toString=function(){return"Empty["+jt(this.h1d_1)+"]"},da.$metadata$=Ct("Empty"),ma.$metadata$=Dt("Mutex"),ya.prototype.y1d=function(t){this.w1d_1=t},ya.prototype.r1d=function(){return this.w1d_1},ya.prototype.toString=function(){return"LockedQueue["+jt(this.w1d_1)+"]"},ya.$metadata$=Ct("LockedQueue",void 0,void 0,void 0,void 0,eu.prototype),va.prototype.r1d=function(){return this.o1d_1},va.prototype.x1d=function(){return this.p1d_1.atomicfu$compareAndSet(!1,!0)},va.prototype.yq=function(){this.rr()},va.$metadata$=Ct("LockWaiter",[yi],void 0,void 0,void 0,nu.prototype),ga.prototype.z1d=function(){return!(!this.x1d()||null==this.h1e_1.oq(vt(),null,(t=this.i1e_1,e=this,function(n){return t.k1d(e.r1d()),vt()})));var t,e},ga.prototype.a1e=function(){return this.h1e_1.qq(pn())},ga.prototype.toString=function(){return"LockCont["+Pt(this.r1d())+", "+this.h1e_1+"] for "+this.i1e_1},ga.$metadata$=Ct("LockCont",void 0,void 0,void 0,void 0,va.prototype),wa.prototype.l1e=function(t){return this.k1e_1.su()?null:($a(),rt)},wa.prototype.v1c=function(t){return this.l1e(t instanceof xa?t:mt())},wa.prototype.m1e=function(t,e){var n=null==e?fa():this.k1e_1;t.s1d_1.atomicfu$compareAndSet(this,n)},wa.prototype.w1c=function(t,e){return this.m1e(t instanceof xa?t:mt(),e)},wa.$metadata$=Ct("UnlockOp",void 0,void 0,void 0,void 0,js.prototype),xa.prototype.n1e=function(t){for(var e=this.s1d_1;;){var n=e.pm_1,i=n;if(i instanceof da){if(n.h1d_1!==pa())return!1;var r=null==t?_a():new da(t);if(this.s1d_1.atomicfu$compareAndSet(n,r))return!0}else{if(i instanceof ya){var o;if(n.w1d_1===t)throw o="Already locked by "+Pt(t),Tt(jt(o));return!1}if(!(i instanceof Ps)){var s="Illegal state "+Pt(n);throw Tt(jt(s))}n.yx(this)}}},xa.prototype.j1d=function(t,e){return this.n1e(t)?vt():function(t,e,n){var i=cn(Ot(n));t:for(var r=new ga(t,e,i),o=t.s1d_1;;)e:{var s=o.pm_1,a=s;if(a instanceof da)if(s.h1d_1!==pa())t.s1d_1.atomicfu$compareAndSet(s,new ya(s.h1d_1));else{var u=null==e?_a():new da(e);if(t.s1d_1.atomicfu$compareAndSet(s,u)){i.vq(vt(),ba(t,e)),vt();break t}}else{if(a instanceof ya){var l;if(s.w1d_1===e)throw l="Already locked by "+Pt(e),Tt(jt(l));if(s.ov(r),t.s1d_1.pm_1===s||!r.x1d()){ln(i,r),vt();break t}r=new ga(t,e,i),vt();break e}if(!(a instanceof Ps)){var c="Illegal state "+Pt(s);throw Tt(jt(c))}s.yx(t)}}return i.gp()}(this,t,e)},xa.prototype.k1d=function(t){for(var e=this.s1d_1;;){var n=e.pm_1,i=n;if(i instanceof da){var r;if(null==t){if(n.h1d_1===pa())throw Tt(jt("Mutex is not locked"))}else if(n.h1d_1!==t)throw r="Mutex is locked by "+jt(n.h1d_1)+" but expected "+Pt(t),Tt(jt(r));if(this.s1d_1.atomicfu$compareAndSet(n,fa()))return vt()}else if(i instanceof Ps)n.yx(this);else{if(!(i instanceof ya)){var o="Illegal state "+Pt(n);throw Tt(jt(o))}var s;if(null!=t&&n.w1d_1!==t)throw s="Mutex is locked by "+jt(n.w1d_1)+" but expected "+Pt(t),Tt(jt(s));var a=n.nu();if(null==a){var u=new wa(n);if(this.s1d_1.atomicfu$compareAndSet(n,u)&&null==u.yx(this))return vt()}else if((a instanceof va?a:mt()).z1d()){var l=n,c=a.o1d_1;return l.w1d_1=null==c?ha():c,a.a1e(),vt()}}}},xa.prototype.toString=function(){for(var t=this.s1d_1;;){var e=t.pm_1,n=e;if(n instanceof da)return"Mutex["+jt(e.h1d_1)+"]";if(!(n instanceof Ps)){if(n instanceof ya)return"Mutex["+jt(e.w1d_1)+"]";var i="Illegal state "+Pt(e);throw Tt(jt(i))}e.yx(this)}},xa.$metadata$=Ct("MutexImpl",[ma,ca]),Ca.$metadata$=Ct("CloseableCoroutineDispatcher",void 0,void 0,void 0,void 0,Wn.prototype),Ea.$metadata$=Ct("CompletionHandlerBase",void 0,void 0,void 0,void 0,nu.prototype),ka.$metadata$=Ct("CancelHandlerBase"),Oa.prototype.qn=function(t){return this.sp().g4(Hn(t,this.sp()))},Oa.$metadata$=Ct("UndispatchedCoroutine",void 0,void 0,void 0,void 0,na.prototype),Pa.prototype.kz=function(){var t=this.jz_1;return null==t?this.iz_1:t},Pa.$metadata$=Lt("Dispatchers"),Na.prototype.ez=function(){return this.x1e_1},Na.prototype.wt=function(t){return!this.w1e_1},Na.prototype.xt=function(t,e){return this.v1e_1.xt(t,e)},Na.prototype.toString=function(){var t=this.fz();return null==t?this.v1e_1.toString():t},Na.$metadata$=Ct("JsMainDispatcher",void 0,void 0,void 0,void 0,$r.prototype),La.prototype.xt=function(t,e){!function(){throw Ce("runBlocking event loop is not supported")}()},La.$metadata$=Ct("UnconfinedEventLoop",void 0,void 0,void 0,void 0,pi.prototype),qa.prototype.toString=function(){return ve.prototype.toString.call(this)+"; job="+this.c1f_1},qa.prototype.equals=function(t){return t===this||!!(t instanceof qa&&t.message==this.message&&kt(t.c1f_1,this.c1f_1))&&kt(t.cause,this.cause)},qa.prototype.hashCode=function(){var t=dt(dt(ne(Te(this.message)),31)+qt(this.c1f_1)|0,31),e=this.cause,n=null==e?null:qt(e);return t+(null==n?0:n)|0},qa.$metadata$=Ct("JobCancellationException",void 0,void 0,void 0,void 0,ve.prototype),Ba.prototype.f1f=function(){process.nextTick(this.p1f().l1f_1)},Ba.$metadata$=Lt("NodeDispatcher",void 0,void 0,void 0,void 0,Va.prototype),Ua.prototype.f1f=function(){setTimeout(this.p1f().l1f_1,0)},Ua.$metadata$=Lt("SetTimeoutDispatcher",void 0,void 0,void 0,void 0,Va.prototype),Ha.prototype.y1f=function(){this.m1f_1.f1f()},Ha.prototype.z1f=function(){setTimeout(this.l1f_1,0)},Ha.$metadata$=Ct("ScheduledMessageQueue",void 0,void 0,void 0,void 0,Ya.prototype),Va.prototype.p1f=function(){return this.o1f_1},Va.prototype.xt=function(t,e){this.o1f_1.a1g(e)},Va.prototype.eu=function(t,e){var n,i,r;n=new Ga(setTimeout((i=e,r=this,function(){return i.uq(r,vt()),vt()}),Wa(t))),e.tq(n)},Va.$metadata$=Ct("SetTimeoutBasedDispatcher",[ci],void 0,void 0,void 0,Wn.prototype),Ya.prototype.a1g=function(t){this.pu(t),this.w1f_1||(this.w1f_1=!0,this.y1f())},Ya.prototype.x1f=function(){try{var t=this.v1f_1,e=0;if(e<t)do{e=e+1|0;var n=this.nu();if(null==n)return vt();n.vs()}while(e<t)}finally{this.su()?this.w1f_1=!1:this.z1f()}},Ya.$metadata$=Ct("MessageQueue",void 0,void 0,void 0,void 0,Ds.prototype),Ga.prototype.yq=function(){clearTimeout(this.b1g_1)},Ga.prototype.xq=function(t){this.yq()},Ga.prototype.invoke=function(t){return this.xq(t)},Ga.prototype.toString=function(){return"ClearTimeout["+this.b1g_1+"]"},Ga.$metadata$=Ct("ClearTimeout",[yi],void 0,void 0,void 0,An.prototype),Za.prototype.xt=function(t,e){return this.e1g_1.a1g(e)},Za.prototype.eu=function(t,e){var n,i;this.d1g_1.setTimeout((n=e,i=this,function(){return n.uq(i,vt()),vt()}),Wa(t))},Za.$metadata$=Ct("WindowDispatcher",[ci],void 0,void 0,void 0,Wn.prototype),Ka.prototype.y1f=function(){var t;Promise.resolve(vt()).then((t=this,function(e){return t.x1f(),vt()}))},Ka.prototype.z1f=function(){this.k1g_1.postMessage(this.l1g_1,"*")},Ka.$metadata$=Ct("WindowMessageQueue",void 0,void 0,void 0,void 0,Ya.prototype),Xa.$metadata$=Dt("Runnable"),Ja.$metadata$=Ct("SchedulerTask",[Xa]),Qa.prototype.m14=function(t,e){var n=e.i4();return Ai(n),this.k14_1!==n&&(ls(this,n),this.k14_1=n),this.h14_1.m14(t,e)},Qa.prototype.l14=function(){},Qa.$metadata$=Ct("SafeCollector",[Eo]),tu.$metadata$=Ct("NoOpLock"),eu.prototype.su=function(){return this.hv()===this},eu.prototype.rr=function(){throw Ve()},eu.$metadata$=Ct("LinkedListHead",void 0,void 0,void 0,void 0,nu.prototype),nu.prototype.hv=function(){return this.or_1},nu.prototype.lv=function(){return this.or_1},nu.prototype.mv=function(){return this.pr_1},nu.prototype.nv=function(){return this.qr_1},nu.prototype.ov=function(t){var e=this.pr_1;t.or_1=this,t.pr_1=e,e.or_1=t,this.pr_1=t},nu.prototype.rr=function(){return this.pv()},nu.prototype.pv=function(){if(this.qr_1)return!1;var t=this.pr_1,e=this.or_1;return t.or_1=e,e.pr_1=t,this.qr_1=!0,!0},nu.prototype.zv=function(t){return this.or_1===this&&(this.ov(t),!0)},nu.prototype.qv=function(t,e){return!!e()&&(this.ov(t),!0)},nu.prototype.rv=function(t,e){return!!e(this.pr_1)&&(this.ov(t),!0)},nu.prototype.sv=function(t,e,n){return!!e(this.pr_1)&&!!n()&&(this.ov(t),!0)},nu.prototype.tv=function(){},nu.prototype.nu=function(){var t=this.or_1;if(t===this)return null;if(!t.pv())throw Tt(jt("Should remove"));return t},nu.$metadata$=Ct("LinkedListNode"),iu.$metadata$=Dt("CoroutineStackFrame"),ou.prototype.zu=function(){var t=this.yu_1;return null==t||yt(t)?t:mt()},ou.prototype.av=function(t){this.yu_1=t},ou.$metadata$=Ct("CommonThreadLocal"),lr.prototype.jo=We,lr.prototype.no=Ye,lr.prototype.b5=gt,lr.prototype.u4=wt,lr.prototype.a5=bt,lr.prototype.z4=xt,Je.prototype.jo=We,Je.prototype.no=Ye,Je.prototype.b5=gt,Je.prototype.u4=wt,Je.prototype.a5=bt,Je.prototype.z4=xt,Qe.prototype.jo=We,Qe.prototype.no=Ye,Qe.prototype.b5=gt,Qe.prototype.u4=wt,Qe.prototype.a5=bt,Qe.prototype.z4=xt,tn.prototype.jo=We,tn.prototype.no=Ye,tn.prototype.b5=gt,tn.prototype.u4=wt,tn.prototype.a5=bt,tn.prototype.z4=xt,na.prototype.jo=We,na.prototype.no=Ye,na.prototype.b5=gt,na.prototype.u4=wt,na.prototype.a5=bt,na.prototype.z4=xt,en.prototype.jo=We,en.prototype.no=Ye,en.prototype.b5=gt,en.prototype.u4=wt,en.prototype.a5=bt,en.prototype.z4=xt,rn.prototype.jo=We,rn.prototype.no=Ye,rn.prototype.b5=gt,rn.prototype.u4=wt,rn.prototype.a5=bt,rn.prototype.z4=xt,on.prototype.jo=We,on.prototype.no=Ye,on.prototype.b5=gt,on.prototype.u4=wt,on.prototype.a5=bt,on.prototype.z4=xt,En.prototype.sq=Ze,En.prototype.nq=Ge,Pn.prototype.jo=We,Pn.prototype.no=Ye,Pn.prototype.b5=gt,Pn.prototype.u4=wt,Pn.prototype.a5=bt,Pn.prototype.z4=xt,Wn.prototype.u4=Kt,Wn.prototype.a5=bt,Wn.prototype.z4=Xt,Wn.prototype.b5=gt,Jn.prototype.u4=wt,Jn.prototype.a5=bt,Jn.prototype.z4=xt,Jn.prototype.b5=gt,ei.prototype.u4=wt,ei.prototype.a5=bt,ei.prototype.z4=xt,ei.prototype.b5=gt,pi.prototype.b5=gt,pi.prototype.u4=Kt,pi.prototype.a5=bt,pi.prototype.z4=Xt,ar.prototype.sq=Ze,ar.prototype.nq=Ge,br.prototype.jo=We,br.prototype.no=Ye,br.prototype.b5=gt,br.prototype.u4=wt,br.prototype.a5=bt,br.prototype.z4=xt,$r.prototype.b5=gt,$r.prototype.u4=Kt,$r.prototype.a5=bt,$r.prototype.z4=Xt,Er.prototype.jo=We,Er.prototype.no=Ye,Er.prototype.b5=gt,Er.prototype.u4=wt,Er.prototype.a5=bt,Er.prototype.z4=xt,kr.prototype.b5=gt,kr.prototype.u4=Kt,kr.prototype.a5=bt,kr.prototype.z4=Xt,Vr.prototype.b12=Ke,qr.prototype.no=Xe,qr.prototype.b12=Ke,Jr.prototype.no=Xe,Jr.prototype.b12=Ke,vo.prototype.no=Xe,vo.prototype.b12=Ke,go.prototype.no=Xe,go.prototype.b12=Ke,wo.prototype.no=Xe,wo.prototype.b12=Ke,Oa.prototype.jo=We,Oa.prototype.no=Ye,Oa.prototype.b5=gt,Oa.prototype.u4=wt,Oa.prototype.a5=bt,Oa.prototype.z4=xt,Na.prototype.b5=gt,Na.prototype.u4=Kt,Na.prototype.a5=bt,Na.prototype.z4=Xt,La.prototype.b5=gt,La.prototype.u4=Kt,La.prototype.a5=bt,La.prototype.z4=Xt,Va.prototype.b5=gt,Va.prototype.u4=Kt,Va.prototype.a5=bt,Va.prototype.z4=Xt,Ba.prototype.b5=gt,Ba.prototype.u4=Kt,Ba.prototype.a5=bt,Ba.prototype.z4=Xt,Ua.prototype.b5=gt,Ua.prototype.u4=Kt,Ua.prototype.a5=bt,Ua.prototype.z4=Xt,Za.prototype.b5=gt,Za.prototype.u4=Kt,Za.prototype.a5=bt,Za.prototype.z4=Xt,N="Channel was closed",Q=1,tt=-1,et=2,nt=4,it=0,ct=0,ht=!1,t.$_$=t.$_$||{},t.$_$.a=function(){return oi(),p},t.$_$.b=function(t,e,n){return function(t){if(t instanceof ps)throw t.l18_1}(t),e.u13(t,n)},t.$_$.c=function(t,e){var n=e,i=new na(n.i4(),n);return aa(i,i,t)},t.$_$.d=function(t,e){if(t.j1(new ae(0,0))<=0)return vt();var n,i,r,o=new En(Ot(e),Hs());return o.js(),ue(),t.j1(new ae(-1,2147483647))<0&&(n=o.i4(),i=n.u4(At()),r=null!=i&&Rt(i,ci)?i:null,null==r?function(){var t=ja().gz_1;return Rt(t,ci)?t:mt()}():r).eu(t,o),o.gp()},t.$_$.e=function(t,e,n){var i,r,o=n,s=o.i4(),a=(r=t,s.b5(r));if(Ai(a),a!==s)if(kt(a.u4(At()),s.u4(At()))){var u=new Oa(a,o);i=aa(u,u,e)}else{var l=new en(a,o);ra(e,l,l,null,4),i=l.gp()}else{var c=new na(a,o);i=aa(c,c,e)}return i},t.$_$.f=function(t,e,n,i,r){return 0!=(1&i)&&(io(),t=0),0!=(2&i)&&(e=eo()),0!=(4&i)&&(n=null),_o(t,e,n)},t.$_$.g=function(t,e,n,i,r){return 0!=(1&i)&&(t=0),0!=(2&i)&&(e=0),0!=(4&i)&&(n=eo()),function(t,e,n){if(Go(),!(t>=0))throw ke(jt("replay cannot be negative, but was "+t));if(!(e>=0))throw ke(jt("extraBufferCapacity cannot be negative, but was "+e));if(!(t>0||e>0||n.equals(eo())))throw ke(jt("replay or extraBufferCapacity must be positive with non-default onBufferOverflow strategy "+n));var i=t+e|0;return new Ho(t,i<0?De().e1_1:i,n)}(t,e,n)},t.$_$.h=function(t,e,n){return 0!=(1&e)&&(t=!1),function(t){return $a(),new xa(t)}(t)},t.$_$.i=function(t,e,n){return 0!=(1&e)&&(t=null),function(t){return new Pn(t)}(t)},t.$_$.j=Ye,t.$_$.k=We,t.$_$.l=Ti,t.$_$.m=function(t,e,n){return 0!=(1&e)&&(t=null),Cr(t)},t.$_$.n=function(t,e,n,i,r,o){return 0!=(1&r)&&(e=Et()),0!=(2&r)&&(n=ai()),function(t,e,n,i){var r=Ia(t,e),o=n.ap()?new on(r,i):new rn(r,!0);return o.un(n,o,i),o}(t,e,n,i)},t.$_$.o=function(t,e,n,i){return 0!=(1&n)&&(e=null),ii(t,e)},t.$_$.p=function(t,e,n,i,r){return 0!=(2&i)&&(n=null),Ii(t,e,n)},t.$_$.q=function(t,e,n,i,r,o){return 0!=(1&r)&&(e=Et()),0!=(2&r)&&(n=ai()),function(t,e,n,i){var r=Ia(t,e),o=n.ap()?new tn(r,i):new Qe(r,!0);return o.un(n,o,i),o}(t,e,n,i)},t.$_$.r=function(t){return!(t instanceof ao)},t.$_$.s=io,t.$_$.t=Yn,t.$_$.u=Kn,t.$_$.v=ja,t.$_$.w=function(){return null==l&&new ri,l},t.$_$.x=gi,t.$_$.y=function(t,e){var n;if(null==e)n=null;else{var i=e instanceof ve?e:null;n=null==i?ie("Channel was consumed, consumer had failed",e):i}t.mo(n)},t.$_$.z=Eo,t.$_$.a1=xo,t.$_$.b1=function(t){is();var e=t;return new es(null==e?us():e)},t.$_$.c1=function(t){return new bs(t,null)},t.$_$.d1=function(t){return new $s(t,null)},t.$_$.e1=function(t){return new bo(t)},t.$_$.f1=function(t,e){return new Ss(t,e)},t.$_$.g1=nu,t.$_$.h1=ru,t.$_$.i1=En,t.$_$.j1=Ca,t.$_$.k1=jn,t.$_$.l1=Wn,t.$_$.m1=Xn,t.$_$.n1=ei,t.$_$.o1=function(t){return new ea(null!=t.u4(gi())?t:t.b5(Ti(null,1)))},t.$_$.p1=ni,t.$_$.q1=yi,t.$_$.r1=Si,t.$_$.s1=wi,t.$_$.t1=Hs,t.$_$.u1=Cr,t.$_$.v1=ii,t.$_$.w1=function(t,e){var n=t.u4(gi());null==n||n.mo(e)},t.$_$.x1=function(t,e,n){return ii(t,ie(e,n))},t.$_$.y1=Ii,t.$_$.z1=function(t){var e=t.u4(gi());if(null==e)throw Tt(jt("Current context doesn't contain Job in it: "+t));return e},t})?i.apply(e,r):i)||(t.exports=o)},4658:function(t,e,n){var i,r,o;r=[e,n(8744),n(4813),n(4781),n(7220),n(8538),n(6321)],void 0===(o="function"==typeof(i=function(t,e,n,i,r,o,s){"use strict";var a,u,l=e.$_$.r9,c=n.$_$.s,h=e.$_$.bb,p=e.$_$.d9,_=e.$_$.p4,f=e.$_$.qd,d=i.$_$.f,m=e.$_$.na,y=r.$_$.g,v=n.$_$.c1,g=r.$_$.k,w=e.$_$.xd,b=n.$_$.i,x=r.$_$.d,$=e.$_$.o8,C=e.$_$.d1,E=n.$_$.a1,A=o.$_$.o,k=e.$_$.ee,S=e.$_$.l,T=r.$_$.i,I=o.$_$.g1,O=e.$_$.la,z=e.$_$.d,M=n.$_$.d1,D=s.$_$.b,R=n.$_$.e,P=s.$_$.a,j=s.$_$.c,N=i.$_$.k,L=r.$_$.b,q=r.$_$.c,B=r.$_$.e,F=e.$_$.xa,U=e.$_$.jd,H=e.$_$.c2,V=e.$_$.l9,Y=(e.$_$.g9,e.$_$.q),W=e.$_$.z;function G(t,e,n){this.f5x_1=t,this.g5x_1=e,this.h5x_1=n}function Z(t){this.i5x_1=t}function K(t,e){this.r5x_1=t,p.call(this,e)}function X(t,e){this.m5y_1=t,p.call(this,e)}function J(){var t;t=C(),this.b5z_1=t}function Q(){a=this,this.d5z_1=new N("ContentNegotiation")}function tt(){return null==a&&new Q,a}function et(t){tt(),this.d5y_1=t}function nt(t){H(t,this),V(this,nt)}function it(){u=this}return K.prototype=Object.create(p.prototype),K.prototype.constructor=K,X.prototype=Object.create(p.prototype),X.prototype.constructor=X,nt.prototype=Object.create(U.prototype),nt.prototype.constructor=nt,G.$metadata$=l("ConverterRegistration"),Z.prototype.e2z=function(t){return t.b31(this.i5x_1)},Z.$metadata$=l(void 0,[c]),K.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=_(),i.ki_1=null,i.ri()},K.prototype.w6=function(t,e,n){var i=t instanceof d?t:f();return this.q50(i,m(e)?e:f(),n)},K.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=10,this.u5x_1=this.r5x_1.d5y_1;for(var e=this.u5x_1.d();e.e();){var n=e.f();y(this.s5x_1.c2y_1,n.g5x_1)}var i,r=v(this.s5x_1.c2y_1);if(null==r)return _();if(i=r,this.v5x_1=i,this.t5x_1 instanceof w||this.t5x_1 instanceof g){if(this.s5x_1.c2y_1.y51_1.s2v(b().z31_1),this.hi_1=9,(t=this.s5x_1.g2x(x(),this))===$())return t;continue t}this.hi_1=1;continue t;case 1:for(var o=C(),s=this.u5x_1.d();s.e();){var a=s.f();a.h5x_1.e2z(this.v5x_1)&&o.b(a)}var u,l=o,c=l.m()?null:l;if(null==c)return _();u=c,this.w5x_1=u,this.s5x_1.c2y_1.y51_1.s2v(b().z31_1),this.hi_1=2;continue t;case 2:this.y5x_1=this.w5x_1.d(),this.hi_1=3;continue t;case 3:if(!this.y5x_1.e()){this.hi_1=6;continue t}this.z5x_1=this.y5x_1.f(),this.hi_1=4;var p=E(this.v5x_1);if((t=this.z5x_1.f5x_1.j3c(this.v5x_1,null==p?A().x2p_1:p,k(this.s5x_1.c2y_1.w5n()),this.t5x_1,this))===$())return t;continue t;case 4:if(this.a5y_1=t,null!=this.a5y_1){this.x5x_1=this.a5y_1,this.hi_1=7;continue t}this.hi_1=5;continue t;case 5:this.hi_1=3;continue t;case 6:this.x5x_1=null,this.hi_1=7;continue t;case 7:this.b5y_1=this.x5x_1;var f;if(null==this.b5y_1)throw new nt("Can't convert "+h(this.t5x_1)+" with contentType "+this.v5x_1+" using converters "+S(this.w5x_1,null,null,null,0,null,(function(t){return h(t.f5x_1)}),31,null));if(f=this.b5y_1,this.c5y_1=f,this.hi_1=8,(t=this.s5x_1.g2x(this.c5y_1,this))===$())return t;continue t;case 8:case 9:return _();case 10:throw this.ki_1}}catch(t){if(10===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},K.prototype.r50=function(t,e,n){var i=new K(this.r5x_1,n);return i.s5x_1=t,i.t5x_1=e,i},K.$metadata$=l("ContentNegotiation$Plugin$install$slambda",void 0,void 0,void 0,[2],p.prototype),X.prototype.k51=function(t,e,n){var i=this.l51(t,e,n);return i.ji_1=_(),i.ki_1=null,i.ri()},X.prototype.w6=function(t,e,n){var i=t instanceof d?t:f();return this.k51(i,e instanceof T?e:f(),n)},X.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=8,this.p5y_1=this.o5y_1.w3(),this.q5y_1=this.o5y_1.x3();var e=this.q5y_1;if(!O(e,I))return _();if(this.p5y_1.t2y_1.equals(z(I)))return _();var n,i=M(this.n5y_1.c2y_1.x50());if(null==i)return _();n=i,this.r5y_1=n,this.s5y_1=this.m5y_1.d5y_1;for(var r=C(),o=this.s5y_1.d();o.e();){var s=o.f();s.h5x_1.e2z(this.r5y_1)&&r.b(s)}var a,u=r,l=u.m()?null:u;if(null==l)return _();a=l,this.t5y_1=a,this.hi_1=1;continue t;case 1:this.v5y_1=this.t5y_1.d(),this.hi_1=2;continue t;case 2:if(!this.v5y_1.e()){this.hi_1=5;continue t}this.w5y_1=this.v5y_1.f(),this.hi_1=3;var c=this.n5y_1.c2y_1.g54().n35();if((t=this.w5y_1.f5x_1.k3c(D(c,null,1,null),this.p5y_1,this.q5y_1,this))===$())return t;continue t;case 3:if(this.x5y_1=t,null!=this.x5y_1){this.u5y_1=this.x5y_1,this.hi_1=6;continue t}this.hi_1=4;continue t;case 4:this.hi_1=2;continue t;case 5:this.u5y_1=null,this.hi_1=6;continue t;case 6:this.y5y_1=this.u5y_1;var h;if(null==this.y5y_1)return _();if(h=this.y5y_1,this.z5y_1=h,this.a5z_1=new T(this.p5y_1,this.z5y_1),this.hi_1=7,(t=this.n5y_1.g2x(this.a5z_1,this))===$())return t;continue t;case 7:return _();case 8:throw this.ki_1}}catch(t){if(8===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},X.prototype.l51=function(t,e,n){var i=new X(this.m5y_1,n);return i.n5y_1=t,i.o5y_1=e,i},X.$metadata$=l("ContentNegotiation$Plugin$install$slambda",void 0,void 0,void 0,[2],p.prototype),J.prototype.h3c=function(t,e,n){var i=t.equals(R().t2z_1)?(null==u&&new it,u):new Z(t);this.c5z(t,e,i,n)},J.prototype.c5z=function(t,e,n,i){i(e);var r=new G(e,t,n);this.b5z_1.b(r)},J.$metadata$=l("Config",[j]),Q.prototype.a1=function(){return this.d5z_1},Q.prototype.e5z=function(t){var e=new J;return t(e),new et(e.b5z_1)},Q.prototype.b53=function(t){return this.e5z(t)},Q.prototype.f5z=function(t,e){var n,i,r=L().w58_1;e.w4z_1.g2y(r,(n=new K(t,null),(i=function(t,e,i){return n.q50(t,e,i)}).$arity=2,i));var o=q().w52_1;e.x4z_1.g2y(o,function(t,e){var n=new X(t,e),i=function(t,e,i){return n.k51(t,e,i)};return i.$arity=2,i}(t,null))},Q.prototype.c53=function(t,e){return this.f5z(t instanceof et?t:f(),e)},Q.$metadata$=F("Plugin",[B]),et.$metadata$=l("ContentNegotiation"),nt.$metadata$=l("ContentConverterException",void 0,void 0,void 0,void 0,U.prototype),it.prototype.e2z=function(t){if(t.b31(R().t2z_1))return!0;var e=t.a31().toString();return!!W(e,"application/",!1,2,null)&&Y(e,"+json",!1,2,null)},it.$metadata$=F("JsonContentTypeMatcher",[c]),J.prototype.i3c=P,t.$_$=t.$_$||{},t.$_$.a=tt,t})?i.apply(e,r):i)||(t.exports=o)},7220:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(_,kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core,kotlin_kotlin,kotlin_io_ktor_ktor_utils,kotlin_org_jetbrains_kotlinx_atomicfu,kotlin_io_ktor_ktor_events,kotlin_io_ktor_ktor_io,kotlin_io_ktor_ktor_http,kotlin_io_ktor_ktor_websockets){"use strict";var imul=Math.imul,cancel$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.o,Unit_getInstance=kotlin_kotlin.$_$.p4,CoroutineImpl=kotlin_kotlin.$_$.d9,THROW_CCE=kotlin_kotlin.$_$.qd,PipelineContext=kotlin_io_ktor_ktor_utils.$_$.f,isObject=kotlin_kotlin.$_$.na,toString=kotlin_kotlin.$_$.bb,getKClassFromExpression=kotlin_kotlin.$_$.c,IllegalStateException_init_$Create$=kotlin_kotlin.$_$.m2,get_COROUTINE_SUSPENDED=kotlin_kotlin.$_$.o8,classMeta=kotlin_kotlin.$_$.r9,atomic$boolean$1=kotlin_org_jetbrains_kotlinx_atomicfu.$_$.a,Key_getInstance=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.x,Job=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.r1,Attributes=kotlin_io_ktor_ktor_utils.$_$.l,Events=kotlin_io_ktor_ktor_events.$_$.b,AttributeKey=kotlin_io_ktor_ktor_utils.$_$.k,Closeable=kotlin_io_ktor_ktor_io.$_$.x,isInterface=kotlin_kotlin.$_$.la,CoroutineScope=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.p1,ensureNotNull=kotlin_kotlin.$_$.ee,SuspendFunction2=kotlin_kotlin.$_$.g9,LinkedHashMap_init_$Create$=kotlin_kotlin.$_$.m1,PlatformUtils_getInstance=kotlin_io_ktor_ktor_utils.$_$.d,ByteReadChannel=kotlin_io_ktor_ktor_io.$_$.g1,objectMeta=kotlin_kotlin.$_$.xa,instanceOf=kotlin_io_ktor_ktor_utils.$_$.i,cancel=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.x1,throwUninitializedPropertyAccessException=kotlin_kotlin.$_$.re,IllegalStateException=kotlin_kotlin.$_$.ld,IllegalStateException_init_$Init$=kotlin_kotlin.$_$.j2,captureStack=kotlin_kotlin.$_$.l9,UnsupportedOperationException=kotlin_kotlin.$_$.yd,UnsupportedOperationException_init_$Init$=kotlin_kotlin.$_$.w2,flattenEntries=kotlin_io_ktor_ktor_utils.$_$.t,joinToString$default=kotlin_kotlin.$_$.l,trimMargin$default=kotlin_kotlin.$_$.b1,ByteReadChannel_0=kotlin_io_ktor_ktor_io.$_$.f1,Job$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.l,Long=kotlin_kotlin.$_$.md,readBytes$default=kotlin_io_ktor_ktor_io.$_$.g,IllegalStateException_init_$Init$_0=kotlin_kotlin.$_$.l2,WriterScope=kotlin_io_ktor_ktor_io.$_$.h1,ReadChannelContent=kotlin_io_ktor_ktor_http.$_$.p,noWhenBranchMatchedException=kotlin_kotlin.$_$.le,GlobalScope_getInstance=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.w,writer=kotlin_io_ktor_ktor_io.$_$.j1,WriteChannelContent=kotlin_io_ktor_ktor_http.$_$.q,Companion_getInstance=kotlin_io_ktor_ktor_io.$_$.p,NoContent=kotlin_io_ktor_ktor_http.$_$.n,ProtocolUpgrade=kotlin_io_ktor_ktor_http.$_$.o,ByteArrayContent=kotlin_io_ktor_ktor_http.$_$.m,SuspendFunction1=kotlin_kotlin.$_$.f9,IllegalArgumentException_init_$Create$=kotlin_kotlin.$_$.h2,JsType_getInstance=kotlin_io_ktor_ktor_utils.$_$.c,PrimitiveClasses_getInstance=kotlin_kotlin.$_$.h4,arrayOf=kotlin_kotlin.$_$.ae,createKType=kotlin_kotlin.$_$.a,typeInfoImpl=kotlin_io_ktor_ktor_utils.$_$.j,OutgoingContent=kotlin_io_ktor_ktor_http.$_$.r,get_job=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.z1,async$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.n,emptySet=kotlin_kotlin.$_$.o6,interfaceMeta=kotlin_kotlin.$_$.ca,ArrayList_init_$Create$=kotlin_kotlin.$_$.d1,HttpHeaders_getInstance=kotlin_io_ktor_ktor_http.$_$.i,UnsafeHeaderException=kotlin_io_ktor_ktor_http.$_$.w,CancellationException_init_$Create$=kotlin_kotlin.$_$.r1,CoroutineName=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.n1,SilentSupervisor$default=kotlin_io_ktor_ktor_utils.$_$.b,lazy=kotlin_kotlin.$_$.ke,CompletableJob=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.k1,CloseableCoroutineDispatcher=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.j1,KProperty1=kotlin_kotlin.$_$.qb,getPropertyCallableRef=kotlin_kotlin.$_$.y9,setOf=kotlin_kotlin.$_$.u7,Key=kotlin_kotlin.$_$.b9,get=kotlin_kotlin.$_$.y8,fold=kotlin_kotlin.$_$.x8,minusKey=kotlin_kotlin.$_$.z8,plus=kotlin_kotlin.$_$.c9,Element=kotlin_kotlin.$_$.a9,PipelinePhase=kotlin_io_ktor_ktor_utils.$_$.g,contentLength=kotlin_io_ktor_ktor_http.$_$.b1,Application_getInstance=kotlin_io_ktor_ktor_http.$_$.e,toLong=kotlin_kotlin.$_$.za,Companion_getInstance_0=kotlin_io_ktor_ktor_http.$_$.f,toLong_0=kotlin_kotlin.$_$.sc,isByteArray=kotlin_kotlin.$_$.fa,Text_getInstance=kotlin_io_ktor_ktor_http.$_$.g,TextContent_init_$Create$=kotlin_io_ktor_ktor_http.$_$.b,Companion_getInstance_1=kotlin_kotlin.$_$.j4,copyTo=kotlin_io_ktor_ktor_io.$_$.a,cancel_0=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.v1,CancellationException=kotlin_kotlin.$_$.n8,cancel_1=kotlin_io_ktor_ktor_io.$_$.i1,HttpStatusCode=kotlin_io_ktor_ktor_http.$_$.v,getKClass=kotlin_kotlin.$_$.d,writer$default=kotlin_io_ktor_ktor_io.$_$.k,Input=kotlin_io_ktor_ktor_io.$_$.y,ByteReadPacket=kotlin_io_ktor_ktor_io.$_$.w,Unit=kotlin_kotlin.$_$.xd,toInt=kotlin_kotlin.$_$.qc,reversed=kotlin_kotlin.$_$.t7,contentType=kotlin_io_ktor_ktor_http.$_$.c1,charset=kotlin_io_ktor_ktor_http.$_$.a1,LinkedHashSet_init_$Create$=kotlin_kotlin.$_$.o1,Charsets_getInstance=kotlin_io_ktor_ktor_io.$_$.o,withCharset=kotlin_io_ktor_ktor_http.$_$.j1,Comparator=kotlin_kotlin.$_$.ed,compareValues=kotlin_kotlin.$_$.m8,get_name=kotlin_io_ktor_ktor_io.$_$.s,toList=kotlin_kotlin.$_$.d8,sortedWith=kotlin_kotlin.$_$.y7,StringBuilder_init_$Create$=kotlin_kotlin.$_$.w1,roundToInt=kotlin_kotlin.$_$.cb,charSequenceLength=kotlin_kotlin.$_$.p9,firstOrNull=kotlin_kotlin.$_$.r6,charset_0=kotlin_io_ktor_ktor_http.$_$.z,readText$default=kotlin_io_ktor_ktor_io.$_$.h,get_authority=kotlin_io_ktor_ktor_http.$_$.y,takeFrom=kotlin_io_ktor_ktor_http.$_$.h1,isSecure=kotlin_io_ktor_ktor_http.$_$.e1,get_authority_0=kotlin_io_ktor_ktor_http.$_$.x,EventDefinition=kotlin_io_ktor_ktor_events.$_$.a,Companion_getInstance_2=kotlin_io_ktor_ktor_http.$_$.l,Companion_getInstance_3=kotlin_io_ktor_ktor_http.$_$.j,setOf_0=kotlin_kotlin.$_$.v7,cancel_2=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.y1,get_lastIndex=kotlin_kotlin.$_$.b7,downTo=kotlin_kotlin.$_$.ib,delay=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.d,equals=kotlin_kotlin.$_$.t9,launch$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.q,IOException=kotlin_io_ktor_ktor_io.$_$.d1,IOException_init_$Init$=kotlin_io_ktor_ktor_io.$_$.m,HttpMessage=kotlin_io_ktor_ktor_http.$_$.u,URLBuilder_init_$Create$=kotlin_io_ktor_ktor_http.$_$.d,HeadersBuilder_init_$Create$=kotlin_io_ktor_ktor_http.$_$.c,SupervisorJob$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.m,takeFrom_0=kotlin_io_ktor_ktor_http.$_$.g1,appendAll=kotlin_io_ktor_ktor_utils.$_$.s,putAll=kotlin_io_ktor_ktor_utils.$_$.v,HttpMessageBuilder=kotlin_io_ktor_ktor_http.$_$.t,GMTDate$default=kotlin_io_ktor_ktor_utils.$_$.a,Pipeline=kotlin_io_ktor_ktor_utils.$_$.h,decode$default=kotlin_io_ktor_ktor_io.$_$.d,hashCode=kotlin_kotlin.$_$.aa,get_ByteArrayPool=kotlin_io_ktor_ktor_io.$_$.e1,readAvailable=kotlin_io_ktor_ktor_io.$_$.b,numberToInt=kotlin_kotlin.$_$.va,Companion_getInstance_4=kotlin_io_ktor_ktor_http.$_$.k,CoroutineScope_0=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.o1,CancellationException_init_$Create$_0=kotlin_kotlin.$_$.t1,cancel_3=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.w1,Companion_getInstance_5=kotlin_io_ktor_ktor_http.$_$.h,Dispatchers_getInstance=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.v,intercepted=kotlin_kotlin.$_$.q8,get_MODE_CANCELLABLE=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.t1,CancellableContinuationImpl=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.i1,extendThrowable=kotlin_kotlin.$_$.u9,Companion_getInstance_6=kotlin_kotlin.$_$.k4,createFailure=kotlin_kotlin.$_$.de,_Result___init__impl__xyqfz8=kotlin_kotlin.$_$.i3,toTypedArray=kotlin_kotlin.$_$.k8,writeFully=kotlin_io_ktor_ktor_io.$_$.c,Error_init_$Create$=kotlin_kotlin.$_$.z1,Error_init_$Create$_0=kotlin_kotlin.$_$.b2,_ChannelResult___get_isSuccess__impl__odq1z9=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.r,Channel$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.f,Companion_getInstance_7=kotlin_io_ktor_ktor_websockets.$_$.f,Codes_CLOSED_ABNORMALLY_getInstance=kotlin_io_ktor_ktor_websockets.$_$.a,Text_init_$Create$=kotlin_io_ktor_ktor_websockets.$_$.e,Binary_init_$Create$=kotlin_io_ktor_ktor_websockets.$_$.c,CloseReason=kotlin_io_ktor_ktor_websockets.$_$.g,Close_init_$Create$=kotlin_io_ktor_ktor_websockets.$_$.d,String$default=kotlin_io_ktor_ktor_io.$_$.f,BytePacketBuilder_init_$Create$=kotlin_io_ktor_ktor_io.$_$.l,writeFully$default=kotlin_io_ktor_ktor_io.$_$.i,readShort=kotlin_io_ktor_ktor_io.$_$.b1,cancelConsumed=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.y,Codes_INTERNAL_ERROR_getInstance=kotlin_io_ktor_ktor_websockets.$_$.b,CompletableDeferred$default=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.i,Factory_getInstance=kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.s,DefaultWebSocketSession=kotlin_io_ktor_ktor_websockets.$_$.h,Companion_instance,CALL_COROUTINE,properties_initialized_HttpClientEngine_kt_5uiebb,ENGINE_CAPABILITIES_KEY,DEFAULT_CAPABILITIES,properties_initialized_HttpClientEngineCapability_kt_qarzcf,KTOR_DEFAULT_USER_AGENT,Companion_instance_0,UploadProgressListenerAttributeKey,DownloadProgressListenerAttributeKey,Plugin_instance,properties_initialized_BodyProgress_kt_pmfrhr,ValidateMark,properties_initialized_DefaultResponseValidation_kt_akvzqt,ExpectSuccessAttributeKey,Companion_instance_1,properties_initialized_HttpCallValidator_kt_xrx49w,PLUGIN_INSTALLED_LIST,properties_initialized_HttpClientPlugin_kt_p98320,Plugin_instance_0,ALLOWED_FOR_REDIRECT,Plugin_instance_1,properties_initialized_HttpRedirect_kt_klj746,Plugin_instance_2,Plugin_instance_3,Companion_instance_2,Plugin_instance_4,WebSocketCapability_instance,Companion_instance_3,Phases_instance,Phases_instance_0,BodyTypeAttributeKey,properties_initialized_RequestBody_kt_agyv1b,Phases_instance_1,Phases_instance_2,HttpRequestCreated,HttpRequestIsReadyForSending,HttpResponseReceived,HttpResponseReceiveFailed,HttpResponseCancelled,properties_initialized_ClientEvents_kt_rdee4m,EmptyContent_instance,Js_instance;function get_coroutineContext(){return this.g55().gn()}function get_supportedCapabilities(){return emptySet()}function install(t){var e=Phases_getInstance_0().p52_1;t.y4z_1.g2y(e,HttpClientEngine$install$slambda_0(t,this,null))}function HttpClient_init_$Init$(t,e,n,i){return HttpClient.call(i,t,e),i.s4z_1=n,i}function HttpClient_init_$Create$(t,e,n){return HttpClient_init_$Init$(t,e,n,Object.create(HttpClient.prototype))}function HttpClient$lambda(t){return function(e){return null!=e&&cancel$default(t.q4z_1,null,1,null),Unit_getInstance()}}function HttpClient$slambda(t,e){this.m50_1=t,CoroutineImpl.call(this,e)}function HttpClient$slambda_0(t,e){var n=new HttpClient$slambda(t,e),i=function(t,e,i){return n.q50(t,e,i)};return i.$arity=2,i}function HttpClient$lambda_0(){return function(t){return defaultTransformers(t),Unit_getInstance()}}function HttpClient$slambda_1(t,e){this.h51_1=t,CoroutineImpl.call(this,e)}function HttpClient$slambda_2(t,e){var n=new HttpClient$slambda_1(t,e),i=function(t,e,i){return n.k51(t,e,i)};return i.$arity=2,i}function $executeCOROUTINE$0(t,e,n){CoroutineImpl.call(this,n),this.u51_1=t,this.v51_1=e}function HttpClient(t,e){this.q4z_1=t,this.r4z_1=e,this.s4z_1=!1,this.t4z_1=atomic$boolean$1(!1),this.u4z_1=Job(this.q4z_1.gn().u4(Key_getInstance())),this.v4z_1=this.q4z_1.gn().b5(this.u4z_1),this.w4z_1=new HttpRequestPipeline(this.r4z_1.j52_1),this.x4z_1=new HttpResponsePipeline(this.r4z_1.j52_1),this.y4z_1=new HttpSendPipeline(this.r4z_1.j52_1),this.z4z_1=new HttpReceivePipeline(this.r4z_1.j52_1),this.a50_1=Attributes(!0),this.b50_1=this.q4z_1.k52(),this.c50_1=new Events,this.d50_1=new HttpClientConfig,this.s4z_1&&this.u4z_1.ho(HttpClient$lambda(this)),this.q4z_1.l52(this);var n=Phases_getInstance_0().q52_1;this.y4z_1.g2y(n,HttpClient$slambda_0(this,null));var i=this.r4z_1,r=Plugin_getInstance_2();this.d50_1.r52(r,null,2,null);var o=Plugin_getInstance();this.d50_1.r52(o,null,2,null),i.h52_1&&this.d50_1.s52("DefaultTransformers",HttpClient$lambda_0());var s=Plugin_getInstance_3();this.d50_1.r52(s,null,2,null);var a=Companion_getInstance_10();if(this.d50_1.r52(a,null,2,null),i.g52_1){var u=Plugin_getInstance_1();this.d50_1.r52(u,null,2,null)}if(this.d50_1.t52(i),i.h52_1){var l=Plugin_getInstance_0();this.d50_1.r52(l,null,2,null)}addDefaultResponseValidation(this.d50_1),this.d50_1.l52(this);var c=Phases_getInstance_1().u52_1;this.x4z_1.g2y(c,HttpClient$slambda_2(this,null))}function HttpClient_0(t,e){var n=new HttpClientConfig;e(n);var i=n,r=t.a53(i.f52_1),o=HttpClient_init_$Create$(r,i,!0);return ensureNotNull(o.v4z_1.u4(Key_getInstance())).ho(HttpClient$lambda_1(r)),o}function HttpClient$lambda_1(t){return function(e){return t.p1e(),Unit_getInstance()}}function HttpClientConfig$engineConfig$lambda(){return function(t){return Unit_getInstance()}}function HttpClientConfig$install$lambda(){return function(t){return Unit_getInstance()}}function HttpClientConfig$install$lambda_0(t,e){return function(n){return null==t||t(n),e(isObject(n)?n:THROW_CCE()),Unit_getInstance()}}function HttpClientConfig$install$lambda$lambda(){return function(){return Attributes(!0)}}function HttpClientConfig$install$lambda_1(t){return function(e){var n=get_PLUGIN_INSTALLED_LIST(),i=e.a50_1.f2u(n,HttpClientConfig$install$lambda$lambda()),r=ensureNotNull(e.d50_1.d52_1.o(t.a1())),o=t.b53(r);return t.c53(o,e),i.d2u(t.a1(),o),Unit_getInstance()}}function HttpClientConfig(){var t,e,n;t=LinkedHashMap_init_$Create$(),this.c52_1=t,e=LinkedHashMap_init_$Create$(),this.d52_1=e,n=LinkedHashMap_init_$Create$(),this.e52_1=n,this.f52_1=HttpClientConfig$engineConfig$lambda(),this.g52_1=!0,this.h52_1=!0,this.i52_1=!1,this.j52_1=PlatformUtils_getInstance().b2z_1}function HttpClientCall_init_$Init$(t,e,n,i){HttpClientCall.call(i,t),i.u50_1=new DefaultHttpRequest(i,e),i.v50_1=new DefaultHttpResponse(i,n);var r=n.i53_1;return isInterface(r,ByteReadChannel)||i.l53().d2u(Companion_getInstance_8().m53_1,n.i53_1),i}function HttpClientCall_init_$Create$(t,e,n){return HttpClientCall_init_$Init$(t,e,n,Object.create(HttpClientCall.prototype))}function Companion(){Companion_instance=this,this.m53_1=new AttributeKey("CustomResponse")}function Companion_getInstance_8(){return null==Companion_instance&&new Companion,Companion_instance}function $bodyCOROUTINE$1(t,e,n){CoroutineImpl.call(this,n),this.v53_1=t,this.w53_1=e}function HttpClientCall(t){Companion_getInstance_8(),this.s50_1=t,this.t50_1=atomic$boolean$1(!1),this.w50_1=!1}function DoubleReceiveException(t){IllegalStateException_init_$Init$(this),this.m54_1="Response already received: "+t,captureStack(this,DoubleReceiveException)}function NoTransformationFoundException$message$lambda(){return function(t){return t.w3()+": "+t.x3()+"\n"}}function NoTransformationFoundException(t,e,n){UnsupportedOperationException_init_$Init$(this);var i=get_request(t).k54(),r=t.l54(),o=flattenEntries(t.n35()),s="No transformation found: "+e+" -> "+n+"\n        |with response from "+i+":\n        |status: "+r+"\n        |response headers: \n        |"+joinToString$default(o,null,null,null,0,null,NoTransformationFoundException$message$lambda(),31,null)+"\n    ";this.n54_1=trimMargin$default(s,null,1,null),captureStack(this,NoTransformationFoundException)}function save(t,e){var n=new $saveCOROUTINE$2(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()}function SavedHttpCall(t,e,n,i){HttpClientCall.call(this,t),this.c55_1=i,this.h54(new SavedHttpRequest(this,e)),this.i54(new SavedHttpResponse(this,this.c55_1,n)),this.d55_1=!0}function SavedHttpRequest(t,e){this.e55_1=t,this.f55_1=e}function SavedHttpResponse(t,e,n){HttpResponse.call(this),this.i55_1=t,this.j55_1=Job$default(null,1,null),this.k55_1=n.l54(),this.l55_1=n.mm(),this.m55_1=n.r55(),this.n55_1=n.s55(),this.o55_1=n.n35(),this.p55_1=n.gn().b5(this.j55_1),this.q55_1=ByteReadChannel_0(e)}function $saveCOROUTINE$2(t,e){CoroutineImpl.call(this,e),this.w54_1=t}function UnsupportedContentTypeException(t){IllegalStateException_init_$Init$_0("Failed to write body: "+getKClassFromExpression(t),this),captureStack(this,UnsupportedContentTypeException)}function ObservableContent$content$slambda(t,e){this.b56_1=t,CoroutineImpl.call(this,e)}function ObservableContent$content$slambda_0(t,e){var n=new ObservableContent$content$slambda(t,e),i=function(t,e){return n.d56(t,e)};return i.$arity=1,i}function ObservableContent(t,e,n){ReadChannelContent.call(this),this.g56_1=e,this.h56_1=n;var i,r=t;if(r instanceof ByteArrayContent)i=ByteReadChannel_0(t.w3a());else{if(r instanceof ProtocolUpgrade)throw new UnsupportedContentTypeException(t);if(r instanceof NoContent)i=Companion_getInstance().n2m();else if(r instanceof ReadChannelContent)i=t.z3a();else if(r instanceof WriteChannelContent){var o=GlobalScope_getInstance();i=writer(o,this.g56_1,!0,ObservableContent$content$slambda_0(t,null)).l10()}else noWhenBranchMatchedException()}this.i56_1=i,this.j56_1=t}function get_CALL_COROUTINE(){return init_properties_HttpClientEngine_kt_umcrvf(),CALL_COROUTINE}function HttpClientEngine$install$slambda$lambda(t,e){return function(n){return null!=n&&t.c50_1.p4z(get_HttpResponseCancelled(),e),Unit_getInstance()}}function _get_closed__iwkfs1(t){var e=t.gn().u4(Key_getInstance()),n=null==e?null:e.hn();return!(null!=n&&n)}function executeWithinCallContext(t,e,n){var i=new $executeWithinCallContextCOROUTINE$3(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()}function checkExtensions(t,e){for(var n=e.c57_1.d();n.e();){var i=n.f();if(!t.d57().n(i))throw IllegalArgumentException_init_$Create$(toString("Engine doesn't support "+i))}}function HttpClientEngine$install$slambda(t,e,n){this.m57_1=t,this.n57_1=e,CoroutineImpl.call(this,n)}function HttpClientEngine$install$slambda_0(t,e,n){var i=new HttpClientEngine$install$slambda(t,e,n),r=function(t,e,n){return i.q50(t,e,n)};return r.$arity=2,r}function HttpClientEngine$executeWithinCallContext$slambda(t,e,n){this.g58_1=t,this.h58_1=e,CoroutineImpl.call(this,n)}function HttpClientEngine$executeWithinCallContext$slambda_0(t,e,n){var i=new HttpClientEngine$executeWithinCallContext$slambda(t,e,n),r=function(t,e){return i.j58(t,e)};return r.$arity=1,r}function $executeWithinCallContextCOROUTINE$3(t,e,n){CoroutineImpl.call(this,n),this.s56_1=t,this.t56_1=e}function HttpClientEngine(){}function validateHeaders(t){init_properties_HttpClientEngine_kt_umcrvf();for(var e=t.y56_1.h2v(),n=ArrayList_init_$Create$(),i=e.d();i.e();){var r=i.f();HttpHeaders_getInstance().c35_1.n(r)&&n.b(r)}var o=n;if(!o.m())throw new UnsafeHeaderException(toString(o))}function createCallContext(t,e,n){var i=Job(e),r=t.gn().b5(i).b5(get_CALL_COROUTINE()),o=n.i4().u4(Key_getInstance());if(null!=o){var s=o.jo(!0,!1,createCallContext$lambda(i),2,null);i.ho(createCallContext$lambda_0(s))}else Unit_getInstance();return r}function HttpClientEngineFactory(){}function createCallContext$lambda(t){return function(e){return null==e||t.mo(CancellationException_init_$Create$(e.message)),Unit_getInstance()}}function createCallContext$lambda_0(t){return function(e){return t.yq(),Unit_getInstance()}}function init_properties_HttpClientEngine_kt_umcrvf(){properties_initialized_HttpClientEngine_kt_5uiebb||(properties_initialized_HttpClientEngine_kt_5uiebb=!0,CALL_COROUTINE=new CoroutineName("call-context"))}function ClientEngineClosedException_init_$Init$(t,e,n,i){return 0!=(1&e)&&(t=null),ClientEngineClosedException.call(i,t),i}function ClientEngineClosedException_init_$Create$(t,e,n){var i=ClientEngineClosedException_init_$Init$(t,e,n,Object.create(ClientEngineClosedException.prototype));return captureStack(i,ClientEngineClosedException_init_$Create$),i}function ClientEngineClosedException(t){IllegalStateException_init_$Init$_0("Client already closed",this),this.l58_1=t,captureStack(this,ClientEngineClosedException)}function HttpClientEngineBase$coroutineContext$delegate$lambda(t){return function(){return SilentSupervisor$default(null,1,null).b5(t.m58()).b5(new CoroutineName(t.n58_1+"-context"))}}function HttpClientEngineBase$close$lambda(t){return function(e){return close(t.m58()),Unit_getInstance()}}function HttpClientEngineBase(t){this.n58_1=t,this.o58_1=atomic$boolean$1(!1),this.p58_1=lazy(HttpClientEngineBase$coroutineContext$delegate$lambda(this))}function close(t){try{(t instanceof CloseableCoroutineDispatcher||isInterface(t,Closeable))&&t.p1e()}catch(t){if(!(t instanceof Error))throw t}}function coroutineContext$factory(){return getPropertyCallableRef("coroutineContext",1,KProperty1,(function(t){return t.gn()}),null)}function get_ENGINE_CAPABILITIES_KEY(){return init_properties_HttpClientEngineCapability_kt_68uqzx(),ENGINE_CAPABILITIES_KEY}function HttpClientEngineCapability(){}function init_properties_HttpClientEngineCapability_kt_68uqzx(){properties_initialized_HttpClientEngineCapability_kt_qarzcf||(properties_initialized_HttpClientEngineCapability_kt_qarzcf=!0,ENGINE_CAPABILITIES_KEY=new AttributeKey("EngineCapabilities"),DEFAULT_CAPABILITIES=setOf(Plugin_getInstance_4()))}function HttpClientEngineConfig(){this.q58_1=4,this.r58_1=!1,this.s58_1=null}function Companion_0(){Companion_instance_0=this}function Companion_getInstance_9(){return null==Companion_instance_0&&new Companion_0,Companion_instance_0}function KtorCallContextElement(t){Companion_getInstance_9(),this.t58_1=t}function callContext(t){var e;return e=t.i4(),ensureNotNull(e.u4(Companion_getInstance_9())).t58_1}function mergeHeaders(t,e,n){buildHeaders(mergeHeaders$lambda(t,e)).j2v(mergeHeaders$lambda_0(n)),null==t.m25(HttpHeaders_getInstance().f34_1)&&null==e.n35().m25(HttpHeaders_getInstance().f34_1)&&needUserAgent()&&n(HttpHeaders_getInstance().f34_1,KTOR_DEFAULT_USER_AGENT);var i=e.u3a(),r=null==i?null:i.toString(),o=null==r?e.n35().m25(HttpHeaders_getInstance().z31_1):r,s=e.v3a(),a=null==s?null:s.toString(),u=null==a?e.n35().m25(HttpHeaders_getInstance().w31_1):a,l=o;null==l||n(HttpHeaders_getInstance().z31_1,l);var c=u;null==c||n(HttpHeaders_getInstance().w31_1,c)}function needUserAgent(){return!PlatformUtils_getInstance().x2y_1}function attachToUserJob$lambda(t){return function(e){return null==e||t.mo(CancellationException_init_$Create$(e.message)),Unit_getInstance()}}function attachToUserJob$lambda_0(t){return function(e){return t.yq(),Unit_getInstance()}}function mergeHeaders$lambda(t,e){return function(n){return n.r2v(t),n.r2v(e.n35()),Unit_getInstance()}}function mergeHeaders$lambda_0(t){return function(e,n){return HttpHeaders_getInstance().w31_1===e||HttpHeaders_getInstance().z31_1===e||t(e,joinToString$default(n,",",null,null,0,null,null,62,null)),Unit_getInstance()}}function get_UploadProgressListenerAttributeKey(){return init_properties_BodyProgress_kt_2jnetn(),UploadProgressListenerAttributeKey}function get_DownloadProgressListenerAttributeKey(){return init_properties_BodyProgress_kt_2jnetn(),DownloadProgressListenerAttributeKey}function handle(t,e){var n=new PipelinePhase("ObservableContent");e.w4z_1.d2y(Phases_getInstance().x58_1,n),e.w4z_1.g2y(n,BodyProgress$handle$slambda_0(null));var i=Phases_getInstance_2().b59_1;e.z4z_1.g2y(i,BodyProgress$handle$slambda_2(null))}function Plugin(){Plugin_instance=this,this.c59_1=new AttributeKey("BodyProgress")}function Plugin_getInstance(){return null==Plugin_instance&&new Plugin,Plugin_instance}function BodyProgress$handle$slambda(t){CoroutineImpl.call(this,t)}function BodyProgress$handle$slambda_0(t){var e=new BodyProgress$handle$slambda(t),n=function(t,n,i){return e.q50(t,n,i)};return n.$arity=2,n}function BodyProgress$handle$slambda_1(t){CoroutineImpl.call(this,t)}function BodyProgress$handle$slambda_2(t){var e=new BodyProgress$handle$slambda_1(t),n=function(t,n,i){return e.d5a(t,n,i)};return n.$arity=2,n}function BodyProgress(){Plugin_getInstance()}function withObservableDownload(t,e){init_properties_BodyProgress_kt_2jnetn();var n=observable(t.j25(),t.gn(),contentLength(t),e);return wrapWithContent(t,n)}function init_properties_BodyProgress_kt_2jnetn(){properties_initialized_BodyProgress_kt_pmfrhr||(properties_initialized_BodyProgress_kt_pmfrhr=!0,UploadProgressListenerAttributeKey=new AttributeKey("UploadProgressListenerAttributeKey"),DownloadProgressListenerAttributeKey=new AttributeKey("DownloadProgressListenerAttributeKey"))}function get_ValidateMark(){return init_properties_DefaultResponseValidation_kt_dx65ax(),ValidateMark}function addDefaultResponseValidation(t){init_properties_DefaultResponseValidation_kt_dx65ax(),HttpResponseValidator(t,addDefaultResponseValidation$lambda(t))}function RedirectResponseException(t,e){ResponseException.call(this,t,e),this.g5a_1="Unhandled redirect: "+t.g55().g54().h55().w35_1+" "+t.g55().g54().k54()+". Status: "+t.l54()+'. Text: "'+e+'"',captureStack(this,RedirectResponseException)}function ClientRequestException(t,e){ResponseException.call(this,t,e),this.i5a_1="Client request("+t.g55().g54().h55().w35_1+" "+t.g55().g54().k54()+") invalid: "+t.l54()+'. Text: "'+e+'"',captureStack(this,ClientRequestException)}function ServerResponseException(t,e){ResponseException.call(this,t,e),this.k5a_1="Server error("+t.g55().g54().h55().w35_1+" "+t.g55().g54().k54()+": "+t.l54()+'. Text: "'+e+'"',captureStack(this,ServerResponseException)}function ResponseException(t,e){IllegalStateException_init_$Init$_0("Bad response: "+t+'. Text: "'+e+'"',this),this.l5a_1=t,captureStack(this,ResponseException)}function addDefaultResponseValidation$lambda$slambda(t){CoroutineImpl.call(this,t)}function addDefaultResponseValidation$lambda$slambda_0(t){var e=new addDefaultResponseValidation$lambda$slambda(t),n=function(t,n){return e.b5b(t,n)};return n.$arity=1,n}function addDefaultResponseValidation$lambda(t){return function(e){return e.f5b_1=t.i52_1,e.g5b(addDefaultResponseValidation$lambda$slambda_0(null)),Unit_getInstance()}}function init_properties_DefaultResponseValidation_kt_dx65ax(){properties_initialized_DefaultResponseValidation_kt_akvzqt||(properties_initialized_DefaultResponseValidation_kt_akvzqt=!0,ValidateMark=new AttributeKey("ValidateMark"))}function defaultTransformers(t){var e=Phases_getInstance().x58_1;t.w4z_1.g2y(e,defaultTransformers$slambda_0(null));var n=Phases_getInstance_1().v52_1;t.x4z_1.g2y(n,defaultTransformers$slambda_2(null)),platformDefaultTransformers(t)}function defaultTransformers$1$content$1(t,e){this.k5b_1=e,ByteArrayContent.call(this);var n=t;this.i5b_1=null==n?Application_getInstance().w2z_1:n,this.j5b_1=toLong(e.length)}function defaultTransformers$1$content$2(t,e,n){this.o5b_1=n,ReadChannelContent.call(this),this.m5b_1=t;var i=e;this.n5b_1=null==i?Application_getInstance().w2z_1:i}function defaultTransformers$slambda(t){CoroutineImpl.call(this,t)}function defaultTransformers$slambda_0(t){var e=new defaultTransformers$slambda(t),n=function(t,n,i){return e.q50(t,n,i)};return n.$arity=2,n}function defaultTransformers$slambda$slambda(t,e,n){this.k5c_1=t,this.l5c_1=e,CoroutineImpl.call(this,n)}function defaultTransformers$slambda$slambda_0(t,e,n){var i=new defaultTransformers$slambda$slambda(t,e,n),r=function(t,e){return i.d56(t,e)};return r.$arity=1,r}function defaultTransformers$slambda$lambda(t){return function(e){return t.qt(),Unit_getInstance()}}function defaultTransformers$slambda_1(t){CoroutineImpl.call(this,t)}function defaultTransformers$slambda_2(t){var e=new defaultTransformers$slambda_1(t),n=function(t,n,i){return e.k51(t,n,i)};return n.$arity=2,n}function get_ExpectSuccessAttributeKey(){return init_properties_HttpCallValidator_kt_nw40ag(),ExpectSuccessAttributeKey}function HttpCallValidator$Companion$install$slambda$lambda(t){return function(){return t.p5d_1}}function HttpCallValidator$Companion$install$slambda(t,e){this.y5d_1=t,CoroutineImpl.call(this,e)}function HttpCallValidator$Companion$install$slambda_0(t,e){var n=new HttpCallValidator$Companion$install$slambda(t,e),i=function(t,e,i){return n.q50(t,e,i)};return i.$arity=2,i}function HttpCallValidator$Companion$install$slambda_1(t,e){this.l5e_1=t,CoroutineImpl.call(this,e)}function HttpCallValidator$Companion$install$slambda_2(t,e){var n=new HttpCallValidator$Companion$install$slambda_1(t,e),i=function(t,e,i){return n.k51(t,e,i)};return i.$arity=2,i}function HttpCallValidator$Companion$install$slambda_3(t,e){this.y5e_1=t,CoroutineImpl.call(this,e)}function HttpCallValidator$Companion$install$slambda_4(t,e){var n=new HttpCallValidator$Companion$install$slambda_3(t,e),i=function(t,e,i){return n.c5f(t,e,i)};return i.$arity=2,i}function validateResponse(t,e,n){var i=new $validateResponseCOROUTINE$4(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()}function processException(t,e,n,i){var r=new $processExceptionCOROUTINE$5(t,e,n,i);return r.ji_1=Unit_getInstance(),r.ki_1=null,r.ri()}function Config(){var t,e;t=ArrayList_init_$Create$(),this.d5b_1=t,e=ArrayList_init_$Create$(),this.e5b_1=e,this.f5b_1=!0}function Companion_1(){Companion_instance_1=this,this.g5g_1=new AttributeKey("HttpResponseValidator")}function Companion_getInstance_10(){return null==Companion_instance_1&&new Companion_1,Companion_instance_1}function $validateResponseCOROUTINE$4(t,e,n){CoroutineImpl.call(this,n),this.m5f_1=t,this.n5f_1=e}function $processExceptionCOROUTINE$5(t,e,n,i){CoroutineImpl.call(this,i),this.z5f_1=t,this.a5g_1=e,this.b5g_1=n}function HttpCallValidator(t,e,n){Companion_getInstance_10(),this.n5d_1=t,this.o5d_1=e,this.p5d_1=n}function HandlerWrapper(){}function ExceptionHandlerWrapper(){}function RequestExceptionHandlerWrapper(){}function HttpRequest(t){return init_properties_HttpCallValidator_kt_nw40ag(),new HttpRequest$1(t)}function HttpResponseValidator(t,e){init_properties_HttpCallValidator_kt_nw40ag(),t.d53(Companion_getInstance_10(),e)}function HttpRequest$1(t){this.s5g_1=t,this.o5g_1=t.x51_1,this.p5g_1=t.w51_1.i1s(),this.q5g_1=t.b52_1,this.r5g_1=t.y51_1.i1s()}function init_properties_HttpCallValidator_kt_nw40ag(){properties_initialized_HttpCallValidator_kt_xrx49w||(properties_initialized_HttpCallValidator_kt_xrx49w=!0,ExpectSuccessAttributeKey=new AttributeKey("ExpectSuccessAttributeKey"))}function get_PLUGIN_INSTALLED_LIST(){return init_properties_HttpClientPlugin_kt_hdphw(),PLUGIN_INSTALLED_LIST}function plugin(t,e){init_properties_HttpClientPlugin_kt_hdphw();var n=pluginOrNull(t,e);if(null==n)throw IllegalStateException_init_$Create$("Plugin "+e+" is not installed. Consider using `install("+e.a1()+")` in client config first.");return n}function HttpClientPlugin(){}function pluginOrNull(t,e){init_properties_HttpClientPlugin_kt_hdphw();var n=t.a50_1.b2u(get_PLUGIN_INSTALLED_LIST());return null==n?null:n.b2u(e.a1())}function init_properties_HttpClientPlugin_kt_hdphw(){properties_initialized_HttpClientPlugin_kt_p98320||(properties_initialized_HttpClientPlugin_kt_p98320=!0,PLUGIN_INSTALLED_LIST=new AttributeKey("ApplicationPluginRegistry"))}function HttpPlainText$Plugin$install$slambda(t,e){this.b5h_1=t,CoroutineImpl.call(this,e)}function HttpPlainText$Plugin$install$slambda_0(t,e){var n=new HttpPlainText$Plugin$install$slambda(t,e),i=function(t,e,i){return n.q50(t,e,i)};return i.$arity=2,i}function HttpPlainText$Plugin$install$slambda_1(t,e){this.s5h_1=t,CoroutineImpl.call(this,e)}function HttpPlainText$Plugin$install$slambda_2(t,e){var n=new HttpPlainText$Plugin$install$slambda_1(t,e),i=function(t,e,i){return n.k51(t,e,i)};return i.$arity=2,i}function Config_0(){var t,e;t=LinkedHashSet_init_$Create$(),this.a5i_1=t,e=LinkedHashMap_init_$Create$(),this.b5i_1=e,this.c5i_1=null,this.d5i_1=Charsets_getInstance().x2p_1}function Plugin_0(){Plugin_instance_0=this,this.e5i_1=new AttributeKey("HttpPlainText")}function Plugin_getInstance_0(){return null==Plugin_instance_0&&new Plugin_0,Plugin_instance_0}function wrapContent(t,e,n){var i=n,r=null==i?t.h5h_1:i,o=withCharset(Text_getInstance().n30_1,r);return TextContent_init_$Create$(e,o,null,4,null)}function sam$kotlin_Comparator$0(t){this.g5i_1=t}function HttpPlainText$lambda(){return function(t,e){var n,i=e.v3_1;return n=t.v3_1,compareValues(i,n)}}function HttpPlainText$lambda_0(){return function(t,e){var n,i=get_name(t);return n=get_name(e),compareValues(i,n)}}function HttpPlainText(t,e,n,i){Plugin_getInstance_0(),this.g5h_1=i;var r,o=toList(e);r=new sam$kotlin_Comparator$0(HttpPlainText$lambda());for(var s=sortedWith(o,r),a=ArrayList_init_$Create$(),u=t.d();u.e();){var l=u.f();!e.r2(l)&&a.b(l)}var c,h=a;c=new sam$kotlin_Comparator$0(HttpPlainText$lambda_0());for(var p,_=sortedWith(h,c),f=StringBuilder_init_$Create$(),d=_.d();d.e();){var m=d.f();f.l8()>0&&f.mg(","),f.mg(get_name(m))}for(var y=s.d();y.e();){var v=y.f(),g=v.w3(),w=v.x3();if(f.l8()>0&&f.mg(","),!(0<=w&&w<=1))throw IllegalStateException_init_$Create$(toString("Check failed."));var b=roundToInt(100*w)/100;f.mg(get_name(g)+";q="+b)}0===charSequenceLength(f)&&f.mg(get_name(this.g5h_1)),p=f.toString(),this.i5h_1=p;var x,$=n,C=null==$?firstOrNull(_):$;if(null==C){var E=firstOrNull(s);x=null==E?null:E.u3_1}else x=C;var A=x;this.h5h_1=null==A?Charsets_getInstance().x2p_1:A}function get_ALLOWED_FOR_REDIRECT(){return init_properties_HttpRedirect_kt_rcsi6u(),ALLOWED_FOR_REDIRECT}function handleCall(t,e,n,i,r,o,s){var a=new $handleCallCOROUTINE$6(e,t,n,i,r,o,s);return a.ji_1=Unit_getInstance(),a.ki_1=null,a.ri()}function HttpRedirect$Plugin$install$slambda(t,e,n){this.j5j_1=t,this.k5j_1=e,CoroutineImpl.call(this,n)}function HttpRedirect$Plugin$install$slambda_0(t,e,n){var i=new HttpRedirect$Plugin$install$slambda(t,e,n),r=function(t,e,n){return i.c5f(t,e,n)};return r.$arity=2,r}function $handleCallCOROUTINE$6(t,e,n,i,r,o,s){CoroutineImpl.call(this,s),this.p5i_1=t,this.q5i_1=e,this.r5i_1=n,this.s5i_1=i,this.t5i_1=r,this.u5i_1=o}function Config_1(){this.s5j_1=!0,this.t5j_1=!1}function Plugin_1(){Plugin_instance_1=this,this.q5j_1=new AttributeKey("HttpRedirect"),this.r5j_1=new EventDefinition}function Plugin_getInstance_1(){return null==Plugin_instance_1&&new Plugin_1,Plugin_instance_1}function HttpRedirect(t,e){Plugin_getInstance_1(),this.o5j_1=t,this.p5j_1=e}function isRedirect(t){init_properties_HttpRedirect_kt_rcsi6u();var e=t.h38_1;return e===Companion_getInstance_2().r36_1.h38_1||e===Companion_getInstance_2().s36_1.h38_1||e===Companion_getInstance_2().x36_1.h38_1||e===Companion_getInstance_2().y36_1.h38_1||e===Companion_getInstance_2().t36_1.h38_1}function init_properties_HttpRedirect_kt_rcsi6u(){properties_initialized_HttpRedirect_kt_klj746||(properties_initialized_HttpRedirect_kt_klj746=!0,ALLOWED_FOR_REDIRECT=setOf_0([Companion_getInstance_3().o35_1,Companion_getInstance_3().t35_1]))}function HttpRequestLifecycle$Plugin$install$slambda(t,e){this.d5k_1=t,CoroutineImpl.call(this,e)}function HttpRequestLifecycle$Plugin$install$slambda_0(t,e){var n=new HttpRequestLifecycle$Plugin$install$slambda(t,e),i=function(t,e,i){return n.q50(t,e,i)};return i.$arity=2,i}function Plugin_2(){Plugin_instance_2=this,this.i5k_1=new AttributeKey("RequestLifecycle")}function Plugin_getInstance_2(){return null==Plugin_instance_2&&new Plugin_2,Plugin_instance_2}function HttpRequestLifecycle(){Plugin_getInstance_2()}function attachToClientEngineJob(t,e){var n=e.ho(attachToClientEngineJob$lambda(t));t.ho(attachToClientEngineJob$lambda_0(n))}function attachToClientEngineJob$lambda(t){return function(e){return null!=e?cancel_2(t,"Engine failed",e):(t.qt(),Unit_getInstance()),Unit_getInstance()}}function attachToClientEngineJob$lambda_0(t){return function(e){return t.yq(),Unit_getInstance()}}function HttpSend$Plugin$install$slambda(t,e,n){this.s5k_1=t,this.t5k_1=e,CoroutineImpl.call(this,n)}function HttpSend$Plugin$install$slambda_0(t,e,n){var i=new HttpSend$Plugin$install$slambda(t,e,n),r=function(t,e,n){return i.q50(t,e,n)};return r.$arity=2,r}function $executeCOROUTINE$7(t,e,n){CoroutineImpl.call(this,n),this.k5l_1=t,this.l5l_1=e}function Config_2(){this.q5l_1=20}function Plugin_3(){Plugin_instance_3=this,this.r5l_1=new AttributeKey("HttpSend")}function Plugin_getInstance_3(){return null==Plugin_instance_3&&new Plugin_3,Plugin_instance_3}function InterceptedSender(t,e){this.t5l_1=t,this.u5l_1=e}function DefaultSender(t,e){this.m5l_1=t,this.n5l_1=e,this.o5l_1=0,this.p5l_1=null}function HttpSend(t){var e;Plugin_getInstance_3(),this.j5g_1=t,e=ArrayList_init_$Create$(),this.k5g_1=e}function Sender(){}function SendCountExceedException(t){IllegalStateException_init_$Init$_0(t,this),captureStack(this,SendCountExceedException)}function HttpTimeoutCapabilityConfiguration_init_$Init$(t,e,n,i){return HttpTimeoutCapabilityConfiguration.call(i),i.y5l(t),i.z5l(e),i.a5m(n),i}function HttpTimeoutCapabilityConfiguration_init_$Init$_0(t,e,n,i,r,o){return 0!=(1&i)&&(t=null),0!=(2&i)&&(e=null),0!=(4&i)&&(n=null),HttpTimeoutCapabilityConfiguration_init_$Init$(t,e,n,o),o}function HttpTimeoutCapabilityConfiguration_init_$Create$(t,e,n,i,r){return HttpTimeoutCapabilityConfiguration_init_$Init$_0(t,e,n,i,r,Object.create(HttpTimeoutCapabilityConfiguration.prototype))}function checkTimeoutValue(t,e){if(!(null==e||e.j1(new Long(0,0))>0))throw IllegalArgumentException_init_$Create$(toString("Only positive timeout values are allowed, for infinite timeout use HttpTimeout.INFINITE_TIMEOUT_MS"));return e}function Companion_2(){Companion_instance_2=this,this.b5m_1=new AttributeKey("TimeoutConfiguration")}function Companion_getInstance_11(){return null==Companion_instance_2&&new Companion_2,Companion_instance_2}function HttpTimeout$Plugin$install$slambda$slambda(t,e,n,i){this.k5m_1=t,this.l5m_1=e,this.m5m_1=n,CoroutineImpl.call(this,i)}function HttpTimeout$Plugin$install$slambda$slambda_0(t,e,n,i){var r=new HttpTimeout$Plugin$install$slambda$slambda(t,e,n,i),o=function(t,e){return r.r2l(t,e)};return o.$arity=1,o}function HttpTimeout$Plugin$install$slambda$lambda(t){return function(e){return t.no(null,1,null),Unit_getInstance()}}function HttpTimeout$Plugin$install$slambda(t,e,n){this.w5m_1=t,this.x5m_1=e,CoroutineImpl.call(this,n)}function HttpTimeout$Plugin$install$slambda_0(t,e,n){var i=new HttpTimeout$Plugin$install$slambda(t,e,n),r=function(t,e,n){return i.q50(t,e,n)};return r.$arity=2,r}function HttpTimeoutCapabilityConfiguration(){Companion_getInstance_11(),this.v5l_1=new Long(0,0),this.w5l_1=new Long(0,0),this.x5l_1=new Long(0,0)}function hasNotNullTimeouts(t){return null!=t.d5n_1||null!=t.e5n_1||!(null==t.f5n_1)}function Plugin_4(){Plugin_instance_4=this,this.i5n_1=new AttributeKey("TimeoutPlugin"),this.j5n_1=new Long(-1,2147483647)}function Plugin_getInstance_4(){return null==Plugin_instance_4&&new Plugin_4,Plugin_instance_4}function HttpTimeout(t,e,n){Plugin_getInstance_4(),this.d5n_1=t,this.e5n_1=e,this.f5n_1=n}function HttpRequestTimeoutException_init_$Init$(t,e){var n=t.w51_1.j3a(),i=t.a5n(Plugin_getInstance_4());return HttpRequestTimeoutException.call(e,n,null==i?null:i.h5n()),e}function HttpRequestTimeoutException_init_$Create$(t){var e=HttpRequestTimeoutException_init_$Init$(t,Object.create(HttpRequestTimeoutException.prototype));return captureStack(e,HttpRequestTimeoutException_init_$Create$),e}function HttpRequestTimeoutException(t,e){IOException_init_$Init$("Request timeout has expired [url="+t+", request_timeout="+toString(null==e?"unknown":e)+" ms]",this),captureStack(this,HttpRequestTimeoutException)}function wrapWithContent(t,e){return new DelegatedResponse(t.g55(),e,t)}function DelegatedResponse(t,e,n){HttpResponse.call(this),this.m5n_1=t,this.n5n_1=e,this.o5n_1=n,this.p5n_1=this.o5n_1.gn()}function WebSocketCapability(){WebSocketCapability_instance=this}function WebSocketCapability_getInstance(){return null==WebSocketCapability_instance&&new WebSocketCapability,WebSocketCapability_instance}function WebSocketException(t){IllegalStateException_init_$Init$_0(t,this),captureStack(this,WebSocketException)}function ClientUpgradeContent(){}function DefaultHttpRequest(t,e){this.q5n_1=t,this.r5n_1=e.x56_1,this.s5n_1=e.w56_1,this.t5n_1=e.z56_1,this.u5n_1=e.y56_1,this.v5n_1=e.b57_1}function HttpRequest_0(){}function Companion_3(){Companion_instance_3=this}function Companion_getInstance_12(){return null==Companion_instance_3&&new Companion_3,Companion_instance_3}function HttpRequestBuilder$setCapability$lambda(){return function(){return LinkedHashMap_init_$Create$()}}function HttpRequestBuilder(){Companion_getInstance_12(),this.w51_1=URLBuilder_init_$Create$(null,null,0,null,null,null,null,null,!1,511,null),this.x51_1=Companion_getInstance_3().o35_1,this.y51_1=HeadersBuilder_init_$Create$(0,1,null),this.z51_1=EmptyContent_getInstance(),this.a52_1=SupervisorJob$default(null,1,null),this.b52_1=Attributes(!0)}function HttpRequestData(t,e,n,i,r,o){this.w56_1=t,this.x56_1=e,this.y56_1=n,this.z56_1=i,this.a57_1=r,this.b57_1=o;var s=this.b57_1.b2u(get_ENGINE_CAPABILITIES_KEY()),a=null==s?null:s.x2();this.c57_1=null==a?emptySet():a}function HttpResponseData(t,e,n,i,r,o){this.e53_1=t,this.f53_1=e,this.g53_1=n,this.h53_1=i,this.i53_1=r,this.j53_1=o,this.k53_1=GMTDate$default(null,1,null)}function url(t,e){takeFrom(t.w51_1,e)}function isUpgradeRequest(t){return t.z56_1 instanceof ClientUpgradeContent}function Phases(){Phases_instance=this,this.u58_1=new PipelinePhase("Before"),this.v58_1=new PipelinePhase("State"),this.w58_1=new PipelinePhase("Transform"),this.x58_1=new PipelinePhase("Render"),this.y58_1=new PipelinePhase("Send")}function Phases_getInstance(){return null==Phases_instance&&new Phases,Phases_instance}function HttpRequestPipeline(t){Phases_getInstance(),Pipeline.call(this,[Phases_getInstance().u58_1,Phases_getInstance().v58_1,Phases_getInstance().w58_1,Phases_getInstance().x58_1,Phases_getInstance().y58_1]),this.f5o_1=t}function Phases_0(){Phases_instance_0=this,this.m52_1=new PipelinePhase("Before"),this.n52_1=new PipelinePhase("State"),this.o52_1=new PipelinePhase("Monitoring"),this.p52_1=new PipelinePhase("Engine"),this.q52_1=new PipelinePhase("Receive")}function Phases_getInstance_0(){return null==Phases_instance_0&&new Phases_0,Phases_instance_0}function HttpSendPipeline(t){Phases_getInstance_0(),Pipeline.call(this,[Phases_getInstance_0().m52_1,Phases_getInstance_0().n52_1,Phases_getInstance_0().o52_1,Phases_getInstance_0().p52_1,Phases_getInstance_0().q52_1]),this.n5o_1=t}function get_BodyTypeAttributeKey(){return init_properties_RequestBody_kt_hroiwt(),BodyTypeAttributeKey}function init_properties_RequestBody_kt_hroiwt(){properties_initialized_RequestBody_kt_agyv1b||(properties_initialized_RequestBody_kt_agyv1b=!0,BodyTypeAttributeKey=new AttributeKey("BodyTypeAttributeKey"))}function accept(t,e){return t.n35().q2v(HttpHeaders_getInstance().h31_1,e.toString())}function DefaultHttpResponse(t,e){HttpResponse.call(this),this.o5o_1=t,this.p5o_1=e.j53_1,this.q5o_1=e.e53_1,this.r5o_1=e.h53_1,this.s5o_1=e.f53_1,this.t5o_1=e.k53_1;var n=e.i53_1,i=isInterface(n,ByteReadChannel)?n:null;this.u5o_1=null==i?Companion_getInstance().n2m():i,this.v5o_1=e.g53_1}function HttpResponse(){}function get_request(t){return t.g55().g54()}function complete(t){var e=ensureNotNull(t.gn().u4(Key_getInstance()));(isInterface(e,CompletableJob)?e:THROW_CCE()).qt()}function bodyAsText(t,e,n){var i=new $bodyAsTextCOROUTINE$11(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()}function bodyAsText$default(t,e,n,i,r){return 0!=(1&i)&&(e=Charsets_getInstance().x2p_1),bodyAsText(t,e,n)}function $bodyAsTextCOROUTINE$11(t,e,n){CoroutineImpl.call(this,n),this.e5p_1=t,this.f5p_1=e}function Phases_1(){Phases_instance_1=this,this.u52_1=new PipelinePhase("Receive"),this.v52_1=new PipelinePhase("Parse"),this.w52_1=new PipelinePhase("Transform"),this.x52_1=new PipelinePhase("State"),this.y52_1=new PipelinePhase("After")}function Phases_getInstance_1(){return null==Phases_instance_1&&new Phases_1,Phases_instance_1}function HttpResponsePipeline(t){Phases_getInstance_1(),Pipeline.call(this,[Phases_getInstance_1().u52_1,Phases_getInstance_1().v52_1,Phases_getInstance_1().w52_1,Phases_getInstance_1().x52_1,Phases_getInstance_1().y52_1]),this.p5p_1=t}function Phases_2(){Phases_instance_2=this,this.z58_1=new PipelinePhase("Before"),this.a59_1=new PipelinePhase("State"),this.b59_1=new PipelinePhase("After")}function Phases_getInstance_2(){return null==Phases_instance_2&&new Phases_2,Phases_instance_2}function HttpReceivePipeline(t){Phases_getInstance_2(),Pipeline.call(this,[Phases_getInstance_2().z58_1,Phases_getInstance_2().a59_1,Phases_getInstance_2().b59_1]),this.x5p_1=t}function HttpResponseContainer(t,e){this.e54_1=t,this.f54_1=e}function checkCapabilities(t){var e,n=t.y5p_1.b52_1.b2u(get_ENGINE_CAPABILITIES_KEY()),i=null==n?null:n.x2();if(null==i)e=null;else{for(var r=ArrayList_init_$Create$(),o=i.d();o.e();){var s=o.f();null!=s&&isInterface(s,HttpClientPlugin)&&r.b(s)}e=r}if(null==e);else for(var a=e.d();a.e();){var u=a.f();if(null==pluginOrNull(t.z5p_1,u))throw IllegalArgumentException_init_$Create$(toString("Consider installing "+u+" plugin because the request requires it to be installed"))}}function HttpStatement$execute$slambda(t){CoroutineImpl.call(this,t)}function HttpStatement$execute$slambda_0(t){var e=new HttpStatement$execute$slambda(t),n=function(t,n){return e.j5q(t,n)};return n.$arity=1,n}function $executeCOROUTINE$12(t,e,n){CoroutineImpl.call(this,n),this.s5q_1=t,this.t5q_1=e}function $executeUnsafeCOROUTINE$13(t,e){CoroutineImpl.call(this,e),this.j5r_1=t}function $cleanupCOROUTINE$14(t,e,n){CoroutineImpl.call(this,n),this.u5r_1=t,this.v5r_1=e}function HttpStatement(t,e){this.y5p_1=t,this.z5p_1=e,checkCapabilities(this)}function observable(t,e,n,i){var r=GlobalScope_getInstance();return writer(r,e,!0,observable$slambda_0(n,t,i,null)).l10()}function observable$slambda(t,e,n,i){this.j5s_1=t,this.k5s_1=e,this.l5s_1=n,CoroutineImpl.call(this,i)}function observable$slambda_0(t,e,n,i){var r=new observable$slambda(t,e,n,i),o=function(t,e){return r.d56(t,e)};return o.$arity=1,o}function get_HttpRequestCreated(){return init_properties_ClientEvents_kt_kkxb6e(),HttpRequestCreated}function get_HttpRequestIsReadyForSending(){return init_properties_ClientEvents_kt_kkxb6e(),HttpRequestIsReadyForSending}function get_HttpResponseReceived(){return init_properties_ClientEvents_kt_kkxb6e(),HttpResponseReceived}function get_HttpResponseReceiveFailed(){return init_properties_ClientEvents_kt_kkxb6e(),HttpResponseReceiveFailed}function get_HttpResponseCancelled(){return init_properties_ClientEvents_kt_kkxb6e(),HttpResponseCancelled}function HttpResponseReceiveFail(t,e){this.w5s_1=t,this.x5s_1=e}function init_properties_ClientEvents_kt_kkxb6e(){properties_initialized_ClientEvents_kt_rdee4m||(properties_initialized_ClientEvents_kt_rdee4m=!0,HttpRequestCreated=new EventDefinition,HttpRequestIsReadyForSending=new EventDefinition,HttpResponseReceived=new EventDefinition,HttpResponseReceiveFailed=new EventDefinition,HttpResponseCancelled=new EventDefinition)}function EmptyContent(){EmptyContent_instance=this,NoContent.call(this),this.z5s_1=new Long(0,0)}function EmptyContent_getInstance(){return null==EmptyContent_instance&&new EmptyContent,EmptyContent_instance}function buildHeaders(t){var e=HeadersBuilder_init_$Create$(0,1,null);return t(e),e.i1s()}function Js(){Js_instance=this}function Js_getInstance(){return null==Js_instance&&new Js,Js_instance}function createWebSocket($this,urlString_capturingHack,headers){var tmp;if(PlatformUtils_getInstance().y2y_1){var ws_capturingHack=eval("require")("ws"),headers_capturingHack=new JsClientEngine$createWebSocket$headers_capturingHack$1;headers.j2v(JsClientEngine$createWebSocket$lambda(headers_capturingHack)),tmp=new ws_capturingHack(urlString_capturingHack,{headers:headers_capturingHack})}else tmp=new WebSocket(urlString_capturingHack);return tmp}function executeWebSocketRequest(t,e,n,i){var r=new $executeWebSocketRequestCOROUTINE$16(t,e,n,i);return r.ji_1=Unit_getInstance(),r.ki_1=null,r.ri()}function JsClientEngine$createWebSocket$headers_capturingHack$1(){}function JsClientEngine$createWebSocket$lambda(t){return function(e,n){return t[e]=joinToString$default(n,",",null,null,0,null,null,62,null),Unit_getInstance()}}function $executeCOROUTINE$15(t,e,n){CoroutineImpl.call(this,n),this.x5t_1=t,this.y5t_1=e}function $executeWebSocketRequestCOROUTINE$16(t,e,n,i){CoroutineImpl.call(this,i),this.j5t_1=t,this.k5t_1=e,this.l5t_1=n}function JsClientEngine(t){if(HttpClientEngineBase.call(this,"ktor-js"),this.f5u_1=t,this.g5u_1=Dispatchers_getInstance().gz_1,this.h5u_1=setOf_0([Plugin_getInstance_4(),WebSocketCapability_getInstance()]),null!=this.f5u_1.s58_1)throw IllegalStateException_init_$Create$(toString("Proxy unsupported in Js engine."))}function mapToKtor(t){return buildHeaders(mapToKtor$lambda(t))}function awaitConnection(t,e){var n=new CancellableContinuationImpl(intercepted(e),get_MODE_CANCELLABLE());if(n.js(),n.lq())Unit_getInstance();else{var i=awaitConnection$lambda(n,t);t.addEventListener("open",i),t.addEventListener("error",i),n.tq(awaitConnection$lambda_0(t,i))}return n.gp()}function asString(t){var e,n=StringBuilder_init_$Create$(),i=JSON;return e=["message","target","type","isTrusted"],n.mg(i.stringify(t,e)),n.toString()}function JsError(t){extendThrowable(this,"Error from javascript["+t+"].",void 0),this.i5u_1=t,captureStack(this,JsError)}function mapToKtor$lambda$lambda(t){return function(e,n){return t.q2v(n,e),Unit_getInstance()}}function mapToKtor$lambda(t){return function(e){return t.forEach(mapToKtor$lambda$lambda(e)),Unit_getInstance()}}function awaitConnection$lambda(t,e){return function(n){var i,r=n.type;if("open"===r)Companion_getInstance_6(),i=_Result___init__impl__xyqfz8(e),t.g4(i);else if("error"===r){var o,s=new WebSocketException(asString(n));Companion_getInstance_6(),o=_Result___init__impl__xyqfz8(createFailure(s)),t.g4(o)}return Unit_getInstance()}}function awaitConnection$lambda_0(t,e){return function(n){return t.removeEventListener("open",e),t.removeEventListener("error",e),null!=n&&t.close(),Unit_getInstance()}}function toRaw(t,e,n){var i=new $toRawCOROUTINE$17(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()}function buildObject(t){var e={},n=null==e||isObject(e)?e:THROW_CCE();return t(n),n}function toRaw$lambda(t){return function(e,n){return t[e]=n,Unit_getInstance()}}function toRaw$slambda(t,e){this.e5v_1=t,CoroutineImpl.call(this,e)}function toRaw$slambda_0(t,e){var n=new toRaw$slambda(t,e),i=function(t,e){return n.d56(t,e)};return i.$arity=1,i}function toRaw$lambda_0(t,e,n){return function(i){i.method=t.x56_1.w35_1,i.headers=e,i.redirect="follow";var r=n;return null==r||(i.body=new Uint8Array(toTypedArray(r))),Unit_getInstance()}}function $toRawCOROUTINE$17(t,e,n){CoroutineImpl.call(this,n),this.r5u_1=t,this.s5u_1=e}function readChunk(t,e){var n=new CancellableContinuationImpl(intercepted(e),get_MODE_CANCELLABLE());return n.js(),t.read().then(readChunk$lambda(n)).catch(readChunk$lambda_0(n)),n.gp()}function asByteArray(t){return new Int8Array(t.buffer,t.byteOffset,t.length)}function readChunk$lambda(t){return function(e){var n,i=e.value,r=e.done||null==i?null:i;return Companion_getInstance_6(),n=_Result___init__impl__xyqfz8(r),t.g4(n),Unit_getInstance()}}function readChunk$lambda_0(t){return function(e){var n;return Companion_getInstance_6(),n=_Result___init__impl__xyqfz8(createFailure(e)),t.g4(n),Unit_getInstance()}}function readBodyBrowser(t,e){var n=e.body,i=null!=n&&isObject(n)?n:null;if(null==i)throw IllegalStateException_init_$Create$(toString("Fail to obtain native stream: "+e));return channelFromStream(t,i)}function channelFromStream(t,e){return writer$default(t,null,!1,channelFromStream$slambda_0(e,null),3,null).l10()}function channelFromStream$slambda(t,e){this.o5v_1=t,CoroutineImpl.call(this,e)}function channelFromStream$slambda_0(t,e){var n=new channelFromStream$slambda(t,e),i=function(t,e){return n.d56(t,e)};return i.$arity=1,i}function commonFetch(t,e,n){var i=new CancellableContinuationImpl(intercepted(n),get_MODE_CANCELLABLE());i.js();var r=AbortController_0();e.signal=r.signal,i.tq(commonFetch$lambda(r));var o=PlatformUtils_getInstance().x2y_1?fetch(t,e):jsRequireNodeFetch()(t,e),s=commonFetch$lambda_0(i);return o.then(s,commonFetch$lambda_1(i)),i.gp()}function readBody(t,e){return PlatformUtils_getInstance().x2y_1?readBodyBrowser(t,e):readBodyNode(t,e)}function AbortController_0(){var tmp;if(PlatformUtils_getInstance().x2y_1)tmp=new AbortController;else{var controller=eval("require")("abort-controller");tmp=new controller}return tmp}function jsRequireNodeFetch(){var tmp;try{tmp=eval("require")("node-fetch")}catch(t){var tmp_0;throw Error_init_$Create$("Error loading module 'node-fetch': "+t)}return tmp}function commonFetch$lambda(t){return function(e){return t.abort(),Unit_getInstance()}}function commonFetch$lambda_0(t){return function(e){var n;return Companion_getInstance_6(),n=_Result___init__impl__xyqfz8(e),t.g4(n),Unit_getInstance()}}function commonFetch$lambda_1(t){return function(e){Companion_getInstance_6();var n,i=Error_init_$Create$_0("Fail to fetch",e);return n=_Result___init__impl__xyqfz8(createFailure(i)),t.g4(n),Unit_getInstance()}}function readBodyNode(t,e){return writer$default(t,null,!1,readBodyNode$slambda_0(e,null),3,null).l10()}function readBodyNode$slambda$lambda(t,e){return function(n){return _ChannelResult___get_isSuccess__impl__odq1z9(t.a12(asByteArray(new Uint8Array(n)))),e.pause()}}function readBodyNode$slambda$lambda_0(t,e){return function(n){var i=new JsError(n);return t.t11(i),e.l10().t11(i)}}function readBodyNode$slambda$lambda_1(t){return function(){return t.b12(null,1,null)}}function readBodyNode$slambda(t,e){this.c5w_1=t,CoroutineImpl.call(this,e)}function readBodyNode$slambda_0(t,e){var n=new readBodyNode$slambda(t,e),i=function(t,e){return n.d56(t,e)};return i.$arity=1,i}function platformDefaultTransformers(t){}function isReservedStatusCode(t,e){var n=Companion_getInstance_7().n3b(t);return null==n||equals(n,Codes_CLOSED_ABNORMALLY_getInstance())}function JsWebSocketSession$lambda(t){return function(e){var n,i=e,r=i.data;if(r instanceof ArrayBuffer){var o;o=new Int8Array(r),n=Binary_init_$Create$(!1,o)}else{if(null==r||"string"!=typeof r){var s=IllegalStateException_init_$Create$("Unknown frame type: "+i.type);throw t.k5w_1.dt(s),s}n=Text_init_$Create$(r)}var a=n;return t.l5w_1.a12(a),Unit_getInstance()}}function JsWebSocketSession$lambda_0(t){return function(e){var n=new WebSocketException(""+e);return t.k5w_1.dt(n),t.l5w_1.t11(n),t.m5w_1.no(null,1,null),Unit_getInstance()}}function JsWebSocketSession$lambda_1(t){return function(e){var n=e.code,i=null!=n&&"number"==typeof n?n:THROW_CCE(),r=e.reason,o=new CloseReason(i,null!=r&&"string"==typeof r?r:THROW_CCE());return t.k5w_1.ct(o),t.l5w_1.a12(Close_init_$Create$(o)),t.l5w_1.b12(null,1,null),t.m5w_1.no(null,1,null),Unit_getInstance()}}function JsWebSocketSession$slambda(t,e){this.y5w_1=t,CoroutineImpl.call(this,e)}function JsWebSocketSession$slambda_0(t,e){var n=new JsWebSocketSession$slambda(t,e),i=function(t,e){return n.r2l(t,e)};return i.$arity=1,i}function JsWebSocketSession$lambda_2(t){return function(e){return null==e?t.j5w_1.close():t.j5w_1.close(Codes_INTERNAL_ERROR_getInstance().k3b_1,"Client failed"),Unit_getInstance()}}function JsWebSocketSession(t,e){this.i5w_1=t,this.j5w_1=e,this.k5w_1=CompletableDeferred$default(null,1,null),Factory_getInstance(),this.l5w_1=Channel$default(2147483647,null,null,6,null),Factory_getInstance(),this.m5w_1=Channel$default(2147483647,null,null,6,null),this.n5w_1=this.l5w_1,this.o5w_1=this.m5w_1,this.p5w_1=this.k5w_1,this.j5w_1.binaryType="arraybuffer",this.j5w_1.addEventListener("message",JsWebSocketSession$lambda(this)),this.j5w_1.addEventListener("error",JsWebSocketSession$lambda_0(this)),this.j5w_1.addEventListener("close",JsWebSocketSession$lambda_1(this)),launch$default(this,null,null,JsWebSocketSession$slambda_0(this,null),3,null);var n=this.i5w_1.u4(Key_getInstance());null==n||n.ho(JsWebSocketSession$lambda_2(this))}function unwrapCancellationException(t){return t}return HttpClient$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpClient$slambda.prototype.constructor=HttpClient$slambda,HttpClient$slambda_1.prototype=Object.create(CoroutineImpl.prototype),HttpClient$slambda_1.prototype.constructor=HttpClient$slambda_1,$executeCOROUTINE$0.prototype=Object.create(CoroutineImpl.prototype),$executeCOROUTINE$0.prototype.constructor=$executeCOROUTINE$0,$bodyCOROUTINE$1.prototype=Object.create(CoroutineImpl.prototype),$bodyCOROUTINE$1.prototype.constructor=$bodyCOROUTINE$1,DoubleReceiveException.prototype=Object.create(IllegalStateException.prototype),DoubleReceiveException.prototype.constructor=DoubleReceiveException,NoTransformationFoundException.prototype=Object.create(UnsupportedOperationException.prototype),NoTransformationFoundException.prototype.constructor=NoTransformationFoundException,SavedHttpCall.prototype=Object.create(HttpClientCall.prototype),SavedHttpCall.prototype.constructor=SavedHttpCall,SavedHttpResponse.prototype=Object.create(HttpResponse.prototype),SavedHttpResponse.prototype.constructor=SavedHttpResponse,$saveCOROUTINE$2.prototype=Object.create(CoroutineImpl.prototype),$saveCOROUTINE$2.prototype.constructor=$saveCOROUTINE$2,UnsupportedContentTypeException.prototype=Object.create(IllegalStateException.prototype),UnsupportedContentTypeException.prototype.constructor=UnsupportedContentTypeException,ObservableContent$content$slambda.prototype=Object.create(CoroutineImpl.prototype),ObservableContent$content$slambda.prototype.constructor=ObservableContent$content$slambda,ObservableContent.prototype=Object.create(ReadChannelContent.prototype),ObservableContent.prototype.constructor=ObservableContent,HttpClientEngine$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpClientEngine$install$slambda.prototype.constructor=HttpClientEngine$install$slambda,HttpClientEngine$executeWithinCallContext$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpClientEngine$executeWithinCallContext$slambda.prototype.constructor=HttpClientEngine$executeWithinCallContext$slambda,$executeWithinCallContextCOROUTINE$3.prototype=Object.create(CoroutineImpl.prototype),$executeWithinCallContextCOROUTINE$3.prototype.constructor=$executeWithinCallContextCOROUTINE$3,ClientEngineClosedException.prototype=Object.create(IllegalStateException.prototype),ClientEngineClosedException.prototype.constructor=ClientEngineClosedException,BodyProgress$handle$slambda.prototype=Object.create(CoroutineImpl.prototype),BodyProgress$handle$slambda.prototype.constructor=BodyProgress$handle$slambda,BodyProgress$handle$slambda_1.prototype=Object.create(CoroutineImpl.prototype),BodyProgress$handle$slambda_1.prototype.constructor=BodyProgress$handle$slambda_1,ResponseException.prototype=Object.create(IllegalStateException.prototype),ResponseException.prototype.constructor=ResponseException,RedirectResponseException.prototype=Object.create(ResponseException.prototype),RedirectResponseException.prototype.constructor=RedirectResponseException,ClientRequestException.prototype=Object.create(ResponseException.prototype),ClientRequestException.prototype.constructor=ClientRequestException,ServerResponseException.prototype=Object.create(ResponseException.prototype),ServerResponseException.prototype.constructor=ServerResponseException,addDefaultResponseValidation$lambda$slambda.prototype=Object.create(CoroutineImpl.prototype),addDefaultResponseValidation$lambda$slambda.prototype.constructor=addDefaultResponseValidation$lambda$slambda,defaultTransformers$1$content$1.prototype=Object.create(ByteArrayContent.prototype),defaultTransformers$1$content$1.prototype.constructor=defaultTransformers$1$content$1,defaultTransformers$1$content$2.prototype=Object.create(ReadChannelContent.prototype),defaultTransformers$1$content$2.prototype.constructor=defaultTransformers$1$content$2,defaultTransformers$slambda.prototype=Object.create(CoroutineImpl.prototype),defaultTransformers$slambda.prototype.constructor=defaultTransformers$slambda,defaultTransformers$slambda$slambda.prototype=Object.create(CoroutineImpl.prototype),defaultTransformers$slambda$slambda.prototype.constructor=defaultTransformers$slambda$slambda,defaultTransformers$slambda_1.prototype=Object.create(CoroutineImpl.prototype),defaultTransformers$slambda_1.prototype.constructor=defaultTransformers$slambda_1,HttpCallValidator$Companion$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpCallValidator$Companion$install$slambda.prototype.constructor=HttpCallValidator$Companion$install$slambda,HttpCallValidator$Companion$install$slambda_1.prototype=Object.create(CoroutineImpl.prototype),HttpCallValidator$Companion$install$slambda_1.prototype.constructor=HttpCallValidator$Companion$install$slambda_1,HttpCallValidator$Companion$install$slambda_3.prototype=Object.create(CoroutineImpl.prototype),HttpCallValidator$Companion$install$slambda_3.prototype.constructor=HttpCallValidator$Companion$install$slambda_3,$validateResponseCOROUTINE$4.prototype=Object.create(CoroutineImpl.prototype),$validateResponseCOROUTINE$4.prototype.constructor=$validateResponseCOROUTINE$4,$processExceptionCOROUTINE$5.prototype=Object.create(CoroutineImpl.prototype),$processExceptionCOROUTINE$5.prototype.constructor=$processExceptionCOROUTINE$5,HttpPlainText$Plugin$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpPlainText$Plugin$install$slambda.prototype.constructor=HttpPlainText$Plugin$install$slambda,HttpPlainText$Plugin$install$slambda_1.prototype=Object.create(CoroutineImpl.prototype),HttpPlainText$Plugin$install$slambda_1.prototype.constructor=HttpPlainText$Plugin$install$slambda_1,HttpRedirect$Plugin$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpRedirect$Plugin$install$slambda.prototype.constructor=HttpRedirect$Plugin$install$slambda,$handleCallCOROUTINE$6.prototype=Object.create(CoroutineImpl.prototype),$handleCallCOROUTINE$6.prototype.constructor=$handleCallCOROUTINE$6,HttpRequestLifecycle$Plugin$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpRequestLifecycle$Plugin$install$slambda.prototype.constructor=HttpRequestLifecycle$Plugin$install$slambda,HttpSend$Plugin$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpSend$Plugin$install$slambda.prototype.constructor=HttpSend$Plugin$install$slambda,$executeCOROUTINE$7.prototype=Object.create(CoroutineImpl.prototype),$executeCOROUTINE$7.prototype.constructor=$executeCOROUTINE$7,SendCountExceedException.prototype=Object.create(IllegalStateException.prototype),SendCountExceedException.prototype.constructor=SendCountExceedException,HttpTimeout$Plugin$install$slambda$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpTimeout$Plugin$install$slambda$slambda.prototype.constructor=HttpTimeout$Plugin$install$slambda$slambda,HttpTimeout$Plugin$install$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpTimeout$Plugin$install$slambda.prototype.constructor=HttpTimeout$Plugin$install$slambda,HttpRequestTimeoutException.prototype=Object.create(IOException.prototype),HttpRequestTimeoutException.prototype.constructor=HttpRequestTimeoutException,DelegatedResponse.prototype=Object.create(HttpResponse.prototype),DelegatedResponse.prototype.constructor=DelegatedResponse,WebSocketException.prototype=Object.create(IllegalStateException.prototype),WebSocketException.prototype.constructor=WebSocketException,ClientUpgradeContent.prototype=Object.create(NoContent.prototype),ClientUpgradeContent.prototype.constructor=ClientUpgradeContent,HttpRequestPipeline.prototype=Object.create(Pipeline.prototype),HttpRequestPipeline.prototype.constructor=HttpRequestPipeline,HttpSendPipeline.prototype=Object.create(Pipeline.prototype),HttpSendPipeline.prototype.constructor=HttpSendPipeline,DefaultHttpResponse.prototype=Object.create(HttpResponse.prototype),DefaultHttpResponse.prototype.constructor=DefaultHttpResponse,$bodyAsTextCOROUTINE$11.prototype=Object.create(CoroutineImpl.prototype),$bodyAsTextCOROUTINE$11.prototype.constructor=$bodyAsTextCOROUTINE$11,HttpResponsePipeline.prototype=Object.create(Pipeline.prototype),HttpResponsePipeline.prototype.constructor=HttpResponsePipeline,HttpReceivePipeline.prototype=Object.create(Pipeline.prototype),HttpReceivePipeline.prototype.constructor=HttpReceivePipeline,HttpStatement$execute$slambda.prototype=Object.create(CoroutineImpl.prototype),HttpStatement$execute$slambda.prototype.constructor=HttpStatement$execute$slambda,$executeCOROUTINE$12.prototype=Object.create(CoroutineImpl.prototype),$executeCOROUTINE$12.prototype.constructor=$executeCOROUTINE$12,$executeUnsafeCOROUTINE$13.prototype=Object.create(CoroutineImpl.prototype),$executeUnsafeCOROUTINE$13.prototype.constructor=$executeUnsafeCOROUTINE$13,$cleanupCOROUTINE$14.prototype=Object.create(CoroutineImpl.prototype),$cleanupCOROUTINE$14.prototype.constructor=$cleanupCOROUTINE$14,observable$slambda.prototype=Object.create(CoroutineImpl.prototype),observable$slambda.prototype.constructor=observable$slambda,EmptyContent.prototype=Object.create(NoContent.prototype),EmptyContent.prototype.constructor=EmptyContent,$executeCOROUTINE$15.prototype=Object.create(CoroutineImpl.prototype),$executeCOROUTINE$15.prototype.constructor=$executeCOROUTINE$15,$executeWebSocketRequestCOROUTINE$16.prototype=Object.create(CoroutineImpl.prototype),$executeWebSocketRequestCOROUTINE$16.prototype.constructor=$executeWebSocketRequestCOROUTINE$16,JsClientEngine.prototype=Object.create(HttpClientEngineBase.prototype),JsClientEngine.prototype.constructor=JsClientEngine,JsError.prototype=Object.create(Error.prototype),JsError.prototype.constructor=JsError,toRaw$slambda.prototype=Object.create(CoroutineImpl.prototype),toRaw$slambda.prototype.constructor=toRaw$slambda,$toRawCOROUTINE$17.prototype=Object.create(CoroutineImpl.prototype),$toRawCOROUTINE$17.prototype.constructor=$toRawCOROUTINE$17,channelFromStream$slambda.prototype=Object.create(CoroutineImpl.prototype),channelFromStream$slambda.prototype.constructor=channelFromStream$slambda,readBodyNode$slambda.prototype=Object.create(CoroutineImpl.prototype),readBodyNode$slambda.prototype.constructor=readBodyNode$slambda,JsWebSocketSession$slambda.prototype=Object.create(CoroutineImpl.prototype),JsWebSocketSession$slambda.prototype.constructor=JsWebSocketSession$slambda,HttpClient$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpClient$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpClient$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,!(this.o50_1 instanceof HttpClientCall)){var e="Error: HttpClientCall expected, but found "+toString(this.o50_1)+"("+getKClassFromExpression(this.o50_1)+").";throw IllegalStateException_init_$Create$(toString(e))}if(this.hi_1=1,(t=this.m50_1.z4z_1.b2y(Unit_getInstance(),this.o50_1.x50(),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.p50_1=t,this.o50_1.y50(this.p50_1),this.hi_1=2,(t=this.n50_1.g2x(this.o50_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return Unit_getInstance();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpClient$slambda.prototype.r50=function(t,e,n){var i=new HttpClient$slambda(this.m50_1,n);return i.n50_1=t,i.o50_1=e,i},HttpClient$slambda.$metadata$=classMeta("HttpClient$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpClient$slambda_1.prototype.k51=function(t,e,n){var i=this.l51(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpClient$slambda_1.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.k51(i,e instanceof HttpResponseContainer?e:THROW_CCE(),n)},HttpClient$slambda_1.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.ii_1=2,this.hi_1=1,(t=this.i51_1.h2x(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:this.ii_1=3,this.hi_1=4;continue t;case 2:if(this.ii_1=3,this.ki_1 instanceof Error){var e=this.ki_1;throw this.h51_1.c50_1.p4z(get_HttpResponseReceiveFailed(),new HttpResponseReceiveFail(this.i51_1.c2y_1.x50(),e)),e}throw this.ki_1;case 3:throw this.ki_1;case 4:return this.ii_1=3,Unit_getInstance()}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpClient$slambda_1.prototype.l51=function(t,e,n){var i=new HttpClient$slambda_1(this.h51_1,n);return i.i51_1=t,i.j51_1=e,i},HttpClient$slambda_1.$metadata$=classMeta("HttpClient$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),$executeCOROUTINE$0.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.u51_1.c50_1.p4z(get_HttpRequestCreated(),this.v51_1),this.hi_1=1,(t=this.u51_1.w4z_1.b2y(this.v51_1,this.v51_1.z51_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return t instanceof HttpClientCall?t:THROW_CCE();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeCOROUTINE$0.$metadata$=classMeta("$executeCOROUTINE$0",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),HttpClient.prototype.gn=function(){return this.v4z_1},HttpClient.prototype.z52=function(t,e){var n=new $executeCOROUTINE$0(this,t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpClient.prototype.p1e=function(){if(!this.t4z_1.atomicfu$compareAndSet(!1,!0))return Unit_getInstance();for(var t=this.a50_1.a2u(get_PLUGIN_INSTALLED_LIST()),e=t.g2u().d();e.e();){var n=e.f(),i=t.a2u(n instanceof AttributeKey?n:THROW_CCE());isInterface(i,Closeable)&&i.p1e()}this.u4z_1.qt(),this.s4z_1&&this.q4z_1.p1e()},HttpClient.prototype.toString=function(){return"HttpClient["+this.q4z_1+"]"},HttpClient.$metadata$=classMeta("HttpClient",[CoroutineScope,Closeable]),HttpClientConfig.prototype.d53=function(t,e){var n=this.d52_1.o(t.a1()),i=this.d52_1,r=t.a1();if(i.a(r,HttpClientConfig$install$lambda_0(n,e)),this.c52_1.r2(t.a1()))return Unit_getInstance();var o=this.c52_1,s=t.a1();o.a(s,HttpClientConfig$install$lambda_1(t))},HttpClientConfig.prototype.r52=function(t,e,n,i){return 0!=(2&n)&&(e=HttpClientConfig$install$lambda()),this.d53(t,e)},HttpClientConfig.prototype.s52=function(t,e){this.e52_1.a(t,e)},HttpClientConfig.prototype.l52=function(t){for(var e=this.c52_1.y2().d();e.e();)e.f()(t);for(var n=this.e52_1.y2().d();n.e();)n.f()(t)},HttpClientConfig.prototype.t52=function(t){this.g52_1=t.g52_1,this.h52_1=t.h52_1,this.i52_1=t.i52_1;var e=this.c52_1,n=t.c52_1;e.q3(n);var i=this.d52_1,r=t.d52_1;i.q3(r);var o=this.e52_1,s=t.e52_1;o.q3(s)},HttpClientConfig.$metadata$=classMeta("HttpClientConfig"),Companion.$metadata$=objectMeta("Companion"),$bodyCOROUTINE$1.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=10,this.hi_1=1;continue t;case 1:this.hi_1=2;continue t;case 2:if(this.ii_1=9,this.ii_1=8,instanceOf(this.v53_1.x50(),this.w53_1.t2y_1)){this.x53_1=this.v53_1.x50(),this.ii_1=10,this.hi_1=7;continue t}this.hi_1=3;continue t;case 3:if(!this.v53_1.c54()&&!this.v53_1.t50_1.atomicfu$compareAndSet(!1,!0))throw new DoubleReceiveException(this.v53_1);if(this.y53_1=this.v53_1.l53().b2u(Companion_getInstance_8().m53_1),null==this.y53_1){if(this.hi_1=4,(t=this.v53_1.d54(this))===get_COROUTINE_SUSPENDED())return t;continue t}this.z53_1=this.y53_1,this.hi_1=5;continue t;case 4:this.z53_1=t,this.hi_1=5;continue t;case 5:if(this.a54_1=this.z53_1,this.b54_1=new HttpResponseContainer(this.w53_1,this.a54_1),this.hi_1=6,(t=this.v53_1.s50_1.x4z_1.b2y(this.v53_1,this.b54_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 6:var e=t.f54_1;if(!instanceOf(e,this.w53_1.t2y_1)){var n=getKClassFromExpression(e),i=this.w53_1.t2y_1;throw new NoTransformationFoundException(this.v53_1.x50(),n,i)}this.x53_1=e,this.ii_1=10,this.hi_1=7;continue t;case 7:var r=this.x53_1;return complete(this.v53_1.x50()),r;case 8:if(this.ii_1=9,this.ki_1 instanceof Error){var o=this.ki_1;throw cancel(this.v53_1.x50(),"Receive failed",o),o}throw this.ki_1;case 9:this.ii_1=10;var s=this.ki_1;throw complete(this.v53_1.x50()),s;case 10:throw this.ki_1;case 11:return complete(this.v53_1.x50()),Unit_getInstance()}}catch(t){if(10===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$bodyCOROUTINE$1.$metadata$=classMeta("$bodyCOROUTINE$1",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),HttpClientCall.prototype.gn=function(){return this.x50().gn()},HttpClientCall.prototype.l53=function(){return this.g54().l53()},HttpClientCall.prototype.h54=function(t){this.u50_1=t},HttpClientCall.prototype.g54=function(){var t=this.u50_1;if(null!=t)return t;throwUninitializedPropertyAccessException("request")},HttpClientCall.prototype.i54=function(t){this.v50_1=t},HttpClientCall.prototype.x50=function(){var t=this.v50_1;if(null!=t)return t;throwUninitializedPropertyAccessException("response")},HttpClientCall.prototype.c54=function(){return this.w50_1},HttpClientCall.prototype.d54=function(t){return this.x50().j25()},HttpClientCall.prototype.j54=function(t,e){var n=new $bodyCOROUTINE$1(this,t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpClientCall.prototype.toString=function(){return"HttpClientCall["+this.g54().k54()+", "+this.x50().l54()+"]"},HttpClientCall.prototype.y50=function(t){this.v50_1=t},HttpClientCall.$metadata$=classMeta("HttpClientCall",[CoroutineScope]),DoubleReceiveException.prototype.r1=function(){return this.m54_1},DoubleReceiveException.$metadata$=classMeta("DoubleReceiveException",void 0,void 0,void 0,void 0,IllegalStateException.prototype),Object.defineProperty(DoubleReceiveException.prototype,"message",{configurable:!0,get:function(){return this.r1()}}),NoTransformationFoundException.prototype.r1=function(){return this.n54_1},NoTransformationFoundException.$metadata$=classMeta("NoTransformationFoundException",void 0,void 0,void 0,void 0,UnsupportedOperationException.prototype),Object.defineProperty(NoTransformationFoundException.prototype,"message",{configurable:!0,get:function(){return this.r1()}}),SavedHttpCall.prototype.d54=function(t){return ByteReadChannel_0(this.c55_1)},SavedHttpCall.prototype.c54=function(){return this.d55_1},SavedHttpCall.$metadata$=classMeta("SavedHttpCall",void 0,void 0,void 0,void 0,HttpClientCall.prototype),SavedHttpRequest.prototype.g55=function(){return this.e55_1},SavedHttpRequest.prototype.l53=function(){return this.f55_1.l53()},SavedHttpRequest.prototype.gn=function(){return this.f55_1.gn()},SavedHttpRequest.prototype.n35=function(){return this.f55_1.n35()},SavedHttpRequest.prototype.h55=function(){return this.f55_1.h55()},SavedHttpRequest.prototype.k54=function(){return this.f55_1.k54()},SavedHttpRequest.$metadata$=classMeta("SavedHttpRequest",[HttpRequest_0]),SavedHttpResponse.prototype.g55=function(){return this.i55_1},SavedHttpResponse.prototype.l54=function(){return this.k55_1},SavedHttpResponse.prototype.mm=function(){return this.l55_1},SavedHttpResponse.prototype.r55=function(){return this.m55_1},SavedHttpResponse.prototype.s55=function(){return this.n55_1},SavedHttpResponse.prototype.n35=function(){return this.o55_1},SavedHttpResponse.prototype.gn=function(){return this.p55_1},SavedHttpResponse.prototype.j25=function(){return this.q55_1},SavedHttpResponse.$metadata$=classMeta("SavedHttpResponse",void 0,void 0,void 0,void 0,HttpResponse.prototype),$saveCOROUTINE$2.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.w54_1.x50().j25().r2k(new Long(0,0),this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:var e=readBytes$default(t,0,1,null);return new SavedHttpCall(this.w54_1.s50_1,this.w54_1.g54(),this.w54_1.x50(),e);case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$saveCOROUTINE$2.$metadata$=classMeta("$saveCOROUTINE$2",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),UnsupportedContentTypeException.$metadata$=classMeta("UnsupportedContentTypeException",void 0,void 0,void 0,void 0,IllegalStateException.prototype),ObservableContent$content$slambda.prototype.d56=function(t,e){var n=this.e56(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},ObservableContent$content$slambda.prototype.si=function(t,e){return this.d56(null!=t&&isInterface(t,WriterScope)?t:THROW_CCE(),e)},ObservableContent$content$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.b56_1.b3b(this.c56_1.l10(),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return Unit_getInstance();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ObservableContent$content$slambda.prototype.e56=function(t,e){var n=new ObservableContent$content$slambda(this.b56_1,e);return n.c56_1=t,n},ObservableContent$content$slambda.$metadata$=classMeta("ObservableContent$content$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),ObservableContent.prototype.u3a=function(){return this.j56_1.u3a()},ObservableContent.prototype.v3a=function(){return this.j56_1.v3a()},ObservableContent.prototype.n35=function(){return this.j56_1.n35()},ObservableContent.prototype.z3a=function(){return observable(this.i56_1,this.g56_1,this.v3a(),this.h56_1)},ObservableContent.$metadata$=classMeta("ObservableContent",void 0,void 0,void 0,void 0,ReadChannelContent.prototype),HttpClientEngine$install$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpClientEngine$install$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpClientEngine$install$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3,this.q57_1=new HttpRequestBuilder,this.q57_1.w57(this.o57_1.c2y_1);var e=this.p57_1;if(null==e)this.q57_1.z51_1=EmptyContent_getInstance(),this.q57_1.x57(null);else if(e instanceof OutgoingContent)this.q57_1.z51_1=this.p57_1,this.q57_1.x57(null);else{this.q57_1.z51_1=this.p57_1;var n,i=JsType_getInstance(),r=PrimitiveClasses_getInstance().of();try{n=createKType(PrimitiveClasses_getInstance().of(),arrayOf([]),!1)}catch(t){if(!(t instanceof Error))throw t;n=null}this.q57_1.x57(typeInfoImpl(i,r,n))}if(this.r57_1=this.q57_1,this.m57_1.c50_1.p4z(get_HttpRequestIsReadyForSending(),this.r57_1),this.s57_1=this.r57_1.i1s(),validateHeaders(this.s57_1),checkExtensions(this.n57_1,this.s57_1),this.hi_1=1,(t=executeWithinCallContext(this.n57_1,this.s57_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.t57_1=t,this.u57_1=HttpClientCall_init_$Create$(this.m57_1,this.s57_1,this.t57_1),this.v57_1=this.u57_1.x50(),this.m57_1.c50_1.p4z(get_HttpResponseReceived(),this.v57_1),get_job(this.v57_1.gn()).ho(HttpClientEngine$install$slambda$lambda(this.m57_1,this.v57_1)),this.hi_1=2,(t=this.o57_1.g2x(this.u57_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return Unit_getInstance();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpClientEngine$install$slambda.prototype.r50=function(t,e,n){var i=new HttpClientEngine$install$slambda(this.m57_1,this.n57_1,n);return i.o57_1=t,i.p57_1=e,i},HttpClientEngine$install$slambda.$metadata$=classMeta("HttpClientEngine$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpClientEngine$executeWithinCallContext$slambda.prototype.j58=function(t,e){var n=this.u1k(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpClientEngine$executeWithinCallContext$slambda.prototype.si=function(t,e){return this.j58(null!=t&&isInterface(t,CoroutineScope)?t:THROW_CCE(),e)},HttpClientEngine$executeWithinCallContext$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,_get_closed__iwkfs1(this.g58_1))throw ClientEngineClosedException_init_$Create$(null,1,null);if(this.hi_1=1,(t=this.g58_1.k58(this.h58_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return t;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpClientEngine$executeWithinCallContext$slambda.prototype.u1k=function(t,e){var n=new HttpClientEngine$executeWithinCallContext$slambda(this.g58_1,this.h58_1,e);return n.i58_1=t,n},HttpClientEngine$executeWithinCallContext$slambda.$metadata$=classMeta("HttpClientEngine$executeWithinCallContext$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),$executeWithinCallContextCOROUTINE$3.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=createCallContext(this.s56_1,this.t56_1.a57_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.u56_1=t,this.v56_1=this.u56_1.b5(new KtorCallContextElement(this.u56_1)),this.hi_1=2,(t=async$default(this.s56_1,this.v56_1,null,HttpClientEngine$executeWithinCallContext$slambda_0(this.s56_1,this.t56_1,null),2,null).gl(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return t;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeWithinCallContextCOROUTINE$3.$metadata$=classMeta("$executeWithinCallContextCOROUTINE$3",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),HttpClientEngine.$metadata$=interfaceMeta("HttpClientEngine",[CoroutineScope,Closeable]),HttpClientEngineFactory.$metadata$=interfaceMeta("HttpClientEngineFactory"),ClientEngineClosedException.prototype.s1=function(){return this.l58_1},ClientEngineClosedException.$metadata$=classMeta("ClientEngineClosedException",void 0,void 0,void 0,void 0,IllegalStateException.prototype),Object.defineProperty(ClientEngineClosedException.prototype,"cause",{configurable:!0,get:function(){return this.s1()}}),HttpClientEngineBase.prototype.gn=function(){return coroutineContext$factory(),this.p58_1.b1()},HttpClientEngineBase.prototype.p1e=function(){if(!this.o58_1.atomicfu$compareAndSet(!1,!0))return Unit_getInstance();var t=this.gn().u4(Key_getInstance()),e=null!=t&&isInterface(t,CompletableJob)?t:null;if(null==e)return Unit_getInstance();var n=e;n.qt(),n.ho(HttpClientEngineBase$close$lambda(this))},HttpClientEngineBase.$metadata$=classMeta("HttpClientEngineBase",[HttpClientEngine]),HttpClientEngineCapability.$metadata$=interfaceMeta("HttpClientEngineCapability"),HttpClientEngineConfig.$metadata$=classMeta("HttpClientEngineConfig"),Companion_0.$metadata$=objectMeta("Companion",[Key]),KtorCallContextElement.prototype.a1=function(){return Companion_getInstance_9()},KtorCallContextElement.$metadata$=classMeta("KtorCallContextElement",[Element]),Plugin.prototype.a1=function(){return this.c59_1},Plugin.prototype.d59=function(t){return new BodyProgress},Plugin.prototype.b53=function(t){return this.d59(t)},Plugin.prototype.e59=function(t,e){handle(t,e)},Plugin.prototype.c53=function(t,e){return this.e59(t instanceof BodyProgress?t:THROW_CCE(),e)},Plugin.$metadata$=objectMeta("Plugin",[HttpClientPlugin]),BodyProgress$handle$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},BodyProgress$handle$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},BodyProgress$handle$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2;var e,n=this.n59_1.c2y_1.b52_1.b2u(get_UploadProgressListenerAttributeKey());if(null==n)return Unit_getInstance();e=n,this.p59_1=e;var i=this.o59_1;if(this.q59_1=new ObservableContent(i instanceof OutgoingContent?i:THROW_CCE(),this.n59_1.c2y_1.a52_1,this.p59_1),this.hi_1=1,(t=this.n59_1.g2x(this.q59_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return Unit_getInstance();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},BodyProgress$handle$slambda.prototype.r50=function(t,e,n){var i=new BodyProgress$handle$slambda(n);return i.n59_1=t,i.o59_1=e,i},BodyProgress$handle$slambda.$metadata$=classMeta("BodyProgress$handle$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),BodyProgress$handle$slambda_1.prototype.d5a=function(t,e,n){var i=this.e5a(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},BodyProgress$handle$slambda_1.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.d5a(i,e instanceof HttpResponse?e:THROW_CCE(),n)},BodyProgress$handle$slambda_1.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2;var e,n=this.a5a_1.g55().g54().l53().b2u(get_DownloadProgressListenerAttributeKey());if(null==n)return Unit_getInstance();if(e=n,this.b5a_1=e,this.c5a_1=withObservableDownload(this.a5a_1,this.b5a_1),this.hi_1=1,(t=this.z59_1.g2x(this.c5a_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return Unit_getInstance();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},BodyProgress$handle$slambda_1.prototype.e5a=function(t,e,n){var i=new BodyProgress$handle$slambda_1(n);return i.z59_1=t,i.a5a_1=e,i},BodyProgress$handle$slambda_1.$metadata$=classMeta("BodyProgress$handle$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),BodyProgress.$metadata$=classMeta("BodyProgress"),RedirectResponseException.prototype.r1=function(){return this.g5a_1},RedirectResponseException.$metadata$=classMeta("RedirectResponseException",void 0,void 0,void 0,void 0,ResponseException.prototype),Object.defineProperty(RedirectResponseException.prototype,"message",{configurable:!0,get:function(){return this.r1()}}),ClientRequestException.prototype.r1=function(){return this.i5a_1},ClientRequestException.$metadata$=classMeta("ClientRequestException",void 0,void 0,void 0,void 0,ResponseException.prototype),Object.defineProperty(ClientRequestException.prototype,"message",{configurable:!0,get:function(){return this.r1()}}),ServerResponseException.prototype.r1=function(){return this.k5a_1},ServerResponseException.$metadata$=classMeta("ServerResponseException",void 0,void 0,void 0,void 0,ResponseException.prototype),Object.defineProperty(ServerResponseException.prototype,"message",{configurable:!0,get:function(){return this.r1()}}),ResponseException.$metadata$=classMeta("ResponseException",void 0,void 0,void 0,void 0,IllegalStateException.prototype),addDefaultResponseValidation$lambda$slambda.prototype.b5b=function(t,e){var n=this.c5b(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},addDefaultResponseValidation$lambda$slambda.prototype.si=function(t,e){return this.b5b(t instanceof HttpResponse?t:THROW_CCE(),e)},addDefaultResponseValidation$lambda$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.v5a_1=this.u5a_1.g55().l53().a2u(get_ExpectSuccessAttributeKey()),!this.v5a_1)return Unit_getInstance();if(this.w5a_1=this.u5a_1.l54().h38_1,this.x5a_1=this.u5a_1.g55(),this.w5a_1<300||this.x5a_1.l53().c2u(get_ValidateMark()))return Unit_getInstance();if(this.hi_1=1,(t=save(this.x5a_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.y5a_1=t,this.y5a_1.l53().d2u(get_ValidateMark(),Unit_getInstance()),this.z5a_1=this.y5a_1,this.a5b_1=this.z5a_1.x50(),this.hi_1=2,(t=bodyAsText$default(this.a5b_1,null,this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:var e=t,n=this.w5a_1;throw 300<=n&&n<=399?new RedirectResponseException(this.a5b_1,e):400<=n&&n<=499?new ClientRequestException(this.a5b_1,e):500<=n&&n<=599?new ServerResponseException(this.a5b_1,e):new ResponseException(this.a5b_1,e);case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},addDefaultResponseValidation$lambda$slambda.prototype.c5b=function(t,e){var n=new addDefaultResponseValidation$lambda$slambda(e);return n.u5a_1=t,n},addDefaultResponseValidation$lambda$slambda.$metadata$=classMeta("addDefaultResponseValidation$lambda$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),defaultTransformers$1$content$1.prototype.u3a=function(){return this.i5b_1},defaultTransformers$1$content$1.prototype.v3a=function(){return this.j5b_1},defaultTransformers$1$content$1.prototype.w3a=function(){return this.k5b_1},defaultTransformers$1$content$1.$metadata$=classMeta(void 0,void 0,void 0,void 0,void 0,ByteArrayContent.prototype),defaultTransformers$1$content$2.prototype.v3a=function(){return this.m5b_1},defaultTransformers$1$content$2.prototype.u3a=function(){return this.n5b_1},defaultTransformers$1$content$2.prototype.z3a=function(){return this.o5b_1},defaultTransformers$1$content$2.$metadata$=classMeta(void 0,void 0,void 0,void 0,void 0,ReadChannelContent.prototype),defaultTransformers$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},defaultTransformers$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},defaultTransformers$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3,null==this.x5b_1.c2y_1.y51_1.m25(HttpHeaders_getInstance().h31_1)&&this.x5b_1.c2y_1.y51_1.q2v(HttpHeaders_getInstance().h31_1,"*/*");var e,n=this.x5b_1.c2y_1.y51_1.m25(HttpHeaders_getInstance().z31_1);e=null==n?null:Companion_getInstance_0().l2z(n),this.z5b_1=e;var i=this.x5b_1.c2y_1.y51_1.m25(HttpHeaders_getInstance().w31_1);this.a5c_1=null==i?null:toLong_0(i);var r,o=this.y5b_1;if("string"==typeof o){var s=this.z5b_1,a=null==s?Text_getInstance().n30_1:s;r=TextContent_init_$Create$(this.y5b_1,a,null,4,null)}else r=isByteArray(o)?new defaultTransformers$1$content$1(this.z5b_1,this.y5b_1):isInterface(o,ByteReadChannel)?new defaultTransformers$1$content$2(this.a5c_1,this.z5b_1,this.y5b_1):null;if(this.b5c_1=r,null!=this.b5c_1){if(this.x5b_1.c2y_1.y51_1.s2v(HttpHeaders_getInstance().z31_1),this.hi_1=1,(t=this.x5b_1.g2x(this.b5c_1,this))===get_COROUTINE_SUSPENDED())return t;continue t}this.hi_1=2;continue t;case 1:this.hi_1=2;continue t;case 2:return Unit_getInstance();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},defaultTransformers$slambda.prototype.r50=function(t,e,n){var i=new defaultTransformers$slambda(n);return i.x5b_1=t,i.y5b_1=e,i},defaultTransformers$slambda.$metadata$=classMeta("defaultTransformers$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),defaultTransformers$slambda$slambda.prototype.d56=function(t,e){var n=this.e56(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},defaultTransformers$slambda$slambda.prototype.si=function(t,e){return this.d56(null!=t&&isInterface(t,WriterScope)?t:THROW_CCE(),e)},defaultTransformers$slambda$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.hi_1=1;continue t;case 1:this.ii_1=4,this.ii_1=3,this.hi_1=2;var e=this.m5c_1.l10();if(Companion_getInstance_1(),(t=copyTo(this.k5c_1,e,new Long(-1,2147483647),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:this.n5c_1=Unit_getInstance(),this.ii_1=5,this.hi_1=6;continue t;case 3:if(this.ii_1=4,this.ki_1 instanceof CancellationException){var n=this.ki_1;throw cancel_0(this.l5c_1,n),n}if(this.ki_1 instanceof Error){var i=this.ki_1;throw cancel(this.l5c_1,"Receive failed",i),i}throw this.ki_1;case 4:this.ii_1=5;var r=this.ki_1;throw complete(this.l5c_1),r;case 5:throw this.ki_1;case 6:return complete(this.l5c_1),Unit_getInstance()}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},defaultTransformers$slambda$slambda.prototype.e56=function(t,e){var n=new defaultTransformers$slambda$slambda(this.k5c_1,this.l5c_1,e);return n.m5c_1=t,n},defaultTransformers$slambda$slambda.$metadata$=classMeta("defaultTransformers$slambda$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),defaultTransformers$slambda_1.prototype.k51=function(t,e,n){var i=this.l51(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},defaultTransformers$slambda_1.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.k51(i,e instanceof HttpResponseContainer?e:THROW_CCE(),n)},defaultTransformers$slambda_1.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=11,this.y5c_1=this.x5c_1.w3(),this.z5c_1=this.x5c_1.x3();var e=this.z5c_1;if(!isInterface(e,ByteReadChannel))return Unit_getInstance();this.a5d_1=this.w5c_1.c2y_1.x50();var n,i=this.a5d_1.n35().m25(HttpHeaders_getInstance().w31_1),r=null==i?null:toLong_0(i);if(null==r?(Companion_getInstance_1(),n=new Long(-1,2147483647)):n=r,this.b5d_1=n,this.c5d_1=this.y5c_1.t2y_1,this.c5d_1.equals(getKClass(Unit))){if(cancel_1(this.z5c_1),this.hi_1=9,(t=this.w5c_1.g2x(new HttpResponseContainer(this.y5c_1,Unit_getInstance()),this))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.c5d_1.equals(PrimitiveClasses_getInstance().uf())){if(this.hi_1=7,(t=this.z5c_1.r2k(new Long(0,0),this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.c5d_1.equals(getKClass(ByteReadPacket))||this.c5d_1.equals(getKClass(Input))){if(this.hi_1=5,(t=this.z5c_1.r2k(new Long(0,0),this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.c5d_1.equals(PrimitiveClasses_getInstance().cg())){if(this.hi_1=3,(t=this.z5c_1.q2k(this.b5d_1,this))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.c5d_1.equals(getKClass(ByteReadChannel))){this.d5d_1=Job(this.a5d_1.gn().u4(Key_getInstance()));var o=this.a5d_1.gn();if(this.e5d_1=writer$default(this.w5c_1,o,!1,defaultTransformers$slambda$slambda_0(this.z5c_1,this.a5d_1,null),2,null),this.e5d_1.ho(defaultTransformers$slambda$lambda(this.d5d_1)),this.f5d_1=this.e5d_1.l10(),this.hi_1=2,(t=this.w5c_1.g2x(new HttpResponseContainer(this.y5c_1,this.f5d_1),this))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.c5d_1.equals(getKClass(HttpStatusCode))){if(cancel_1(this.z5c_1),this.hi_1=1,(t=this.w5c_1.g2x(new HttpResponseContainer(this.y5c_1,this.a5d_1.l54()),this))===get_COROUTINE_SUSPENDED())return t;continue t}this.hi_1=10;continue t;case 1:case 2:case 4:case 6:case 8:case 9:this.hi_1=10;continue t;case 3:if(this.g5d_1=t,Companion_getInstance_1(),this.b5d_1.j1(new Long(-1,2147483647))<0&&!this.g5d_1.j2i().equals(this.b5d_1)){var s="Expected "+toString(this.b5d_1)+", actual "+toString(this.g5d_1.j2i());throw IllegalStateException_init_$Create$(toString(s))}if(this.hi_1=4,(t=this.w5c_1.g2x(new HttpResponseContainer(this.y5c_1,readBytes$default(this.g5d_1,0,1,null)),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 5:if(this.h5d_1=t,this.i5d_1=new HttpResponseContainer(this.y5c_1,this.h5d_1),this.hi_1=6,(t=this.w5c_1.g2x(this.i5d_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 7:if(this.j5d_1=t,this.k5d_1=this.j5d_1.o2p(0,0,3,null),this.l5d_1=toInt(this.k5d_1),this.m5d_1=new HttpResponseContainer(this.y5c_1,this.l5d_1),this.hi_1=8,(t=this.w5c_1.g2x(this.m5d_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 10:return Unit_getInstance();case 11:throw this.ki_1}}catch(t){if(11===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},defaultTransformers$slambda_1.prototype.l51=function(t,e,n){var i=new defaultTransformers$slambda_1(n);return i.w5c_1=t,i.x5c_1=e,i},defaultTransformers$slambda_1.$metadata$=classMeta("defaultTransformers$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpCallValidator$Companion$install$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpCallValidator$Companion$install$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpCallValidator$Companion$install$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.ii_1=3;var e=get_ExpectSuccessAttributeKey();if(this.z5d_1.c2y_1.b52_1.f2u(e,HttpCallValidator$Companion$install$slambda$lambda(this.y5d_1)),this.hi_1=1,(t=this.z5d_1.g2x(this.a5e_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:this.ii_1=5,this.hi_1=2;continue t;case 2:return this.ii_1=5,Unit_getInstance();case 3:if(this.ii_1=5,this.ki_1 instanceof Error){if(this.b5e_1=this.ki_1,this.c5e_1=unwrapCancellationException(this.b5e_1),this.hi_1=4,(t=processException(this.y5d_1,this.c5e_1,HttpRequest(this.z5d_1.c2y_1),this))===get_COROUTINE_SUSPENDED())return t;continue t}throw this.ki_1;case 4:throw this.c5e_1;case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpCallValidator$Companion$install$slambda.prototype.r50=function(t,e,n){var i=new HttpCallValidator$Companion$install$slambda(this.y5d_1,n);return i.z5d_1=t,i.a5e_1=e,i},HttpCallValidator$Companion$install$slambda.$metadata$=classMeta("HttpCallValidator$Companion$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpCallValidator$Companion$install$slambda_1.prototype.k51=function(t,e,n){var i=this.l51(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpCallValidator$Companion$install$slambda_1.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.k51(i,e instanceof HttpResponseContainer?e:THROW_CCE(),n)},HttpCallValidator$Companion$install$slambda_1.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=5,this.ii_1=3,this.hi_1=1,(t=this.m5e_1.g2x(this.n5e_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:this.ii_1=5,this.hi_1=2;continue t;case 2:return this.ii_1=5,Unit_getInstance();case 3:if(this.ii_1=5,this.ki_1 instanceof Error){if(this.o5e_1=this.ki_1,this.p5e_1=unwrapCancellationException(this.o5e_1),this.hi_1=4,(t=processException(this.l5e_1,this.p5e_1,this.m5e_1.c2y_1.g54(),this))===get_COROUTINE_SUSPENDED())return t;continue t}throw this.ki_1;case 4:throw this.p5e_1;case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpCallValidator$Companion$install$slambda_1.prototype.l51=function(t,e,n){var i=new HttpCallValidator$Companion$install$slambda_1(this.l5e_1,n);return i.m5e_1=t,i.n5e_1=e,i},HttpCallValidator$Companion$install$slambda_1.$metadata$=classMeta("HttpCallValidator$Companion$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpCallValidator$Companion$install$slambda_3.prototype.c5f=function(t,e,n){var i=this.d5f(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpCallValidator$Companion$install$slambda_3.prototype.w6=function(t,e,n){var i=null!=t&&isInterface(t,Sender)?t:THROW_CCE();return this.c5f(i,e instanceof HttpRequestBuilder?e:THROW_CCE(),n)},HttpCallValidator$Companion$install$slambda_3.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.z5e_1.z52(this.a5f_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.b5f_1=t,this.hi_1=2,(t=validateResponse(this.y5e_1,this.b5f_1.x50(),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return this.b5f_1;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpCallValidator$Companion$install$slambda_3.prototype.d5f=function(t,e,n){var i=new HttpCallValidator$Companion$install$slambda_3(this.y5e_1,n);return i.z5e_1=t,i.a5f_1=e,i},HttpCallValidator$Companion$install$slambda_3.$metadata$=classMeta("HttpCallValidator$Companion$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),Config.prototype.g5b=function(t){this.d5b_1.b(t)},Config.$metadata$=classMeta("Config"),Companion_1.prototype.a1=function(){return this.g5g_1},Companion_1.prototype.h5g=function(t){var e=new Config;t(e);var n=e;return new HttpCallValidator(reversed(n.d5b_1),reversed(n.e5b_1),n.f5b_1)},Companion_1.prototype.b53=function(t){return this.h5g(t)},Companion_1.prototype.i5g=function(t,e){var n=Phases_getInstance().u58_1;e.w4z_1.g2y(n,HttpCallValidator$Companion$install$slambda_0(t,null));var i=new PipelinePhase("BeforeReceive");e.x4z_1.f2y(Phases_getInstance_1().u52_1,i),e.x4z_1.g2y(i,HttpCallValidator$Companion$install$slambda_2(t,null)),plugin(e,Plugin_getInstance_3()).l5g(HttpCallValidator$Companion$install$slambda_4(t,null))},Companion_1.prototype.c53=function(t,e){return this.i5g(t instanceof HttpCallValidator?t:THROW_CCE(),e)},Companion_1.$metadata$=objectMeta("Companion",[HttpClientPlugin]),$validateResponseCOROUTINE$4.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4,this.o5f_1=this.m5f_1.n5d_1,this.p5f_1=this.o5f_1.d(),this.hi_1=1;continue t;case 1:if(!this.p5f_1.e()){this.hi_1=3;continue t}if(this.q5f_1=this.p5f_1.f(),this.hi_1=2,(t=this.q5f_1(this.n5f_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:this.hi_1=1;continue t;case 3:return Unit_getInstance();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$validateResponseCOROUTINE$4.$metadata$=classMeta("$validateResponseCOROUTINE$4",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),$processExceptionCOROUTINE$5.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=6,this.c5g_1=this.z5f_1.o5d_1,this.d5g_1=this.c5g_1.d(),this.hi_1=1;continue t;case 1:if(!this.d5g_1.e()){this.hi_1=5;continue t}if(this.e5g_1=this.d5g_1.f(),this.f5g_1=this.e5g_1,this.f5g_1 instanceof ExceptionHandlerWrapper){if(this.hi_1=3,(t=this.e5g_1.n5g_1(this.a5g_1,this))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.f5g_1 instanceof RequestExceptionHandlerWrapper){if(this.hi_1=2,(t=this.e5g_1.m5g_1(this.a5g_1,this.b5g_1,this))===get_COROUTINE_SUSPENDED())return t;continue t}this.hi_1=4;continue t;case 2:case 3:this.hi_1=4;continue t;case 4:this.hi_1=1;continue t;case 5:return Unit_getInstance();case 6:throw this.ki_1}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$processExceptionCOROUTINE$5.$metadata$=classMeta("$processExceptionCOROUTINE$5",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),HttpCallValidator.$metadata$=classMeta("HttpCallValidator"),HandlerWrapper.$metadata$=interfaceMeta("HandlerWrapper"),ExceptionHandlerWrapper.$metadata$=classMeta("ExceptionHandlerWrapper",[HandlerWrapper]),RequestExceptionHandlerWrapper.$metadata$=classMeta("RequestExceptionHandlerWrapper",[HandlerWrapper]),HttpRequest$1.prototype.g55=function(){throw IllegalStateException_init_$Create$("Call is not initialized")},HttpRequest$1.prototype.h55=function(){return this.o5g_1},HttpRequest$1.prototype.k54=function(){return this.p5g_1},HttpRequest$1.prototype.l53=function(){return this.q5g_1},HttpRequest$1.prototype.n35=function(){return this.r5g_1},HttpRequest$1.$metadata$=classMeta(void 0,[HttpRequest_0]),HttpClientPlugin.$metadata$=interfaceMeta("HttpClientPlugin"),HttpPlainText$Plugin$install$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpPlainText$Plugin$install$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpPlainText$Plugin$install$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.b5h_1.j5h(this.c5h_1.c2y_1),"string"!=typeof this.d5h_1)return Unit_getInstance();if(this.e5h_1=contentType(this.c5h_1.c2y_1),null!=this.e5h_1&&this.e5h_1.x30_1!==Text_getInstance().n30_1.x30_1)return Unit_getInstance();var e=this.e5h_1;if(this.f5h_1=null==e?null:charset(e),this.hi_1=1,(t=this.c5h_1.g2x(wrapContent(this.b5h_1,this.d5h_1,this.f5h_1),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return Unit_getInstance();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpPlainText$Plugin$install$slambda.prototype.r50=function(t,e,n){var i=new HttpPlainText$Plugin$install$slambda(this.b5h_1,n);return i.c5h_1=t,i.d5h_1=e,i},HttpPlainText$Plugin$install$slambda.$metadata$=classMeta("HttpPlainText$Plugin$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpPlainText$Plugin$install$slambda_1.prototype.k51=function(t,e,n){var i=this.l51(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpPlainText$Plugin$install$slambda_1.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.k51(i,e instanceof HttpResponseContainer?e:THROW_CCE(),n)},HttpPlainText$Plugin$install$slambda_1.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:var e;if(this.ii_1=3,this.v5h_1=this.u5h_1.w3(),this.w5h_1=this.u5h_1.x3(),this.v5h_1.t2y_1.equals(PrimitiveClasses_getInstance().yf())){var n=this.w5h_1;e=!isInterface(n,ByteReadChannel)}else e=!0;if(e)return Unit_getInstance();if(this.hi_1=1,(t=this.w5h_1.r2k(new Long(0,0),this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.x5h_1=t,this.y5h_1=this.s5h_1.z5h(this.t5h_1.c2y_1,this.x5h_1),this.hi_1=2,(t=this.t5h_1.g2x(new HttpResponseContainer(this.v5h_1,this.y5h_1),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return Unit_getInstance();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpPlainText$Plugin$install$slambda_1.prototype.l51=function(t,e,n){var i=new HttpPlainText$Plugin$install$slambda_1(this.s5h_1,n);return i.t5h_1=t,i.u5h_1=e,i},HttpPlainText$Plugin$install$slambda_1.$metadata$=classMeta("HttpPlainText$Plugin$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),Config_0.$metadata$=classMeta("Config"),Plugin_0.prototype.a1=function(){return this.e5i_1},Plugin_0.prototype.h5g=function(t){var e=new Config_0;t(e);var n=e;return new HttpPlainText(n.a5i_1,n.b5i_1,n.c5i_1,n.d5i_1)},Plugin_0.prototype.b53=function(t){return this.h5g(t)},Plugin_0.prototype.f5i=function(t,e){var n=Phases_getInstance().x58_1;e.w4z_1.g2y(n,HttpPlainText$Plugin$install$slambda_0(t,null));var i=Phases_getInstance_1().w52_1;e.x4z_1.g2y(i,HttpPlainText$Plugin$install$slambda_2(t,null))},Plugin_0.prototype.c53=function(t,e){return this.f5i(t instanceof HttpPlainText?t:THROW_CCE(),e)},Plugin_0.$metadata$=objectMeta("Plugin",[HttpClientPlugin]),sam$kotlin_Comparator$0.prototype.w=function(t,e){return this.g5i_1(t,e)},sam$kotlin_Comparator$0.prototype.compare=function(t,e){return this.w(t,e)},sam$kotlin_Comparator$0.$metadata$=classMeta("sam$kotlin_Comparator$0",[Comparator]),HttpPlainText.prototype.z5h=function(t,e){var n=charset_0(t.x50()),i=null==n?this.g5h_1:n;return readText$default(e,i,0,2,null)},HttpPlainText.prototype.j5h=function(t){if(null!=t.y51_1.m25(HttpHeaders_getInstance().i31_1))return Unit_getInstance();t.y51_1.o2v(HttpHeaders_getInstance().i31_1,this.i5h_1)},HttpPlainText.$metadata$=classMeta("HttpPlainText"),HttpRedirect$Plugin$install$slambda.prototype.c5f=function(t,e,n){var i=this.d5f(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpRedirect$Plugin$install$slambda.prototype.w6=function(t,e,n){var i=null!=t&&isInterface(t,Sender)?t:THROW_CCE();return this.c5f(i,e instanceof HttpRequestBuilder?e:THROW_CCE(),n)},HttpRedirect$Plugin$install$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.l5j_1.z52(this.m5j_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.n5j_1=t,this.j5j_1.o5j_1&&!get_ALLOWED_FOR_REDIRECT().n(this.n5j_1.g54().h55()))return this.n5j_1;if(this.hi_1=2,(t=handleCall(this.l5j_1,Plugin_getInstance_1(),this.m5j_1,this.n5j_1,this.j5j_1.p5j_1,this.k5j_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return t;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpRedirect$Plugin$install$slambda.prototype.d5f=function(t,e,n){var i=new HttpRedirect$Plugin$install$slambda(this.j5j_1,this.k5j_1,n);return i.l5j_1=t,i.m5j_1=e,i},HttpRedirect$Plugin$install$slambda.$metadata$=classMeta("HttpRedirect$Plugin$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),$handleCallCOROUTINE$6.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,!isRedirect(this.s5i_1.x50().l54()))return this.s5i_1;this.v5i_1=this.s5i_1,this.w5i_1=this.r5i_1,this.x5i_1=this.s5i_1.g54().k54().f39_1,this.y5i_1=get_authority(this.s5i_1.g54().k54()),this.hi_1=1;continue t;case 1:this.u5i_1.c50_1.p4z(this.p5i_1.r5j_1,this.v5i_1.x50()),this.z5i_1=this.v5i_1.x50().n35().m25(HttpHeaders_getInstance().v32_1),this.a5j_1=new HttpRequestBuilder,this.a5j_1.w57(this.w5i_1),this.a5j_1.w51_1.c39_1.va();var e=this.z5i_1;if(null==e||takeFrom(this.a5j_1.w51_1,e),!this.t5i_1&&isSecure(this.x5i_1)&&!isSecure(this.a5j_1.w51_1.t38_1))return this.v5i_1;if(this.y5i_1!==get_authority_0(this.a5j_1.w51_1)&&this.a5j_1.y51_1.s2v(HttpHeaders_getInstance().q31_1),this.w5i_1=this.a5j_1,this.hi_1=2,(t=this.q5i_1.z52(this.w5i_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:if(this.v5i_1=t,!isRedirect(this.v5i_1.x50().l54()))return this.v5i_1;this.hi_1=1;continue t;case 3:throw this.ki_1;case 4:return Unit_getInstance()}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$handleCallCOROUTINE$6.$metadata$=classMeta("$handleCallCOROUTINE$6",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),Config_1.$metadata$=classMeta("Config"),Plugin_1.prototype.a1=function(){return this.q5j_1},Plugin_1.prototype.h5g=function(t){var e=new Config_1;t(e);var n=e;return new HttpRedirect(n.s5j_1,n.t5j_1)},Plugin_1.prototype.b53=function(t){return this.h5g(t)},Plugin_1.prototype.u5j=function(t,e){plugin(e,Plugin_getInstance_3()).l5g(HttpRedirect$Plugin$install$slambda_0(t,e,null))},Plugin_1.prototype.c53=function(t,e){return this.u5j(t instanceof HttpRedirect?t:THROW_CCE(),e)},Plugin_1.$metadata$=objectMeta("Plugin",[HttpClientPlugin]),HttpRedirect.$metadata$=classMeta("HttpRedirect"),HttpRequestLifecycle$Plugin$install$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpRequestLifecycle$Plugin$install$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpRequestLifecycle$Plugin$install$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=6,this.g5k_1=Job(this.e5k_1.c2y_1.a52_1),attachToClientEngineJob(this.g5k_1,ensureNotNull(this.d5k_1.v4z_1.u4(Key_getInstance()))),this.hi_1=1;continue t;case 1:if(this.ii_1=4,this.ii_1=3,this.e5k_1.c2y_1.a52_1=this.g5k_1,this.hi_1=2,(t=this.e5k_1.h2x(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:this.h5k_1=Unit_getInstance(),this.ii_1=6,this.hi_1=5;continue t;case 3:if(this.ii_1=4,this.ki_1 instanceof Error){var e=this.ki_1;throw this.g5k_1.dt(e),e}throw this.ki_1;case 4:this.ii_1=6;var n=this.ki_1;throw this.g5k_1.qt(),n;case 5:return this.g5k_1.qt(),Unit_getInstance();case 6:throw this.ki_1}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpRequestLifecycle$Plugin$install$slambda.prototype.r50=function(t,e,n){var i=new HttpRequestLifecycle$Plugin$install$slambda(this.d5k_1,n);return i.e5k_1=t,i.f5k_1=e,i},HttpRequestLifecycle$Plugin$install$slambda.$metadata$=classMeta("HttpRequestLifecycle$Plugin$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),Plugin_2.prototype.a1=function(){return this.i5k_1},Plugin_2.prototype.d59=function(t){return new HttpRequestLifecycle},Plugin_2.prototype.b53=function(t){return this.d59(t)},Plugin_2.prototype.j5k=function(t,e){var n=Phases_getInstance().u58_1;e.w4z_1.g2y(n,HttpRequestLifecycle$Plugin$install$slambda_0(e,null))},Plugin_2.prototype.c53=function(t,e){return this.j5k(t instanceof HttpRequestLifecycle?t:THROW_CCE(),e)},Plugin_2.$metadata$=objectMeta("Plugin",[HttpClientPlugin]),HttpRequestLifecycle.$metadata$=classMeta("HttpRequestLifecycle"),HttpSend$Plugin$install$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpSend$Plugin$install$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpSend$Plugin$install$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,!(this.v5k_1 instanceof OutgoingContent)){var e="\n|Fail to serialize body. Content has type: "+getKClassFromExpression(this.v5k_1)+", but OutgoingContent expected.\n|If you expect serialized body, please check that you have installed the corresponding plugin(like `ContentNegotiation`) and set `Content-Type` header.",n=trimMargin$default(e,null,1,null);throw IllegalStateException_init_$Create$(toString(n))}this.w5k_1=this.u5k_1.c2y_1,this.x5k_1=this.v5k_1;var i=this.x5k_1;if(null==i)this.w5k_1.z51_1=EmptyContent_getInstance(),this.w5k_1.x57(null);else if(i instanceof OutgoingContent)this.w5k_1.z51_1=this.x5k_1,this.w5k_1.x57(null);else{this.w5k_1.z51_1=this.x5k_1;var r,o=JsType_getInstance(),s=getKClass(OutgoingContent);try{r=createKType(getKClass(OutgoingContent),arrayOf([]),!1)}catch(t){if(!(t instanceof Error))throw t;r=null}this.w5k_1.x57(typeInfoImpl(o,s,r))}this.y5k_1=new DefaultSender(this.s5k_1.j5g_1,this.t5k_1),this.z5k_1=this.y5k_1,this.a5l_1=downTo(get_lastIndex(this.s5k_1.k5g_1),0);var a=this.a5l_1,u=a.k1_1,l=a.l1_1,c=a.m1_1;if(c>0&&u<=l||c<0&&l<=u)do{var h=u;u=u+c|0;var p=this.s5k_1.k5g_1.l(h);this.z5k_1=new InterceptedSender(p,this.z5k_1)}while(h!==l);if(this.hi_1=1,(t=this.z5k_1.z52(this.u5k_1.c2y_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.b5l_1=t,this.hi_1=2,(t=this.u5k_1.g2x(this.b5l_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return Unit_getInstance();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpSend$Plugin$install$slambda.prototype.r50=function(t,e,n){var i=new HttpSend$Plugin$install$slambda(this.s5k_1,this.t5k_1,n);return i.u5k_1=t,i.v5k_1=e,i},HttpSend$Plugin$install$slambda.$metadata$=classMeta("HttpSend$Plugin$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),$executeCOROUTINE$7.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2;var e=this.k5l_1.p5l_1;if(null==e||cancel$default(e,null,1,null),this.k5l_1.o5l_1>=this.k5l_1.m5l_1)throw new SendCountExceedException("Max send count "+this.k5l_1.m5l_1+" exceeded. Consider increasing the property maxSendCount if more is required.");var n=this.k5l_1,i=n.o5l_1;if(n.o5l_1=i+1|0,this.hi_1=1,(t=this.k5l_1.n5l_1.y4z_1.b2y(this.l5l_1,this.l5l_1.z51_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:var r=t instanceof HttpClientCall?t:null;if(null==r){var o="Failed to execute send pipeline. Expected [HttpClientCall], but received "+toString(t);throw IllegalStateException_init_$Create$(toString(o))}var s=r;return this.k5l_1.p5l_1=s,s;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeCOROUTINE$7.$metadata$=classMeta("$executeCOROUTINE$7",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),Config_2.$metadata$=classMeta("Config"),Plugin_3.prototype.a1=function(){return this.r5l_1},Plugin_3.prototype.h5g=function(t){var e=new Config_2;return t(e),new HttpSend(e.q5l_1)},Plugin_3.prototype.b53=function(t){return this.h5g(t)},Plugin_3.prototype.s5l=function(t,e){var n=Phases_getInstance().y58_1;e.w4z_1.g2y(n,HttpSend$Plugin$install$slambda_0(t,e,null))},Plugin_3.prototype.c53=function(t,e){return this.s5l(t instanceof HttpSend?t:THROW_CCE(),e)},Plugin_3.$metadata$=objectMeta("Plugin",[HttpClientPlugin]),InterceptedSender.prototype.z52=function(t,e){return this.t5l_1(this.u5l_1,t,e)},InterceptedSender.$metadata$=classMeta("InterceptedSender",[Sender]),DefaultSender.prototype.z52=function(t,e){var n=new $executeCOROUTINE$7(this,t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},DefaultSender.$metadata$=classMeta("DefaultSender",[Sender]),HttpSend.prototype.l5g=function(t){this.k5g_1.b(t)},HttpSend.$metadata$=classMeta("HttpSend"),Sender.$metadata$=interfaceMeta("Sender"),SendCountExceedException.$metadata$=classMeta("SendCountExceedException",void 0,void 0,void 0,void 0,IllegalStateException.prototype),Companion_2.$metadata$=objectMeta("Companion"),HttpTimeout$Plugin$install$slambda$slambda.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpTimeout$Plugin$install$slambda$slambda.prototype.si=function(t,e){return this.r2l(null!=t&&isInterface(t,CoroutineScope)?t:THROW_CCE(),e)},HttpTimeout$Plugin$install$slambda$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=delay(this.k5m_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:var e=HttpRequestTimeoutException_init_$Create$(this.l5m_1);return cancel_2(this.m5m_1,ensureNotNull(e.message),e),Unit_getInstance();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpTimeout$Plugin$install$slambda$slambda.prototype.u1k=function(t,e){var n=new HttpTimeout$Plugin$install$slambda$slambda(this.k5m_1,this.l5m_1,this.m5m_1,e);return n.n5m_1=t,n},HttpTimeout$Plugin$install$slambda$slambda.$metadata$=classMeta("HttpTimeout$Plugin$install$slambda$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),HttpTimeout$Plugin$install$slambda.prototype.q50=function(t,e,n){var i=this.r50(t,e,n);return i.ji_1=Unit_getInstance(),i.ki_1=null,i.ri()},HttpTimeout$Plugin$install$slambda.prototype.w6=function(t,e,n){var i=t instanceof PipelineContext?t:THROW_CCE();return this.q50(i,isObject(e)?e:THROW_CCE(),n)},HttpTimeout$Plugin$install$slambda.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t){this.ii_1=1;var e=this.y5m_1.c2y_1.a5n(Plugin_getInstance_4());null==e&&hasNotNullTimeouts(this.w5m_1)&&(e=HttpTimeoutCapabilityConfiguration_init_$Create$(null,null,null,7,null),this.y5m_1.c2y_1.b5n(Plugin_getInstance_4(),e));var n=e;if(null==n);else t:do{var i=this.y5m_1.c2y_1,r=n.c5n();n.z5l(null==r?this.w5m_1.e5n_1:r);var o=n.g5n();n.a5m(null==o?this.w5m_1.f5n_1:o);var s=n.h5n();n.y5l(null==s?this.w5m_1.d5n_1:s);var a,u=n.h5n(),l=null==u?this.w5m_1.d5n_1:u;if(null==l?a=!0:(Plugin_getInstance_4(),a=equals(l,new Long(-1,2147483647))),a){Unit_getInstance();break t}var c=i.a52_1,h=launch$default(this.x5m_1,null,null,HttpTimeout$Plugin$install$slambda$slambda_0(l,i,c,null),3,null);i.a52_1.ho(HttpTimeout$Plugin$install$slambda$lambda(h))}while(0);return Unit_getInstance()}if(1===t)throw this.ki_1}catch(t){throw t}},HttpTimeout$Plugin$install$slambda.prototype.r50=function(t,e,n){var i=new HttpTimeout$Plugin$install$slambda(this.w5m_1,this.x5m_1,n);return i.y5m_1=t,i.z5m_1=e,i},HttpTimeout$Plugin$install$slambda.$metadata$=classMeta("HttpTimeout$Plugin$install$slambda",void 0,void 0,void 0,[2],CoroutineImpl.prototype),HttpTimeoutCapabilityConfiguration.prototype.y5l=function(t){this.v5l_1=checkTimeoutValue(this,t)},HttpTimeoutCapabilityConfiguration.prototype.h5n=function(){return this.v5l_1},HttpTimeoutCapabilityConfiguration.prototype.z5l=function(t){this.w5l_1=checkTimeoutValue(this,t)},HttpTimeoutCapabilityConfiguration.prototype.c5n=function(){return this.w5l_1},HttpTimeoutCapabilityConfiguration.prototype.a5m=function(t){this.x5l_1=checkTimeoutValue(this,t)},HttpTimeoutCapabilityConfiguration.prototype.g5n=function(){return this.x5l_1},HttpTimeoutCapabilityConfiguration.prototype.i1s=function(){return new HttpTimeout(this.h5n(),this.c5n(),this.g5n())},HttpTimeoutCapabilityConfiguration.prototype.equals=function(t){return!!(this===t||null!=t&&getKClassFromExpression(this).equals(getKClassFromExpression(t))&&(t instanceof HttpTimeoutCapabilityConfiguration||THROW_CCE(),equals(this.v5l_1,t.v5l_1)&&equals(this.w5l_1,t.w5l_1)&&equals(this.x5l_1,t.x5l_1)))},HttpTimeoutCapabilityConfiguration.prototype.hashCode=function(){var t=this.v5l_1,e=null==t?null:t.hashCode(),n=null==e?0:e,i=imul(31,n),r=this.w5l_1,o=null==r?null:r.hashCode(),s=imul(31,n=i+(null==o?0:o)|0),a=this.x5l_1,u=null==a?null:a.hashCode();return s+(null==u?0:u)|0},HttpTimeoutCapabilityConfiguration.$metadata$=classMeta("HttpTimeoutCapabilityConfiguration"),Plugin_4.prototype.a1=function(){return this.i5n_1},Plugin_4.prototype.k5n=function(t){var e=HttpTimeoutCapabilityConfiguration_init_$Create$(null,null,null,7,null);return t(e),e.i1s()},Plugin_4.prototype.b53=function(t){return this.k5n(t)},Plugin_4.prototype.l5n=function(t,e){var n=Phases_getInstance().u58_1;e.w4z_1.g2y(n,HttpTimeout$Plugin$install$slambda_0(t,e,null))},Plugin_4.prototype.c53=function(t,e){return this.l5n(t instanceof HttpTimeout?t:THROW_CCE(),e)},Plugin_4.$metadata$=objectMeta("Plugin",[HttpClientPlugin,HttpClientEngineCapability]),HttpTimeout.$metadata$=classMeta("HttpTimeout"),HttpRequestTimeoutException.$metadata$=classMeta("HttpRequestTimeoutException",void 0,void 0,void 0,void 0,IOException.prototype),DelegatedResponse.prototype.g55=function(){return this.m5n_1},DelegatedResponse.prototype.j25=function(){return this.n5n_1},DelegatedResponse.prototype.gn=function(){return this.p5n_1},DelegatedResponse.prototype.l54=function(){return this.o5n_1.l54()},DelegatedResponse.prototype.mm=function(){return this.o5n_1.mm()},DelegatedResponse.prototype.r55=function(){return this.o5n_1.r55()},DelegatedResponse.prototype.s55=function(){return this.o5n_1.s55()},DelegatedResponse.prototype.n35=function(){return this.o5n_1.n35()},DelegatedResponse.$metadata$=classMeta("DelegatedResponse",void 0,void 0,void 0,void 0,HttpResponse.prototype),WebSocketCapability.prototype.toString=function(){return"WebSocketCapability"},WebSocketCapability.$metadata$=objectMeta("WebSocketCapability",[HttpClientEngineCapability]),WebSocketException.$metadata$=classMeta("WebSocketException",void 0,void 0,void 0,void 0,IllegalStateException.prototype),ClientUpgradeContent.$metadata$=classMeta("ClientUpgradeContent",void 0,void 0,void 0,void 0,NoContent.prototype),DefaultHttpRequest.prototype.g55=function(){return this.q5n_1},DefaultHttpRequest.prototype.gn=function(){return this.g55().gn()},DefaultHttpRequest.prototype.h55=function(){return this.r5n_1},DefaultHttpRequest.prototype.k54=function(){return this.s5n_1},DefaultHttpRequest.prototype.n35=function(){return this.u5n_1},DefaultHttpRequest.prototype.l53=function(){return this.v5n_1},DefaultHttpRequest.$metadata$=classMeta("DefaultHttpRequest",[HttpRequest_0]),HttpRequest_0.$metadata$=interfaceMeta("HttpRequest",[HttpMessage,CoroutineScope]),Companion_3.$metadata$=objectMeta("Companion"),HttpRequestBuilder.prototype.n35=function(){return this.y51_1},HttpRequestBuilder.prototype.x57=function(t){null!=t?this.b52_1.d2u(get_BodyTypeAttributeKey(),t):this.b52_1.e2u(get_BodyTypeAttributeKey())},HttpRequestBuilder.prototype.w5n=function(){return this.b52_1.b2u(get_BodyTypeAttributeKey())},HttpRequestBuilder.prototype.i1s=function(){var t=this.w51_1.i1s(),e=this.x51_1,n=this.y51_1.i1s(),i=this.z51_1,r=i instanceof OutgoingContent?i:null;if(null==r){var o="No request transformation found: "+toString(this.z51_1);throw IllegalStateException_init_$Create$(toString(o))}return new HttpRequestData(t,e,n,r,this.a52_1,this.b52_1)},HttpRequestBuilder.prototype.w57=function(t){return this.a52_1=t.a52_1,this.x5n(t)},HttpRequestBuilder.prototype.x5n=function(t){return this.x51_1=t.x51_1,this.z51_1=t.z51_1,this.x57(t.w5n()),takeFrom_0(this.w51_1,t.w51_1),this.w51_1.a39_1=this.w51_1.a39_1,appendAll(this.y51_1,t.y51_1),putAll(this.b52_1,t.b52_1),this},HttpRequestBuilder.prototype.b5n=function(t,e){var n=get_ENGINE_CAPABILITIES_KEY();this.b52_1.f2u(n,HttpRequestBuilder$setCapability$lambda()).a(t,e)},HttpRequestBuilder.prototype.a5n=function(t){var e=this.b52_1.b2u(get_ENGINE_CAPABILITIES_KEY()),n=null==e?null:e.o(t);return null==n||isObject(n)?n:THROW_CCE()},HttpRequestBuilder.$metadata$=classMeta("HttpRequestBuilder",[HttpMessageBuilder]),HttpRequestData.prototype.toString=function(){return"HttpRequestData(url="+this.w56_1+", method="+this.x56_1+")"},HttpRequestData.$metadata$=classMeta("HttpRequestData"),HttpResponseData.prototype.toString=function(){return"HttpResponseData=(statusCode="+this.e53_1+")"},HttpResponseData.$metadata$=classMeta("HttpResponseData"),Phases.$metadata$=objectMeta("Phases"),HttpRequestPipeline.prototype.a2y=function(){return this.f5o_1},HttpRequestPipeline.$metadata$=classMeta("HttpRequestPipeline",void 0,void 0,void 0,void 0,Pipeline.prototype),Phases_0.$metadata$=objectMeta("Phases"),HttpSendPipeline.prototype.a2y=function(){return this.n5o_1},HttpSendPipeline.$metadata$=classMeta("HttpSendPipeline",void 0,void 0,void 0,void 0,Pipeline.prototype),DefaultHttpResponse.prototype.g55=function(){return this.o5o_1},DefaultHttpResponse.prototype.gn=function(){return this.p5o_1},DefaultHttpResponse.prototype.l54=function(){return this.q5o_1},DefaultHttpResponse.prototype.mm=function(){return this.r5o_1},DefaultHttpResponse.prototype.r55=function(){return this.s5o_1},DefaultHttpResponse.prototype.s55=function(){return this.t5o_1},DefaultHttpResponse.prototype.j25=function(){return this.u5o_1},DefaultHttpResponse.prototype.n35=function(){return this.v5o_1},DefaultHttpResponse.$metadata$=classMeta("DefaultHttpResponse",void 0,void 0,void 0,void 0,HttpResponse.prototype),HttpResponse.prototype.toString=function(){return"HttpResponse["+get_request(this).k54()+", "+this.l54()+"]"},HttpResponse.$metadata$=classMeta("HttpResponse",[HttpMessage,CoroutineScope]),$bodyAsTextCOROUTINE$11.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2;var e=charset_0(this.e5p_1);this.g5p_1=null==e?this.f5p_1:e,this.h5p_1=this.g5p_1.b2q(),this.hi_1=1;var n,i=this.e5p_1.g55(),r=JsType_getInstance(),o=getKClass(Input);try{n=createKType(getKClass(Input),arrayOf([]),!1)}catch(t){if(!(t instanceof Error))throw t;n=null}if((t=i.j54(typeInfoImpl(r,o,n),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:var s=t instanceof Input?t:THROW_CCE();return decode$default(this.h5p_1,s,0,2,null);case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$bodyAsTextCOROUTINE$11.$metadata$=classMeta("$bodyAsTextCOROUTINE$11",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),Phases_1.$metadata$=objectMeta("Phases"),HttpResponsePipeline.prototype.a2y=function(){return this.p5p_1},HttpResponsePipeline.$metadata$=classMeta("HttpResponsePipeline",void 0,void 0,void 0,void 0,Pipeline.prototype),Phases_2.$metadata$=objectMeta("Phases"),HttpReceivePipeline.prototype.a2y=function(){return this.x5p_1},HttpReceivePipeline.$metadata$=classMeta("HttpReceivePipeline",void 0,void 0,void 0,void 0,Pipeline.prototype),HttpResponseContainer.prototype.w3=function(){return this.e54_1},HttpResponseContainer.prototype.x3=function(){return this.f54_1},HttpResponseContainer.prototype.toString=function(){return"HttpResponseContainer(expectedType="+this.e54_1+", response="+toString(this.f54_1)+")"},HttpResponseContainer.prototype.hashCode=function(){var t=this.e54_1.hashCode();return imul(t,31)+hashCode(this.f54_1)|0},HttpResponseContainer.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof HttpResponseContainer))return!1;var e=t instanceof HttpResponseContainer?t:THROW_CCE();return!!this.e54_1.equals(e.e54_1)&&!!equals(this.f54_1,e.f54_1)},HttpResponseContainer.$metadata$=classMeta("HttpResponseContainer"),HttpStatement$execute$slambda.prototype.j5q=function(t,e){var n=this.c5b(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpStatement$execute$slambda.prototype.si=function(t,e){return this.j5q(t instanceof HttpResponse?t:THROW_CCE(),e)},HttpStatement$execute$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=save(this.i5q_1.g55(),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return t.x50();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},HttpStatement$execute$slambda.prototype.c5b=function(t,e){var n=new HttpStatement$execute$slambda(e);return n.i5q_1=t,n},HttpStatement$execute$slambda.$metadata$=classMeta("HttpStatement$execute$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),$executeCOROUTINE$12.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=13,this.hi_1=1;continue t;case 1:if(this.ii_1=12,this.hi_1=2,(t=this.s5q_1.z5q(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:this.v5q_1=t,this.hi_1=3;continue t;case 3:this.hi_1=4;continue t;case 4:if(this.ii_1=10,this.hi_1=5,(t=this.t5q_1(this.v5q_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 5:this.w5q_1=t,this.hi_1=6;continue t;case 6:if(this.x5q_1=this.w5q_1,this.hi_1=7,(t=this.s5q_1.a5r(this.v5q_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 7:return this.x5q_1;case 8:if(this.hi_1=9,(t=this.s5q_1.a5r(this.v5q_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 9:this.u5q_1=Unit_getInstance(),this.ii_1=13,this.hi_1=15;continue t;case 10:if(this.ii_1=12,this.y5q_1=this.ki_1,this.hi_1=11,(t=this.s5q_1.a5r(this.v5q_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 11:throw this.y5q_1;case 12:if(this.ii_1=13,this.ki_1 instanceof CancellationException)throw unwrapCancellationException(this.ki_1);throw this.ki_1;case 13:throw this.ki_1;case 14:this.ii_1=13,this.hi_1=15;continue t;case 15:return this.u5q_1}}catch(t){if(13===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeCOROUTINE$12.$metadata$=classMeta("$executeCOROUTINE$12",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),$executeUnsafeCOROUTINE$13.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4,this.hi_1=1;continue t;case 1:if(this.ii_1=3,this.l5r_1=(new HttpRequestBuilder).w57(this.j5r_1.y5p_1),this.hi_1=2,(t=this.j5r_1.z5p_1.z52(this.l5r_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:return t.x50();case 3:if(this.ii_1=4,this.ki_1 instanceof CancellationException)throw unwrapCancellationException(this.ki_1);throw this.ki_1;case 4:throw this.ki_1;case 5:this.ii_1=4,this.hi_1=6;continue t;case 6:return this.k5r_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeUnsafeCOROUTINE$13.$metadata$=classMeta("$executeUnsafeCOROUTINE$13",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),$cleanupCOROUTINE$14.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4;var e=ensureNotNull(this.v5r_1.gn().u4(Key_getInstance()));this.w5r_1=isInterface(e,CompletableJob)?e:THROW_CCE(),this.w5r_1.qt(),this.ii_1=1,cancel_1(this.v5r_1.j25()),this.ii_1=4,this.hi_1=2;continue t;case 1:if(this.ii_1=4,this.ki_1 instanceof Error){this.x5r_1=this.ki_1,this.hi_1=2;continue t}throw this.ki_1;case 2:if(this.ii_1=4,this.hi_1=3,(t=this.w5r_1.st(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 3:return Unit_getInstance();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$cleanupCOROUTINE$14.$metadata$=classMeta("$cleanupCOROUTINE$14",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),HttpStatement.prototype.y5r=function(){return this.z5p_1},HttpStatement.prototype.z5r=function(t,e){var n=new $executeCOROUTINE$12(this,t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpStatement.prototype.a5s=function(t){return this.z5r(HttpStatement$execute$slambda_0(null),t)},HttpStatement.prototype.z5q=function(t){var e=new $executeUnsafeCOROUTINE$13(this,t);return e.ji_1=Unit_getInstance(),e.ki_1=null,e.ri()},HttpStatement.prototype.a5r=function(t,e){var n=new $cleanupCOROUTINE$14(this,t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},HttpStatement.prototype.toString=function(){return"HttpStatement["+this.y5p_1.w51_1.j3a()+"]"},HttpStatement.$metadata$=classMeta("HttpStatement"),observable$slambda.prototype.d56=function(t,e){var n=this.e56(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},observable$slambda.prototype.si=function(t,e){return this.d56(null!=t&&isInterface(t,WriterScope)?t:THROW_CCE(),e)},observable$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=15,this.hi_1=1;continue t;case 1:this.o5s_1=get_ByteArrayPool(),this.p5s_1=this.o5s_1.w2l(),this.hi_1=2;continue t;case 2:this.hi_1=3;continue t;case 3:this.ii_1=14;var e=this.j5s_1;this.r5s_1=null==e?new Long(-1,-1):e,this.s5s_1=new Long(0,0),this.hi_1=4;continue t;case 4:if(this.k5s_1.m2i()){this.hi_1=8;continue t}if(this.hi_1=5,(t=readAvailable(this.k5s_1,this.p5s_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 5:if(this.t5s_1=t,this.hi_1=6,(t=this.m5s_1.l10().p2k(this.p5s_1,0,this.t5s_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 6:if(this.u5s_1=this.s5s_1,this.s5s_1=this.u5s_1.w5(toLong(this.t5s_1)),this.hi_1=7,(t=this.l5s_1(this.s5s_1,this.r5s_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 7:this.hi_1=4;continue t;case 8:if(this.v5s_1=this.k5s_1.t2e(),this.m5s_1.l10().t11(this.v5s_1),null==this.v5s_1&&this.s5s_1.equals(new Long(0,0))){if(this.hi_1=9,(t=this.l5s_1(this.s5s_1,this.r5s_1,this))===get_COROUTINE_SUSPENDED())return t;continue t}this.hi_1=10;continue t;case 9:this.hi_1=10;continue t;case 10:this.q5s_1=Unit_getInstance(),this.ii_1=15,this.hi_1=11;continue t;case 11:this.n5s_1=this.o5s_1.h2o(this.p5s_1),this.hi_1=13;continue t;case 12:this.o5s_1.h2o(this.p5s_1),this.hi_1=13;continue t;case 13:return Unit_getInstance();case 14:this.ii_1=15;var n=this.ki_1;throw this.o5s_1.h2o(this.p5s_1),n;case 15:throw this.ki_1}}catch(t){if(15===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},observable$slambda.prototype.e56=function(t,e){var n=new observable$slambda(this.j5s_1,this.k5s_1,this.l5s_1,e);return n.m5s_1=t,n},observable$slambda.$metadata$=classMeta("observable$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),HttpResponseReceiveFail.$metadata$=classMeta("HttpResponseReceiveFail"),EmptyContent.prototype.v3a=function(){return this.z5s_1},EmptyContent.prototype.toString=function(){return"EmptyContent"},EmptyContent.$metadata$=objectMeta("EmptyContent",void 0,void 0,void 0,void 0,NoContent.prototype),Js.prototype.a5t=function(t){var e=new HttpClientEngineConfig;return t(e),new JsClientEngine(e)},Js.prototype.a53=function(t){return this.a5t(t)},Js.$metadata$=objectMeta("Js",[HttpClientEngineFactory]),JsClientEngine$createWebSocket$headers_capturingHack$1.$metadata$=classMeta(),$executeCOROUTINE$15.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=6,this.hi_1=1,(t=callContext(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:if(this.z5t_1=t,isUpgradeRequest(this.y5t_1)){if(this.hi_1=5,(t=executeWebSocketRequest(this.x5t_1,this.y5t_1,this.z5t_1,this))===get_COROUTINE_SUSPENDED())return t;continue t}this.hi_1=2;continue t;case 2:if(this.a5u_1=GMTDate$default(null,1,null),this.hi_1=3,(t=toRaw(this.y5t_1,this.z5t_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 3:if(this.b5u_1=t,this.hi_1=4,(t=commonFetch(this.y5t_1.w56_1.toString(),this.b5u_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 4:var e=t,n=new HttpStatusCode(numberToInt(e.status),e.statusText),i=mapToKtor(e.headers),r=Companion_getInstance_4().y35_1,o=readBody(CoroutineScope_0(this.z5t_1),e);return new HttpResponseData(n,this.a5u_1,i,r,o,this.z5t_1);case 5:return t;case 6:throw this.ki_1}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeCOROUTINE$15.$metadata$=classMeta("$executeCOROUTINE$15",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),$executeWebSocketRequestCOROUTINE$16.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=4,this.m5t_1=GMTDate$default(null,1,null),this.n5t_1=this.k5t_1.w56_1.toString(),this.o5t_1=createWebSocket(this.j5t_1,this.n5t_1,this.k5t_1.y56_1),this.ii_1=2,this.hi_1=1,(t=awaitConnection(this.o5t_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:this.ii_1=4,this.hi_1=3;continue t;case 2:if(this.ii_1=4,this.ki_1 instanceof Error){var e=this.ki_1;throw cancel_3(this.l5t_1,CancellationException_init_$Create$_0("Failed to connect to "+this.n5t_1,e)),e}throw this.ki_1;case 3:this.ii_1=4;var n=new JsWebSocketSession(this.l5t_1,this.o5t_1);return new HttpResponseData(Companion_getInstance_2().i36_1,this.m5t_1,Companion_getInstance_5().e31_1,Companion_getInstance_4().y35_1,n,this.l5t_1);case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$executeWebSocketRequestCOROUTINE$16.$metadata$=classMeta("$executeWebSocketRequestCOROUTINE$16",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),JsClientEngine.prototype.k52=function(){return this.f5u_1},JsClientEngine.prototype.m58=function(){return this.g5u_1},JsClientEngine.prototype.d57=function(){return this.h5u_1},JsClientEngine.prototype.k58=function(t,e){var n=new $executeCOROUTINE$15(this,t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},JsClientEngine.$metadata$=classMeta("JsClientEngine",void 0,void 0,void 0,void 0,HttpClientEngineBase.prototype),JsError.$metadata$=classMeta("JsError",void 0,void 0,void 0,void 0,Error.prototype),toRaw$slambda.prototype.d56=function(t,e){var n=this.e56(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},toRaw$slambda.prototype.si=function(t,e){return this.d56(null!=t&&isInterface(t,WriterScope)?t:THROW_CCE(),e)},toRaw$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.e5v_1.b3b(this.f5v_1.l10(),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 1:return Unit_getInstance();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},toRaw$slambda.prototype.e56=function(t,e){var n=new toRaw$slambda(this.e5v_1,e);return n.f5v_1=t,n},toRaw$slambda.$metadata$=classMeta("toRaw$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),$toRawCOROUTINE$17.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=4,this.t5u_1={},mergeHeaders(this.r5u_1.y56_1,this.r5u_1.z56_1,toRaw$lambda(this.t5u_1)),this.u5u_1=this.r5u_1.z56_1,this.u5u_1 instanceof ByteArrayContent){this.v5u_1=this.u5u_1.w3a(),this.hi_1=3;continue t}if(this.u5u_1 instanceof ReadChannelContent){if(this.hi_1=2,(t=this.u5u_1.z3a().r2k(new Long(0,0),this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t}if(this.u5u_1 instanceof WriteChannelContent){this.hi_1=1;var e=GlobalScope_getInstance();if((t=writer$default(e,this.s5u_1,!1,toRaw$slambda_0(this.u5u_1,null),2,null).l10().r2k(new Long(0,0),this,1,null))===get_COROUTINE_SUSPENDED())return t;continue t}this.v5u_1=null,this.hi_1=3;continue t;case 1:var n=t;this.v5u_1=readBytes$default(n,0,1,null),this.hi_1=3;continue t;case 2:var i=t;this.v5u_1=readBytes$default(i,0,1,null),this.hi_1=3;continue t;case 3:var r=this.v5u_1;return buildObject(toRaw$lambda_0(this.r5u_1,this.t5u_1,r));case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},$toRawCOROUTINE$17.$metadata$=classMeta("$toRawCOROUTINE$17",void 0,void 0,void 0,void 0,CoroutineImpl.prototype),channelFromStream$slambda.prototype.d56=function(t,e){var n=this.e56(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},channelFromStream$slambda.prototype.si=function(t,e){return this.d56(null!=t&&isInterface(t,WriterScope)?t:THROW_CCE(),e)},channelFromStream$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=6,this.q5v_1=this.o5v_1.getReader(),this.hi_1=1;continue t;case 1:if(this.ii_1=5,this.hi_1=2,(t=readChunk(this.q5v_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:if(this.r5v_1=t,null==this.r5v_1){this.ii_1=6,this.hi_1=8;continue t}this.s5v_1=this.r5v_1,this.hi_1=3;continue t;case 3:if(this.t5v_1=this.s5v_1,this.hi_1=4,(t=writeFully(this.p5v_1.l10(),asByteArray(this.t5v_1),this))===get_COROUTINE_SUSPENDED())return t;continue t;case 4:this.ii_1=6,this.hi_1=7;continue t;case 5:if(this.ii_1=6,this.ki_1 instanceof Error){var e=this.ki_1;throw this.q5v_1.cancel(e),e}throw this.ki_1;case 6:throw this.ki_1;case 7:this.ii_1=6,this.hi_1=1;continue t;case 8:return Unit_getInstance()}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},channelFromStream$slambda.prototype.e56=function(t,e){var n=new channelFromStream$slambda(this.o5v_1,e);return n.p5v_1=t,n},channelFromStream$slambda.$metadata$=classMeta("channelFromStream$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),readBodyNode$slambda.prototype.d56=function(t,e){var n=this.e56(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},readBodyNode$slambda.prototype.si=function(t,e){return this.d56(null!=t&&isInterface(t,WriterScope)?t:THROW_CCE(),e)},readBodyNode$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=6;var e,n=this.c5w_1.body;if(null==n)throw IllegalStateException_init_$Create$("Fail to get body");e=n,this.e5w_1=e,this.f5w_1=Channel$default(1,null,null,6,null),this.e5w_1.on("data",readBodyNode$slambda$lambda(this.f5w_1,this.e5w_1)),this.e5w_1.on("error",readBodyNode$slambda$lambda_0(this.f5w_1,this.d5w_1)),this.e5w_1.on("end",readBodyNode$slambda$lambda_1(this.f5w_1)),this.ii_1=5,this.g5w_1=this.f5w_1.d(),this.hi_1=1;continue t;case 1:if(this.hi_1=2,(t=this.g5w_1.n10(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 2:if(!t){this.hi_1=4;continue t}if(this.h5w_1=this.g5w_1.f(),this.hi_1=3,(t=writeFully(this.d5w_1.l10(),this.h5w_1,this))===get_COROUTINE_SUSPENDED())return t;continue t;case 3:this.e5w_1.resume(),this.hi_1=1;continue t;case 4:this.ii_1=6,this.hi_1=7;continue t;case 5:if(this.ii_1=6,this.ki_1 instanceof Error){var i=this.ki_1;throw this.e5w_1.destroy(i),i}throw this.ki_1;case 6:throw this.ki_1;case 7:return this.ii_1=6,Unit_getInstance()}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},readBodyNode$slambda.prototype.e56=function(t,e){var n=new readBodyNode$slambda(this.c5w_1,e);return n.d5w_1=t,n},readBodyNode$slambda.$metadata$=classMeta("readBodyNode$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),JsWebSocketSession$slambda.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=Unit_getInstance(),n.ki_1=null,n.ri()},JsWebSocketSession$slambda.prototype.si=function(t,e){return this.r2l(null!=t&&isInterface(t,CoroutineScope)?t:THROW_CCE(),e)},JsWebSocketSession$slambda.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=10,this.a5x_1=this.y5w_1.m5w_1,this.hi_1=1;continue t;case 1:this.c5x_1=null,this.hi_1=2;continue t;case 2:this.hi_1=3;continue t;case 3:this.ii_1=9,this.ii_1=8,this.e5x_1=this.a5x_1.d(),this.hi_1=4;continue t;case 4:if(this.hi_1=5,(t=this.e5x_1.n10(this))===get_COROUTINE_SUSPENDED())return t;continue t;case 5:if(!t){this.hi_1=6;continue t}var e=this.e5x_1.f();switch(e.b3c_1.i5()){case 0:var n=e.c3c_1;this.y5w_1.j5w_1.send(String$default(n,0,0,null,14,null));break;case 1:var i=e.c3c_1,r=i instanceof Int8Array?i:THROW_CCE(),o=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength|0);this.y5w_1.j5w_1.send(o);break;case 2:var s;e:do{var a=BytePacketBuilder_init_$Create$(null,1,null);try{writeFully$default(a,e.c3c_1,0,0,6,null),s=a.i1s();break e}catch(t){throw t instanceof Error?(a.yt(),t):t}}while(0);var u=s,l=readShort(u),c=u.o2p(0,0,3,null);this.y5w_1.k5w_1.ct(new CloseReason(l,c)),isReservedStatusCode(l,this.y5w_1)?this.y5w_1.j5w_1.close():this.y5w_1.j5w_1.close(l,c)}this.hi_1=4;continue t;case 6:this.d5x_1=Unit_getInstance(),this.ii_1=10,this.hi_1=7;continue t;case 7:this.b5x_1=cancelConsumed(this.a5x_1,this.c5x_1),this.hi_1=12;continue t;case 8:if(this.ii_1=9,this.ki_1 instanceof Error){var h=this.ki_1;throw this.c5x_1=h,h}throw this.ki_1;case 9:this.ii_1=10;var p=this.ki_1;throw cancelConsumed(this.a5x_1,this.c5x_1),p;case 10:throw this.ki_1;case 11:cancelConsumed(this.a5x_1,this.c5x_1),this.hi_1=12;continue t;case 12:return Unit_getInstance()}}catch(t){if(10===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},JsWebSocketSession$slambda.prototype.u1k=function(t,e){var n=new JsWebSocketSession$slambda(this.y5w_1,e);return n.z5w_1=t,n},JsWebSocketSession$slambda.$metadata$=classMeta("JsWebSocketSession$slambda",void 0,void 0,void 0,[1],CoroutineImpl.prototype),JsWebSocketSession.prototype.gn=function(){return this.i5w_1},JsWebSocketSession.$metadata$=classMeta("JsWebSocketSession",[DefaultWebSocketSession]),HttpClientEngineBase.prototype.d57=get_supportedCapabilities,HttpClientEngineBase.prototype.l52=install,KtorCallContextElement.prototype.u4=get,KtorCallContextElement.prototype.a5=fold,KtorCallContextElement.prototype.z4=minusKey,KtorCallContextElement.prototype.b5=plus,HttpRequest$1.prototype.gn=get_coroutineContext,JsClientEngine.prototype.l52=install,KTOR_DEFAULT_USER_AGENT="Ktor client",_.$_$=_.$_$||{},_.$_$.a=Js_getInstance,_.$_$.b=Phases_getInstance,_.$_$.c=Phases_getInstance_1,_.$_$.d=EmptyContent_getInstance,_.$_$.e=HttpClientPlugin,_.$_$.f=HttpRequestBuilder,_.$_$.g=accept,_.$_$.h=url,_.$_$.i=HttpResponseContainer,_.$_$.j=HttpStatement,_.$_$.k=EmptyContent,_.$_$.l=HttpClient_0,_},__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(7646),__webpack_require__(8744),__webpack_require__(4781),__webpack_require__(2868),__webpack_require__(1246),__webpack_require__(8538),__webpack_require__(4813),__webpack_require__(9524)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},1246:function(t,e,n){var i,r,o;r=[e,n(7646),n(8744),n(4781)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r=e.$_$.g1,o=e.$_$.q1,s=n.$_$.r9,a=i.$_$.e,u=n.$_$.t9,l=n.$_$.qd,c=n.$_$.zd,h=n.$_$.p4;function p(){}function _(){this.o4z_1=new a}function f(){}return p.prototype=Object.create(r.prototype),p.prototype.constructor=p,p.prototype.n4z=function(){return this.m4z_1},p.$metadata$=s("HandlerRegistration",[o],void 0,void 0,void 0,r.prototype),_.prototype.p4z=function(t,e){var n=null,i=this.o4z_1.o(t);if(null==i);else for(var r=i.hv();!u(r,i);){if(r instanceof p){var o=r;try{var s=o.m4z_1;("function"==typeof s?s:l())(e)}catch(t){if(!(t instanceof Error))throw t;var a;null==n?a=null:(c(n,t),a=h()),null==a&&(n=t,h())}}r=r.or_1}if(null!=n)throw n},_.$metadata$=s("Events"),f.$metadata$=s("EventDefinition"),t.$_$=t.$_$||{},t.$_$.a=f,t.$_$.b=_,t})?i.apply(e,r):i)||(t.exports=o)},4813:function(t,e,n){var i,r,o;r=[e,n(8744),n(8538),n(4781)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O=Math.imul,z=e.$_$.w1,M=n.$_$.o,D=n.$_$.e,R=e.$_$.p4,P=e.$_$.o9,j=e.$_$.cd,N=e.$_$.a3,L=e.$_$.t9,q=e.$_$.dc,B=n.$_$.r,F=n.$_$.u,U=n.$_$.v,H=n.$_$.t,V=e.$_$.v1,Y=e.$_$.bb,W=e.$_$.e3,G=e.$_$.d3,Z=e.$_$.p9,K=e.$_$.q9,X=e.$_$.ya,J=n.$_$.z,Q=e.$_$.jd,tt=e.$_$.c2,et=e.$_$.l9,nt=e.$_$.r9,it=e.$_$.c3,rt=e.$_$.ta,ot=e.$_$.f3,st=e.$_$.o7,at=e.$_$.p7,ut=e.$_$.w5,lt=e.$_$.c1,ct=e.$_$.g3,ht=e.$_$.i7,pt=e.$_$.ca,_t=e.$_$.m6,ft=e.$_$.xb,dt=e.$_$.z4,mt=e.$_$.la,yt=e.$_$.zb,vt=e.$_$.f7,gt=e.$_$.t,wt=e.$_$.qd,bt=e.$_$.ha,xt=e.$_$.zc,$t=e.$_$.p,Ct=e.$_$.xa,Et=e.$_$.q7,At=e.$_$.z9,kt=e.$_$.aa,St=n.$_$.n,Tt=e.$_$.kd,It=n.$_$.s,Ot=e.$_$.b7,zt=e.$_$.gc,Mt=e.$_$.yb,Dt=e.$_$.fc,Rt=e.$_$.v7,Pt=i.$_$.r,jt=i.$_$.o,Nt=e.$_$.o6,Lt=i.$_$.n,qt=i.$_$.m,Bt=i.$_$.q,Ft=e.$_$.nc,Ut=e.$_$.jb,Ht=e.$_$.g,Vt=e.$_$.je,Yt=e.$_$.te,Wt=e.$_$.y7,Gt=e.$_$.ed,Zt=e.$_$.d1,Kt=e.$_$.m8,Xt=e.$_$.v5,Jt=e.$_$.b3,Qt=e.$_$.g2,te=e.$_$.sc,ee=e.$_$.j7,ne=e.$_$.eb,ie=e.$_$.l1,re=i.$_$.p,oe=e.$_$.ec,se=e.$_$.a1,ae=e.$_$.m9,ue=e.$_$.x,le=e.$_$.h8,ce=e.$_$.u6,he=e.$_$.l,pe=e.$_$.h2,_e=i.$_$.w,fe=e.$_$.r,de=e.$_$.l6,me=e.$_$.ld,ye=e.$_$.n2,ve=e.$_$.s,ge=e.$_$.qc,we=e.$_$.h7,be=i.$_$.x,xe=i.$_$.u,$e=e.$_$.z,Ce=e.$_$.t5,Ee=e.$_$.n,Ae=e.$_$.se,ke=e.$_$.ke,Se=e.$_$.c,Te=e.$_$.qb,Ie=e.$_$.y9,Oe=e.$_$.j8,ze=e.$_$.za,Me=e.$_$.wb,De=n.$_$.q,Re=e.$_$.kc,Pe=i.$_$.d;function je(){return en(),r}function Ne(){return en(),s}function Le(t,e){en();var n,i,r=z(),o=M().x2p_1.a2q();return Ye(D(o,t,0,0,6,null),(n=r,i=e,function(t){return je().n(t)||(en(),l).n(t)?(n.s5(rt(t)),R()):i&&t===X(32)?(n.s5(N(43)),R()):(n.mg(We(t)),R()),R()})),r.toString()}function qe(t,e,n,i){return 0!=(1&n)&&(e=!1),Le(t,e)}function Be(t,e,n,i,r,o){return 0!=(1&r)&&(e=0),0!=(2&r)&&(n=t.length),0!=(4&r)&&(i=M().x2p_1),function(t,e,n,i){return en(),Ge(t,e,n,!1,i)}(t,e,n,i)}function Fe(t,e,n,i){en();var r,o,s,u=z(),l=i.a2q();return Ye(D(l,t,0,0,6,null),(r=n,o=u,s=e,function(t){return t===X(32)?r?(o.s5(N(43)),R()):(o.mg("%20"),R()):je().n(t)||!s&&(en(),a).n(t)?(o.s5(rt(t)),R()):(o.mg(We(t)),R()),R()})),u.toString()}function Ue(t,e,n,i,r,o){return 0!=(1&r)&&(e=!1),0!=(2&r)&&(n=!1),0!=(4&r)&&(i=M().x2p_1),Fe(t,e,n,i)}function He(t,e,n,i,r,o,s){return 0!=(1&o)&&(e=0),0!=(2&o)&&(n=t.length),0!=(4&o)&&(i=!1),0!=(8&o)&&(r=M().x2p_1),function(t,e,n,i,r){return en(),Ge(t,e,n,i,r)}(t,e,n,i,r)}function Ve(t){en();for(var e=z(),n=M().x2p_1,i=0;i<t.length;){var r=P(t,i);if(L(new j(r),new j(N(47)))||(en(),o).n(new j(r))||(en(),u).n(new j(r)))e.s5(r),i=i+1|0;else if(L(new j(r),new j(N(37)))&&(i+2|0)<t.length&&Ne().n(new j(P(t,i+1|0)))&&Ne().n(new j(P(t,i+2|0))))e.s5(r),e.s5(P(t,i+1|0)),e.s5(P(t,i+2|0)),i=i+3|0;else{var s=q(r)?2:1;Ye(B(n.a2q(),t,i,i+s|0),tn(e)),i=i+s|0}}return e.toString()}function Ye(t,e){en();var n=!0,i=F(t,1);if(null!=i){var r=i;try{t:for(;;){for(var o=r;o.t2g_1>o.s2g_1;)e(o.l2n());n=!1;var s=U(t,r);if(null==s)break t;r=s,n=!0}}finally{n&&H(t,r)}}else R()}function We(t){en();var e=V(3),n=255&t;return e.s5(N(37)),e.s5(Ze(n>>4)),e.s5(Ze(15&n)),e.toString()}function Ge(t,e,n,i,r){en();var o=e;if(o<n)do{var s=o;o=o+1|0;var a=P(t,s);if(L(new j(a),new j(N(37)))||i&&L(new j(a),new j(N(43))))return Ke(t,e,n,s,i,r)}while(o<n);return 0===e&&n===t.length?Y(t):t.substring(e,n)}function Ze(t){return en(),0<=t&&t<=9?W(N(48),t):G(W(N(65),t),10)}function Ke(t,e,n,i,r,o){en();var s=n-e|0,a=V(s>255?s/3|0:s);i>e&&a.jg(t,e,i);for(var u=i,l=null;u<n;){var c=P(t,u);if(r&&L(new j(c),new j(N(43))))a.s5(N(32)),u=u+1|0;else if(L(new j(c),new j(N(37)))){null==l&&(l=new Int8Array((n-u|0)/3|0));for(var h=0;u<n&&L(new j(P(t,u)),new j(N(37)));){if((u+2|0)>=n){var p=u,_=Z(t);throw new Xe("Incomplete trailing HEX escape: "+Y(K(t,p,_))+", in "+t+" at "+u)}var f=Je(P(t,u+1|0)),d=Je(P(t,u+2|0));if(-1===f||-1===d)throw new Xe("Wrong HEX escape: %"+new j(P(t,u+1|0))+new j(P(t,u+2|0))+", in "+t+", at "+u);var m=h;h=m+1|0,l[m]=X(O(f,16)+d|0),u=u+3|0}a.mg(J(l,0,h,o))}else a.s5(c),u=u+1|0}return a.toString()}function Xe(t){tt(t,this),et(this,Xe)}function Je(t){en();var e=t;return N(48)<=e&&e<=N(57)?it(t,N(48)):N(65)<=e&&e<=N(70)?it(t,N(65))+10|0:N(97)<=e&&e<=N(102)?it(t,N(97))+10|0:-1}function Qe(t){return en(),Le(t,!0)}function tn(t){return function(e){return t.mg(We(e)),R()}}function en(){if(c);else{c=!0;for(var t=at(st(ot(N(97),N(122)),ot(N(65),N(90))),ot(N(48),N(57))),e=lt(ut(t,10)),n=t.d();n.e();){var i,h,p=n.f().q1_1;h=ct(p),i=X(h),e.b(i)}r=e,o=at(st(ot(N(97),N(122)),ot(N(65),N(90))),ot(N(48),N(57))),s=at(st(ot(N(97),N(102)),ot(N(65),N(70))),ot(N(48),N(57)));for(var _=ht([new j(N(58)),new j(N(47)),new j(N(63)),new j(N(35)),new j(N(91)),new j(N(93)),new j(N(64)),new j(N(33)),new j(N(36)),new j(N(38)),new j(N(39)),new j(N(40)),new j(N(41)),new j(N(42)),new j(N(44)),new j(N(59)),new j(N(61)),new j(N(45)),new j(N(46)),new j(N(95)),new j(N(126)),new j(N(43))]),f=lt(ut(_,10)),d=_.d();d.e();){var m,y,v=d.f().q1_1;y=ct(v),m=X(y),f.b(m)}a=f,u=ht([new j(N(58)),new j(N(64)),new j(N(33)),new j(N(36)),new j(N(38)),new j(N(39)),new j(N(40)),new j(N(41)),new j(N(42)),new j(N(43)),new j(N(44)),new j(N(59)),new j(N(61)),new j(N(45)),new j(N(46)),new j(N(95)),new j(N(126))]);for(var g=ht([new j(N(45)),new j(N(46)),new j(N(95)),new j(N(126))]),w=lt(ut(g,10)),b=g.d();b.e();){var x,$,C=b.f().q1_1;$=ct(C),x=X($),w.b(x)}l=w}}function nn(){}function rn(t,e,n,i){return cn.call(i,t,e,t+"/"+e,n),i}function on(t,e,n,i,r){return function(t,e,n,i,r,o){return 0!=(4&i)&&(n=_t()),rn(t,e,n,o),o}(t,e,n,i,0,Object.create(cn.prototype))}function sn(){h=this,this.k2z_1=on("*","*",null,4)}function an(){return null==h&&new sn,h}function un(){p=this,this.q2z_1=on("application","*",null,4),this.r2z_1=on("application","atom+xml",null,4),this.s2z_1=on("application","cbor",null,4),this.t2z_1=on("application","json",null,4),this.u2z_1=on("application","hal+json",null,4),this.v2z_1=on("application","javascript",null,4),this.w2z_1=on("application","octet-stream",null,4),this.x2z_1=on("application","font-woff",null,4),this.y2z_1=on("application","rss+xml",null,4),this.z2z_1=on("application","xml",null,4),this.a30_1=on("application","xml-dtd",null,4),this.b30_1=on("application","zip",null,4),this.c30_1=on("application","gzip",null,4),this.d30_1=on("application","x-www-form-urlencoded",null,4),this.e30_1=on("application","pdf",null,4),this.f30_1=on("application","vnd.openxmlformats-officedocument.spreadsheetml.sheet",null,4),this.g30_1=on("application","vnd.openxmlformats-officedocument.wordprocessingml.document",null,4),this.h30_1=on("application","vnd.openxmlformats-officedocument.presentationml.presentation",null,4),this.i30_1=on("application","protobuf",null,4),this.j30_1=on("application","wasm",null,4),this.k30_1=on("application","problem+json",null,4),this.l30_1=on("application","problem+xml",null,4)}function ln(){_=this,this.m30_1=on("text","*",null,4),this.n30_1=on("text","plain",null,4),this.o30_1=on("text","css",null,4),this.p30_1=on("text","csv",null,4),this.q30_1=on("text","html",null,4),this.r30_1=on("text","javascript",null,4),this.s30_1=on("text","vcard",null,4),this.t30_1=on("text","xml",null,4),this.u30_1=on("text","event-stream",null,4)}function cn(t,e,n,i){an(),dn.call(this,n,i),this.x30_1=t,this.y30_1=e}function hn(t){tt("Bad Content-Type format: "+t,this),et(this,hn)}function pn(t){var e,n=t.c31("charset");if(null==n)e=null;else{var i;try{i=St().e2t(n)}catch(t){if(!(t instanceof Tt))throw t;i=null}e=i}return e}function _n(){d=this}function fn(){return null==d&&new _n,d}function dn(t,e){fn(),this.f2z_1=t,this.g2z_1=e}function mn(t){if(vn(),0===Z(t))return!0;if(function(t){if(vn(),t.length<2)return!1;if(!L(new j(Mt(t)),new j(N(34)))||!L(new j(zt(t)),new j(N(34))))return!1;var e=1;t:do{var n=N(34),i=gt(t,n,e,!1,4,null);if(i===Dt(t))break t;for(var r=0,o=i-1|0;L(new j(P(t,o)),new j(N(92)));)r=r+1|0,o=o-1|0;if(0==(r%2|0))return!1;e=i+1|0}while(e<t.length);return!0}(t))return!1;var e=0,n=t.length;if(e<n)do{var i=e;if(e=e+1|0,(vn(),f).n(new j(P(t,i))))return!0}while(e<n);return!1}function yn(t){vn();var e=z();return function(t,e){vn(),e.mg('"');var n=0,i=t.length;if(n<i)do{var r=n;n=n+1|0;var o=P(t,r);L(new j(o),new j(N(92)))?e.mg("\\\\"):L(new j(o),new j(N(10)))?e.mg("\\n"):L(new j(o),new j(N(13)))?e.mg("\\r"):L(new j(o),new j(N(9)))?e.mg("\\t"):L(new j(o),new j(N(34)))?e.mg('\\"'):e.s5(o)}while(n<i);e.mg('"')}(t,e),e.toString()}function vn(){m||(m=!0,f=Rt([new j(N(40)),new j(N(41)),new j(N(60)),new j(N(62)),new j(N(64)),new j(N(44)),new j(N(59)),new j(N(58)),new j(N(92)),new j(N(34)),new j(N(47)),new j(N(91)),new j(N(93)),new j(N(63)),new j(N(61)),new j(N(123)),new j(N(125)),new j(N(32)),new j(N(9)),new j(N(10)),new j(N(13))]))}function gn(){y=this,this.e31_1=(null==v&&new $n,v)}function wn(){return null==y&&new gn,y}function bn(){}function xn(t){jt.call(this,!0,t)}function $n(){v=this}function Cn(t){Bt.call(this,!0,t)}function En(t,e){this.i2z_1=t,this.j2z_1=e}function An(t,e){this.m2z_1=t,this.n2z_1=e;var n;t:{for(var i=this.n2z_1.d();i.e();){var r=i.f();if("q"===r.i2z_1){n=r;break t}}n=null}var o=null==n?null:n.j2z_1,s=null==o?null:Ft(o),a=null==s?null:Ut(0,1).o1(s)?s:null;this.o2z_1=null==a?1:a}function kn(t){return function(t,e){if(null==t)return _t();for(var n=0,i=Ht(),r=Vt(i,(function(){return Zt()}));n<=Dt(t);)n=Sn(t,n,r,e);return Tn(r)}(t,!1)}function Sn(t,e,n,i){for(var r=e,o=Ht(),s=Vt(o,(function(){return Zt()})),a=i?r:null;r<=Dt(t);){var u=P(t,r);if(L(new j(u),new j(N(44)))){var l=a;return n.b1().b(new An(In(t,e,null==l?r:l),Tn(s))),r+1|0}L(new j(u),new j(N(59)))?(null==a&&(a=r),r=On(t,r+1|0,s)):r=i?On(t,r,s):r+1|0}var c=a;return n.b1().b(new An(In(t,e,null==c?r:c),Tn(s))),r}function Tn(t){return t.x6()?t.b1():_t()}function In(t,e,n){var i=t.substring(e,n);return Y(xt(bt(i)?i:wt()))}function On(t,e,n){for(var i=e;i<=Dt(t);){var r=P(t,i);if(L(new j(r),new j(N(61)))){var o=zn(t,i+1|0),s=o.w3();return Rn(n,t,e,i,o.x3()),s}if(L(new j(r),new j(N(59)))||L(new j(r),new j(N(44))))return Rn(n,t,e,i,""),i;i=i+1|0}return Rn(n,t,e,i,""),i}function zn(t,e){if(t.length===e)return Yt(e,"");var n=e;if(L(new j(P(t,e)),new j(N(34))))return function(t,e){for(var n=e,i=z();n<=Dt(t);){var r=P(t,n);if(L(new j(r),new j(N(34)))&&Mn(t,n))return Yt(n+1|0,i.toString());L(new j(r),new j(N(92)))&&n<(Dt(t)-2|0)?(i.s5(P(t,n+1|0)),n=n+2|0):(i.s5(r),n=n+1|0)}var o,s=n;return o='"'+i.toString(),Yt(s,o)}(t,n+1|0);for(;n<=Dt(t);){var i=P(t,n);if(L(new j(i),new j(N(59)))||L(new j(i),new j(N(44))))return Yt(n,In(t,e,n));n=n+1|0}return Yt(n,In(t,e,n))}function Mn(t,e){for(var n=e+1|0;n<t.length&&L(new j(P(t,n)),new j(N(32)));)n=n+1|0;return n===t.length||L(new j(P(t,n)),new j(N(59)))}function Dn(t){this.h35_1=t}function Rn(t,e,n,i,r){var o=In(e,n,i);if(0===Z(o))return R();t.b1().b(new En(o,r))}function Pn(){g=this,this.h31_1="Accept",this.i31_1="Accept-Charset",this.j31_1="Accept-Encoding",this.k31_1="Accept-Language",this.l31_1="Accept-Ranges",this.m31_1="Age",this.n31_1="Allow",this.o31_1="ALPN",this.p31_1="Authentication-Info",this.q31_1="Authorization",this.r31_1="Cache-Control",this.s31_1="Connection",this.t31_1="Content-Disposition",this.u31_1="Content-Encoding",this.v31_1="Content-Language",this.w31_1="Content-Length",this.x31_1="Content-Location",this.y31_1="Content-Range",this.z31_1="Content-Type",this.a32_1="Cookie",this.b32_1="DASL",this.c32_1="Date",this.d32_1="DAV",this.e32_1="Depth",this.f32_1="Destination",this.g32_1="ETag",this.h32_1="Expect",this.i32_1="Expires",this.j32_1="From",this.k32_1="Forwarded",this.l32_1="Host",this.m32_1="HTTP2-Settings",this.n32_1="If",this.o32_1="If-Match",this.p32_1="If-Modified-Since",this.q32_1="If-None-Match",this.r32_1="If-Range",this.s32_1="If-Schedule-Tag-Match",this.t32_1="If-Unmodified-Since",this.u32_1="Last-Modified",this.v32_1="Location",this.w32_1="Lock-Token",this.x32_1="Link",this.y32_1="Max-Forwards",this.z32_1="MIME-Version",this.a33_1="Ordering-Type",this.b33_1="Origin",this.c33_1="Overwrite",this.d33_1="Position",this.e33_1="Pragma",this.f33_1="Prefer",this.g33_1="Preference-Applied",this.h33_1="Proxy-Authenticate",this.i33_1="Proxy-Authentication-Info",this.j33_1="Proxy-Authorization",this.k33_1="Public-Key-Pins",this.l33_1="Public-Key-Pins-Report-Only",this.m33_1="Range",this.n33_1="Referer",this.o33_1="Retry-After",this.p33_1="Schedule-Reply",this.q33_1="Schedule-Tag",this.r33_1="Sec-WebSocket-Accept",this.s33_1="Sec-WebSocket-Extensions",this.t33_1="Sec-WebSocket-Key",this.u33_1="Sec-WebSocket-Protocol",this.v33_1="Sec-WebSocket-Version",this.w33_1="Server",this.x33_1="Set-Cookie",this.y33_1="SLUG",this.z33_1="Strict-Transport-Security",this.a34_1="TE",this.b34_1="Timeout",this.c34_1="Trailer",this.d34_1="Transfer-Encoding",this.e34_1="Upgrade",this.f34_1="User-Agent",this.g34_1="Vary",this.h34_1="Via",this.i34_1="Warning",this.j34_1="WWW-Authenticate",this.k34_1="Access-Control-Allow-Origin",this.l34_1="Access-Control-Allow-Methods",this.m34_1="Access-Control-Allow-Credentials",this.n34_1="Access-Control-Allow-Headers",this.o34_1="Access-Control-Request-Method",this.p34_1="Access-Control-Request-Headers",this.q34_1="Access-Control-Expose-Headers",this.r34_1="Access-Control-Max-Age",this.s34_1="X-Http-Method-Override",this.t34_1="X-Forwarded-Host",this.u34_1="X-Forwarded-Server",this.v34_1="X-Forwarded-Proto",this.w34_1="X-Forwarded-For",this.x34_1="X-Forwarded-Port",this.y34_1="X-Request-ID",this.z34_1="X-Correlation-ID",this.a35_1="X-Total-Count";var t;t=[this.w31_1,this.z31_1,this.d34_1,this.e34_1],this.b35_1=t,this.c35_1=Xt(this.b35_1)}function jn(){return null==g&&new Pn,g}function Nn(t,e){var n,i="Header name '"+t+"' contains illegal character '"+new j(P(t,e))+"'",r=P(t,e);n=ct(r),Qt(i+" (code "+(255&n)+")",this),this.j35_1=t,this.k35_1=e,et(this,Nn)}function Ln(t,e){var n,i="Header value '"+t+"' contains illegal character '"+new j(P(t,e))+"'",r=P(t,e);n=ct(r),Qt(i+" (code "+(255&n)+")",this),this.l35_1=t,this.m35_1=e,et(this,Ln)}function qn(t){Qt("Header(s) "+t+" are controlled by the engine and cannot be set explicitly",this),et(this,qn)}function Bn(){}function Fn(){}function Un(t){var e=t.n35().m25(jn().z31_1);return null==e?null:an().l2z(e)}function Hn(){w=this,this.o35_1=new Yn("GET"),this.p35_1=new Yn("POST"),this.q35_1=new Yn("PUT"),this.r35_1=new Yn("PATCH"),this.s35_1=new Yn("DELETE"),this.t35_1=new Yn("HEAD"),this.u35_1=new Yn("OPTIONS"),this.v35_1=ht([this.o35_1,this.p35_1,this.q35_1,this.r35_1,this.s35_1,this.t35_1,this.u35_1])}function Vn(){return null==w&&new Hn,w}function Yn(t){Vn(),this.w35_1=t}function Wn(){b=this,this.x35_1=new Zn("HTTP",2,0),this.y35_1=new Zn("HTTP",1,1),this.z35_1=new Zn("HTTP",1,0),this.a36_1=new Zn("SPDY",3,0),this.b36_1=new Zn("QUIC",1,0)}function Gn(){return null==b&&new Wn,b}function Zn(t,e,n){Gn(),this.c36_1=t,this.d36_1=e,this.e36_1=n}function Kn(){x=this,this.f36_1=new Jn(100,"Continue"),this.g36_1=new Jn(101,"Switching Protocols"),this.h36_1=new Jn(102,"Processing"),this.i36_1=new Jn(200,"OK"),this.j36_1=new Jn(201,"Created"),this.k36_1=new Jn(202,"Accepted"),this.l36_1=new Jn(203,"Non-Authoritative Information"),this.m36_1=new Jn(204,"No Content"),this.n36_1=new Jn(205,"Reset Content"),this.o36_1=new Jn(206,"Partial Content"),this.p36_1=new Jn(207,"Multi-Status"),this.q36_1=new Jn(300,"Multiple Choices"),this.r36_1=new Jn(301,"Moved Permanently"),this.s36_1=new Jn(302,"Found"),this.t36_1=new Jn(303,"See Other"),this.u36_1=new Jn(304,"Not Modified"),this.v36_1=new Jn(305,"Use Proxy"),this.w36_1=new Jn(306,"Switch Proxy"),this.x36_1=new Jn(307,"Temporary Redirect"),this.y36_1=new Jn(308,"Permanent Redirect"),this.z36_1=new Jn(400,"Bad Request"),this.a37_1=new Jn(401,"Unauthorized"),this.b37_1=new Jn(402,"Payment Required"),this.c37_1=new Jn(403,"Forbidden"),this.d37_1=new Jn(404,"Not Found"),this.e37_1=new Jn(405,"Method Not Allowed"),this.f37_1=new Jn(406,"Not Acceptable"),this.g37_1=new Jn(407,"Proxy Authentication Required"),this.h37_1=new Jn(408,"Request Timeout"),this.i37_1=new Jn(409,"Conflict"),this.j37_1=new Jn(410,"Gone"),this.k37_1=new Jn(411,"Length Required"),this.l37_1=new Jn(412,"Precondition Failed"),this.m37_1=new Jn(413,"Payload Too Large"),this.n37_1=new Jn(414,"Request-URI Too Long"),this.o37_1=new Jn(415,"Unsupported Media Type"),this.p37_1=new Jn(416,"Requested Range Not Satisfiable"),this.q37_1=new Jn(417,"Expectation Failed"),this.r37_1=new Jn(422,"Unprocessable Entity"),this.s37_1=new Jn(423,"Locked"),this.t37_1=new Jn(424,"Failed Dependency"),this.u37_1=new Jn(426,"Upgrade Required"),this.v37_1=new Jn(429,"Too Many Requests"),this.w37_1=new Jn(431,"Request Header Fields Too Large"),this.x37_1=new Jn(500,"Internal Server Error"),this.y37_1=new Jn(501,"Not Implemented"),this.z37_1=new Jn(502,"Bad Gateway"),this.a38_1=new Jn(503,"Service Unavailable"),this.b38_1=new Jn(504,"Gateway Timeout"),this.c38_1=new Jn(505,"HTTP Version Not Supported"),this.d38_1=new Jn(506,"Variant Also Negotiates"),this.e38_1=new Jn(507,"Insufficient Storage"),this.f38_1=ht([Xn().f36_1,Xn().g36_1,Xn().h36_1,Xn().i36_1,Xn().j36_1,Xn().k36_1,Xn().l36_1,Xn().m36_1,Xn().n36_1,Xn().o36_1,Xn().p36_1,Xn().q36_1,Xn().r36_1,Xn().s36_1,Xn().t36_1,Xn().u36_1,Xn().v36_1,Xn().w36_1,Xn().x36_1,Xn().y36_1,Xn().z36_1,Xn().a37_1,Xn().b37_1,Xn().c37_1,Xn().d37_1,Xn().e37_1,Xn().f37_1,Xn().g37_1,Xn().h37_1,Xn().i37_1,Xn().j37_1,Xn().k37_1,Xn().l37_1,Xn().m37_1,Xn().n37_1,Xn().o37_1,Xn().p37_1,Xn().q37_1,Xn().r37_1,Xn().s37_1,Xn().t37_1,Xn().u37_1,Xn().v37_1,Xn().w37_1,Xn().x37_1,Xn().y37_1,Xn().z37_1,Xn().a38_1,Xn().b38_1,Xn().c38_1,Xn().d38_1,Xn().e38_1]);for(var t,e=this.f38_1,n=ne(ee(ut(e,10)),16),i=ie(n),r=e.d();r.e();){var o,s=r.f();o=s.h38_1,i.a(o,s)}t=i,this.g38_1=t}function Xn(){return null==x&&new Kn,x}function Jn(t,e){Xn(),this.h38_1=t,this.i38_1=e}function Qn(){}function ti(){$=this,this.j38_1=(null==C&&new ii,C)}function ei(){return null==$&&new ti,$}function ni(){}function ii(){C=this}function ri(t,e,n){return 0!=(1&e)&&(t=8),function(t){return new oi(t)}(t)}function oi(t){jt.call(this,!0,t)}function si(t){Bt.call(this,!0,t)}function ai(t,e,n,i){var r;if(e>Dt(t))r=ei().j38_1;else{ei();var o=ri(0,1);(function(t,e,n,i,r){var o=0,s=n,a=-1,u=n,l=Dt(e);if(u<=l)do{var c=u;if(u=u+1|0,o===i)return R();var h=P(e,c);L(new j(h),new j(N(38)))?(ui(t,e,s,a,c,r),s=c+1|0,a=-1,o=o+1|0):L(new j(h),new j(N(61)))&&-1===a&&(a=c)}while(c!==l);if(o===i)return R();ui(t,e,s,a,e.length,r)})(o,t,e,n,i),r=o.i1s()}return r}function ui(t,e,n,i,r,o){if(-1===i){var s=li(n,r,e),a=ci(s,r,e);if(a>s){var u=o?He(e,s,a,!1,null,12):e.substring(s,a);t.n2v(u,_t())}return R()}var l=li(n,i,e),c=ci(l,i,e);if(c>l){var h=o?He(e,l,c,!1,null,12):e.substring(l,c),p=li(i+1|0,r,e),_=ci(p,r,e),f=o?He(e,p,_,!0,null,8):e.substring(p,_);t.q2v(h,f)}}function li(t,e,n){for(var i=t;i<e&&oe(P(n,i));)i=i+1|0;return i}function ci(t,e,n){for(var i=e;i>t&&oe(P(n,i-1|0));)i=i-1|0;return i}function hi(t,e,n,i,r,o,s,a,u,l,c){return function(t,e,n,i,r,o,s,a,u,l,c,h){return 0!=(1&l)&&(t=Ti().n38_1),0!=(2&l)&&(e=""),0!=(4&l)&&(n=0),0!=(8&l)&&(i=null),0!=(16&l)&&(r=null),0!=(32&l)&&(o=_t()),0!=(64&l)&&(s=ei().j38_1),0!=(128&l)&&(a=""),0!=(256&l)&&(u=!1),di.call(h,t,e,n,i,r,o,s,a,u),h}(t,e,n,i,r,o,s,a,u,l,0,Object.create(di.prototype))}function pi(t){var e=t.u38_1;if(Z(e)>0||"file"===t.t38_1.d39_1)return R();t.u38_1=fi().v39_1.g39_1,t.t38_1.equals(Ti().n38_1)&&(t.t38_1=fi().v39_1.f39_1),0===t.v38_1&&(t.v38_1=fi().v39_1.h39_1)}function _i(){E=this,this.v39_1=function(t){return $i(hi(null,null,0,null,null,null,null,null,!1,511),t)}(function(t){var e;if(Pe().x2y_1){var n;if(void 0!==window)n=window.location.origin;else{var i=self.location.origin;n=null!=i&&"string"==typeof i?i:wt()}e=n}else e="http://localhost";return e}()).i1s()}function fi(){return null==E&&new _i,E}function di(t,e,n,i,r,o,s,a,u){fi(),this.t38_1=t,this.u38_1=e,this.v38_1=n,this.w38_1=u;var l;l=null==i?null:qe(i,!1,1),this.x38_1=l;var c;c=null==r?null:qe(r,!1,1),this.y38_1=c,this.z38_1=Ue(a,!1,!1,null,7);for(var h,p=lt(ut(o,10)),_=o.d();_.e();){var f;f=Ve(_.f()),p.b(f)}h=p,this.a39_1=h,this.b39_1=function(t){var e=ri(0,1);return function(t,e){for(var n=e.h2v().d();n.e();){for(var i,r=n.f(),o=e.g2v(r),s=null==o?_t():o,a=qe(r,!1,1),u=lt(ut(s,10)),l=s.d();l.e();){var c;c=Qe(l.f()),u.b(c)}i=u,t.n2v(a,i)}}(e,t),e}(s),this.c39_1=new Di(this.b39_1)}function mi(t){var e=z();return e.mg(gi(t)),e.mg(t.u38_1),0!==t.v38_1&&t.v38_1!==t.t38_1.e39_1&&(e.mg(":"),e.mg(t.v38_1.toString())),e.toString()}function yi(){return A}function vi(t,e){e.c(t.t38_1.d39_1);var n=t.t38_1.d39_1;if("file"===n)return function(t,e,n){t.c("://"),t.c(e);var i=N(47);se(n,i,!1,2,null)||t.s5(N(47)),t.c(n)}(e,t.u38_1,bi(t)),e;if("mailto"===n)return function(t,e,n){t.c(":"),t.c(e),t.c(n)}(e,gi(t),t.u38_1),e;e.c("://"),e.c(mi(t)),function(t,e,n,i){!yt(e)&&!$e(e,"/",!1,2,null)&&t.s5(N(47)),t.c(e),n.m()&&!i||t.c("?");for(var r=n.i2v(),o=Zt(),s=r.d();s.e();){var a,u=s.f(),l=u.a1(),c=u.b1();if(c.m())a=we(Yt(l,null));else{for(var h=lt(ut(c,10)),p=c.d();p.e();){var _,f=p.f();_=Yt(l,f),h.b(_)}a=h}Ce(o,a)}Ee(o,t,"&",null,null,0,null,(function(t){var e=t.u3_1;return null==t.v3_1?e:e+"="+Ae(t.v3_1)}),60,null)}(e,bi(t),t.b39_1,t.w38_1);var i=t.z38_1;return Z(i)>0&&(e.s5(N(35)),e.c(t.z38_1)),e}function gi(t){var e=z();return Oi(e,t.x38_1,t.y38_1),e.toString()}function wi(t,e){var n,i=t;if(yt(e))n=_t();else if("/"===e)n=xi();else{var r=ae([N(47)]);n=le(ue(e,r,!1,0,6,null))}i.a39_1=n}function bi(t){return function(t){if(t.m())return"";if(1===t.g()){var e=ce(t);return 0===Z(e)?"/":ce(t)}return he(t,"/",null,null,0,null,null,62,null)}(t.a39_1)}function xi(){return ki(),k}function $i(t,e){if(ki(),yt(e))return t;var n;try{n=function(t,e){var n;ki();t:{var i=0,r=Z(e)-1|0;if(i<=r)do{var o=i;i=i+1|0;var s=P(e,o);if(!oe(s)){n=o;break t}}while(i<=r);n=-1}var a,u=n;t:{var l=Z(e)-1|0;if(0<=l)do{var c=l;l=l+-1|0;var h=P(e,c);if(!oe(h)){a=c;break t}}while(0<=l);a=-1}var p=a+1|0,_=function(t,e,n){ki();var i=e,r=-1,o=P(t,i);for(N(97)<=o&&o<=N(122)||N(65)<=o&&o<=N(90)||(r=i);i<n;){var s=P(t,i);if(L(new j(s),new j(N(58)))){if(-1!==r)throw pe("Illegal character in scheme at position "+r);return i-e|0}if(L(new j(s),new j(N(47)))||L(new j(s),new j(N(63)))||L(new j(s),new j(N(35))))return-1;-1!==r||N(97)<=s&&s<=N(122)||N(65)<=s&&s<=N(90)||N(48)<=s&&s<=N(57)||L(new j(s),new j(N(46)))||L(new j(s),new j(N(43)))||L(new j(s),new j(N(45)))||(r=i),i=i+1|0}return-1}(e,u,p);if(_>0){var f=u,d=u+_|0,m=e.substring(f,d);t.t38_1=Ti().k3a(m),u=u+(_+1|0)|0}var y=function(t,e,n,i){ki();for(var r=0;(e+r|0)<n&&L(new j(P(t,e+r|0)),new j(i));)r=r+1|0;return r}(e,u,p,N(47));if(u=u+y|0,"file"===t.t38_1.d39_1)return function(t,e,n,i,r){switch(ki(),r){case 2:var o=N(47),s=gt(e,o,n,!1,4,null);if(-1===s||s===i){var a,u=t;return a=e.substring(n,i),u.u38_1=a,R()}var l,c=t;l=e.substring(n,s),c.u38_1=l,wi(t,e.substring(s,i));break;case 3:t.u38_1="",wi(t,"/"+e.substring(n,i));break;default:throw pe("Invalid file url: "+e)}}(t,e,u,p,y),t;if("mailto"===t.t38_1.d39_1){if(0!==y)throw pe(Y("Failed requirement."));return function(t,e,n,i){ki();var r=ve(e,"@",n,!1,4,null);if(-1===r)throw pe("Invalid mailto url: "+e+", it should contain '@'.");var o=e.substring(n,r);t.a3a(Be(o,0,0,null,7));var s,a=t,u=r+1|0;s=e.substring(u,i),a.u38_1=s}(t,e,u,p),t}if(y>=2)t:for(;;){var v,g=_e("@/\\?#"),w=fe(e,g,u,!1,4,null),b=null==(v=w>0?w:null)?p:v;if(!(b<p&&L(new j(P(e,b)),new j(N(64))))){Ai(t,e,u,b),u=b;break t}var x=Ei(e,u,b);if(-1!==x){var $=u,C=e.substring($,x);t.a3a(Be(C,0,0,null,7));var E=x+1|0,A=e.substring(E,b);t.d3a(Be(A,0,0,null,7))}else{var k=u,S=e.substring(k,b);t.a3a(Be(S,0,0,null,7))}u=b+1|0}if(u>=p)return t.a39_1=L(new j(P(e,p-1|0)),new j(N(47)))?xi():_t(),t;var T,I,O=t;T=0===y?de(t.a39_1,1):_t(),O.a39_1=T;var z=_e("?#"),M=fe(e,z,u,!1,4,null),D=null==(I=M>0?M:null)?p:I;if(D>u){var q,B=u,F=e.substring(B,D);if(1===t.a39_1.g()){var U=ce(t.a39_1);q=0===Z(U)}else q=!1;var H,V=q?_t():t.a39_1;if("/"===F)H=xi();else{var W=ae([N(47)]);H=ue(F,W,!1,0,6,null)}var G=H,K=at(1===y?xi():_t(),G);t.a39_1=at(V,K),u=D}return u<p&&L(new j(P(e,u)),new j(N(63)))&&(u=function(t,e,n,i){if(ki(),(n+1|0)===i)return t.w38_1=!0,i;var r,o=N(35),s=gt(e,o,n+1|0,!1,4,null),a=null==(r=s>0?s:null)?i:r,u=n+1|0;return function(t,e,n,i,r,o){return 0!=(2&r)&&(e=0),0!=(4&r)&&(n=1e3),0!=(8&r)&&(i=!0),ai(t,e,n,i)}(e.substring(u,a),0,0,!1,6).j2v((l=t,function(t,e){return l.b39_1.n2v(t,e),R()})),a;var l}(t,e,u,p)),function(t,e,n,i){if(ki(),n<i&&L(new j(P(e,n)),new j(N(35)))){var r,o=n+1|0;r=e.substring(o,i),t.f3a(r)}}(t,e,u,p),t}(t,e)}catch(t){throw t instanceof Error?new Ci(e,t):t}return n}function Ci(t,e){ye("Fail to parse url: "+t,e,this),et(this,Ci)}function Ei(t,e,n){ki();var i=!1,r=e;if(r<n)do{var o=r;r=r+1|0;var s=P(t,o);if(L(new j(s),new j(N(91))))i=!0;else if(L(new j(s),new j(N(93))))i=!1;else if(L(new j(s),new j(N(58)))&&!i)return o}while(r<n);return-1}function Ai(t,e,n,i){var r;ki();var o,s=Ei(e,n,i),a=null==(r=s>0?s:null)?i:r,u=t;if(o=e.substring(n,a),u.u38_1=o,(a+1|0)<i){var l,c=t,h=a+1|0;l=e.substring(h,i),c.v38_1=ge(l)}else t.v38_1=yi()}function ki(){S||(S=!0,k=we(""))}function Si(){T=this,this.n38_1=new Ii("http",80),this.o38_1=new Ii("https",443),this.p38_1=new Ii("ws",80),this.q38_1=new Ii("wss",443),this.r38_1=new Ii("socks",1080);for(var t,e=ht([this.n38_1,this.o38_1,this.p38_1,this.q38_1,this.r38_1]),n=ne(ee(ut(e,10)),16),i=ie(n),r=e.d();r.e();){var o,s=r.f();o=s.d39_1,i.a(o,s)}t=i,this.s38_1=t}function Ti(){return null==T&&new Si,T}function Ii(t,e){var n;Ti(),this.d39_1=t,this.e39_1=e;t:{for(var i=this.d39_1,r=0,o=i.length;r<o;){var s=P(i,r);if(r=r+1|0,!xe(s)){n=!1;break t}}n=!0}if(!n)throw pe(Y("All characters should be lower case"))}function Oi(t,e,n){if(null==e)return R();t.mg(e),null!=n&&(t.s5(N(58)),t.mg(n)),t.mg("@")}function zi(){I=this}function Mi(t,e,n,i,r,o,s,a,u,l){null==I&&new zi,this.f39_1=t,this.g39_1=e,this.h39_1=n,this.i39_1=i,this.j39_1=r,this.k39_1=o,this.l39_1=s,this.m39_1=a,this.n39_1=u,this.o39_1=l;var c,h,p=this.h39_1;if(!(0<=p&&p<=65535||this.h39_1===yi()))throw c="port must be between 0 and 65535, or "+yi()+" if not set",pe(Y(c));this.p39_1=ke((h=this,function(){if(h.i39_1.m())return"";var t=N(47),e=h.f39_1.d39_1.length+3|0,n=gt(h.o39_1,t,e,!1,4,null);if(-1===n)return"";var i=ae([N(63),N(35)]),r=fe(h.o39_1,i,n,!1,4,null);return-1===r?h.o39_1.substring(n):h.o39_1.substring(n,r)})),this.q39_1=ke(function(t){return function(){if(t.j39_1.m())return"";var e=N(63),n=gt(t.o39_1,e,0,!1,6,null)+1|0,i=N(35),r=gt(t.o39_1,i,n,!1,4,null);return-1===r?t.o39_1.substring(n):t.o39_1.substring(n,r)}}(this)),this.r39_1=ke(function(t){return function(){var e=N(47),n=t.f39_1.d39_1.length+3|0,i=gt(t.o39_1,e,n,!1,4,null);if(-1===i)return"";var r=N(35),o=gt(t.o39_1,r,i,!1,4,null);return-1===o?t.o39_1.substring(i):t.o39_1.substring(i,o)}}(this)),this.s39_1=ke(function(t){return function(){if(null==t.l39_1)return null;var e=t.l39_1;if(0===Z(e))return"";var n=t.f39_1.d39_1.length+3|0,i=ae([N(58),N(64)]),r=fe(t.o39_1,i,n,!1,4,null);return t.o39_1.substring(n,r)}}(this)),this.t39_1=ke(function(t){return function(){if(null==t.m39_1)return null;var e=t.m39_1;if(0===Z(e))return"";var n=N(58),i=t.f39_1.d39_1.length+3|0,r=gt(t.o39_1,n,i,!1,4,null)+1|0,o=N(64),s=gt(t.o39_1,o,0,!1,6,null);return t.o39_1.substring(r,s)}}(this)),this.u39_1=ke(function(t){return function(){var e=t.k39_1;if(0===Z(e))return"";var n=N(35),i=gt(t.o39_1,n,0,!1,6,null)+1|0;return t.o39_1.substring(i)}}(this))}function Di(t){this.o3a_1=t,this.p3a_1=this.o3a_1.f2v()}function Ri(t){var e=ri(0,1);return function(t,e){for(var n=e.h2v().d();n.e();){for(var i,r=n.f(),o=e.g2v(r),s=null==o?_t():o,a=He(r,0,0,!1,null,15),u=lt(ut(s,10)),l=s.d();l.e();){var c;c=He(l.f(),0,0,!0,null,11),u.b(c)}i=u,t.n2v(a,i)}}(e,t),e.i1s()}function Pi(t,e,n){qi.call(this),this.r3a_1=t,this.s3a_1=e,this.t3a_1=n}function ji(){Fi.call(this)}function Ni(){Fi.call(this)}function Li(){}function qi(){Fi.call(this)}function Bi(){}function Fi(){this.x3a_1=null}function Ui(t,e,n){qi.call(this),this.e3b_1=t,this.f3b_1=e,this.g3b_1=n;var i,r=this.e3b_1,o=pn(this.f3b_1),s=null==o?M().x2p_1:o;i=s.equals(M().x2p_1)?Me(r):De(s.a2q(),r,0,r.length),this.h3b_1=i}return Xe.prototype=Object.create(Q.prototype),Xe.prototype.constructor=Xe,cn.prototype=Object.create(dn.prototype),cn.prototype.constructor=cn,hn.prototype=Object.create(Q.prototype),hn.prototype.constructor=hn,xn.prototype=Object.create(jt.prototype),xn.prototype.constructor=xn,Cn.prototype=Object.create(Bt.prototype),Cn.prototype.constructor=Cn,Nn.prototype=Object.create(Tt.prototype),Nn.prototype.constructor=Nn,Ln.prototype=Object.create(Tt.prototype),Ln.prototype.constructor=Ln,qn.prototype=Object.create(Tt.prototype),qn.prototype.constructor=qn,oi.prototype=Object.create(jt.prototype),oi.prototype.constructor=oi,si.prototype=Object.create(Bt.prototype),si.prototype.constructor=si,Ci.prototype=Object.create(me.prototype),Ci.prototype.constructor=Ci,qi.prototype=Object.create(Fi.prototype),qi.prototype.constructor=qi,Pi.prototype=Object.create(qi.prototype),Pi.prototype.constructor=Pi,ji.prototype=Object.create(Fi.prototype),ji.prototype.constructor=ji,Ni.prototype=Object.create(Fi.prototype),Ni.prototype.constructor=Ni,Li.prototype=Object.create(Fi.prototype),Li.prototype.constructor=Li,Bi.prototype=Object.create(Fi.prototype),Bi.prototype.constructor=Bi,Ui.prototype=Object.create(qi.prototype),Ui.prototype.constructor=Ui,Xe.$metadata$=nt("URLDecodeException",void 0,void 0,void 0,void 0,Q.prototype),nn.$metadata$=pt("ContentTypeMatcher"),sn.prototype.l2z=function(t){if(yt(t))return this.k2z_1;fn();var e=vt(kn(t)),n=e.m2z_1,i=e.n2z_1,r=N(47),o=gt(n,r,0,!1,6,null);if(-1===o){if("*"===Y(xt(bt(n)?n:wt())))return an().k2z_1;throw new hn(t)}var s=n.substring(0,o),a=Y(xt(bt(s)?s:wt()));if(0===Z(a))throw new hn(t);var u,l,c=o+1|0,h=n.substring(c),p=Y(xt(bt(h)?h:wt())),_=N(32);if($t(a,_,!1,2,null))u=!0;else{var f=N(32);u=$t(p,f,!1,2,null)}if(u)throw new hn(t);if(0===Z(p))l=!0;else{var d=N(47);l=$t(p,d,!1,2,null)}if(l)throw new hn(t);return function(t,e,n){return rn(t,e,n,Object.create(cn.prototype))}(a,p,i)},sn.prototype.p2z=function(){return this.k2z_1},sn.$metadata$=Ct("Companion"),un.$metadata$=Ct("Application"),ln.$metadata$=Ct("Text"),cn.prototype.z30=function(t,e){return function(t,e,n){var i;switch(t.h2z().g()){case 0:i=!1;break;case 1:var r=t.h2z().l(0);i=!!ft(r.i2z_1,e,!0)&&ft(r.j2z_1,n,!0);break;default:var o;t:{var s=t.h2z();if(mt(s,dt)&&s.m())o=!1;else{for(var a=s.d();a.e();){var u=a.f();if(ft(u.i2z_1,e,!0)&&ft(u.j2z_1,n,!0)){o=!0;break t}}o=!1}}i=o}return i}(this,t,e)?this:new cn(this.x30_1,this.y30_1,this.j25(),Et(this.h2z(),new En(t,e)))},cn.prototype.a31=function(){return this.h2z().m()?this:on(this.x30_1,this.y30_1,null,4)},cn.prototype.b31=function(t){if("*"!==t.x30_1&&!ft(t.x30_1,this.x30_1,!0))return!1;if("*"!==t.y30_1&&!ft(t.y30_1,this.y30_1,!0))return!1;for(var e=t.h2z().d();e.e();){var n,i=e.f(),r=i.w3(),o=i.x3();if("*"===r){var s;if("*"===o)s=!0;else{var a;t:{var u=this.h2z();if(mt(u,dt)&&u.m())a=!1;else{for(var l=u.d();l.e();){var c=l.f();if(ft(c.j2z_1,o,!0)){a=!0;break t}}a=!1}}s=a}n=s}else{var h=this.c31(r);n="*"===o?!(null==h):ft(h,o,!0)}if(!n)return!1}return!0},cn.prototype.equals=function(t){return!!(t instanceof cn&&ft(this.x30_1,t.x30_1,!0)&&ft(this.y30_1,t.y30_1,!0))&&L(this.h2z(),t.h2z())},cn.prototype.hashCode=function(){var t;t=this.x30_1.toLowerCase();var e,n=At(t),i=n,r=O(31,n);return e=this.y30_1.toLowerCase(),(n=i+(r+At(e)|0)|0)+O(31,kt(this.h2z()))|0},cn.$metadata$=nt("ContentType",void 0,void 0,void 0,void 0,dn.prototype),hn.$metadata$=nt("BadContentTypeFormatException",void 0,void 0,void 0,void 0,Q.prototype),_n.prototype.d31=function(t,e){var n=vt(kn(t));return e(n.m2z_1,n.n2z_1)},_n.$metadata$=Ct("Companion"),dn.prototype.j25=function(){return this.f2z_1},dn.prototype.h2z=function(){return this.g2z_1},dn.prototype.c31=function(t){var e=0,n=Ot(this.g2z_1);if(e<=n)do{var i=e;e=e+1|0;var r=this.g2z_1.l(i);if(ft(r.i2z_1,t,!0))return r.j2z_1}while(i!==n);return null},dn.prototype.toString=function(){var t,e;if(this.g2z_1.m())t=this.f2z_1;else{for(var n=this.f2z_1.length,i=0,r=this.g2z_1.d();r.e();){var o=r.f();i=i+(3+(o.i2z_1.length+o.j2z_1.length|0)|0)|0}var s=V(n+i|0);s.mg(this.f2z_1);var a=0,u=Ot(this.g2z_1);if(a<=u)do{var l=a;a=a+1|0;var c=this.g2z_1.l(l);s.mg("; "),s.mg(c.i2z_1),s.mg("=");var h=c.j2z_1;e=h,vn(),mn(e)?s.mg(yn(h)):s.mg(h)}while(l!==u);t=s.toString()}return t},dn.$metadata$=nt("HeaderValueWithParameters"),gn.$metadata$=Ct("Companion"),bn.$metadata$=pt("Headers",[Pt]),xn.prototype.i1s=function(){return new Cn(this.y2())},xn.prototype.m2v=function(t){jt.prototype.m2v.call(this,t),jn().d35(t)},xn.prototype.p2v=function(t){jt.prototype.p2v.call(this,t),jn().e35(t)},xn.$metadata$=nt("HeadersBuilder",void 0,void 0,void 0,void 0,jt.prototype),$n.prototype.f2v=function(){return!0},$n.prototype.g2v=function(t){return null},$n.prototype.h2v=function(){return Nt()},$n.prototype.i2v=function(){return Nt()},$n.prototype.toString=function(){return"Headers "+this.i2v()},$n.$metadata$=Ct("EmptyHeaders",[bn]),Cn.prototype.toString=function(){return"Headers "+this.i2v()},Cn.$metadata$=nt("HeadersImpl",[bn],void 0,void 0,void 0,Bt.prototype),En.prototype.f35=function(){return this.i2z_1},En.prototype.b1=function(){return this.j2z_1},En.prototype.equals=function(t){return!!(t instanceof En&&ft(t.i2z_1,this.i2z_1,!0))&&ft(t.j2z_1,this.j2z_1,!0)},En.prototype.hashCode=function(){var t;t=this.i2z_1.toLowerCase();var e,n=At(t),i=n,r=O(31,n);return e=this.j2z_1.toLowerCase(),i+(r+At(e)|0)|0},En.prototype.w3=function(){return this.i2z_1},En.prototype.x3=function(){return this.j2z_1},En.prototype.toString=function(){return"HeaderValueParam(name="+this.i2z_1+", value="+this.j2z_1+")"},En.$metadata$=nt("HeaderValueParam"),An.prototype.g35=function(){return this.o2z_1},An.prototype.w3=function(){return this.m2z_1},An.prototype.toString=function(){return"HeaderValue(value="+this.m2z_1+", params="+this.n2z_1+")"},An.prototype.hashCode=function(){var t=At(this.m2z_1);return O(t,31)+kt(this.n2z_1)|0},An.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof An))return!1;var e=t instanceof An?t:wt();return this.m2z_1===e.m2z_1&&!!L(this.n2z_1,e.n2z_1)},An.$metadata$=nt("HeaderValue"),Dn.prototype.w=function(t,e){return this.h35_1(t,e)},Dn.prototype.compare=function(t,e){return this.w(t,e)},Dn.$metadata$=nt("sam$kotlin_Comparator$0",[Gt]),Pn.prototype.i35=function(){return this.c35_1},Pn.prototype.d35=function(t){for(var e=0,n=t,i=0,r=n.length;i<r;){var o=P(n,i);i=i+1|0;var s=e;e=s+1|0;var a=s;if(Jt(o,N(32))<=0||$t('"(),/:;<=>?@[\\]{}',o,!1,2,null))throw new Nn(t,a)}},Pn.prototype.e35=function(t){for(var e=0,n=t,i=0,r=n.length;i<r;){var o=P(n,i);i=i+1|0;var s=e;e=s+1|0;var a=s;if(L(new j(o),new j(N(32)))||L(new j(o),new j(N(9))))R();else if(Jt(o,N(32))<0)throw new Ln(t,a)}},Pn.$metadata$=Ct("HttpHeaders"),Nn.$metadata$=nt("IllegalHeaderNameException",void 0,void 0,void 0,void 0,Tt.prototype),Ln.$metadata$=nt("IllegalHeaderValueException",void 0,void 0,void 0,void 0,Tt.prototype),qn.$metadata$=nt("UnsafeHeaderException",void 0,void 0,void 0,void 0,Tt.prototype),Bn.$metadata$=pt("HttpMessage"),Fn.$metadata$=pt("HttpMessageBuilder"),Hn.$metadata$=Ct("Companion"),Yn.prototype.toString=function(){return"HttpMethod(value="+this.w35_1+")"},Yn.prototype.hashCode=function(){return At(this.w35_1)},Yn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Yn))return!1;var e=t instanceof Yn?t:wt();return this.w35_1===e.w35_1},Yn.$metadata$=nt("HttpMethod"),Wn.$metadata$=Ct("Companion"),Zn.prototype.toString=function(){return this.c36_1+"/"+this.d36_1+"."+this.e36_1},Zn.prototype.hashCode=function(){var t=At(this.c36_1);return t=O(t,31)+this.d36_1|0,O(t,31)+this.e36_1|0},Zn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Zn))return!1;var e=t instanceof Zn?t:wt();return this.c36_1===e.c36_1&&this.d36_1===e.d36_1&&this.e36_1===e.e36_1},Zn.$metadata$=nt("HttpProtocolVersion"),Kn.$metadata$=Ct("Companion"),Jn.prototype.b1=function(){return this.h38_1},Jn.prototype.toString=function(){return this.h38_1+" "+this.i38_1},Jn.prototype.equals=function(t){return t instanceof Jn&&t.h38_1===this.h38_1},Jn.prototype.hashCode=function(){return this.h38_1},Jn.$metadata$=nt("HttpStatusCode"),Qn.$metadata$=pt("ParametersBuilder",[re]),ti.prototype.k38=function(t){var e=ri(0,1);return t(e),e.i1s()},ti.$metadata$=Ct("Companion"),ni.$metadata$=pt("Parameters",[Pt]),ii.prototype.f2v=function(){return!0},ii.prototype.g2v=function(t){return null},ii.prototype.h2v=function(){return Nt()},ii.prototype.i2v=function(){return Nt()},ii.prototype.m=function(){return!0},ii.prototype.toString=function(){return"Parameters "+this.i2v()},ii.prototype.equals=function(t){return!(null==t||!mt(t,ni))&&t.m()},ii.$metadata$=Ct("EmptyParameters",[ni]),oi.prototype.i1s=function(){return new si(this.y2())},oi.$metadata$=nt("ParametersBuilderImpl",[Qn],void 0,void 0,void 0,jt.prototype),si.prototype.toString=function(){return"Parameters "+this.i2v()},si.$metadata$=nt("ParametersImpl",[ni],void 0,void 0,void 0,Bt.prototype),_i.$metadata$=Ct("Companion"),di.prototype.w39=function(){return this.t38_1},di.prototype.x39=function(){return this.u38_1},di.prototype.y39=function(){return this.v38_1},di.prototype.z39=function(){return this.x38_1},di.prototype.a3a=function(t){var e;e=null==t?null:qe(t,!1,1),this.x38_1=e},di.prototype.b3a=function(){var t=this.x38_1;return null==t?null:Be(t,0,0,null,7)},di.prototype.c3a=function(){return this.y38_1},di.prototype.d3a=function(t){var e;e=null==t?null:qe(t,!1,1),this.y38_1=e},di.prototype.e3a=function(){var t=this.y38_1;return null==t?null:Be(t,0,0,null,7)},di.prototype.f3a=function(t){this.z38_1=Ue(t,!1,!1,null,7)},di.prototype.g3a=function(){return He(this.z38_1,0,0,!1,null,15)},di.prototype.h3a=function(){for(var t=this.a39_1,e=lt(ut(t,10)),n=t.d();n.e();){var i;i=Be(n.f(),0,0,null,7),e.b(i)}return e},di.prototype.i3a=function(t){this.b39_1=t,this.c39_1=new Di(t)},di.prototype.j3a=function(){return pi(this),vi(this,V(256)).toString()},di.prototype.i1s=function(){return pi(this),new Mi(this.t38_1,this.u38_1,this.v38_1,this.h3a(),this.c39_1.i1s(),this.g3a(),this.b3a(),this.e3a(),this.w38_1,this.j3a())},di.$metadata$=nt("URLBuilder"),Ci.$metadata$=nt("URLParserException",void 0,void 0,void 0,void 0,me.prototype),Si.prototype.l3a=function(){return this.s38_1},Si.prototype.k3a=function(t){var e=be(t),n=Ti().s38_1.o(e);return null==n?new Ii(e,yi()):n},Si.$metadata$=Ct("Companion"),Ii.prototype.f35=function(){return this.d39_1},Ii.prototype.m3a=function(){return this.e39_1},Ii.prototype.toString=function(){return"URLProtocol(name="+this.d39_1+", defaultPort="+this.e39_1+")"},Ii.prototype.hashCode=function(){var t=At(this.d39_1);return O(t,31)+this.e39_1|0},Ii.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Ii))return!1;var e=t instanceof Ii?t:wt();return this.d39_1===e.d39_1&&this.e39_1===e.e39_1},Ii.$metadata$=nt("URLProtocol"),zi.$metadata$=Ct("Companion"),Mi.prototype.w39=function(){return this.f39_1},Mi.prototype.x39=function(){return this.g39_1},Mi.prototype.n3a=function(){return this.h39_1},Mi.prototype.y39=function(){var t=this.h39_1,e=t===yi()?null:t;return null==e?this.f39_1.e39_1:e},Mi.prototype.z39=function(){return Ie("encodedUser",1,Te,(function(t){return t.z39()}),null),this.s39_1.b1()},Mi.prototype.c3a=function(){return Ie("encodedPassword",1,Te,(function(t){return t.c3a()}),null),this.t39_1.b1()},Mi.prototype.toString=function(){return this.o39_1},Mi.prototype.equals=function(t){return this===t||!(null==t||!Se(this).equals(Se(t)))&&(t instanceof Mi||wt(),this.o39_1===t.o39_1)},Mi.prototype.hashCode=function(){return At(this.o39_1)},Mi.$metadata$=nt("Url"),Di.prototype.i1s=function(){return Ri(this.o3a_1)},Di.prototype.f2v=function(){return this.p3a_1},Di.prototype.g2v=function(t){var e,n=this.o3a_1.g2v(qe(t,!1,1));if(null==n)e=null;else{for(var i=lt(ut(n,10)),r=n.d();r.e();){var o;o=He(r.f(),0,0,!0,null,11),i.b(o)}e=i}return e},Di.prototype.h2v=function(){for(var t=this.o3a_1.h2v(),e=lt(ut(t,10)),n=t.d();n.e();){var i;i=He(n.f(),0,0,!1,null,15),e.b(i)}return Oe(e)},Di.prototype.m=function(){return this.o3a_1.m()},Di.prototype.i2v=function(){return Ri(this.o3a_1).i2v()},Di.prototype.q2v=function(t,e){return this.o3a_1.q2v(qe(t,!1,1),Qe(e))},Di.prototype.n2v=function(t,e){for(var n,i=qe(t,!1,1),r=lt(ut(e,10)),o=e.d();o.e();){var s;s=Qe(o.f()),r.b(s)}return n=r,this.o3a_1.n2v(i,n)},Di.prototype.va=function(){return this.o3a_1.va()},Di.$metadata$=nt("UrlDecodedParametersBuilder",[Qn]),Pi.prototype.u3a=function(){return this.s3a_1},Pi.prototype.v3a=function(){return ze(this.r3a_1.length)},Pi.prototype.w3a=function(){return this.r3a_1},Pi.$metadata$=nt("ByteArrayContent",void 0,void 0,void 0,void 0,qi.prototype),ji.$metadata$=nt("NoContent",void 0,void 0,void 0,void 0,Fi.prototype),Ni.$metadata$=nt("ReadChannelContent",void 0,void 0,void 0,void 0,Fi.prototype),Li.$metadata$=nt("WriteChannelContent",void 0,void 0,void 0,void 0,Fi.prototype),qi.$metadata$=nt("ByteArrayContent",void 0,void 0,void 0,void 0,Fi.prototype),Bi.$metadata$=nt("ProtocolUpgrade",void 0,void 0,void 0,void 0,Fi.prototype),Fi.prototype.u3a=function(){return null},Fi.prototype.v3a=function(){return null},Fi.prototype.n35=function(){return wn().e31_1},Fi.$metadata$=nt("OutgoingContent"),Ui.prototype.u3a=function(){return this.f3b_1},Ui.prototype.v3a=function(){return ze(this.h3b_1.length)},Ui.prototype.w3a=function(){return this.h3b_1},Ui.prototype.toString=function(){return"TextContent["+this.f3b_1+'] "'+Re(this.e3b_1,30)+'"'},Ui.$metadata$=nt("TextContent",void 0,void 0,void 0,void 0,qi.prototype),$n.prototype.m25=Lt,$n.prototype.j2v=qt,ii.prototype.j2v=qt,A=0,t.$_$=t.$_$||{},t.$_$.a=function(t,e,n,i,r){return function(t,e,n,i,r,o){return 0!=(2&i)&&(e=null),0!=(4&i)&&(n=null),Pi.call(o,t,e,n),o}(t,e,n,i,0,Object.create(Pi.prototype))},t.$_$.b=function(t,e,n,i,r){return function(t,e,n,i,r,o){return 0!=(4&i)&&(n=null),Ui.call(o,t,e,n),o}(t,e,n,i,0,Object.create(Ui.prototype))},t.$_$.c=function(t,e,n){return function(t,e,n,i){return 0!=(1&e)&&(t=8),xn.call(i,t),i}(t,e,0,Object.create(xn.prototype))},t.$_$.d=hi,t.$_$.e=function(){return null==p&&new un,p},t.$_$.f=an,t.$_$.g=function(){return null==_&&new ln,_},t.$_$.h=wn,t.$_$.i=jn,t.$_$.j=Vn,t.$_$.k=Gn,t.$_$.l=Xn,t.$_$.m=qi,t.$_$.n=ji,t.$_$.o=Bi,t.$_$.p=Ni,t.$_$.q=Li,t.$_$.r=Fi,t.$_$.s=nn,t.$_$.t=Fn,t.$_$.u=Bn,t.$_$.v=Jn,t.$_$.w=qn,t.$_$.x=mi,t.$_$.y=function(t){var e=z();return e.mg(function(t){var e=z();return Oi(e,t.z39(),t.c3a()),e.toString()}(t)),t.h39_1===yi()||t.h39_1===t.f39_1.e39_1?e.mg(t.g39_1):e.mg(function(t){return t.g39_1+":"+t.y39()}(t)),e.toString()},t.$_$.z=function(t){var e=Un(t);return null==e?null:pn(e)},t.$_$.a1=pn,t.$_$.b1=function(t){var e=t.n35().m25(jn().w31_1);return null==e?null:te(e)},t.$_$.c1=function(t){var e=t.n35().m25(jn().z31_1);return null==e?null:an().l2z(e)},t.$_$.d1=Un,t.$_$.e1=function(t){return"https"===t.d39_1||"wss"===t.d39_1},t.$_$.f1=function(t){var e,n=kn(t);return e=new Dn((function(t,e){var n,i=e.o2z_1;return n=t.o2z_1,Kt(i,n)})),Wt(n,e)},t.$_$.g1=function(t,e){return t.t38_1=e.t38_1,t.u38_1=e.u38_1,t.v38_1=e.v38_1,t.a39_1=e.a39_1,t.x38_1=e.x38_1,t.y38_1=e.y38_1,t.i3a(e.b39_1),t.z38_1=e.z38_1,t.w38_1=e.w38_1,t},t.$_$.h1=$i,t.$_$.i1=function(t,e){return"application"===t.x30_1.toLowerCase()&&"json"===t.y30_1.toLowerCase()?t:t.z30("charset",It(e))},t.$_$.j1=function(t,e){return t.z30("charset",It(e))},t})?i.apply(e,r):i)||(t.exports=o)},8538:function(t,e,n){var i,r,o;r=[e,n(8744),n(2868),n(7646)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T=Math.imul,I=e.$_$.ca,O=e.$_$.ee,z=e.$_$.p4,M=e.$_$.bb,D=e.$_$.h2,R=e.$_$.za,P=e.$_$.m2,j=e.$_$.d9,N=e.$_$.o8,L=e.$_$.r9,q=e.$_$.md,B=n.$_$.c,F=n.$_$.b,U=n.$_$.d,H=e.$_$.qd,V=e.$_$.r1,Y=e.$_$.n8,W=e.$_$.q1,G=e.$_$.l9,Z=i.$_$.s1,K=e.$_$.z3,X=i.$_$.p1,J=i.$_$.j,Q=i.$_$.k,tt=i.$_$.t,et=i.$_$.q,nt=e.$_$.la,it=i.$_$.x,rt=i.$_$.v,ot=e.$_$.t9,st=(e.$_$.f9,e.$_$.ya),at=e.$_$.ab,ut=e.$_$.v1,lt=e.$_$.e4,ct=e.$_$.p9,ht=e.$_$.xa,pt=e.$_$.jd,_t=e.$_$.c2,ft=e.$_$.ta,dt=e.$_$.eb,mt=e.$_$.gb,yt=e.$_$.j4,vt=e.$_$.g3,gt=e.$_$.ub,wt=(e.$_$.wb,e.$_$.w3),bt=e.$_$.y2,xt=e.$_$.v3,$t=(e.$_$.cd,e.$_$.o4),Ct=e.$_$.o9,Et=e.$_$.bc,At=e.$_$.ac,kt=i.$_$.l,St=e.$_$.fb,Tt=e.$_$.aa,It=e.$_$.ke,Ot=e.$_$.qb,zt=e.$_$.y9,Mt=e.$_$.q2,Dt=e.$_$.a3,Rt=e.$_$.w,Pt=e.$_$.c,jt=e.$_$.qa,Nt=e.$_$.z9,Lt=e.$_$.q9,qt=e.$_$.u9,Bt=e.$_$.p2,Ft=e.$_$.d2,Ut=e.$_$.ha,Ht=e.$_$.zc,Vt=e.$_$.vb,Yt=e.$_$.v7,Wt=e.$_$.v9,Gt=e.$_$.na;function Zt(t,e,n,i){return 0!=(1&n)&&(yt(),t=new q(-1,2147483647)),null==i?this.q2k(t,e):i(t,e)}function Kt(){this.yq()}function Xt(){}function Jt(t){return t.r2d_1.su()?(t.v2d_1.a2e(),!1):(function(t){t.w2d_1;var e=t.r2d_1.g(),n=O(t.r2d_1.r2e());t.x2d_1.s2e(n),t.o2d_1.atomicfu$addAndGet(e)}(t),t.v2d_1.a2e(),!0)}function Qt(t){var e=t.t2e();if(null!=e)throw e}function te(t,e){var n=t.t2e();if(null!=n)throw e.yt(),n}function ee(t,e){return function(){return t.k2f()<e&&!t.u2e()}}function ne(t,e){return function(){return t.j2f()<e&&!t.u2e()}}function ie(t,e,n){j.call(this,n),this.t2f_1=t,this.u2f_1=e}function re(t,e,n){j.call(this,n),this.e2g_1=t,this.f2g_1=e}function oe(t,e,n){j.call(this,n),this.o2g_1=t,this.p2g_1=e}function se(t,e,n,i,r){j.call(this,r),this.g2h_1=t,this.h2h_1=e,this.i2h_1=n,this.j2h_1=i}function ae(t,e,n){j.call(this,n),this.u2h_1=t,this.v2h_1=e}function ue(t,e,n,i){j.call(this,i),this.d2f_1=t,this.e2f_1=e,this.f2f_1=n}function le(t,e,n){j.call(this,n),this.w2i_1=t,this.x2i_1=e}function ce(t,e,n,i,r){j.call(this,r),this.i2j_1=t,this.j2j_1=e,this.k2j_1=n,this.l2j_1=i}function he(t,e){j.call(this,e),this.u2j_1=t}function pe(t,e,n){j.call(this,n),this.g2k_1=t,this.h2k_1=e}function _e(t,e,n){this.k2d_1=e,this.l2d_1=B(On().h2d_1),this.m2d_1=F(new q(0,0)),this.n2d_1=F(new q(0,0)),this.o2d_1=U(0),this.p2d_1=U(0),this.q2d_1=B(null),this.r2d_1=new Xe(n),this.s2d_1=Je(t,n),this.t2d_1=U(0),this.u2d_1=B(On().h2d_1),this.v2d_1=new Qn,this.w2d_1=new Object,this.x2d_1=Ke(null,1,null);var i=We(t).m6();this.x2g(i),this.o2d_1.atomicfu$addAndGet(i)}function fe(t){W(t,this),G(this,fe)}function de(){return o||(o=!0,r=new me(null)),r}function me(t){this.y2d_1=t}function ye(){}function ve(t,e,n,i){return function(t,e,n,i,r){var o=t.gn().u4(tt()),s=et(t,e,null,(a=i,u=n,l=r,c=o,h=null,p=new Ce(a,u,l,c,h),_=function(t,e){return p.r2l(t,e)},_.$arity=1,_),2,null);var a,u,l,c,h,p,_;return s.ho(function(t){return function(e){return t.t11(e),z()}}(n)),new we(s,n)}(t,e,function(t){return new si(On().h2d_1,t)}(n),!0,i)}function ge(){}function we(t,e){this.z2k_1=t,this.a2l_1=e}function be(){}function xe(t,e){this.b2l_1=e,this.c2l_1=t}function $e(){}function Ce(t,e,n,i,r){this.l2l_1=t,this.m2l_1=e,this.n2l_1=n,this.o2l_1=i,j.call(this,r)}function Ee(){}function Ae(){}function ke(){}function Se(){}function Te(){}function Ie(t,e,n){var i=R(n),r=function(t){var e;if(t instanceof en)e=t.j2i();else{var n=t.j2i();e=n.j1(new q(16,0))>=0?n:new q(16,0)}return e}(e),o=(i.j1(r)<=0?i:r).m6(),s=ut(o);return function(t,e,n,i){var r=Vi(bi(Ii(t)),!0),o=0,s=!0,a=Wn(e,1);if(null!=a){var u=a,l=1;try{t:do{var c,h,p=u,_=p.t2g_1-p.s2g_1|0;if(_>=l)try{var f,d=u,m=i-o|0,y=d.t2g_1-d.s2g_1|0;if(m<y)f=0;else{var v,g=d.r2g_1,w=d.s2g_1,b=d.t2g_1,x=new Int8Array(g.s2l_1.buffer,g.s2l_1.byteOffset+w|0,b-w|0);try{var $;try{$=r.p2t(x,Yi(!0))}catch(t){if(t instanceof Error){var C=t.message;throw new zi("Failed to decode bytes: "+(null==C?"no cause provided":C))}throw t}v=$}catch(t){if(t instanceof Error){var E=t.message;throw new zi("Failed to decode bytes: "+(null==E?"no cause provided":E))}throw t}var A=v;n.c(A),o=o+A.length|0;var k,S=x.byteLength;if(d.x2m(S),o===i){var T;try{T=r.q2t()}catch(t){T=""}ct(T)>0&&d.b2n(y),k=0}else k=o<i?Mi():0;f=k}l=f}finally{var I=u;c=I.t2g_1-I.s2g_1|0}else c=_;if(s=!1,0===c)h=Gn(e,u);else{var O;if(c<l)O=!0;else{var M=u,D=M.w2g_1-M.v2g_1|0;De(),O=D<8}O?(Yn(e,u),h=Wn(e,l)):h=u}var R=h;if(null==R)break t;u=R,s=!0}while(l>0)}finally{s&&Yn(e,u)}}else z();if(o<i){var P=1,j=!0,N=Wn(e,1);if(null!=N){var L=N,q=1;try{t:do{var B,F,U=L,H=U.t2g_1-U.s2g_1|0;if(H>=q)try{var V=L,Y=V.r2g_1,W=V.s2g_1,G=V.t2g_1,Z=Ri(new Int8Array(Y.s2l_1.buffer,Y.s2l_1.byteOffset+W|0,G-W|0),r,i-o|0);n.c(Z.r2t_1),o=o+Z.r2t_1.length|0;var K=Z.s2t_1;V.x2m(K),q=P=K>0?1:P===Mi()?0:P+1|0}finally{var X=L;B=X.t2g_1-X.s2g_1|0}else B=H;if(j=!1,0===B)F=Gn(e,L);else{var J;if(B<q)J=!0;else{var Q=L,tt=Q.w2g_1-Q.v2g_1|0;De(),J=tt<8}J?(Yn(e,L),F=Wn(e,q)):F=L}var et=F;if(null==et)break t;L=et,j=!0}while(q>0)}finally{j&&Yn(e,L)}}else z()}}(t,e,s,n),s.toString()}function Oe(t,e,n,i,r){var o=i;if(o>=r)return 0;var s=0,a=Zn(e,1,null);try{var u;t:for(;;){var l=a,c=l.v2g_1-l.t2g_1|0,h=Ti(t,n,o,r,l);if(!(h>=0))throw P(M("Check failed."));if(o=o+h|0,s=s+(c-(l.v2g_1-l.t2g_1|0)|0)|0,(u=o>=r?0:0===h?8:1)<=0)break t;a=Zn(e,u,a)}}finally{e.k2m()}return s+function(t,e){var n=1,i=0,r=Zn(e,1,null);try{t:for(;;){var o=r,s=o.v2g_1-o.t2g_1|0;if(n=0,i=i+(s-(o.v2g_1-o.t2g_1|0)|0)|0,!(n>0))break t;r=Zn(e,1,r)}}finally{e.k2m()}return i}(0,e)|0}function ze(t,e,n,i){var r;t:{var o=Ke(null,1,null);try{Oe(t,o,e,n,i),r=o.i1s();break t}catch(t){throw t instanceof Error?(o.yt(),t):t}}return r}function Me(){s=this,this.l2m_1=8}function De(){return null==s&&new Me,s}function Re(t){De(),this.r2g_1=t,this.s2g_1=0,this.t2g_1=0,this.u2g_1=0;var e;e=this.r2g_1.s2l_1.byteLength,this.v2g_1=e;var n;n=this.r2g_1.s2l_1.byteLength,this.w2g_1=n}function Pe(t,e){throw new Bi("Unable to discard "+t+" bytes: only "+e+" available for reading")}function je(t,e){throw new Bi("Unable to discard "+t+" bytes: only "+e+" available for writing")}function Ne(t,e,n){var i=function(t,e,n,i){return Le.call(i,"Not enough free space to write "+t+" of "+e+" bytes, available "+n+" bytes."),i}(t,e,n,Object.create(Le.prototype));return G(i,Ne),i}function Le(t){_t(t,this),G(this,Le)}function qe(t,e,n){var i=e.t2g_1-e.s2g_1|0,r=Math.min(i,n);(t.v2g_1-t.t2g_1|0)<=r&&function(t,e){if(((t.v2g_1-t.t2g_1|0)+(t.w2g_1-t.v2g_1|0)|0)<e)throw D("Can't append buffer: not enough free space at the end");((t.t2g_1+e|0)-t.v2g_1|0)>0&&t.j2n()}(t,r);var o=t.r2g_1,s=t.t2g_1,a=(t.v2g_1,e.r2g_1),u=e.s2g_1;e.t2g_1,a.v2l(o,u,r,s);var l=r;e.x2m(l);var c=l;return t.y2m(c),c}function Be(){return l||(l=!0,a=function(t,e,n,i,r,o){return 0!=(1&i)&&(t=4096),0!=(2&i)&&(e=1e3),0!=(4&i)&&(n=pi()),Fe.call(o,t,e,n),o}(0,0,null,7,0,Object.create(Fe.prototype))),a}function Fe(t,e,n){Xi.call(this,e),this.r2n_1=t,this.s2n_1=n}function Ue(t,e,n){var i,r;if(!(n>=0))throw D(M("length shouldn't be negative: "+n));if(!(n<=(e.t2g_1-e.s2g_1|0)))throw i="length shouldn't be greater than the source read remaining: "+n+" > "+(e.t2g_1-e.s2g_1|0),D(M(i));if(!(n<=(t.v2g_1-t.t2g_1|0)))throw r="length shouldn't be greater than the destination write remaining space: "+n+" > "+(t.v2g_1-t.t2g_1|0),D(M(r));var o=t.r2g_1,s=t.t2g_1,a=t.v2g_1-s|0;if(a<n)throw Ne("buffer readable content",n,a);e.r2g_1.v2l(o,e.s2g_1,n,s),e.x2m(n);var u=n;t.y2m(u)}function He(t,e,n,i){var r=t.r2g_1,o=t.s2g_1;if((t.t2g_1-o|0)<i)throw new Bi("Not enough bytes to read a byte array of size "+i+".");!function(t,e,n,i,r){var o=e,s=new Int8Array(t.s2l_1.buffer,t.s2l_1.byteOffset+n|0,i);o.set(s,r)}(r,e,o,i,n);var s=i;t.x2m(s)}function Ve(t,e,n,i){var r=t.r2g_1,o=t.t2g_1,s=t.v2g_1-o|0;if(s<i)throw Ne("byte array",i,s);(function(t,e,n,i){var r=e;return function(t,e,n,i){return _i(di(),e.buffer,e.byteOffset+n|0,i)}(di(),r,n,i)})(di(),e,n,i).v2l(r,0,i,o);var a=i;t.y2m(a)}function Ye(t,e,n){if(!(n>=0))throw D(M("Failed requirement."));if(!(n<=(e.v2g_1-e.t2g_1|0)))throw D(M("Failed requirement."));var i=t.r2g_1,r=t.s2g_1;if((t.t2g_1-r|0)<n)throw new Bi("Not enough bytes to read a buffer content of size "+n+".");i.v2l(e.r2g_1,r,n,e.t2g_1),e.y2m(n);var o=n;return t.x2m(o),n}function We(t){return function(t,e){for(var n=t,i=e;;){var r,o=n,s=i;r=o.t2g_1-o.s2g_1|0;var a=R(r).w5(s),u=o.d2o();if(null==u)return a;n=u,i=a}}(t,new q(0,0))}function Ge(t){for(var e=t;;){var n=e,i=n.d2o();if(null==i)return n;e=i}}function Ze(t,e){for(var n=t;null!=n;){var i=n.i2o();n.j2m(e),n=i}}function Ke(t,e,n){return function(t,e,n,i){return 0!=(1&e)&&(t=On().f2d_1),Xe.call(i,t),i}(t,e,0,Object.create(Xe.prototype))}function Xe(t){vn.call(this,t)}function Je(t,e){return function(t,e,n){return en.call(n,t,We(t),e),n}(t,e,Object.create(en.prototype))}function Qe(){c=this,this.n2o_1=new en(On().h2d_1,new q(0,0),On().g2d_1)}function tn(){return null==c&&new Qe,c}function en(t,e,n){tn(),pn.call(this,t,e,n),this.u2o()}function nn(t,e){t.d2i_1=e,t.e2i_1=e.o2m(),t.f2i_1=e.p2m(),t.g2i_1=e.q2m()}function rn(t,e,n,i){if(0===i&&0===n)return 0;if(t.x2j()){if(0===n)return 0;!function(t,e){throw new Bi("at least "+e+" characters required but no bytes available")}(0,n)}else i<n&&function(t,e,n){throw D("min should be less or equal to max but min = "+e+", max = "+n)}(0,n,i);var r=0,o=!1,s=!0,a=Wn(t,1);if(null!=a){var u=a;try{t:for(;;){var l,c,h=u;e:{var p=h.r2g_1,_=h.s2g_1,f=h.t2g_1,d=_;if(d<f)do{var m=d;d=d+1|0;var y,v=255&p.s2l_1.getInt8(m);if(128==(128&v))y=!0;else{var g,w=ft(v);r===i?g=!1:(e.s5(w),r=r+1|0,g=!0),y=!g}if(y){h.x2m(m-_|0),l=!1;break e}}while(d<f);var b=f-_|0;h.x2m(b),l=!0}if(l?c=!0:(r===i||(o=!0),c=!1),!c)break t;s=!1;var x=Gn(t,u);if(null==x)break t;u=x,s=!0}}finally{s&&Yn(t,u)}}else z();return o?r+function(t,e,n,i){var r=0,o=!0,s=Wn(t,1);if(null!=s){var a=s,u=1;try{t:do{var l,c,h=a,p=h.t2g_1-h.s2g_1|0;if(p>=u)try{var _,f=a;e:{var d=0,m=0,y=0,v=f.r2g_1,g=f.s2g_1,w=f.t2g_1,b=g;if(b<w)do{var x=b;b=b+1|0;var $=255&v.s2l_1.getInt8(x);if(0==(128&$)){0!==d&&jn(d);var C,E=ft($);if(r===i?C=!1:(e.s5(E),r=r+1|0,C=!0),!C){f.x2m(x-g|0),_=-1;break e}}else if(0===d){var A=128;m=$;var k=1;if(k<=6)n:do{if(k=k+1|0,0==(m&A))break n;m&=~A,A>>=1,d=d+1|0}while(k<=6);if(y=d,d=d-1|0,y>(w-x|0)){f.x2m(x-g|0),_=y;break e}}else if(m=m<<6|127&$,0==(d=d-1|0)){if(Nn(m)){var S,T=ft(m);if(r===i?S=!1:(e.s5(T),r=r+1|0,S=!0),!S){f.x2m(1+((x-g|0)-y|0)|0),_=-1;break e}}else if(Ln(m)){var I,O,M=ft(Bn(m));if(r===i?O=!1:(e.s5(M),r=r+1|0,O=!0),O){var D,R=ft(Fn(m));r===i?D=!1:(e.s5(R),r=r+1|0,D=!0),I=!D}else I=!0;if(I){f.x2m(1+((x-g|0)-y|0)|0),_=-1;break e}}else qn(m);m=0}}while(b<w);var P=w-g|0;f.x2m(P),_=0}u=0===_?1:_>0?_:0}finally{var j=a;l=j.t2g_1-j.s2g_1|0}else l=p;if(o=!1,0===l)c=Gn(t,a);else{var N;if(l<u)N=!0;else{var L=a,q=L.w2g_1-L.v2g_1|0;De(),N=q<8}N?(Yn(t,a),c=Wn(t,u)):c=a}var B=c;if(null==B)break t;a=B,o=!0}while(u>0)}finally{o&&Yn(t,a)}}else z();return r<n&&on(0,n,r),r}(t,e,n-r|0,i-r|0)|0:(r<n&&on(0,n,r),r)}function on(t,e,n){throw new Pn("Premature end of stream: expected at least "+e+" chars but had only "+n)}function sn(t,e){if(t.i2i_1&&null==e.d2o())return t.f2i_1=e.p2m(),t.g2i_1=e.q2m(),t.g2p(new q(0,0)),z();var n,i=e.t2g_1-e.s2g_1|0;De();var r=8-(e.w2g_1-e.v2g_1|0)|0;if(i>(n=Math.min(i,r)))!function(t,e,n,i){var r=t.c2i_1.w2l(),o=t.c2i_1.w2l();De(),r.d2n(8),De(),o.d2n(8),r.v2p(o),o.v2p(e.i2o()),qe(r,e,n-i|0),qe(o,e,i),nn(t,r),t.g2p(We(o))}(t,e,i,n);else{var o=t.c2i_1.w2l();De(),o.d2n(8),o.v2p(e.i2o()),qe(o,e,i),nn(t,o)}e.j2m(t.c2i_1)}function an(t){if(t.i2i_1)return null;var e=t.c2p();return null==e?(t.i2i_1=!0,null):(function(t,e){var n=Ge(t.d2i_1);if(n===On().h2d_1){if(nn(t,e),!t.h2i_1.equals(new q(0,0)))throw P("It should be no tail remaining bytes if current tail is EmptyBuffer");var i=e.d2o(),r=null==i?null:We(i);t.g2p(null==r?new q(0,0):r)}else{n.v2p(e);var o=t;o.g2p(o.h2i_1.w5(We(e)))}}(t,e),e)}function un(t,e,n){for(var i=t,r=e,o=n;;){var s=i,a=r,u=o,l=s.g2i_1-s.f2i_1|0;if(l>=a)return u;var c=u.d2o(),h=null==c?an(s):c;if(null==h)return null;var p=h;if(0!==l){var _=qe(u,p,a-l|0);s.g2i_1=u.q2m();var f,d=s;if(f=d.h2i_1.x5(R(_)),d.g2p(f),p.t2g_1>p.s2g_1?p.c2n(_):(u.v2p(null),u.v2p(p.i2o()),p.j2m(s.c2i_1)),(u.t2g_1-u.s2g_1|0)>=a)return u;De(),a>8&&ln(0,a),i=s,r=a,o=u}else u!==On().h2d_1&&s.u2p(u),i=s,r=a,o=p}}function ln(t,e){throw De(),P("minSize of "+e+" is too big (should be less than 8)")}function cn(t,e){0==(e.t2g_1-e.s2g_1|0)&&t.u2p(e)}function hn(){h=this}function pn(t,e,n){null==h&&new hn,this.c2i_1=n,this.d2i_1=t,this.e2i_1=t.o2m(),this.f2i_1=t.p2m(),this.g2i_1=t.q2m();var i,r=this.g2i_1-this.f2i_1|0;i=e.x5(R(r)),this.h2i_1=i,this.i2i_1=!1}function _n(t,e,n,i){var r,o=i,s=n,a=!0,u=Wn(t,1);if(null!=u){var l=u;try{t:for(;;){var c=l,h=o,p=c.t2g_1-c.s2g_1|0,_=Math.min(h,p);if(He(c,e,s,_),s=s+_|0,!((o=o-_|0)>0))break t;a=!1;var f=Gn(t,l);if(null==f)break t;l=f,a=!0}}finally{a&&Yn(t,l)}}else z();(r=o)>0&&$n(r)}function fn(t,e,n){var i,r=n,o=0,s=!0,a=Wn(t,1);if(null!=a){var u=a;try{t:for(;;){var l=u,c=r,h=l.t2g_1-l.s2g_1|0,p=Math.min(c,h);if(Ye(l,e,p),o=o+p|0,!((r=r-p|0)>0))break t;s=!1;var _=Gn(t,u);if(null==_)break t;u=_,s=!0}}finally{s&&Yn(t,u)}}else z();(i=r)>0&&$n(i)}function dn(t){var e=t.j2e_1.w2l();return De(),e.d2n(8),t.i2m(e),e}function mn(t,e,n,i){var r=t.l2e_1;if(null==r)t.k2e_1=e,t.q2e_1=0;else{r.v2p(e);var o=t.n2e_1;r.z2m(o);var s=t;s.q2e_1=s.q2e_1+(o-t.p2e_1|0)|0}t.l2e_1=n;var a=t;a.q2e_1=a.q2e_1+i|0,t.m2e_1=n.o2m(),t.n2e_1=n.q2m(),t.p2e_1=n.p2m(),t.o2e_1=n.s2m()}function yn(t,e,n,i){e.z2m(t.n2e_1);var r=e.t2g_1-e.s2g_1|0,o=n.t2g_1-n.s2g_1|0,s=Li(),a=o<s&&o<=((e.w2g_1-e.v2g_1|0)+(e.v2g_1-e.t2g_1|0)|0)?o:-1,u=r<s&&r<=n.r2m()&&1===n.c2o()?r:-1;if(-1===a&&-1===u)t.q2o(n);else if(-1===u||a<=u){qe(e,n,(e.v2g_1-e.t2g_1|0)+(e.w2g_1-e.v2g_1|0)|0),t.k2m();var l=n.i2o();null==l||t.q2o(l),n.j2m(i)}else{if(!(-1===a||u<a))throw P("prep = "+u+", app = "+a);!function(t,e,n){!function(t,e){var n=e.t2g_1-e.s2g_1|0,i=t.s2g_1;if(i<n)throw D("Not enough space in the beginning to prepend bytes");var r=i-n|0;e.r2g_1.v2l(t.r2g_1,e.s2g_1,n,r),e.x2m(n),t.i2n(r)}(e,n);var i=t.k2e_1;if(null==i)throw P("head should't be null since it is already handled in the fast-path");var r=i;if(r===n)t.k2e_1=e;else{var o=r;t:for(;;){var s=O(o.d2o());if(s===n)break t;o=s}o.v2p(e)}n.j2m(t.j2e_1),t.l2e_1=Ge(e)}(t,n,e)}}function vn(t){this.j2e_1=t,this.k2e_1=null,this.l2e_1=null,this.m2e_1=di().w2p_1,this.n2e_1=0,this.o2e_1=0,this.p2e_1=0,this.q2e_1=0}function gn(t,e,n){var i=0,r=n,o=Zn(t,1,null);try{t:for(;;){var s=o,a=r,u=s.v2g_1-s.t2g_1|0,l=Math.min(a,u);if(Ue(s,e,l),i=i+l|0,!((r=r-l|0)>0))break t;o=Zn(t,1,o)}}finally{t.k2m()}}function wn(t,e,n,i){var r=n,o=i,s=Zn(t,1,null);try{t:for(;;){var a=s,u=o,l=a.v2g_1-a.t2g_1|0,c=Math.min(u,l);if(Ve(a,e,r,c),r=r+c|0,!((o=o-c|0)>0))break t;s=Zn(t,1,s)}}finally{t.k2m()}}function bn(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=e.length-n|0),wn(t,e,n,i)}function xn(t,e,n,i){if(0!=(1&n)){var r,o=t.j2i();if(o.j1(R(lt().e1_1))>0)throw D("Unable to convert to a ByteArray: packet is too big");r=o.m6(),z(),e=r}return function(t,e){var n;if(0!==e){var i=new Int8Array(e);_n(t,i,0,e),n=i}else n=Vn();return n}(t,e)}function $n(t){throw new Bi("Premature end of stream: expected "+t+" bytes")}function Cn(t,e,n){return function(t,e,n){if(0===n)return"";if((e.g2i_1-e.f2i_1|0)>=n){var i,r=Vi(Ii(t).z2p_1,!0),o=e.o2o(),s=e.e2i_1.s2l_1;try{var a=0===o.p2m()&&n===s.byteLength?s:new DataView(s.buffer,s.byteOffset+o.p2m()|0,n);i=r.t2t(a)}catch(t){if(t instanceof Error){var u=t.message;throw new zi("Failed to decode bytes: "+(null==u?"no cause provided":u))}throw t}var l=i;return e.x2m(n),l}return function(t,e,n){var i=Vi(bi(Ii(t)),!0),r=n,o=ut(n);try{var s=!0,a=Wn(e,6);if(null!=a){var u=a,l=6;try{t:do{var c,h,p=u,_=p.t2g_1-p.s2g_1|0;if(_>=l)try{var f,d=u,m=d.t2g_1-d.s2g_1|0,y=r,v=Math.min(m,y);if(0===d.s2g_1&&d.r2g_1.s2l_1.byteLength===v){var g;e:{var w=d.r2g_1.s2l_1;try{g=i.p2t(w,Yi(!0));break e}catch(t){if(t instanceof Error){var b=t.message;throw new zi("Failed to decode bytes: "+(null==b?"no cause provided":b))}throw t}}f=g}else{var x;e:{var $=new Int8Array(d.r2g_1.s2l_1.buffer,d.r2g_1.s2l_1.byteOffset+d.s2g_1|0,v);try{x=i.p2t($,Yi(!0));break e}catch(t){if(t instanceof Error){var C=t.message;throw new zi("Failed to decode bytes: "+(null==C?"no cause provided":C))}throw t}}f=x}var E=f;o.mg(E),d.x2m(v),l=(r=r-v|0)>0?6:0}finally{var A=u;c=A.t2g_1-A.s2g_1|0}else c=_;if(s=!1,0===c)h=Gn(e,u);else{var k;if(c<l)k=!0;else{var S=u,T=S.w2g_1-S.v2g_1|0;De(),k=T<8}k?(Yn(e,u),h=Wn(e,l)):h=u}var I=h;if(null==I)break t;u=I,s=!0}while(l>0)}finally{s&&Yn(e,u)}}else z();if(r>0){var O=!0,M=Wn(e,1);if(null!=M){var D=M;try{t:for(;;){var R,P=D,j=P.t2g_1-P.s2g_1|0,N=r,L=Math.min(j,N);if(0===P.s2g_1&&P.r2g_1.s2l_1.byteLength===L)R=i.t2t(P.r2g_1.s2l_1);else{var q;e:{var B=new Int8Array(P.r2g_1.s2l_1.buffer,P.r2g_1.s2l_1.byteOffset+P.s2g_1|0,L);try{q=i.p2t(B,Yi(!0));break e}catch(t){if(t instanceof Error){var F=t.message;throw new zi("Failed to decode bytes: "+(null==F?"no cause provided":F))}throw t}}R=q}var U=R;o.mg(U),P.x2m(L),r=r-L|0,O=!1;var H=Gn(e,D);if(null==H)break t;D=H,O=!0}}finally{O&&Yn(e,D)}}else z()}o.mg(i.q2t())}catch(t){if(t instanceof Error){var V=t.message;throw new zi("Failed to decode bytes: "+(null==V?"no cause provided":V))}throw t}if(r>0)throw new Bi("Not enough bytes available: had only "+(n-r|0)+" instead of "+n);return o.toString()}(t,e,n)}(n.b2q(),t,e)}function En(t,e,n,i,r){if(r===$i().x2p_1)return function(t,e,n,i){var r=n,o=Zn(t,1,null);try{var s;t:for(;;){var a,u=o,l=Un(u.r2g_1,e,r,i,u.t2g_1,u.v2g_1),c=Dn(l),h=Rn(l);if(r=r+(65535&wt(c))|0,a=65535&wt(h),u.y2m(a),(s=0==(65535&wt(c))&&r<i?8:r<i?1:0)<=0)break t;o=Zn(t,s,o)}}finally{t.k2m()}}(t,e,n,i);Oe(r.a2q(),t,e,n,i)}function An(){}function kn(){}function Sn(){ri.call(this)}function Tn(){ri.call(this)}function In(){p=this,this.f2d_1=new An,this.g2d_1=new kn,this.h2d_1=new zn(di().w2p_1,null,this.g2d_1),this.i2d_1=new Sn,this.j2d_1=new Tn}function On(){return null==p&&new In,p}function zn(t,e,n){if(On(),Re.call(this,t),this.d2m_1=n,e===this)throw D(M("A chunk couldn't be a view of itself."));this.e2m_1=B(null),this.f2m_1=U(1),this.g2m_1=e}function Mn(t,e){return(65535&wt(t))<<16|65535&wt(e)}function Dn(t){return function(t){var e;return e=at(t>>>16|0),xt(e)}(t)}function Rn(t){return function(t){var e;return e=at(65535&t),xt(e)}(t)}function Pn(t){_t(t,this),G(this,Pn)}function jn(t){throw new Pn("Expected "+t+" more character bytes")}function Nn(t){return 0==(t>>>16|0)}function Ln(t){return t<=1114111}function qn(t){throw D("Malformed code-point "+t+" found")}function Bn(t){return 55232+(t>>>10|0)|0}function Fn(t){return 56320+(1023&t)|0}function Un(t,e,n,i,r,o){$t();var s,a=xt(-1),u=n+(65535&wt(a))|0,l=Math.min(i,u);$t();var c=xt(-1);s=65535&wt(c);var h=mt(o,s),p=r,_=n;t:for(;;){if(p>=h||_>=l)return Mn(xt(at(_-n|0)),xt(at(p-r|0)));var f=_;_=f+1|0;var d=Ct(e,f),m=65535&vt(d);if(0!=(65408&m))break t;var y=p;p=y+1|0;var v=y,g=st(m);t.s2l_1.setInt8(v,g)}return function(t,e,n,i,r,o,s,a){var u=n,l=o,c=s-3|0;for(;!((c-l|0)<=0||u>=i);){var h=u;u=h+1|0;var p,_=Ct(e,h);if(At(_)){var f;if(u!==i&&Et(Ct(e,u))){var d=u;u=d+1|0,f=Hn(_,Ct(e,d))}else f=63;p=f}else p=vt(_);var m,y=p,v=l,g=y;if(0<=g&&g<=127){var w=st(y);t.s2l_1.setInt8(v,w),m=1}else if(128<=g&&g<=2047){var b=st(192|y>>6&31);t.s2l_1.setInt8(v,b);var x=v+1|0,$=st(128|63&y);t.s2l_1.setInt8(x,$),m=2}else if(2048<=g&&g<=65535){var C=st(224|y>>12&15);t.s2l_1.setInt8(v,C);var E=v+1|0,A=st(128|y>>6&63);t.s2l_1.setInt8(E,A);var k=v+2|0,S=st(128|63&y);t.s2l_1.setInt8(k,S),m=3}else if(65536<=g&&g<=1114111){var T=st(240|y>>18&7);t.s2l_1.setInt8(v,T);var I=v+1|0,O=st(128|y>>12&63);t.s2l_1.setInt8(I,O);var z=v+2|0,M=st(128|y>>6&63);t.s2l_1.setInt8(z,M);var D=v+3|0,R=st(128|63&y);t.s2l_1.setInt8(D,R),m=4}else qn(y);l=l+m|0}return l===c?function(t,e,n,i,r,o,s,a){var u=n,l=o;t:for(;;){var c=s-l|0;if(c<=0||u>=i)break t;var h=u;u=h+1|0;var p,_=Ct(e,h);if(At(_)){var f;if(u!==i&&Et(Ct(e,u))){var d=u;u=d+1|0,f=Hn(_,Ct(e,d))}else f=63;p=f}else p=vt(_);var m,y=p;if(1<=y&&y<=127?m=1:128<=y&&y<=2047?m=2:2048<=y&&y<=65535?m=3:65536<=y&&y<=1114111?m=4:qn(y),m>c){u=u-1|0;break t}var v,g=l,w=y;if(0<=w&&w<=127){var b=st(y);t.s2l_1.setInt8(g,b),v=1}else if(128<=w&&w<=2047){var x=st(192|y>>6&31);t.s2l_1.setInt8(g,x);var $=g+1|0,C=st(128|63&y);t.s2l_1.setInt8($,C),v=2}else if(2048<=w&&w<=65535){var E=st(224|y>>12&15);t.s2l_1.setInt8(g,E);var A=g+1|0,k=st(128|y>>6&63);t.s2l_1.setInt8(A,k);var S=g+2|0,T=st(128|63&y);t.s2l_1.setInt8(S,T),v=3}else if(65536<=w&&w<=1114111){var I=st(240|y>>18&7);t.s2l_1.setInt8(g,I);var O=g+1|0,z=st(128|y>>12&63);t.s2l_1.setInt8(O,z);var M=g+2|0,D=st(128|y>>6&63);t.s2l_1.setInt8(M,D);var R=g+3|0,P=st(128|63&y);t.s2l_1.setInt8(R,P),v=4}else qn(y);l=l+v|0}return Mn(xt(at(u-r|0)),xt(at(l-a|0)))}(t,e,u,i,r,l,s,a):Mn(xt(at(u-r|0)),xt(at(l-a|0)))}(t,e,_=_-1|0,l,n,p,h,r)}function Hn(t,e){return(vt(t)-55232|0)<<10|vt(e)-56320|0}function Vn(){return Kn(),_}function Yn(t,e){if(Kn(),e===t)return z();if(e.t2g_1>e.s2g_1){var n=e.w2g_1-e.v2g_1|0;De(),n<8?t.s2p(e):t.f2i_1=e.p2m()}else t.r2p(e)}function Wn(t,e){return Kn(),t.p2p(e)}function Gn(t,e){return Kn(),e===t?t.z2i()?t:null:t.q2p(e)}function Zn(t,e,n){return Kn(),null!=n&&t.k2m(),t.r2o(e)}function Kn(){f||(f=!0,_=new Int8Array(0))}function Xn(t,e,n){j.call(this,n),this.a2r_1=t,this.b2r_1=e}function Jn(t,e,n){j.call(this,n),this.o2q_1=t,this.p2q_1=e}function Qn(){this.z2d_1=B(null)}function ti(t,e,n,i){j.call(this,i),this.k2r_1=t,this.l2r_1=e,this.m2r_1=n}function ei(t,e,n,i){j.call(this,i),this.a2s_1=t,this.b2s_1=e,this.c2s_1=n}function ni(){Xi.call(this,128)}function ii(){}function ri(){}function oi(t){return function(e){return t.x2s_1=null,null!=e&&(t.rq(function(t){for(var e=t;e instanceof Y;){if(ot(e,e.cause))return t;var n=e.cause;if(null==n)return e;e=n}return e}(e)),z()),z()}}function si(t,e){(function(t,e,n,i,r,o){0!=(4&i)&&(n=On().f2d_1),_e.call(o,t,e,n)})(t,e,null,4,0,this),this.x2s_1=null}function ai(){y=this,this.y2s_1=It((function(){var t=new si(On().h2d_1,!1);return t.t11(null),t}))}function ui(){return null==y&&new ai,y}function li(){ui()}function ci(){}function hi(){v=this}function pi(){return null==v&&new hi,v}function _i(t,e,n,i){return new mi(new DataView(e,n,i))}function fi(){g=this,this.w2p_1=new mi(new DataView(new ArrayBuffer(0)))}function di(){return null==g&&new fi,g}function mi(t){di(),this.s2l_1=t}function yi(t,e,n,i,r){!function(t,e,n,i,r){var o=new Int8Array(t,n,i);new Int8Array(e.s2l_1.buffer,e.s2l_1.byteOffset+r|0,i).set(o,0)}(t.buffer,e,n+t.byteOffset|0,i,r)}function vi(){w=this}function gi(){return null==w&&new vi,w}function wi(t){gi(),this.z2p_1=t}function bi(t){return t.z2p_1}function xi(){b=this,this.x2p_1=new Ai("UTF-8"),this.y2p_1=new Ai("ISO-8859-1")}function $i(){return null==b&&new xi,b}function Ci(t){this.h2t_1=t}function Ei(t){this.i2t_1=t}function Ai(t){wi.call(this,t),this.k2t_1=t}function ki(t){Ei.call(this,t),this.m2t_1=t}function Si(t){Ci.call(this,t),this.o2t_1=t}function Ti(t,e,n,i,r){if(!(n<=i))throw D(M("Failed requirement."));if(Oi(t).equals($i().y2p_1))return function(t,e,n,i){if(e>=n)return 0;var r=i.r2g_1,o=i.t2g_1,s=i.v2g_1,a=r.d2t(o,s-o|0).s2l_1,u=new Int8Array(a.buffer,a.byteOffset,a.byteLength),l=0,c=e;if(c<n)do{var h=c;c=c+1|0;var p=Ct(t,h),_=vt(p);_>255&&Pi(_);var f=l;l=f+1|0;var d=f,m=st(_);u[d]=m}while(c<n);var y=l;return i.y2m(y),n-e|0}(e,n,i,r);if(Oi(t)!==$i().x2p_1)throw D(M("Only UTF-8 encoding is supported in JS"));var o=new TextEncoder,s=n,a=r.v2g_1-r.t2g_1|0;t:for(;s<i&&a>0;){var u,l=i-s|0,c=a/6|0;u=Math.min(l,c);var h,p=dt(u,1),_=At(Ct(e,(s+p|0)-1|0)),f=_&&1===p?s+2|0:_?(s+p|0)-1|0:s+p|0;h=M(Lt(e,s,f));var d=o.encode(h);if(d.length>a)break t;ji(r,d,0,0,6),s=f,a=a-d.length|0}return s-n|0}function Ii(t){return t.h2t_1}function Oi(t){return t.i2t_1}function zi(t){qt(this,t,void 0),G(this,zi)}function Mi(){return x}function Di(t,e){this.r2t_1=t,this.s2t_1=e}function Ri(t,e,n){if(0===n)return new Di("",0);try{var i=mt(n,t.byteLength),r=e.t2t(t.subarray(0,i));if(r.length<=n)return new Di(r,i)}catch(t){}return function(t,e,n){for(var i=mt(n>=268435455?lt().e1_1:T(n,8),t.byteLength);i>8;){try{var r=e.t2t(t.subarray(0,i));if(r.length<=n)return new Di(r,i)}catch(t){}i=i/2|0}for(i=8;i>0;){try{var o=e.t2t(t.subarray(0,i));if(o.length<=n)return new Di(o,i)}catch(t){}i=i-1|0}try{e.t2t(t)}catch(t){if(t instanceof Error){var s=t.message;throw new zi("Failed to decode bytes: "+(null==s?"no cause provided":s))}throw t}throw new zi("Unable to decode buffer")}(t,e,n)}function Pi(t){throw new zi("The character with unicode point "+t+" couldn't be mapped to ISO-8859-1 character")}function ji(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=e.byteLength-n|0),function(t,e,n,i){var r=t.r2g_1,o=t.t2g_1;if((t.v2g_1-o|0)<i)throw new Le("Not enough free space to write "+i+" bytes");yi(e,r,n,i,o);var s=i;t.y2m(s)}(t,e,n,i)}function Ni(){}function Li(){return $}function qi(t,e,n,i){(e<0||n<0||(e+n|0)>t.length)&&function(t,e,n){if(!(t>=0))throw Mt("offset ("+t+") shouldn't be negative");if(!(e>=0))throw Mt("length ("+e+") shouldn't be negative");if(!((t+e|0)<=n.length))throw Mt("offset ("+t+") + length ("+e+") > bytes.size ("+n.length+")");throw Bt()}(e,n,t);var r=t,o=r.byteOffset+e|0,s=r.buffer.slice(o,o+n|0),a=new zn(function(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=e.byteLength-n|0),_i(0,e,n,i)}(di(),s,0,0,6),null,On().i2d_1);a.e2n();var u=Je(a,On().j2d_1);return Ie(i.b2q(),u,lt().e1_1)}function Bi(t){Fi(t,this),G(this,Bi)}function Fi(t,e){return Ui.call(e,t,null),e}function Ui(t,e){Ft(t,e,this),G(this,Ui)}function Hi(){}function Vi(t,e){var n,i;try{i=new TextDecoder(t,function(t){var e=new Object;return e.fatal=t,e}(e)),n=new Wi(i)}catch(i){if(!(i instanceof Error))throw i;n=new Gi(t,e)}return n}function Yi(t){var e=new Object;return e.stream=t,e}function Wi(t){this.w2t_1=t}function Gi(t,e){this.x2t_1=e;var n=M(Ht(Ut(t)?t:H())).toLowerCase();if(!(Ki(),C).n(n))throw P(M(t+" is not supported."))}function Zi(t){Ki();var e,n=255&t;return function(t){return Ki(),0<=t&&t<=127}(n)?n:(S||(S=!0,e=new Int32Array([8364,-1,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,-1,381,-1,-1,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,-1,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]),k=e),k)[n-128|0]}function Ki(){var t;A||(A=!0,C=Yt(["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"]),t=new Int8Array([-17,-65,-67]),E=t)}function Xi(t){this.v2n_1=t;var e,n=this.v2n_1;e=Wt(Array(n),null),this.w2n_1=e,this.x2n_1=0}return ie.prototype=Object.create(j.prototype),ie.prototype.constructor=ie,re.prototype=Object.create(j.prototype),re.prototype.constructor=re,oe.prototype=Object.create(j.prototype),oe.prototype.constructor=oe,se.prototype=Object.create(j.prototype),se.prototype.constructor=se,ae.prototype=Object.create(j.prototype),ae.prototype.constructor=ae,ue.prototype=Object.create(j.prototype),ue.prototype.constructor=ue,le.prototype=Object.create(j.prototype),le.prototype.constructor=le,ce.prototype=Object.create(j.prototype),ce.prototype.constructor=ce,he.prototype=Object.create(j.prototype),he.prototype.constructor=he,pe.prototype=Object.create(j.prototype),pe.prototype.constructor=pe,fe.prototype=Object.create(Y.prototype),fe.prototype.constructor=fe,Ce.prototype=Object.create(j.prototype),Ce.prototype.constructor=Ce,Le.prototype=Object.create(pt.prototype),Le.prototype.constructor=Le,Fe.prototype=Object.create(Xi.prototype),Fe.prototype.constructor=Fe,Xe.prototype=Object.create(vn.prototype),Xe.prototype.constructor=Xe,en.prototype=Object.create(pn.prototype),en.prototype.constructor=en,Sn.prototype=Object.create(ri.prototype),Sn.prototype.constructor=Sn,Tn.prototype=Object.create(ri.prototype),Tn.prototype.constructor=Tn,zn.prototype=Object.create(Re.prototype),zn.prototype.constructor=zn,Pn.prototype=Object.create(pt.prototype),Pn.prototype.constructor=Pn,Xn.prototype=Object.create(j.prototype),Xn.prototype.constructor=Xn,Jn.prototype=Object.create(j.prototype),Jn.prototype.constructor=Jn,ti.prototype=Object.create(j.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(j.prototype),ei.prototype.constructor=ei,ni.prototype=Object.create(Xi.prototype),ni.prototype.constructor=ni,si.prototype=Object.create(_e.prototype),si.prototype.constructor=si,Ai.prototype=Object.create(wi.prototype),Ai.prototype.constructor=Ai,ki.prototype=Object.create(Ei.prototype),ki.prototype.constructor=ki,Si.prototype=Object.create(Ci.prototype),Si.prototype.constructor=Si,zi.prototype=Object.create(Error.prototype),zi.prototype.constructor=zi,Ui.prototype=Object.create(pt.prototype),Ui.prototype.constructor=Ui,Bi.prototype=Object.create(Ui.prototype),Bi.prototype.constructor=Bi,Xt.$metadata$=I("ByteChannel",[li,ci]),ie.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4,this.hi_1=1;continue t;case 1:if(!(this.t2f_1.k2f()<this.u2f_1)||this.t2f_1.u2e()){this.hi_1=5;continue t}if(Jt(this.t2f_1)){this.hi_1=3;continue t}if(this.hi_1=2,(t=this.t2f_1.v2d_1.v2f(ee(this.t2f_1,this.u2f_1),this))===N())return t;continue t;case 2:this.hi_1=3;continue t;case 3:this.hi_1=1;continue t;case 4:throw this.ki_1;case 5:return z()}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ie.$metadata$=L("$awaitAtLeastNBytesAvailableForWriteCOROUTINE$0",void 0,void 0,void 0,void 0,j.prototype),re.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3,this.hi_1=1;continue t;case 1:if(!(this.e2g_1.j2f()<this.f2g_1)||this.e2g_1.u2e()){this.hi_1=4;continue t}if(this.hi_1=2,(t=this.e2g_1.v2d_1.v2f(ne(this.e2g_1,this.f2g_1),this))===N())return t;continue t;case 2:this.hi_1=1;continue t;case 3:throw this.ki_1;case 4:return z()}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},re.$metadata$=L("$awaitAtLeastNBytesAvailableForReadCOROUTINE$1",void 0,void 0,void 0,void 0,j.prototype),oe.prototype.ri=function(){var t,e,n,i,r=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(r=this.o2g_1.q2g(1,this))===N())return r;continue t;case 1:var o=this.p2g_1.t2g_1-this.p2g_1.s2g_1|0;return t=this.o2g_1.r2d_1,e=this.p2g_1,n=0,i=void 0,0!=(2&2)&&(i=e.t2g_1-e.s2g_1|0,z(),n=i),gn(t,e,n),this.o2g_1.x2g(o),z();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},oe.$metadata$=L("$writeFullyCOROUTINE$9",void 0,void 0,void 0,void 0,j.prototype),se.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4,this.k2h_1=this.i2h_1,this.l2h_1=this.i2h_1+this.j2h_1|0,this.hi_1=1;continue t;case 1:if(!(this.k2h_1<this.l2h_1)){this.hi_1=3;continue t}if(this.hi_1=2,(t=this.g2h_1.q2g(1,this))===N())return t;continue t;case 2:var e=this.g2h_1.k2f(),n=this.l2h_1-this.k2h_1|0,i=Math.min(e,n);wn(this.g2h_1.r2d_1,this.h2h_1,this.k2h_1,i),this.k2h_1=this.k2h_1+i|0,this.g2h_1.x2g(i),this.hi_1=1;continue t;case 3:return z();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},se.$metadata$=L("$writeFullyCOROUTINE$10",void 0,void 0,void 0,void 0,j.prototype),ae.prototype.ri=function(){var t,e,n,i,r=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3,Qt(this.u2h_1),this.w2h_1=Ke(null,1);this.x2h_1=this.u2h_1.s2d_1.j2i(),this.y2h_1=this.v2h_1.j1(this.x2h_1)<=0?this.v2h_1:this.x2h_1,this.w2h_1.k2i(this.u2h_1.s2d_1,this.y2h_1),this.u2h_1.l2i(this.y2h_1.m6());if(this.z2h_1=this.w2h_1.g(),this.a2i_1=this.v2h_1.x5(R(this.z2h_1)),this.a2i_1.equals(new q(0,0))||this.u2h_1.m2i()){te(this.u2h_1,this.w2h_1),this.b2i_1=this.w2h_1.i1s(),this.hi_1=2;continue t}if(this.hi_1=1,t=this.u2h_1,e=this.w2h_1,n=this.v2h_1,i=void 0,(i=new ue(t,e,n,this)).ji_1=z(),i.ki_1=null,(r=i.ri())===N())return r;continue t;case 1:this.b2i_1=r,this.hi_1=2;continue t;case 2:return this.b2i_1;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ae.$metadata$=L("$readRemainingCOROUTINE$26",void 0,void 0,void 0,void 0,j.prototype),ue.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.hi_1=1;continue t;case 1:if(!(R(this.e2f_1.g()).j1(this.f2f_1)<0)){this.hi_1=4;continue t}var e=this.e2f_1.g();if(this.g2f_1=this.f2f_1.x5(R(e)),this.h2f_1=this.d2f_1.s2d_1.j2i(),this.i2f_1=this.g2f_1.j1(this.h2f_1)<=0?this.g2f_1:this.h2f_1,this.e2f_1.k2i(this.d2f_1.s2d_1,this.i2f_1),this.d2f_1.l2i(this.i2f_1.m6()),te(this.d2f_1,this.e2f_1),this.d2f_1.m2i()||this.e2f_1.g()===this.f2f_1.m6()){this.hi_1=4;continue t}this.hi_1=2;continue t;case 2:if(this.hi_1=3,(t=this.d2f_1.n2i(1,this))===N())return t;continue t;case 3:this.hi_1=1;continue t;case 4:return te(this.d2f_1,this.e2f_1),this.e2f_1.i1s();case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ue.$metadata$=L("$readRemainingSuspendCOROUTINE$27",void 0,void 0,void 0,void 0,j.prototype),le.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3;var e=this.w2i_1.t2e();if(null!=e)throw e;if(this.w2i_1.u2e()&&0===this.w2i_1.j2f())return-1;if(0==(this.x2i_1.v2g_1-this.x2i_1.t2g_1|0))return 0;if(0===this.w2i_1.j2f()){if(this.hi_1=1,(t=this.w2i_1.n2i(1,this))===N())return t;continue t}this.hi_1=2;continue t;case 1:this.hi_1=2;continue t;case 2:this.w2i_1.s2d_1.z2i()||this.w2i_1.y2i();var n=R(this.x2i_1.v2g_1-this.x2i_1.t2g_1|0),i=this.w2i_1.s2d_1.j2i(),r=(n.j1(i)<=0?n:i).m6();return fn(this.w2i_1.s2d_1,this.x2i_1,r),this.w2i_1.l2i(r),r;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},le.$metadata$=L("$readAvailableCOROUTINE$30",void 0,void 0,void 0,void 0,j.prototype),ce.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3;var e=this.i2j_1.t2e();if(null!=e)throw e;if(this.i2j_1.u2e()&&0===this.i2j_1.j2f())return-1;if(0===this.l2j_1)return 0;if(0===this.i2j_1.j2f()){if(this.hi_1=1,(t=this.i2j_1.n2i(1,this))===N())return t;continue t}this.hi_1=2;continue t;case 1:this.hi_1=2;continue t;case 2:this.i2j_1.s2d_1.z2i()||this.i2j_1.y2i();var n=R(this.l2j_1),i=this.i2j_1.s2d_1.j2i(),r=(n.j1(i)<=0?n:i).m6();return _n(this.i2j_1.s2d_1,this.j2j_1,this.k2j_1,r),this.i2j_1.l2i(r),r;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ce.$metadata$=L("$readAvailableCOROUTINE$33",void 0,void 0,void 0,void 0,j.prototype),he.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.w2j_1=this.u2j_1.s2d_1,this.w2j_1.x2j()){if(this.hi_1=1,(t=this.u2j_1.n2i(1,this))===N())return t;continue t}this.v2j_1=!0,this.hi_1=3;continue t;case 1:this.v2j_1=t,this.hi_1=3;continue t;case 2:throw this.ki_1;case 3:return this.v2j_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},he.$metadata$=L("$awaitInternalAtLeast1COROUTINE$38",void 0,void 0,void 0,void 0,j.prototype),pe.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.i2k_1=this.h2k_1>=0,!this.i2k_1)throw D(M("Failed requirement."));if(this.hi_1=1,(t=this.g2k_1.j2k(this.h2k_1,this))===N())return t;continue t;case 1:this.g2k_1.y2i();var e=this.g2k_1.t2e();if(null!=e)throw e;return!this.g2k_1.m2i()&&this.g2k_1.j2f()>=this.h2k_1;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},pe.$metadata$=L("$awaitSuspendCOROUTINE$39",void 0,void 0,void 0,void 0,j.prototype),_e.prototype.k2k=function(){return this.k2d_1},_e.prototype.u2e=function(){return!(null==this.q2d_1.pm_1)},_e.prototype.l2k=function(){return this.r2d_1},_e.prototype.m2k=function(){return this.s2d_1},_e.prototype.j2f=function(){return this.o2d_1.qm_1},_e.prototype.k2f=function(){var t=4088-this.p2d_1.qm_1|0;return Math.max(0,t)},_e.prototype.m2i=function(){return!(t=this,e=t.q2d_1.pm_1,null==(null==e?null:e.y2d_1)&&(!this.u2e()||0!==this.p2d_1.qm_1));var t,e},_e.prototype.t2e=function(){var t=this.q2d_1.pm_1;return null==t?null:t.y2d_1},_e.prototype.q2g=function(t,e){var n=new ie(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},_e.prototype.j2k=function(t,e){var n=new re(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},_e.prototype.n2k=function(){Jt(this)},_e.prototype.y2i=function(){this.w2d_1,function(t,e){Kn();var n=e.g(),i=e.r2e();if(null==i)return 0;var r=i;n<=Li()&&null==r.d2o()&&t.k2p(r)?e.t2o():t.j2p(r)}(this.s2d_1,this.x2d_1)},_e.prototype.o2k=function(t,e){var n=new oe(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},_e.prototype.p2k=function(t,e,n,i){var r=new se(this,t,e,n,i);return r.ji_1=z(),r.ki_1=null,r.ri()},_e.prototype.l2i=function(t){(function(t,e){var n,i;if(!(e>=0))throw D(M("Can't read negative amount of bytes: "+e));if(t.p2d_1.atomicfu$getAndAdd(0|-e),t.m2d_1.atomicfu$addAndGet$long(R(e)),t.o2d_1.atomicfu$getAndAdd(0|-e),!(t.p2d_1.qm_1>=0))throw n="Readable bytes count is negative: "+t.j2f()+", "+e+" in "+t,P(M(n));if(!(t.j2f()>=0))throw i="Readable bytes count is negative: "+t.j2f()+", "+e+" in "+t,P(M(i))})(this,t),this.v2d_1.a2e()},_e.prototype.q2k=function(t,e){var n=new ae(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},_e.prototype.s2k=function(t,e){return this.t2k(t instanceof Re?t:H(),e)},_e.prototype.t2k=function(t,e){var n=new le(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},_e.prototype.u2k=function(t,e,n,i){var r=new ce(this,t,e,n,i);return r.ji_1=z(),r.ki_1=null,r.ri()},_e.prototype.v2k=function(t){var e=new he(this,t);return e.ji_1=z(),e.ki_1=null,e.ri()},_e.prototype.n2i=function(t,e){var n=new pe(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},_e.prototype.rq=function(t){if(null!=this.t2e()||this.u2e())return!1;var e=t;return this.t11(null==e?V("Channel cancelled"):e)},_e.prototype.t11=function(t){var e=null==t?de():new me(t);return!!this.q2d_1.atomicfu$compareAndSet(null,e)&&(null!=t?(this.s2d_1.yt(),this.r2d_1.yt(),this.x2d_1.yt()):this.n2k(),this.v2d_1.w2k(t),!0)},_e.prototype.x2k=function(t,e){var n,i=this.s2d_1.j2i();return i.j1(e)<=0?(t.r2d_1.y2k(this.s2d_1),t.x2g(i.m6()),this.l2i(i.m6()),n=i):n=new q(0,0),n},_e.prototype.x2g=function(t){(function(t,e){var n;if(!(e>=0))throw D(M("Can't write negative amount of bytes: "+e));if(t.p2d_1.atomicfu$getAndAdd(e),t.n2d_1.atomicfu$addAndGet$long(R(e)),!(t.p2d_1.qm_1>=0))throw n="Readable bytes count is negative: "+t.p2d_1.qm_1+", "+e+" in "+t,P(M(n))})(this,t),this.u2e()&&(this.r2d_1.yt(),function(t){if(t.u2e()){var e=t.t2e();throw null==e?new fe("Channel "+t+" is already closed"):e}}(this)),(this.k2k()||0===this.k2f())&&this.n2k()},_e.$metadata$=L("ByteChannelSequentialBase",[Xt,li,ci,Ae,ke,Se]),fe.$metadata$=L("ClosedWriteChannelException",void 0,void 0,void 0,void 0,Y.prototype),me.$metadata$=L("CloseElement"),ye.$metadata$=I("WriterJob",[Z]),ge.$metadata$=I("WriterScope",[X]),we.prototype.l10=function(){return this.a2l_1},we.prototype.hn=function(){return this.z2k_1.hn()},we.prototype.a1=function(){return this.z2k_1.a1()},we.prototype.uo=function(t){return this.z2k_1.uo(t)},we.prototype.mo=function(t){this.z2k_1.mo(t)},we.prototype.a5=function(t,e){return this.z2k_1.a5(t,e)},we.prototype.u4=function(t){return this.z2k_1.u4(t)},we.prototype.eo=function(){return this.z2k_1.eo()},we.prototype.io=function(t,e,n){return this.z2k_1.io(t,e,n)},we.prototype.ho=function(t){return this.z2k_1.ho(t)},we.prototype.z4=function(t){return this.z2k_1.z4(t)},we.prototype.b5=function(t){return this.z2k_1.b5(t)},we.prototype.co=function(){return this.z2k_1.co()},we.prototype.toString=function(){return"ChannelJob["+this.z2k_1+"]"},we.$metadata$=L("ChannelJob",[be,ye,Z]),be.$metadata$=I("ReaderJob",[Z]),xe.prototype.l10=function(){return this.b2l_1},xe.prototype.gn=function(){return this.c2l_1.gn()},xe.$metadata$=L("ChannelScope",[$e,ge,X]),$e.$metadata$=I("ReaderScope",[X]),Ce.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},Ce.prototype.si=function(t,e){return this.r2l(null!=t&&nt(t,X)?t:H(),e)},Ce.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=3,this.l2l_1&&this.m2l_1.e2d(O(this.p2l_1.gn().u4(it())));var e=new xe(this.p2l_1,this.m2l_1);if(this.q2l_1=nt(e,X)?e:H(),this.ii_1=2,this.hi_1=1,(t=this.n2l_1(this.q2l_1,this))===N())return t;continue t;case 1:this.ii_1=3,this.hi_1=4;continue t;case 2:if(this.ii_1=3,this.ki_1 instanceof Error){var n=this.ki_1;if(!ot(this.o2l_1,rt().hz_1)&&null!=this.o2l_1)throw n;this.m2l_1.rq(n),this.hi_1=4;continue t}throw this.ki_1;case 3:throw this.ki_1;case 4:return this.ii_1=3,z()}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ce.prototype.u1k=function(t,e){var n=new Ce(this.l2l_1,this.m2l_1,this.n2l_1,this.o2l_1,e);return n.p2l_1=t,n},Ce.$metadata$=L("launchChannel$slambda",void 0,void 0,void 0,[1],j.prototype),Ee.$metadata$=I("ReadSession"),Ae.$metadata$=I("SuspendableReadSession",[Ee]),ke.$metadata$=I("HasReadSession"),Se.$metadata$=I("HasWriteSession"),Te.$metadata$=I("Allocator"),Me.prototype.m2m=function(){return this.l2m_1},Me.prototype.n2m=function(){return On().h2d_1},Me.$metadata$=ht("Companion"),Re.prototype.o2m=function(){return this.r2g_1},Re.prototype.p2m=function(){return this.s2g_1},Re.prototype.q2m=function(){return this.t2g_1},Re.prototype.r2m=function(){return this.u2g_1},Re.prototype.s2m=function(){return this.v2g_1},Re.prototype.t2m=function(){return this.w2g_1-this.v2g_1|0},Re.prototype.u2m=function(){return this.w2g_1},Re.prototype.v2m=function(){return this.t2g_1-this.s2g_1|0},Re.prototype.w2m=function(){return this.v2g_1-this.t2g_1|0},Re.prototype.x2m=function(t){if(0===t)return z();var e=this.s2g_1+t|0;(t<0||e>this.t2g_1)&&Pe(t,this.t2g_1-this.s2g_1|0),this.s2g_1=e},Re.prototype.y2m=function(t){var e=this.t2g_1+t|0;(t<0||e>this.v2g_1)&&je(t,this.v2g_1-this.t2g_1|0),this.t2g_1=e},Re.prototype.z2m=function(t){var e=this.v2g_1;if(t<this.t2g_1&&je(t-this.t2g_1|0,this.v2g_1-this.t2g_1|0),t>=e){if(t===e)return this.t2g_1=t,!1;je(t-this.t2g_1|0,this.v2g_1-this.t2g_1|0)}return this.t2g_1=t,!0},Re.prototype.a2n=function(t){(t<0||t>this.t2g_1)&&Pe(t-this.s2g_1|0,this.t2g_1-this.s2g_1|0),this.s2g_1!==t&&(this.s2g_1=t)},Re.prototype.b2n=function(t){var e=this.s2g_1-t|0;e<this.u2g_1&&function(t,e){throw D("Unable to rewind "+t+" bytes: only "+e+" could be rewinded")}(t,this.s2g_1-this.u2g_1|0),this.s2g_1=e},Re.prototype.c2n=function(t){if(!(t>=0))throw D(M("startGap shouldn't be negative: "+t));return this.s2g_1>=t?(this.u2g_1=t,z()):this.s2g_1===this.t2g_1?(t>this.v2g_1&&function(t,e){if(e>t.w2g_1)throw D("Start gap "+e+" is bigger than the capacity "+t.w2g_1);var n;throw n=t.w2g_1-t.v2g_1|0,P("Unable to reserve "+e+" start gap: there are already "+n+" bytes reserved in the end")}(this,t),this.t2g_1=t,this.s2g_1=t,this.u2g_1=t,z()):void function(t,e){var n,i="Unable to reserve "+e+" start gap: ";throw n=t.t2g_1-t.s2g_1|0,P(i+"there are already "+n+" content bytes starting at offset "+t.s2g_1)}(this,t)},Re.prototype.d2n=function(t){if(!(t>=0))throw D(M("endGap shouldn't be negative: "+t));var e=this.w2g_1-t|0;return e>=this.t2g_1?(this.v2g_1=e,z()):(e<0&&function(t,e){throw D("End gap "+e+" is too big: capacity is "+t.w2g_1)}(this,t),e<this.u2g_1&&function(t,e){throw D("End gap "+e+" is too big: there are already "+t.u2g_1+" bytes reserved in the beginning")}(this,t),this.s2g_1===this.t2g_1?(this.v2g_1=e,this.s2g_1=e,this.t2g_1=e,z()):void function(t,e){var n,i="Unable to reserve end gap "+e+":";throw n=t.t2g_1-t.s2g_1|0,D(i+" there are already "+n+" content bytes at offset "+t.s2g_1)}(this,t))},Re.prototype.e2n=function(){this.u2g_1=0,this.s2g_1=0;var t=this.w2g_1;this.t2g_1=t},Re.prototype.f2n=function(){this.g2n(this.w2g_1-this.u2g_1|0)},Re.prototype.g2n=function(t){var e=this.u2g_1;this.s2g_1=e,this.t2g_1=e,this.v2g_1=t},Re.prototype.h2n=function(){this.i2n(0),this.j2n()},Re.prototype.j2n=function(){this.v2g_1=this.w2g_1},Re.prototype.i2n=function(t){var e;if(!(t>=0))throw D(M("newReadPosition shouldn't be negative: "+t));if(!(t<=this.s2g_1))throw e="newReadPosition shouldn't be ahead of the read position: "+t+" > "+this.s2g_1,D(M(e));this.s2g_1=t,this.u2g_1>t&&(this.u2g_1=t)},Re.prototype.k2n=function(t){t.v2g_1=this.v2g_1,t.u2g_1=this.u2g_1,t.s2g_1=this.s2g_1,t.t2g_1=this.t2g_1},Re.prototype.l2n=function(){var t=this.s2g_1;if(t===this.t2g_1)throw new Bi("No readable bytes available.");return this.s2g_1=t+1|0,this.r2g_1.s2l_1.getInt8(t)},Re.prototype.m2n=function(t){var e=this.t2g_1;if(e===this.v2g_1)throw new Le("No free space in the buffer to write a byte");this.r2g_1.s2l_1.setInt8(e,t),this.t2g_1=e+1|0},Re.prototype.n2n=function(){this.h2n(),this.f2n()},Re.prototype.toString=function(){return"Buffer("+(this.t2g_1-this.s2g_1|0)+" used, "+(this.v2g_1-this.t2g_1|0)+" free, "+(this.u2g_1+(this.w2g_1-this.v2g_1|0)|0)+" reserved of "+this.w2g_1+")"},Re.$metadata$=L("Buffer"),Le.$metadata$=L("InsufficientSpaceException",void 0,void 0,void 0,void 0,pt.prototype),Fe.prototype.t2n=function(){return new zn(this.s2n_1.t2l(this.r2n_1),null,this)},Fe.prototype.u2n=function(t){this.s2n_1.u2l(t.o2m()),Xi.prototype.y2n.call(this,t),t.z2n()},Fe.prototype.y2n=function(t){return this.u2n(t instanceof zn?t:H())},Fe.prototype.a2o=function(t){Xi.prototype.b2o.call(this,t);var e=t.o2m();if(!R(e.s2l_1.byteLength).equals(R(this.r2n_1))){var n,i,r=t.o2m();throw i=R(r.s2l_1.byteLength),n="Buffer size mismatch. Expected: "+this.r2n_1+", actual: "+M(i),P(M(n))}if(t===On().h2d_1)throw P(M("ChunkBuffer.Empty couldn't be recycled"));if(t===De().n2m())throw P(M("Empty instance couldn't be recycled"));if(0!==t.c2o())throw P(M("Unable to clear buffer: it is still in use."));if(null!=t.d2o())throw P(M("Recycled instance shouldn't be a part of a chain."));if(null!=t.g2m_1)throw P(M("Recycled instance shouldn't be a view or another buffer."))},Fe.prototype.b2o=function(t){return this.a2o(t instanceof zn?t:H())},Fe.prototype.e2o=function(t){var e=Xi.prototype.f2o.call(this,t);return e.g2o(),e.n2n(),e},Fe.prototype.f2o=function(t){return this.e2o(t instanceof zn?t:H())},Fe.$metadata$=L("DefaultBufferPool",void 0,void 0,void 0,void 0,Xi.prototype),Xe.prototype.g=function(){return this.j2o()},Xe.prototype.su=function(){return 0===this.j2o()},Xe.prototype.k2o=function(){},Xe.prototype.l2o=function(t,e,n){},Xe.prototype.s5=function(t){var e=vn.prototype.s5.call(this,t);return e instanceof Xe?e:H()},Xe.prototype.c=function(t){var e=vn.prototype.c.call(this,t);return e instanceof Xe?e:H()},Xe.prototype.jg=function(t,e,n){var i=vn.prototype.jg.call(this,t,e,n);return i instanceof Xe?i:H()},Xe.prototype.i1s=function(){var t=this.g(),e=this.r2e();return null==e?tn().n2o_1:new en(e,R(t),this.m2o())},Xe.prototype.toString=function(){return"BytePacketBuilder("+this.g()+" bytes written)"},Xe.$metadata$=L("BytePacketBuilder",void 0,void 0,void 0,void 0,vn.prototype),Qe.$metadata$=ht("Companion"),en.prototype.c2p=function(){return null},en.prototype.d2p=function(t,e,n){return 0},en.prototype.e2p=function(){},en.prototype.toString=function(){return"ByteReadPacket("+M(this.j2i())+" bytes remaining)"},en.$metadata$=L("ByteReadPacket",void 0,void 0,void 0,void 0,pn.prototype),hn.$metadata$=ht("Companion"),pn.prototype.m2o=function(){return this.c2i_1},pn.prototype.x2j=function(){return!(0!=(this.g2i_1-this.f2i_1|0)||!this.h2i_1.equals(new q(0,0))||!this.i2i_1&&null!=an(this))},pn.prototype.o2o=function(){var t=this.d2i_1;return t.a2n(this.f2i_1),t},pn.prototype.f2p=function(){return this.f2i_1},pn.prototype.g2p=function(t){var e;if(!(t.j1(new q(0,0))>=0))throw e="tailRemaining shouldn't be negative: "+M(t),D(M(e));this.h2i_1=t},pn.prototype.h2p=function(){return this.g2i_1-this.f2i_1|0},pn.prototype.j2i=function(){var t;return t=this.g2i_1-this.f2i_1|0,R(t).w5(this.h2i_1)},pn.prototype.z2i=function(){return this.f2i_1!==this.g2i_1||!this.h2i_1.equals(new q(0,0))},pn.prototype.yt=function(){var t=this.o2o(),e=On().h2d_1;t!==e&&(nn(this,e),this.g2p(new q(0,0)),Ze(t,this.c2i_1))},pn.prototype.p1e=function(){this.yt(),this.i2i_1||(this.i2i_1=!0),this.e2p()},pn.prototype.r2e=function(){var t=this.o2o(),e=On().h2d_1;return t===e?null:(nn(this,e),this.g2p(new q(0,0)),t)},pn.prototype.i2p=function(){var t=this.o2o(),e=t.d2o(),n=On().h2d_1;if(t===n)return null;if(null==e)nn(this,n),this.g2p(new q(0,0));else{nn(this,e);var i,r=this.h2i_1,o=e.t2g_1-e.s2g_1|0;i=r.x5(R(o)),this.g2p(i)}return t.v2p(null),t},pn.prototype.j2p=function(t){if(t===On().h2d_1)return z();var e=We(t);if(this.d2i_1===On().h2d_1){var n;nn(this,t);var i=this.g2i_1-this.f2i_1|0;n=e.x5(R(i)),this.g2p(n)}else{Ge(this.d2i_1).v2p(t);this.g2p(this.h2i_1.w5(e))}},pn.prototype.k2p=function(t){var e=Ge(this.o2o()),n=t.t2g_1-t.s2g_1|0;if(0===n||(e.v2g_1-e.t2g_1|0)<n)return!1;if(qe(e,t,n),this.o2o()===e)this.g2i_1=e.q2m();else{var i;i=this.h2i_1.w5(R(n)),this.g2p(i)}return!0},pn.prototype.l2p=function(t){if(!(t>=0))throw D(M("Negative discard is not allowed: "+t));return function(t,e,n){for(var i=e,r=n;;){if(0===i)return r;var o=t.t2p(1);if(null==o)return r;var s=o,a=s.t2g_1-s.s2g_1|0,u=i,l=Math.min(a,u);s.x2m(l);var c=t;c.f2i_1=c.f2i_1+l|0,cn(t,s),i=i-l|0,r=r+l|0}}(this,t,0)},pn.prototype.x2m=function(t){if(this.l2p(t)!==t)throw new Bi("Unable to discard "+t+" bytes due to end of packet")},pn.prototype.m2p=function(t){return t.j1(new q(0,0))<=0?new q(0,0):function(t,e,n){for(var i=t,r=e,o=n;;){var s=i,a=r,u=o;if(a.equals(new q(0,0)))return u;var l=s.t2p(1);if(null==l)return u;var c,h=l;c=h.t2g_1-h.s2g_1|0;var p=R(c),_=(p.j1(a)<=0?p:a).m6();h.x2m(_);var f=s;f.f2i_1=f.f2i_1+_|0,cn(s,h),i=s,r=a.x5(R(_)),o=u.w5(R(_))}}(this,t,new q(0,0))},pn.prototype.n2p=function(t,e){if(0===t&&(0===e||this.x2j()))return"";var n,i,r,o=this.j2i();if(o.j1(new q(0,0))>0&&R(e).j1(o)>=0)return n=this,i=o.m6(),r=null,0!=(2&2)&&(r=$i().x2p_1),Cn(n,i,r);var s=mt(dt(t,16),e),a=ut(s);return rn(this,a,t,e),a.toString()},pn.prototype.o2p=function(t,e,n,i){return 0!=(1&n)&&(t=0),0!=(2&n)&&(e=lt().e1_1),this.n2p(t,e)},pn.prototype.p2p=function(t){return un(this,t,this.o2o())},pn.prototype.q2p=function(t){return this.r2p(t)},pn.prototype.r2p=function(t){return function(t,e,n){for(var i=t,r=e,o=n;;){var s=i,a=r,u=o;if(a===u)return an(s);var l=a.i2o();if(a.j2m(s.c2i_1),null!=l){if(l.t2g_1>l.s2g_1){nn(s,l);var c,h=s,p=h.h2i_1,_=l.t2g_1-l.s2g_1|0;return c=p.x5(R(_)),h.g2p(c),l}i=s,r=l,o=u}else nn(s,u),s.g2p(new q(0,0)),i=s,r=u,o=u}}(this,t,On().h2d_1)},pn.prototype.s2p=function(t){var e=t.d2o();if(null==e)return sn(this,t);var n=e,i=t.t2g_1-t.s2g_1|0;De();var r,o,s=8-(t.w2g_1-t.v2g_1|0)|0,a=Math.min(i,s);if(n.r2m()<a)return sn(this,t);if(o=a,(r=n).i2n(r.s2g_1-o|0),i>a){t.j2n(),this.g2i_1=t.q2m();var u;u=this.h2i_1.w5(R(a)),this.g2p(u)}else{nn(this,n);var l,c=this.h2i_1,h=(n.t2g_1-n.s2g_1|0)-a|0;l=c.x5(R(h)),this.g2p(l),t.i2o(),t.j2m(this.c2i_1)}},pn.prototype.c2p=function(){var t=this.c2i_1.w2l();try{De(),t.d2n(8);var e,n=t.o2m(),i=t.q2m();e=t.v2g_1-t.t2g_1|0;var r=this.d2p(n,i,e);return 0!==r||(this.i2i_1=!0,t.t2g_1>t.s2g_1)?(t.y2m(r),t):(t.j2m(this.c2i_1),null)}catch(e){throw e instanceof Error?(t.j2m(this.c2i_1),e):e}},pn.prototype.u2o=function(){this.i2i_1||(this.i2i_1=!0)},pn.prototype.t2p=function(t){var e=this.o2o();return(this.g2i_1-this.f2i_1|0)>=t?e:un(this,t,e)},pn.prototype.u2p=function(t){var e=t.i2o(),n=null==e?On().h2d_1:e;nn(this,n);var i,r=this.h2i_1,o=n.t2g_1-n.s2g_1|0;return i=r.x5(R(o)),this.g2p(i),t.j2m(this.c2i_1),n},pn.$metadata$=L("Input",[Ni]),vn.prototype.m2o=function(){return this.j2e_1},vn.prototype.j2o=function(){return this.q2e_1+(this.n2e_1-this.p2e_1|0)|0},vn.prototype.o2o=function(){var t=this.k2e_1;return null==t?On().h2d_1:t},vn.prototype.p2o=function(){return this.o2e_1-this.n2e_1|0},vn.prototype.n2k=function(){!function(t){var e=t.r2e();if(null==e)return z();var n=e;try{var i=n;t:for(;;){var r,o=i,s=o.o2m(),a=o.p2m();r=o.t2g_1-o.s2g_1|0,t.l2o(s,a,r);var u=i.d2o();if(null==u)break t;i=u}}finally{Ze(n,t.j2e_1)}}(this)},vn.prototype.r2e=function(){var t=this.k2e_1;if(null==t)return null;var e=t,n=this.l2e_1;return null==n||n.z2m(this.n2e_1),this.k2e_1=null,this.l2e_1=null,this.n2e_1=0,this.o2e_1=0,this.p2e_1=0,this.q2e_1=0,this.m2e_1=di().w2p_1,e},vn.prototype.i2m=function(t){if(null!=t.d2o())throw P(M("It should be a single buffer chunk."));mn(this,t,t,0)},vn.prototype.q2o=function(t){var e=Ge(t),n=We(t),i=e.t2g_1-e.s2g_1|0,r=n.x5(R(i));r.j1(R(lt().e1_1))>=0&&function(t,e){throw D("Long value "+M(t)+" of "+e+" doesn't fit into 32-bit integer")}(r,"total size increase"),mn(this,t,e,r.m6())},vn.prototype.m2n=function(t){var e=this.n2e_1;return e<this.o2e_1?(this.n2e_1=e+1|0,this.m2e_1.s2l_1.setInt8(e,t),z()):function(t,e){dn(t).m2n(e);var n=t,i=n.n2e_1;n.n2e_1=i+1|0}(this,t)},vn.prototype.p1e=function(){try{this.n2k()}finally{this.k2o()}},vn.prototype.s5=function(t){var e=this.n2e_1;if((this.o2e_1-e|0)>=3){var n,i=this.m2e_1,r=vt(t),o=r;if(0<=o&&o<=127){var s=st(r);i.s2l_1.setInt8(e,s),n=1}else if(128<=o&&o<=2047){var a=st(192|r>>6&31);i.s2l_1.setInt8(e,a);var u=e+1|0,l=st(128|63&r);i.s2l_1.setInt8(u,l),n=2}else if(2048<=o&&o<=65535){var c=st(224|r>>12&15);i.s2l_1.setInt8(e,c);var h=e+1|0,p=st(128|r>>6&63);i.s2l_1.setInt8(h,p);var _=e+2|0,f=st(128|63&r);i.s2l_1.setInt8(_,f),n=3}else if(65536<=o&&o<=1114111){var d=st(240|r>>18&7);i.s2l_1.setInt8(e,d);var m=e+1|0,y=st(128|r>>12&63);i.s2l_1.setInt8(m,y);var v=e+2|0,g=st(128|r>>6&63);i.s2l_1.setInt8(v,g);var w=e+3|0,b=st(128|63&r);i.s2l_1.setInt8(w,b),n=4}else qn(r);var x=n;return this.n2e_1=e+x|0,this}return function(t,e){t:{var n=t.r2o(3);try{var i,r=n.r2g_1,o=n.t2g_1,s=vt(e),a=s;if(0<=a&&a<=127){var u=st(s);r.s2l_1.setInt8(o,u),i=1}else if(128<=a&&a<=2047){var l=st(192|s>>6&31);r.s2l_1.setInt8(o,l);var c=o+1|0,h=st(128|63&s);r.s2l_1.setInt8(c,h),i=2}else if(2048<=a&&a<=65535){var p=st(224|s>>12&15);r.s2l_1.setInt8(o,p);var _=o+1|0,f=st(128|s>>6&63);r.s2l_1.setInt8(_,f);var d=o+2|0,m=st(128|63&s);r.s2l_1.setInt8(d,m),i=3}else if(65536<=a&&a<=1114111){var y=st(240|s>>18&7);r.s2l_1.setInt8(o,y);var v=o+1|0,g=st(128|s>>12&63);r.s2l_1.setInt8(v,g);var w=o+2|0,b=st(128|s>>6&63);r.s2l_1.setInt8(w,b);var x=o+3|0,$=st(128|63&s);r.s2l_1.setInt8(x,$),i=4}else qn(s);var C=i;if(n.y2m(C),!(C>=0))throw P(M("The returned value shouldn't be negative"));break t}finally{t.k2m()}}}(this,t),this},vn.prototype.c=function(t){return null==t?this.jg("null",0,4):this.jg(t,0,ct(t)),this},vn.prototype.jg=function(t,e,n){return null==t?this.jg("null",e,n):(En(this,t,e,n,$i().x2p_1),this)},vn.prototype.y2k=function(t){var e=t.r2e();if(null==e)return t.yt(),z();var n=this.l2e_1;if(null==n)return this.q2o(e),z();yn(this,n,e,t.m2o())},vn.prototype.s2e=function(t){var e=this.l2e_1;if(null==e)return this.q2o(t),z();yn(this,e,t,this.j2e_1)},vn.prototype.k2i=function(t,e){var n=e;t:for(;n.j1(new q(0,0))>0;){var i;i=t.g2i_1-t.f2i_1|0;var r=R(i);if(!(r.j1(n)<=0)){var o,s=t.t2p(1);null==s?$n(1):o=s;var a=o,u=a.p2m();try{gn(this,a,n.m6())}finally{var l=a.p2m();if(l<u)throw P("Buffer's position shouldn't be rewinded");l===a.q2m()?t.r2p(a):t.f2i_1=l}break t}n=n.x5(r);var c,h=t.i2p();if(null==h)throw new Bi("Unexpected end of packet");c=h,this.i2m(c)}},vn.prototype.yt=function(){this.p1e()},vn.prototype.r2o=function(t){if((this.o2e_1-this.n2e_1|0)>=t){var e=this.l2e_1;if(null!=e)return e.z2m(this.n2e_1),e}return dn(this)},vn.prototype.k2m=function(){var t=this.l2e_1;null==t||(this.n2e_1=t.q2m(),z())},vn.prototype.s2o=function(t,e){var n=this.r2o(t);try{var i=e(n);if(!(i>=0))throw P(M("The returned value shouldn't be negative"));return i}finally{this.k2m()}},vn.prototype.t2o=function(){var t=this.o2o();if(t!==On().h2d_1){if(null!=t.d2o())throw P(M("Check failed."));t.f2n(),De(),t.d2n(8),this.n2e_1=t.q2m(),this.p2e_1=this.n2e_1,this.o2e_1=t.s2m()}},vn.$metadata$=L("Output",[gt,Ni]),An.prototype.w2l=function(){return Be().w2l()},An.prototype.c2q=function(t){Be().h2o(t)},An.prototype.h2o=function(t){return this.c2q(t instanceof zn?t:H())},An.prototype.yq=function(){Be().yq()},An.$metadata$=L(void 0,[ii]),kn.prototype.w2l=function(){return On().h2d_1},kn.prototype.c2q=function(t){if(t!==On().h2d_1)throw D(M("Only ChunkBuffer.Empty instance could be recycled."))},kn.prototype.h2o=function(t){return this.c2q(t instanceof zn?t:H())},kn.prototype.yq=function(){},kn.$metadata$=L(void 0,[ii]),Sn.prototype.w2l=function(){return new zn(pi().t2l(u),null,this)},Sn.prototype.c2q=function(t){pi().u2l(t.o2m())},Sn.prototype.h2o=function(t){return this.c2q(t instanceof zn?t:H())},Sn.$metadata$=L(void 0,void 0,void 0,void 0,void 0,ri.prototype),Tn.prototype.w2l=function(){throw bt("This pool doesn't support borrow")},Tn.prototype.c2q=function(t){},Tn.prototype.h2o=function(t){return this.c2q(t instanceof zn?t:H())},Tn.$metadata$=L(void 0,void 0,void 0,void 0,void 0,ri.prototype),In.$metadata$=ht("Companion"),zn.prototype.d2q=function(){return this.d2m_1},zn.prototype.v2p=function(t){null==t?this.i2o():function(t,e){if(!t.e2m_1.atomicfu$compareAndSet(null,e))throw P("This chunk has already a next chunk.")}(this,t)},zn.prototype.d2o=function(){return this.e2m_1.pm_1},zn.prototype.c2o=function(){return this.f2m_1.qm_1},zn.prototype.i2o=function(){return this.e2m_1.atomicfu$getAndSet(null)},zn.prototype.h2m=function(){var t=this.g2m_1,e=null==t?this:t;e.e2q();var n=new zn(this.o2m(),e,this.d2m_1);return this.k2n(n),n},zn.prototype.j2m=function(t){if(this.f2q()){var e=this.g2m_1;if(null!=e)this.z2n(),e.j2m(t);else{var n=this.d2m_1;(null==n?t:n).h2o(this)}}},zn.prototype.z2n=function(){if(!this.f2m_1.atomicfu$compareAndSet(0,-1))throw P("Unable to unlink: buffer is in use.");this.i2o(),this.g2m_1=null},zn.prototype.e2q=function(){t:for(var t=this.f2m_1;;){var e=t.qm_1;if(e<=0)throw P("Unable to acquire chunk: it is already released.");var n=e+1|0;if(t.atomicfu$compareAndSet(e,n)){z();break t}}},zn.prototype.g2o=function(){t:for(var t=this.f2m_1;;){var e=t.qm_1;if(e<0)throw P("This instance is already disposed and couldn't be borrowed.");if(e>0)throw P("This instance is already in use but somehow appeared in the pool.");if(t.atomicfu$compareAndSet(e,1)){z();break t}}},zn.prototype.f2q=function(){var t;t:for(var e=this.f2m_1;;){var n=e.qm_1;if(n<=0)throw P("Unable to release: it is already released.");var i=n-1|0;if(e.atomicfu$compareAndSet(n,i)){t=i;break t}}return 0===t},zn.prototype.n2n=function(){if(null!=this.g2m_1)throw D(M("Unable to reset buffer with origin"));Re.prototype.n2n.call(this),this.e2m_1.pm_1=null},zn.$metadata$=L("ChunkBuffer",void 0,void 0,void 0,void 0,Re.prototype),Pn.$metadata$=L("MalformedUTF8InputException",void 0,void 0,void 0,void 0,pt.prototype),Xn.prototype.ri=function(){var t,e,n,i=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,t=this.a2r_1,e=this.b2r_1,n=void 0,(n=new Jn(t,e,this)).ji_1=z(),n.ki_1=null,(i=n.ri())===N())return i;continue t;case 1:if(i)return z();this.hi_1=2;continue t;case 2:return this.a2r_1.a2e(),z();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Xn.$metadata$=L("$sleepCOROUTINE$52",void 0,void 0,void 0,void 0,j.prototype),Jn.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.q2q_1=!1,this.r2q_1=kt(null,1,null),this.o2q_1.z2d_1.atomicfu$compareAndSet(null,this.r2q_1)&&this.p2q_1()){if(this.q2q_1=!0,this.hi_1=1,(t=this.r2q_1.st(this))===N())return t;continue t}this.hi_1=2;continue t;case 1:this.hi_1=2;continue t;case 2:return this.q2q_1;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Jn.$metadata$=L("$trySuspendCOROUTINE$53",void 0,void 0,void 0,void 0,j.prototype),Qn.prototype.v2f=function(t,e){var n=new Xn(this,t,e);return n.ji_1=z(),n.ki_1=null,n.ri()},Qn.prototype.a2e=function(){var t=this.z2d_1.atomicfu$getAndSet(null);null==t||t.qt()},Qn.prototype.w2k=function(t){var e=this.z2d_1.atomicfu$getAndSet(null);if(null==e)return z();var n=e;null!=t?n.dt(t):n.qt()},Qn.$metadata$=L("AwaitingSlot"),ti.prototype.ri=function(){var t,e,n,i,r=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=10,this.n2r_1=!(this.k2r_1===this.l2r_1),!this.n2r_1)throw D(M("Failed requirement."));if(null!=this.k2r_1.t2e())return this.l2r_1.t11(this.k2r_1.t2e()),new q(0,0);this.o2r_1=this.m2r_1,this.hi_1=1;continue t;case 1:if(!(this.o2r_1.j1(new q(0,0))>0)){this.hi_1=9;continue t}if(this.hi_1=2,(r=this.k2r_1.v2k(this))===N())return r;continue t;case 2:if(this.p2r_1=r,this.p2r_1){this.hi_1=3;continue t}this.hi_1=9;continue t;case 3:if(this.q2r_1=this.k2r_1.x2k(this.l2r_1,this.o2r_1),this.q2r_1.equals(new q(0,0))){if(this.hi_1=6,t=this.k2r_1,e=this.l2r_1,n=this.o2r_1,i=void 0,(i=new ei(t,e,n,this)).ji_1=z(),i.ki_1=null,(r=i.ri())===N())return r;continue t}if(0===this.l2r_1.k2f()){if(this.hi_1=4,(r=this.l2r_1.q2g(1,this))===N())return r;continue t}this.hi_1=5;continue t;case 4:this.hi_1=5;continue t;case 5:this.r2r_1=this.q2r_1,this.hi_1=8;continue t;case 6:var o=r;if(o.equals(new q(0,0))){this.hi_1=9;continue t}this.hi_1=7;continue t;case 7:this.r2r_1=o,this.hi_1=8;continue t;case 8:var s=this.r2r_1;this.o2r_1=this.o2r_1.x5(s),s.j1(new q(0,0))>0&&this.l2r_1.n2k(),this.hi_1=1;continue t;case 9:return this.m2r_1.x5(this.o2r_1);case 10:throw this.ki_1}}catch(t){if(10===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ti.$metadata$=L("$copyToSequentialImplCOROUTINE$54",void 0,void 0,void 0,void 0,j.prototype),ei.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=9,this.d2s_1=On().f2d_1.w2l(),this.hi_1=1;continue t;case 1:this.hi_1=2;continue t;case 2:if(this.ii_1=8,this.d2s_1.g2n(St(this.c2s_1,R(this.d2s_1.u2m())).m6()),this.hi_1=3,(t=this.a2s_1.s2k(this.d2s_1,this))===N())return t;continue t;case 3:if(this.f2s_1=t,-1===this.f2s_1){this.d2s_1.j2m(On().f2d_1),this.e2s_1=new q(0,0),this.ii_1=9,this.hi_1=6;continue t}this.hi_1=4;continue t;case 4:if(this.hi_1=5,(t=this.b2s_1.o2k(this.d2s_1,this))===N())return t;continue t;case 5:this.e2s_1=R(this.f2s_1),this.ii_1=9,this.hi_1=6;continue t;case 6:var e=this.e2s_1;return this.d2s_1.j2m(On().f2d_1),e;case 7:return this.d2s_1.j2m(On().f2d_1),z();case 8:this.ii_1=9;var n=this.ki_1;throw this.d2s_1.j2m(On().f2d_1),n;case 9:throw this.ki_1}}catch(t){if(9===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ei.$metadata$=L("$copyToTailCOROUTINE$55",void 0,void 0,void 0,void 0,j.prototype),ni.prototype.t2n=function(){return new Int8Array(4096)},ni.$metadata$=L(void 0,void 0,void 0,void 0,void 0,Xi.prototype),ii.$metadata$=I("ObjectPool",[Ni]),ri.prototype.h2o=function(t){},ri.prototype.yq=function(){},ri.$metadata$=L("NoPoolImpl",[ii]),si.prototype.e2d=function(t){var e=this.x2s_1;null==e||e.no(null,1,null),this.x2s_1=t,t.jo(!0,!1,oi(this),2,null)},si.prototype.toString=function(){return"ByteChannel["+this.x2s_1+", "+Tt(this)+"]"},si.$metadata$=L("ByteChannelJS",void 0,void 0,void 0,void 0,_e.prototype),ai.prototype.n2m=function(){return zt("Empty",1,Ot,(function(t){return t.n2m()}),null),this.y2s_1.b1()},ai.$metadata$=ht("Companion"),li.$metadata$=I("ByteReadChannel"),ci.$metadata$=I("ByteWriteChannel"),hi.prototype.t2l=function(t){return new mi(new DataView(new ArrayBuffer(t)))},hi.prototype.u2l=function(t){},hi.$metadata$=ht("DefaultAllocator",[Te]),fi.$metadata$=ht("Companion"),mi.prototype.z2s=function(){return this.s2l_1},mi.prototype.g=function(){return R(this.s2l_1.byteLength)},mi.prototype.a2t=function(){return this.s2l_1.byteLength},mi.prototype.b2t=function(t){return this.s2l_1.getInt8(t)},mi.prototype.c2t=function(t,e){this.s2l_1.setInt8(t,e)},mi.prototype.d2t=function(t,e){if(!(t>=0))throw D(M("offset shouldn't be negative: "+t));if(!(e>=0))throw D(M("length shouldn't be negative: "+e));var n,i,r=R(t+e|0);if(n=R(this.s2l_1.byteLength),r.j1(n)>0)throw i=R(this.s2l_1.byteLength),Mt("offset + length > size: "+t+" + "+e+" > "+M(i));return new mi(new DataView(this.s2l_1.buffer,this.s2l_1.byteOffset+t|0,e))},mi.prototype.v2l=function(t,e,n,i){var r=new Int8Array(this.s2l_1.buffer,this.s2l_1.byteOffset+e|0,n);new Int8Array(t.s2l_1.buffer,t.s2l_1.byteOffset+i|0,n).set(r)},mi.$metadata$=L("Memory"),vi.prototype.e2t=function(t){switch(t){case"UTF-8":case"utf-8":case"UTF8":case"utf8":return $i().x2p_1}var e;switch(t){case"ISO-8859-1":case"iso-8859-1":e=!0;break;default:var n=Dt(95),i=Dt(45),r=Rt(t,n,i,!1,4,null);e="iso-8859-1"===r||"iso-8859-1"===r.toLowerCase()}if(e||"latin1"===t||"Latin1"===t)return $i().y2p_1;throw D("Charset "+t+" is not supported")},vi.prototype.f2t=function(t){var e;switch(t){case"UTF-8":case"utf-8":case"UTF8":case"utf8":e=!0;break;default:var n;switch(t){case"ISO-8859-1":case"iso-8859-1":n=!0;break;default:var i=Dt(95),r=Dt(45),o=Rt(t,i,r,!1,4,null);n="iso-8859-1"===o||"iso-8859-1"===o.toLowerCase()}e=!(!n&&"latin1"!==t)}return e},vi.$metadata$=ht("Companion"),wi.prototype.equals=function(t){return this===t||!(null==t||!ot(jt(Pt(this)),jt(Pt(t))))&&(t instanceof wi||H(),this.z2p_1===t.z2p_1)},wi.prototype.hashCode=function(){return Nt(this.z2p_1)},wi.prototype.toString=function(){return this.z2p_1},wi.$metadata$=L("Charset"),xi.prototype.g2t=function(){return this.x2p_1},xi.$metadata$=ht("Charsets"),Ci.$metadata$=L("CharsetDecoder"),Ei.$metadata$=L("CharsetEncoder"),Ai.prototype.a2q=function(){return new ki(this)},Ai.prototype.b2q=function(){return new Si(this)},Ai.prototype.toString=function(){return"CharsetImpl(name="+this.k2t_1+")"},Ai.prototype.hashCode=function(){return Nt(this.k2t_1)},Ai.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Ai))return!1;var e=t instanceof Ai?t:H();return this.k2t_1===e.k2t_1},Ai.$metadata$=L("CharsetImpl",void 0,void 0,void 0,void 0,wi.prototype),ki.prototype.toString=function(){return"CharsetEncoderImpl(charset="+this.m2t_1+")"},ki.prototype.hashCode=function(){return this.m2t_1.hashCode()},ki.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ki))return!1;var e=t instanceof ki?t:H();return!!this.m2t_1.equals(e.m2t_1)},ki.$metadata$=L("CharsetEncoderImpl",void 0,void 0,void 0,void 0,Ei.prototype),Si.prototype.toString=function(){return"CharsetDecoderImpl(charset="+this.o2t_1+")"},Si.prototype.hashCode=function(){return this.o2t_1.hashCode()},Si.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Si))return!1;var e=t instanceof Si?t:H();return!!this.o2t_1.equals(e.o2t_1)},Si.$metadata$=L("CharsetDecoderImpl",void 0,void 0,void 0,void 0,Ci.prototype),zi.$metadata$=L("MalformedInputException",void 0,void 0,void 0,void 0,Error.prototype),Di.prototype.u2t=function(){return this.r2t_1},Di.prototype.v2t=function(){return this.s2t_1},Di.prototype.toString=function(){return"DecodeBufferResult(charactersDecoded="+this.r2t_1+", bytesConsumed="+this.s2t_1+")"},Di.prototype.hashCode=function(){var t=Nt(this.r2t_1);return T(t,31)+this.s2t_1|0},Di.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Di))return!1;var e=t instanceof Di?t:H();return this.r2t_1===e.r2t_1&&this.s2t_1===e.s2t_1},Di.$metadata$=L("DecodeBufferResult"),Ni.$metadata$=I("Closeable"),Bi.$metadata$=L("EOFException",void 0,void 0,void 0,void 0,Ui.prototype),Ui.$metadata$=L("IOException",void 0,void 0,void 0,void 0,pt.prototype),Hi.$metadata$=I("Decoder"),Wi.prototype.q2t=function(){return this.w2t_1.decode()},Wi.prototype.t2t=function(t){return this.w2t_1.decode(t)},Wi.prototype.p2t=function(t,e){return this.w2t_1.decode(t,e)},Wi.$metadata$=L(void 0,[Hi]),Gi.prototype.y2t=function(){return this.x2t_1},Gi.prototype.q2t=function(){return""},Gi.prototype.t2t=function(t){var e;t:{var n=Ke(null,1);try{var i=t instanceof Int8Array?t:H(),r=0,o=i.length;if(r<o)do{var s=r;r=r+1|0;var a=Zi(i[s]);if(a<0){if(this.x2t_1)throw P(M("Invalid character: "+a));bn(n,(Ki(),E),0,0,6)}else a>255&&n.m2n(st(a>>8)),n.m2n(st(255&a))}while(r<o);e=n.i1s();break t}catch(t){throw t instanceof Error?(n.yt(),t):t}}return Vt(xn(e,0,1))},Gi.prototype.p2t=function(t,e){return this.t2t(t)},Gi.$metadata$=L("TextDecoderFallback",[Hi]),Xi.prototype.y2n=function(t){},Xi.prototype.f2o=function(t){return t},Xi.prototype.b2o=function(t){},Xi.prototype.w2l=function(){if(0===this.x2n_1)return this.t2n();var t=this;t.x2n_1=t.x2n_1-1|0;var e=t.x2n_1,n=this.w2n_1[e],i=Gt(n)?n:H();return this.w2n_1[e]=null,this.f2o(i)},Xi.prototype.h2o=function(t){if(this.b2o(t),this.x2n_1===this.v2n_1)this.y2n(t);else{var e=this.x2n_1;this.x2n_1=e+1|0,this.w2n_1[e]=t}},Xi.prototype.yq=function(){var t=0,e=this.x2n_1;if(t<e)do{var n=t;t=t+1|0;var i=this.w2n_1[n],r=Gt(i)?i:H();this.w2n_1[n]=null,this.y2n(r)}while(t<e);this.x2n_1=0},Xi.$metadata$=L("DefaultPool",[ii]),_e.prototype.r2k=Zt,we.prototype.no=J,we.prototype.jo=Q,Xi.prototype.p1e=Kt,Fe.prototype.p1e=Kt,An.prototype.p1e=Kt,kn.prototype.p1e=Kt,ri.prototype.p1e=Kt,Sn.prototype.p1e=Kt,Tn.prototype.p1e=Kt,ni.prototype.p1e=Kt,si.prototype.r2k=Zt,u=4096,x=8,$=200,t.$_$=t.$_$||{},t.$_$.a=function(t,e,n,i){return function(t,e,n,i){var r=new ti(t,e,n,i);return r.ji_1=z(),r.ki_1=null,r.ri()}(t instanceof _e?t:H(),e instanceof _e?e:H(),n,i)},t.$_$.b=function(t,e,n){return t.u2k(e,0,e.length,n)},t.$_$.c=function(t,e,n){return t.p2k(e,0,e.length,n)},t.$_$.d=function(t,e,n,i,r){return 0!=(2&i)&&(n=lt().e1_1),Ie(t,e,n)},t.$_$.e=function(t,e,n,i,r,o){return 0!=(2&r)&&(n=0),0!=(4&r)&&(i=ct(e)),ze(t,e,n,i)},t.$_$.f=function(t,e,n,i,r,o){return 0!=(2&r)&&(e=0),0!=(4&r)&&(n=t.length),0!=(8&r)&&(i=$i().x2p_1),qi(t,e,n,i)},t.$_$.g=xn,t.$_$.h=function(t,e,n,i,r){return 0!=(1&i)&&(e=$i().x2p_1),0!=(2&i)&&(n=lt().e1_1),function(t,e,n){return Ie(e.b2q(),t,n)}(t,e,n)},t.$_$.i=bn,t.$_$.j=function(t,e,n,i,r,o,s){return 0!=(2&o)&&(n=0),0!=(4&o)&&(i=ct(e)),0!=(8&o)&&(r=$i().x2p_1),En(t,e,n,i,r)},t.$_$.k=function(t,e,n,i,r,o){return 0!=(1&r)&&(e=K()),0!=(2&r)&&(n=!1),ve(t,e,n,i)},t.$_$.l=Ke,t.$_$.m=Fi,t.$_$.n=gi,t.$_$.o=$i,t.$_$.p=ui,t.$_$.q=function(t,e,n,i){return function(t,e,n,i){var r=n;if(r>=i)return Vn();var o=On().f2d_1.w2l();try{var s;if((r=r+Ti(t,e,r,i,o)|0)===i){var a;a=o.t2g_1-o.s2g_1|0;var u=new Int8Array(a),l=u.length-0|0;return He(o instanceof Re?o:H(),u,0,l),u}t:{var c=Ke(null,1);try{c.i2m(o.h2m()),Oe(t,c,e,r,i),s=c.i1s();break t}catch(t){throw t instanceof Error?(c.yt(),t):t}}return xn(s,0,1)}finally{o.j2m(On().f2d_1)}}(t,e,n,i)},t.$_$.r=ze,t.$_$.s=bi,t.$_$.t=Yn,t.$_$.u=Wn,t.$_$.v=Gn,t.$_$.w=en,t.$_$.x=Ni,t.$_$.y=pn,t.$_$.z=qi,t.$_$.a1=function(t){return yt(),t.m2p(new q(-1,2147483647))},t.$_$.b1=function(t){var e;if((t.g2i_1-t.f2i_1|0)>2){var n=t.f2i_1;t.f2i_1=n+2|0,e=t.e2i_1.s2l_1.getInt16(n,!1)}else e=function(t){var e,n=Wn(t,2);null==n?$n(2):e=n;var i=e,r=function(t){var e,n=t.r2g_1,i=t.s2g_1;if((t.t2g_1-i|0)<2)throw new Bi("Not enough bytes to read a short integer of size 2.");return e=n.s2l_1.getInt16(i,!1),t.x2m(2),e}(i);return Yn(t,i),r}(t);return e},t.$_$.c1=function(t,e){var n,i=t.n2e_1;(t.o2e_1-i|0)>2?(t.n2e_1=i+2|0,t.m2e_1.s2l_1.setInt16(i,e,!1),n=!0):n=!1,n||function(t,e){(function(t,e){var n=t.r2g_1,i=t.t2g_1,r=t.v2g_1-i|0;if(r<2)throw Ne("short integer",2,r);n.s2l_1.setInt16(i,e,!1),t.y2m(2),z()})(t.r2o(2),e),t.k2m()}(t,e)},t.$_$.d1=Ui,t.$_$.e1=function(){return m||(m=!0,d=new ni),d},t.$_$.f1=function(t){return function(t,e,n){if(0===t.length)return ui().n2m();var i=On().f2d_1.w2l(),r=i,o=e,s=o+n|0;t:for(;;){r.d2n(8);var a=s-o|0,u=r,l=u.v2g_1-u.t2g_1|0,c=Math.min(a,l);if(Ve(r instanceof Re?r:H(),t,o,c),(o=o+c|0)===s)break t;var h=r;r=On().f2d_1.w2l(),h.v2p(r)}var p=new si(i,!1);return _=p,_.t11(null),p;var _}(t,0,t.length)},t.$_$.g1=li,t.$_$.h1=ge,t.$_$.i1=function(t){return t.rq(null)},t.$_$.j1=ve,t})?i.apply(e,r):i)||(t.exports=o)},6321:function(t,e,n){var i,r,o;r=[e,n(8744),n(8538),n(4813)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r=e.$_$.p4,o=e.$_$.ca,s=n.$_$.o,a=i.$_$.i,u=i.$_$.f1,l=n.$_$.n;function c(){}function h(){}function p(t,e){var n=function(t,e){for(var n=u(t.m25(a().i31_1)).d();n.e();){var i=n.f().w3();if("*"===i)return e;if(l().f2t(i))return l().e2t(i)}return null}(t,e);return null==n?e:n}return c.$metadata$=o("Configuration"),h.$metadata$=o("ContentConverter"),t.$_$=t.$_$||{},t.$_$.a=function(t,e,n,i,o){return 0!=(4&i)&&(n=function(t){return r()}),null==o?this.h3c(t,e,n):o(t,e,n)},t.$_$.b=function(t,e,n,i){return 0!=(1&n)&&(e=s().x2p_1),p(t,e)},t.$_$.c=c,t.$_$.d=h,t})?i.apply(e,r):i)||(t.exports=o)},5809:function(t,e,n){var i,r,o;r=[e,n(8744),n(3645),n(4813),n(8538),n(6321)],void 0===(o="function"==typeof(i=function(t,e,n,i,r,o){"use strict";var s=e.$_$.r9,a=e.$_$.d9,u=e.$_$.o8,l=n.$_$.l2,c=e.$_$.p4,h=e.$_$.re,p=e.$_$.bb,_=e.$_$.m2,f=e.$_$.qd,d=n.$_$.i2,m=e.$_$.la,y=i.$_$.a,v=n.$_$.g2,g=i.$_$.i1,w=i.$_$.b,b=n.$_$.m2,x=e.$_$.c,$=e.$_$.d,C=e.$_$.md,E=r.$_$.a1,A=r.$_$.g,k=r.$_$.h,S=e.$_$.h2,T=o.$_$.d,I=n.$_$.o2,O=n.$_$.p2,z=n.$_$.q,M=e.$_$.j5,D=n.$_$.r,R=e.$_$.r5,P=e.$_$.t6,j=e.$_$.g4,N=n.$_$.t,L=n.$_$.p,q=e.$_$.da,B=e.$_$.h5,F=e.$_$.q6,U=e.$_$.w5,H=e.$_$.c1,V=e.$_$.j1,Y=e.$_$.d1,W=e.$_$.w7,G=e.$_$.z4,Z=n.$_$.s;function K(t,e,n,i,r){Q.call(this,t,e,n,i),this.q3c_1=t,this.r3c_1=e,this.s3c_1=n,this.t3c_1=i,this.u3c_1=r}function X(t,e,n){a.call(this,n),this.l3d_1=t,this.m3d_1=e}function J(t){this.s3d_1=t}function Q(t,e,n,i){this.y3c_1=t,this.z3c_1=e,this.a3d_1=n,this.b3d_1=i}function tt(t){this.w3d_1=t,J.call(this,t.x3d_1)}function et(t,e,n,i,r){a.call(this,r),this.i3e_1=t,this.j3e_1=e,this.k3e_1=n,this.l3e_1=i}function nt(t){this.x3d_1=t;var e,n,i=this.x3d_1;if(m(i,v))e=!0;else{var r=this.x3d_1;e=m(r,b)}if(!e)throw n="Only binary and string formats are supported, "+this.x3d_1+" is not supported.",S(p(n));this.y3d_1=new tt(this)}function it(t,e){var n=t.v2y_1,i=null==n||n.pe().m()?null:I(e,n),r=null==i?e.o1n(t.t2y_1,null,2,null):i;return null==r?O(t.t2y_1):r}function rt(t,e){var n,i=t;if(m(i,B))n=L(ot(t,e));else if(q(i)){var r=P(t),o=null==r?null:rt(r,e);n=null==o?L(N(j())):o}else if(m(i,R))n=D(ot(t,e));else if(m(i,M)){var s=ot(t.x2(),e),a=ot(t.y2(),e);n=z(s,a)}else{var u=x(t),l=e.o1n(u,null,2,null);n=null==l?O(x(t)):l}var c=n;return m(c,d)?c:f()}function ot(t,e){for(var n=F(t),i=H(U(n,10)),r=n.d();r.e();){var o;o=rt(r.f(),e),i.b(o)}for(var s=i,a=V(),u=Y(),l=s.d();l.e();){var c=l.f(),h=c.p1m().x1n();a.b(h)&&u.b(c)}var y=u;if(y.g()>1){for(var v=H(U(y,10)),g=y.d();g.e();){var w;w=g.f().p1m().x1n(),v.b(w)}throw _(p("Serializing collections of different element types is not yet supported. Selected serializers: "+v))}var b,x=W(y),$=null==x?N(j()):x;if($.p1m().q1n())return $;m($,d)||f();t:if(m(t,G)&&t.m())b=!1;else{for(var C=t.d();C.e();)if(null==C.f()){b=!0;break t}b=!1}return b?Z($):$}return K.prototype=Object.create(Q.prototype),K.prototype.constructor=K,X.prototype=Object.create(a.prototype),X.prototype.constructor=X,tt.prototype=Object.create(J.prototype),tt.prototype.constructor=tt,et.prototype=Object.create(a.prototype),et.prototype.constructor=et,K.prototype.v3c=function(){return this.q3c_1},K.prototype.b1=function(){return this.r3c_1},K.prototype.w3c=function(){return this.s3c_1},K.prototype.x3c=function(){return this.t3c_1},K.$metadata$=s("SerializationNegotiationParameters",void 0,void 0,void 0,void 0,Q.prototype),X.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=5,this.ii_1=2,this.o3d_1=it(this.m3d_1.w3c(),this.l3d_1.s3d_1.j1n()),this.m3d_1.c3d_1=this.o3d_1,this.hi_1=1,(t=this.l3d_1.t3d(this.m3d_1,this))===u())return t;continue t;case 1:this.n3d_1=t,this.ii_1=5,this.hi_1=3;continue t;case 2:if(this.ii_1=5,this.ki_1 instanceof l){this.p3d_1=this.ki_1,this.n3d_1=null,this.hi_1=3;continue t}throw this.ki_1;case 3:if(this.ii_1=5,this.q3d_1=this.n3d_1,null!=this.q3d_1)return this.q3d_1;if(this.r3d_1=rt(this.m3d_1.b1(),this.l3d_1.s3d_1.j1n()),this.m3d_1.c3d_1=this.r3d_1,this.hi_1=4,(t=this.l3d_1.t3d(this.m3d_1,this))===u())return t;continue t;case 4:return t;case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},X.$metadata$=s("$serializeCOROUTINE$0",void 0,void 0,void 0,void 0,a.prototype),J.prototype.u3d=function(t,e){var n=new X(this,t,e);return n.ji_1=c(),n.ki_1=null,n.ri()},J.$metadata$=s("KotlinxSerializationBase"),Q.prototype.v3c=function(){return this.y3c_1},Q.prototype.b1=function(){return this.z3c_1},Q.prototype.w3c=function(){return this.a3d_1},Q.prototype.x3c=function(){return this.b3d_1},Q.prototype.e23=function(){var t=this.c3d_1;if(null!=t)return t;h("serializer")},Q.$metadata$=s("SerializationParameters"),tt.prototype.z3d=function(t,e){if(!(t instanceof K)){var n="parameters type is "+x(t).fe()+", but expected "+$(K).fe();throw _(p(n))}return function(t,e,n,i,r,o){var s,a=n;if(m(a,b)){var u=n.h1n(m(e,d)?e:f(),i),l=g(r,o);s=w(u,l,null,4,null)}else{if(!m(a,v))throw _(p("Unsupported format "+n));var c=n.k1n(m(e,d)?e:f(),i);s=y(c,r,null,4,null)}return s}(this.w3d_1,t.e23(),t.v3c(),t.b1(),t.u3c_1,t.x3c())},tt.prototype.t3d=function(t,e){return this.z3d(t,e)},tt.$metadata$=s(void 0,void 0,void 0,void 0,void 0,J.prototype),et.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.m3e_1=it(this.k3e_1,this.i3e_1.x3d_1.j1n()),this.hi_1=1,(t=this.l3e_1.r2k(new C(0,0),this,1,null))===u())return t;continue t;case 1:var e,n=t,i=this.i3e_1.x3d_1;if(m(i,b))e=this.i3e_1.x3d_1.i1n(this.m3e_1,k(n,this.j3e_1,0,2,null));else{if(!m(i,v)){E(n);var r="Unsupported format "+this.i3e_1.x3d_1;throw _(p(r))}e=this.i3e_1.x3d_1.l1n(this.m3e_1,A(n,0,1,null))}return e;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},et.$metadata$=s("$deserializeCOROUTINE$1",void 0,void 0,void 0,void 0,a.prototype),nt.prototype.n3e=function(t,e,n,i,r){return this.y3d_1.u3d(new K(this.x3d_1,i,n,e,t),r)},nt.prototype.j3c=function(t,e,n,i,r){return this.n3e(t,e,n,i,r)},nt.prototype.k3c=function(t,e,n,i){var r=new et(this,t,e,n,i);return r.ji_1=c(),r.ki_1=null,r.ri()},nt.$metadata$=s("KotlinxSerializationConverter",[T]),t.$_$=t.$_$||{},t.$_$.a=function(t,e,n){var i=new nt(n);t.i3c(e,i,null,4,null)},t})?i.apply(e,r):i)||(t.exports=o)},9771:function(t,e,n){var i,r,o;r=[e,n(5809),n(4813),n(8744),n(3730)],void 0===(o="function"==typeof(i=function(t,e,n,i,r){"use strict";var o,s,a=e.$_$.a,u=n.$_$.e,l=i.$_$.p4,c=r.$_$.a;function h(){s||(s=!0,o=c(null,(function(t){return t.g24_1=!0,t.j24_1=!0,t.q24_1=!0,t.k24_1=!0,t.l24_1=!1,t.o24_1=!1,l()}),1,null))}return t.$_$=t.$_$||{},t.$_$.a=function(t,e,n,i,r){return 0!=(1&i)&&(h(),e=o),0!=(2&i)&&(n=u().t2z_1),function(t,e,n){h(),a(t,n,e)}(t,e,n)},t})?i.apply(e,r):i)||(t.exports=o)},4781:function(t,e,n){var i,r,o;r=[e,n(8744),n(7646),n(2868)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z=Math.imul,M=e.$_$.p9,D=e.$_$.p4,R=e.$_$.m2,P=e.$_$.c,j=e.$_$.qd,N=e.$_$.z9,L=e.$_$.r9,q=e.$_$.ca,B=e.$_$.m1,F=e.$_$.na,U=e.$_$.t9,H=e.$_$.aa,V=e.$_$.p5,Y=e.$_$.ee,W=e.$_$.i5,G=e.$_$.la,Z=e.$_$.o5,K=e.$_$.n9,X=e.$_$.o9,J=e.$_$.h3,Q=e.$_$.cd,tt=n.$_$.u1,et=e.$_$.r8,nt=n.$_$.u,it=e.$_$.y8,rt=e.$_$.x8,ot=e.$_$.z8,st=e.$_$.c9,at=n.$_$.m1,ut=e.$_$.l5,lt=e.$_$.w5,ct=e.$_$.c1,ht=e.$_$.r5,pt=e.$_$.bb,_t=e.$_$.q5,ft=e.$_$.r6,dt=e.$_$.d1,mt=e.$_$.l1,yt=e.$_$.te,vt=e.$_$.t5,gt=e.$_$.v1,wt=e.$_$.fc,bt=e.$_$.a3,xt=e.$_$.e3,$t=e.$_$.xb,Ct=e.$_$.n6,Et=i.$_$.c,At=e.$_$.md,kt=e.$_$.xa,St=e.$_$.dd,Tt=e.$_$.hd,It=e.$_$.d9,Ot=e.$_$.pa,zt=e.$_$.o8,Mt=e.$_$.n5,Dt=e.$_$.y4,Rt=e.$_$.m6,Pt=e.$_$.b7,jt=e.$_$.f7,Nt=e.$_$.l7,Lt=n.$_$.p1,qt=e.$_$.u9,Bt=e.$_$.l9,Ft=n.$_$.h1,Ut=e.$_$.k4,Ht=e.$_$.i3,Vt=e.$_$.de,Yt=e.$_$.j3,Wt=e.$_$.k3,Gt=e.$_$.e4,Zt=e.$_$.w8,Kt=e.$_$.v9,Xt=e.$_$.e8,Jt=e.$_$.ie,Qt=e.$_$.wa,te=e.$_$.ld,ee=e.$_$.l2;function ne(t){this.z2t_1=t;var e=this.z2t_1;if(0===M(e))throw R("Name can't be blank")}function ie(){}function re(){var t;t=B(),this.j2u_1=t}function oe(t,e){this.n2u_1=t,this.o2u_1=e}function se(){return new re}function ae(){et.call(this,nt())}function ue(t){this.s2u_1=t,this.r2u_1=t.t2u_1.d()}function le(t,e,n){this.t2u_1=t,this.u2u_1=e,this.v2u_1=n,this.w2u_1=this.t2u_1.g()}function ce(){}function he(t,e){var n,i=t.l2v_1.o(e);if(null==i){var r=dt();t.m2v(e),t.l2v_1.a(e,r),n=r}else n=i;return n}function pe(t,e){this.k2v_1=t,this.l2v_1=this.k2v_1?se():mt(e)}function _e(t,e){return t.u2v_1.o(e)}function fe(t,e){this.t2v_1=t;for(var n=this.t2v_1?se():B(),i=e.z().d();i.e();){var r=i.f(),o=r.a1(),s=r.b1(),a=s.g(),u=ct(a),l=0;if(l<a)do{var c,h=l;l=l+1|0,c=s.l(h),u.b(c)}while(l<a);var p=u;n.a(o,p)}this.u2v_1=n}function de(){}function me(t){var e,n=t;if(bt(65)<=n&&n<=bt(90))e=xt(t,32);else if(bt(0)<=n&&n<=bt(127))e=t;else{var i;i=J(t).toLowerCase(),e=X(i,0)}return e}function ye(t){this.h2u_1=t;var e;e=this.h2u_1.toLowerCase(),this.i2u_1=N(e)}function ve(t){return new ye(t)}function ge(){this.v2v_1=Et(Ct())}function we(){r=this,this.w2v_1=un(new At(0,0))}function be(t,e,n,i,o,s,a,u,l){null==r&&new we,this.x2v_1=t,this.y2v_1=e,this.z2v_1=n,this.a2w_1=i,this.b2w_1=o,this.c2w_1=s,this.d2w_1=a,this.e2w_1=u,this.f2w_1=l}function xe(){p=this}function $e(){return Ce(),null==p&&new xe,p}function Ce(){if(_)return D();_=!0,o=new Ee("MONDAY",0,"Mon"),s=new Ee("TUESDAY",1,"Tue"),a=new Ee("WEDNESDAY",2,"Wed"),u=new Ee("THURSDAY",3,"Thu"),l=new Ee("FRIDAY",4,"Fri"),c=new Ee("SATURDAY",5,"Sat"),h=new Ee("SUNDAY",6,"Sun"),$e()}function Ee(t,e,n){Tt.call(this,t,e),this.k2w_1=n}function Ae(){A=this}function ke(){return Se(),null==A&&new Ae,A}function Se(){if(k)return D();k=!0,f=new Te("JANUARY",0,"Jan"),d=new Te("FEBRUARY",1,"Feb"),m=new Te("MARCH",2,"Mar"),y=new Te("APRIL",3,"Apr"),v=new Te("MAY",4,"May"),g=new Te("JUNE",5,"Jun"),w=new Te("JULY",6,"Jul"),b=new Te("AUGUST",7,"Aug"),x=new Te("SEPTEMBER",8,"Sep"),$=new Te("OCTOBER",9,"Oct"),C=new Te("NOVEMBER",10,"Nov"),E=new Te("DECEMBER",11,"Dec"),ke()}function Te(t,e,n){Tt.call(this,t,e),this.n2w_1=n}function Ie(t,e){It.call(this,e),this.w2w_1=t}function Oe(t,e,n,i){Ve.call(this,t),this.b2x_1=e,this.c2x_1=i,this.d2x_1=n,this.e2x_1=0}function ze(t,e){return function(t,e,n){var i=De().j2x_1;if(Re.call(n,t,e,G(i,Mt)?i:j()),!De().j2x_1.m())throw R(pt("The shared empty array list has been modified"));return n}(t,e,Object.create(Re.prototype))}function Me(){S=this;var t;t=dt(),this.j2x_1=t}function De(){return null==S&&new Me,S}function Re(t,e,n){De(),this.k2x_1=t,this.l2x_1=e,this.m2x_1=n,this.n2x_1=!0}function Pe(t,e){t.x2x_1.pm_1=e}function je(t){return t.x2x_1.pm_1}function Ne(t,e,n,i){return function(t,e,n,i,r){return r?new Oe(t,e,n,i):new en(n,t,e)}(e,function(t){return null==je(t)&&function(t){var e=t.w2x_1;if(0===e)return Fe(t,Rt()),Rt();var n=t.v2x_1;if(1===e){var i=0,r=Pt(n);if(i<=r)do{var o=i;i=i+1|0;var s=n.l(o),a=s instanceof Re?s:null;if(null!=a){var u=a;if(!u.su()){var l=u.r2x();return Ue(t,u),l}}}while(o!==r)}var c=dt(),h=0,p=Pt(n);if(h<=p)do{var _=h;h=h+1|0;var f=n.l(_),d=f instanceof Re?f:null;null!=d&&d.q2x(c)}while(_!==p);Fe(t,c)}(t),t.y2x_1=!0,Y(je(t))}(t),n,i,t.a2y())}function Le(t,e){var n=t.v2x_1,i=0,r=n.g();if(i<r)do{var o=i;i=i+1|0;var s=n.l(o);if(s===e){var a=ze(e,(null==T&&new Ke,T));return n.ra(o,a),a}if(s instanceof Re&&s.k2x_1===e)return s instanceof Re?s:j()}while(i<r);return null}function qe(t,e){var n=t.v2x_1,i=0,r=n.g();if(i<r)do{var o=i;i=i+1|0;var s=n.l(o);if(s===e||s instanceof Re&&s.k2x_1===e)return o}while(i<r);return-1}function Be(t,e){var n=t.v2x_1,i=0,r=n.g();if(i<r)do{var o=i;i=i+1|0;var s=n.l(o);if(s===e||s instanceof Re&&s.k2x_1===e)return!0}while(i<r);return!1}function Fe(t,e){Pe(t,e),t.y2x_1=!1,t.z2x_1=null}function Ue(t,e){Pe(t,e.r2x()),t.y2x_1=!1,t.z2x_1=e.k2x_1}function He(t){this.t2x_1=rn(),this.u2x_1=!1,this.v2x_1=Nt(t.slice()),this.w2x_1=0,this.x2x_1=Et(null),this.y2x_1=!1,this.z2x_1=null}function Ve(t){this.c2y_1=t}function Ye(t){this.s2x_1=t}function We(t){qt(this,t,void 0),Bt(this,We)}function Ge(t){Xe.call(this),this.e2y_1=t}function Ze(t){Xe.call(this),this.i2y_1=t}function Ke(){T=this,Xe.call(this)}function Xe(){}function Je(t,e){for(;;){var n=t.p2y_1;if(n===t.k2y_1.g()){if(!e){Ut();var i=t.m2y_1;return Qe(t,Ht(i)),!1}return!0}t.p2y_1=n+1|0;var r=t.k2y_1.l(n);try{if(r(t,t.m2y_1,t.l2y_1)===zt())return!1}catch(e){if(e instanceof Error)return Ut(),Qe(t,Ht(Vt(e))),!1;throw e}}}function Qe(t,e){if(t.o2y_1<0)throw R("No more continuations to resume");var n=Y(t.n2y_1[t.o2y_1]),i=t,r=i.o2y_1;if(i.o2y_1=r-1|0,t.n2y_1[r]=null,Wt(e)){var o,s=function(t,e){var n,i;try{i=Ft(t,e),t.cause,n=i}catch(e){if(!(e instanceof Error))throw e;n=t}return n}(Y(Yt(e)),n);Ut(),o=Ht(Vt(s)),n.g4(o)}else n.g4(e)}function tn(t){this.r2y_1=t,this.q2y_1=Gt().d1_1}function en(t,e,n){Ve.call(this,e),this.k2y_1=n,this.l2y_1=new tn(this),this.m2y_1=t;var i,r=this.k2y_1.g();i=Kt(Array(r),null),this.n2y_1=i,this.o2y_1=-1,this.p2y_1=0}function nn(t,e,n){this.t2y_1=t,this.u2y_1=e,this.v2y_1=n}function rn(t){return new on}function on(){var t;t=B(),this.w2y_1=t}function sn(){I=this;var t="undefined"!=typeof window&&void 0!==window.document||"undefined"!=typeof self&&void 0!==self.location;this.x2y_1=null!=t&&"boolean"==typeof t?t:j();var e="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;this.y2y_1=null!=e&&"boolean"==typeof e?e:j(),this.z2y_1=!1,this.a2z_1=!1,this.b2z_1=!1,this.c2z_1=!0}function an(){}function un(t){var e=null==t?null:t.o8(),n=null==e?null:new Date(e),i=null==n?new Date:n;if(Jt(i.getTime()))throw new ln(Y(t));var r=$e().h2w((i.getUTCDay()+6|0)%7|0),o=ke().h2w(i.getUTCMonth());return new be(i.getUTCSeconds(),i.getUTCMinutes(),i.getUTCHours(),r,i.getUTCDate(),i.getUTCFullYear(),o,i.getUTCFullYear(),Qt(i.getTime()))}function ln(t){ee("Invalid date timestamp exception: "+pt(t),this),Bt(this,ln)}function cn(){}function hn(){O=this}return ae.prototype=Object.create(et.prototype),ae.prototype.constructor=ae,Ee.prototype=Object.create(Tt.prototype),Ee.prototype.constructor=Ee,Te.prototype=Object.create(Tt.prototype),Te.prototype.constructor=Te,Ie.prototype=Object.create(It.prototype),Ie.prototype.constructor=Ie,Oe.prototype=Object.create(Ve.prototype),Oe.prototype.constructor=Oe,We.prototype=Object.create(Error.prototype),We.prototype.constructor=We,Ge.prototype=Object.create(Xe.prototype),Ge.prototype.constructor=Ge,Ze.prototype=Object.create(Xe.prototype),Ze.prototype.constructor=Ze,Ke.prototype=Object.create(Xe.prototype),Ke.prototype.constructor=Ke,en.prototype=Object.create(Ve.prototype),en.prototype.constructor=en,ln.prototype=Object.create(te.prototype),ln.prototype.constructor=ln,ne.prototype.toString=function(){return"AttributeKey: "+this.z2t_1},ne.prototype.equals=function(t){return this===t||!(null==t||!P(this).equals(P(t)))&&(t instanceof ne||j(),this.z2t_1===t.z2t_1)},ne.prototype.hashCode=function(){return N(this.z2t_1)},ne.$metadata$=L("AttributeKey"),ie.$metadata$=q("Attributes"),re.prototype.g=function(){return this.j2u_1.g()},re.prototype.l25=function(t){return this.j2u_1.r2(new ye(t))},re.prototype.r2=function(t){return null!=t&&"string"==typeof t&&this.l25(null!=t&&"string"==typeof t?t:j())},re.prototype.m25=function(t){return this.j2u_1.o(ve(t))},re.prototype.o=function(t){return null==t||"string"!=typeof t?null:this.m25(null!=t&&"string"==typeof t?t:j())},re.prototype.m=function(){return this.j2u_1.m()},re.prototype.va=function(){this.j2u_1.va()},re.prototype.k2u=function(t,e){return this.j2u_1.a(ve(t),e)},re.prototype.a=function(t,e){var n=null!=t&&"string"==typeof t?t:j();return this.k2u(n,F(e)?e:j())},re.prototype.l2u=function(t){for(var e=t.z().d();e.e();){var n=e.f(),i=n.a1(),r=n.b1();this.k2u(i,r)}},re.prototype.q3=function(t){return this.l2u(t)},re.prototype.m2u=function(t){return this.j2u_1.p3(ve(t))},re.prototype.p3=function(t){return null==t||"string"!=typeof t?null:this.m2u(null!=t&&"string"==typeof t?t:j())},re.prototype.x2=function(){return new le(this.j2u_1.x2(),(function(t){return t.h2u_1}),(function(t){return ve(t)}))},re.prototype.z=function(){return new le(this.j2u_1.z(),(function(t){return new oe(t.a1().h2u_1,t.b1())}),(function(t){return new oe(ve(t.a1()),t.b1())}))},re.prototype.y2=function(){return this.j2u_1.y2()},re.prototype.equals=function(t){return!(null==t||!(t instanceof re))&&U(t.j2u_1,this.j2u_1)},re.prototype.hashCode=function(){return H(this.j2u_1)},re.$metadata$=L("CaseInsensitiveMap",[V]),oe.prototype.a1=function(){return this.n2u_1},oe.prototype.b1=function(){return this.o2u_1},oe.prototype.p2u=function(t){return this.o2u_1=t,this.o2u_1},oe.prototype.sb=function(t){return this.p2u(null==t||F(t)?t:j())},oe.prototype.hashCode=function(){return(527+H(Y(this.n2u_1))|0)+H(Y(this.o2u_1))|0},oe.prototype.equals=function(t){return!(null==t||null==t||!G(t,W))&&!!U(t.a1(),this.n2u_1)&&U(t.b1(),this.o2u_1)},oe.prototype.toString=function(){return this.n2u_1+"="+this.o2u_1},oe.$metadata$=L("Entry",[Z]),ae.prototype.zt=function(t,e){return D()},ae.$metadata$=L(void 0,[at],void 0,void 0,void 0,et.prototype),ue.prototype.e=function(){return this.r2u_1.e()},ue.prototype.f=function(){return this.s2u_1.u2u_1(this.r2u_1.f())},ue.prototype.z3=function(){return this.r2u_1.z3()},ue.$metadata$=L(void 0,[ut]),le.prototype.x2u=function(t){for(var e=ct(lt(t,10)),n=t.d();n.e();){var i,r=n.f();i=this.v2u_1(r),e.b(i)}return e},le.prototype.y2u=function(t){for(var e=ct(lt(t,10)),n=t.d();n.e();){var i,r=n.f();i=this.u2u_1(r),e.b(i)}return e},le.prototype.g=function(){return this.w2u_1},le.prototype.z2u=function(t){return this.t2u_1.b(this.v2u_1(t))},le.prototype.b=function(t){return this.z2u(null==t||F(t)?t:j())},le.prototype.a2v=function(t){return this.t2u_1.k(this.x2u(t))},le.prototype.k=function(t){return this.a2v(t)},le.prototype.va=function(){this.t2u_1.va()},le.prototype.b2v=function(t){return this.t2u_1.sa(this.v2u_1(t))},le.prototype.sa=function(t){return!(null!=t&&!F(t))&&this.b2v(null==t||F(t)?t:j())},le.prototype.c2v=function(t){return this.t2u_1.ua(this.x2u(t))},le.prototype.ua=function(t){return this.c2v(t)},le.prototype.d2v=function(t){return this.t2u_1.n(this.v2u_1(t))},le.prototype.n=function(t){return!(null!=t&&!F(t))&&this.d2v(null==t||F(t)?t:j())},le.prototype.e2v=function(t){return this.t2u_1.t1(this.x2u(t))},le.prototype.t1=function(t){return this.e2v(t)},le.prototype.m=function(){return this.t2u_1.m()},le.prototype.d=function(){return new ue(this)},le.prototype.hashCode=function(){return H(this.t2u_1)},le.prototype.equals=function(t){if(null==t||null==t||!G(t,ht))return!1;var e,n=this.y2u(this.t2u_1);if(t.t1(n)){var i=t;e=n.t1(i)}else e=!1;return e},le.prototype.toString=function(){return pt(this.y2u(this.t2u_1))},le.$metadata$=L("DelegatingMutableSet",[_t]),ce.$metadata$=q("StringValues"),pe.prototype.f2v=function(){return this.k2v_1},pe.prototype.y2=function(){return this.l2v_1},pe.prototype.g2v=function(t){return this.l2v_1.o(t)},pe.prototype.h2v=function(){return this.l2v_1.x2()},pe.prototype.m=function(){return this.l2v_1.m()},pe.prototype.i2v=function(){return this.l2v_1.z()},pe.prototype.o2v=function(t,e){this.p2v(e);var n=he(this,t);n.va(),n.b(e)},pe.prototype.m25=function(t){var e=this.g2v(t);return null==e?null:ft(e)},pe.prototype.q2v=function(t,e){this.p2v(e),he(this,t).b(e)},pe.prototype.r2v=function(t){var e;t.j2v((e=this,function(t,n){return e.n2v(t,n),D()}))},pe.prototype.n2v=function(t,e){for(var n=he(this,t),i=e.d();i.e();){var r=i.f();this.p2v(r),n.b(r)}D()},pe.prototype.s2v=function(t){this.l2v_1.p3(t)},pe.prototype.va=function(){this.l2v_1.va()},pe.prototype.m2v=function(t){},pe.prototype.p2v=function(t){},pe.$metadata$=L("StringValuesBuilderImpl",[de]),fe.prototype.f2v=function(){return this.t2v_1},fe.prototype.m25=function(t){var e=_e(this,t);return null==e?null:ft(e)},fe.prototype.g2v=function(t){return _e(this,t)},fe.prototype.h2v=function(){return this.u2v_1.x2()},fe.prototype.m=function(){return this.u2v_1.m()},fe.prototype.i2v=function(){return this.u2v_1.z()},fe.prototype.j2v=function(t){for(var e=this.u2v_1.z().d();e.e();){var n=e.f();t(n.a1(),n.b1())}},fe.prototype.toString=function(){return"StringValues(case="+!this.t2v_1+") "+this.i2v()},fe.prototype.equals=function(t){return this===t||!(null==t||!G(t,ce))&&this.t2v_1===t.f2v()&&(e=this.i2v(),n=t.i2v(),U(e,n));var e,n},fe.prototype.hashCode=function(){return t=this.i2v(),e=z(31,0|this.t2v_1),z(e,31)+H(t)|0;var t,e},fe.$metadata$=L("StringValuesImpl",[ce]),de.$metadata$=q("StringValuesBuilder"),ye.prototype.equals=function(t){var e=t instanceof ye?t:null,n=null==e?null:e.h2u_1;return!0===(null==n?null:$t(n,this.h2u_1,!0))},ye.prototype.hashCode=function(){return this.i2u_1},ye.prototype.toString=function(){return this.h2u_1},ye.$metadata$=L("CaseInsensitiveString"),ge.prototype.o=function(t){return this.v2v_1.pm_1.o(t)},ge.$metadata$=L("CopyOnWriteHashMap"),we.$metadata$=kt("Companion"),be.prototype.g2w=function(t){return this.f2w_1.j1(t.f2w_1)},be.prototype.p7=function(t){return this.g2w(t instanceof be?t:j())},be.prototype.toString=function(){return"GMTDate(seconds="+this.x2v_1+", minutes="+this.y2v_1+", hours="+this.z2v_1+", dayOfWeek="+this.a2w_1+", dayOfMonth="+this.b2w_1+", dayOfYear="+this.c2w_1+", month="+this.d2w_1+", year="+this.e2w_1+", timestamp="+pt(this.f2w_1)+")"},be.prototype.hashCode=function(){var t=this.x2v_1;return t=z(t,31)+this.y2v_1|0,t=z(t,31)+this.z2v_1|0,t=z(t,31)+this.a2w_1.hashCode()|0,t=z(t,31)+this.b2w_1|0,t=z(t,31)+this.c2w_1|0,t=z(t,31)+this.d2w_1.hashCode()|0,t=z(t,31)+this.e2w_1|0,z(t,31)+this.f2w_1.hashCode()|0},be.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof be))return!1;var e=t instanceof be?t:j();return this.x2v_1===e.x2v_1&&this.y2v_1===e.y2v_1&&this.z2v_1===e.z2v_1&&!!this.a2w_1.equals(e.a2w_1)&&this.b2w_1===e.b2w_1&&this.c2w_1===e.c2w_1&&!!this.d2w_1.equals(e.d2w_1)&&this.e2w_1===e.e2w_1&&!!this.f2w_1.equals(e.f2w_1)},be.$metadata$=L("GMTDate",[St]),xe.prototype.h2w=function(t){return[(Ce(),o),(Ce(),s),(Ce(),a),(Ce(),u),(Ce(),l),(Ce(),c),(Ce(),h)][t]},xe.$metadata$=kt("Companion"),Ee.$metadata$=L("WeekDay",void 0,void 0,void 0,void 0,Tt.prototype),Ae.prototype.h2w=function(t){return[(Se(),f),(Se(),d),(Se(),m),(Se(),y),(Se(),v),(Se(),g),(Se(),w),(Se(),b),(Se(),x),(Se(),$),(Se(),C),(Se(),E)][t]},Ae.$metadata$=kt("Companion"),Te.$metadata$=L("Month",void 0,void 0,void 0,void 0,Tt.prototype),Ie.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=6,this.hi_1=1;continue t;case 1:if(this.x2w_1=this.w2w_1.e2x_1,-1===this.x2w_1){this.hi_1=5;continue t}this.hi_1=2;continue t;case 2:if(this.y2w_1=this.w2w_1.b2x_1,this.x2w_1>=this.y2w_1.g()){this.w2w_1.f2x(),this.hi_1=5;continue t}this.hi_1=3;continue t;case 3:this.z2w_1=this.y2w_1.l(this.x2w_1),this.w2w_1.e2x_1=this.x2w_1+1|0,this.hi_1=4;var e=this.z2w_1;if((t=(Ot(e,2)?e:j())(this.w2w_1,this.w2w_1.d2x_1,this))===zt())return t;continue t;case 4:this.hi_1=1;continue t;case 5:return this.w2w_1.d2x_1;case 6:throw this.ki_1}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ie.$metadata$=L("$proceedLoopCOROUTINE$0",void 0,void 0,void 0,void 0,It.prototype),Oe.prototype.gn=function(){return this.c2x_1},Oe.prototype.f2x=function(){this.e2x_1=-1},Oe.prototype.g2x=function(t,e){return this.d2x_1=t,this.h2x(e)},Oe.prototype.h2x=function(t){var e=this.e2x_1;return e<0?this.d2x_1:e>=this.b2x_1.g()?(this.f2x(),this.d2x_1):function(t,e){var n=new Ie(t,e);return n.ji_1=D(),n.ki_1=null,n.ri()}(this,t)},Oe.prototype.i2x=function(t,e){return this.e2x_1=0,this.d2x_1=t,this.h2x(e)},Oe.$metadata$=L("DebugPipelineContext",void 0,void 0,void 0,void 0,Ve.prototype),Me.$metadata$=kt("Companion"),Re.prototype.su=function(){return this.m2x_1.m()},Re.prototype.g=function(){return this.m2x_1.g()},Re.prototype.p2x=function(t){var e;this.n2x_1&&((e=this).m2x_1=e.o2x(),e.n2x_1=!1),this.m2x_1.b(t)},Re.prototype.q2x=function(t){var e=this.m2x_1;t instanceof Dt&&t.dc(t.g()+e.g()|0);var n=0,i=e.g();if(n<i)do{var r=n;n=n+1|0,t.b(e.l(r))}while(n<i)},Re.prototype.r2x=function(){return this.n2x_1=!0,this.m2x_1},Re.prototype.o2x=function(){var t=dt();return t.k(this.m2x_1),t},Re.prototype.toString=function(){return"Phase `"+this.k2x_1.s2x_1+"`, "+this.g()+" handlers"},Re.$metadata$=L("PhaseContent"),He.prototype.a2y=function(){return this.u2x_1},He.prototype.b2y=function(t,e,n){return Ne(this,t,e,n.i4()).i2x(e,n)},He.prototype.d2y=function(t,e){if(Be(this,e))return D();var n=qe(this,t);if(-1===n)throw new We("Phase "+t+" was not registered for this pipeline");var i=n,r=n+1|0,o=Pt(this.v2x_1);if(r<=o)t:do{var s=r;r=r+1|0;var a,u=this.v2x_1.l(s),l=u instanceof Re?u:null,c=null==l?null:l.l2x_1;if(null==c)break t;var h=(a=c)instanceof Ge?a:null,p=null==h?null:h.e2y_1;null!=p&&(i=U(p,t)?s:i)}while(s!==o);this.v2x_1.jb(i+1|0,ze(e,new Ge(t)))},He.prototype.f2y=function(t,e){if(Be(this,e))return D();var n=qe(this,t);if(-1===n)throw new We("Phase "+t+" was not registered for this pipeline");this.v2x_1.jb(n,ze(e,new Ze(t)))},He.prototype.g2y=function(t,e){var n=Le(this,t);if(null==n)throw new We("Phase "+t+" was not registered for this pipeline");var i=n;if("function"==typeof e||j(),function(t,e,n){var i=je(t);return!(t.v2x_1.m()||null==i||t.y2x_1||null==i||!G(i,Mt)||(U(t.z2x_1,e)?(i.b(n),0):!U(e,jt(t.v2x_1))&&qe(t,e)!==Pt(t.v2x_1)||(Y(Le(t,e)).p2x(n),i.b(n),0)))}(this,t,e)){var r=this.w2x_1;return this.w2x_1=r+1|0,D()}i.p2x(e);var o,s=this.w2x_1;this.w2x_1=s+1|0,Pe(o=this,null),o.y2x_1=!1,o.z2x_1=null,this.h2y()},He.prototype.h2y=function(){},He.$metadata$=L("Pipeline"),Ve.$metadata$=L("PipelineContext",[Lt]),Ye.prototype.toString=function(){return"Phase('"+this.s2x_1+"')"},Ye.$metadata$=L("PipelinePhase"),We.$metadata$=L("InvalidPhaseException",void 0,void 0,void 0,void 0,Error.prototype),Ge.$metadata$=L("After",void 0,void 0,void 0,void 0,Xe.prototype),Ze.$metadata$=L("Before",void 0,void 0,void 0,void 0,Xe.prototype),Ke.$metadata$=kt("Last",void 0,void 0,void 0,void 0,Xe.prototype),Xe.$metadata$=L("PipelinePhaseRelation"),tn.prototype.i4=function(){var t=this.r2y_1.n2y_1[this.r2y_1.o2y_1],e=null==t?null:t.i4();if(null==e)throw R("Not started");return e},tn.prototype.h4=function(t){if(Wt(t)){Ut();var e,n=Y(Yt(t));return e=Ht(Vt(n)),Qe(this.r2y_1,e),D()}Je(this.r2y_1,!1)},tn.prototype.g4=function(t){return this.h4(t)},tn.$metadata$=L(void 0,[Zt,an]),en.prototype.gn=function(){return this.l2y_1.i4()},en.prototype.s2y=function(){return this.m2y_1},en.prototype.h2x=function(t){var e,n,i,r,o=t;return this.p2y_1!==this.k2y_1.g()?(i=o,(r=n=this).o2y_1=r.o2y_1+1|0,n.n2y_1[r.o2y_1]=i,Je(this,!0)?(function(t){if(t.o2y_1<0)throw R("No more continuations to resume");var e=t,n=e.o2y_1;e.o2y_1=n-1|0,t.n2y_1[n]=null}(this),e=this.m2y_1):e=zt()):e=this.m2y_1,e},en.prototype.g2x=function(t,e){return this.m2y_1=t,this.h2x(e)},en.prototype.i2x=function(t,e){if(this.p2y_1=0,this.p2y_1===this.k2y_1.g())return t;if(this.m2y_1=t,this.o2y_1>=0)throw R("Already started");return this.h2x(e)},en.$metadata$=L("SuspendFunctionGun",void 0,void 0,void 0,void 0,Ve.prototype),nn.prototype.toString=function(){return"TypeInfo(type="+this.t2y_1+", reifiedType="+this.u2y_1+", kotlinType="+this.v2y_1+")"},nn.prototype.hashCode=function(){var t=this.t2y_1.hashCode();return t=z(t,31)+H(this.u2y_1)|0,z(t,31)+(null==this.v2y_1?0:H(this.v2y_1))|0},nn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof nn))return!1;var e=t instanceof nn?t:j();return!!this.t2y_1.equals(e.t2y_1)&&!!U(this.u2y_1,e.u2y_1)&&!!U(this.v2y_1,e.v2y_1)},nn.$metadata$=L("TypeInfo"),on.prototype.b2u=function(t){var e=this.w2y_1.o(t);return null==e||F(e)?e:j()},on.prototype.c2u=function(t){return this.w2y_1.r2(t)},on.prototype.d2u=function(t,e){this.w2y_1.a(t,e)},on.prototype.e2u=function(t){this.w2y_1.p3(t)},on.prototype.f2u=function(t,e){var n=this.w2y_1.o(t);if(null!=n)return F(n)?n:j();var i=e();return this.w2y_1.a(t,i),i},on.prototype.g2u=function(){return Xt(this.w2y_1.x2())},on.$metadata$=L("AttributesJs",[ie]),sn.prototype.d2z=function(){return this.x2y_1},sn.$metadata$=kt("PlatformUtils"),an.$metadata$=q("CoroutineStackFrame"),ln.$metadata$=L("InvalidTimestampException",void 0,void 0,void 0,void 0,te.prototype),cn.$metadata$=q("Type"),hn.$metadata$=kt("JsType",[cn]),ae.prototype.u4=it,ae.prototype.a5=rt,ae.prototype.z4=ot,ae.prototype.b5=st,on.prototype.a2u=function(t){var e=this.b2u(t);if(null==e)throw R("No instance for key "+t);return e},t.$_$=t.$_$||{},t.$_$.a=function(t,e,n){return 0!=(1&e)&&(t=null),un(t)},t.$_$.b=function(t,e,n){return 0!=(1&e)&&(t=null),function(t){var e,n=tt(t);return e=new ae,n.b5(e)}(t)},t.$_$.c=function(){return null==O&&new hn,O},t.$_$.d=function(){return null==I&&new sn,I},t.$_$.e=ge,t.$_$.f=Ve,t.$_$.g=Ye,t.$_$.h=He,t.$_$.i=function(t,e){return e.ge(t)},t.$_$.j=function(t,e,n){return new nn(e,t,n)},t.$_$.k=ne,t.$_$.l=rn,t.$_$.m=function(t){for(var e=this.i2v().d();e.e();){var n=e.f();t(n.a1(),n.b1())}return D()},t.$_$.n=function(t){var e=this.g2v(t);return null==e?null:ft(e)},t.$_$.o=pe,t.$_$.p=de,t.$_$.q=fe,t.$_$.r=ce,t.$_$.s=function(t,e){for(var n=e.i2v().d();n.e();){var i=n.f(),r=i.a1(),o=i.b1();t.n2v(r,o)}return t},t.$_$.t=function(t){for(var e=t.i2v(),n=dt(),i=e.d();i.e();){for(var r=i.f(),o=r.b1(),s=ct(lt(o,10)),a=o.d();a.e();){var u,l=a.f();u=yt(r.a1(),l),s.b(u)}vt(n,s)}return n},t.$_$.u=function(t){var e,n;return n=J(t).toLowerCase(),e=X(n,0),U(new Q(e),new Q(t))},t.$_$.v=function(t,e){for(var n=e.g2u().d();n.e();){var i=n.f();t.d2u(i instanceof ne?i:j(),e.a2u(i))}},t.$_$.w=function(t){for(var e=0,n=t.length,i=K(n);e<n;){var r,o=e;r=X(t,o),i[o]=r,e=e+1|0}return i},t.$_$.x=function(t){var e;t:{var n=0,i=M(t)-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=X(t,r);if(!U(new Q(me(o)),new Q(o))){e=r;break t}}while(n<=i);e=-1}var s=e;if(-1===s)return t;var a=t,u=t.length,l=gt(u);l.jg(a,0,s);var c=s,h=wt(a);if(c<=h)do{var p=c;c=c+1|0,l.s5(me(X(a,p)))}while(p!==h);return l.toString()},t})?i.apply(e,r):i)||(t.exports=o)},9524:function(t,e,n){var i,r,o;r=[e,n(8744),n(7646),n(8538)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k=Math.imul,S=e.$_$.j7,T=e.$_$.eb,I=e.$_$.l1,O=e.$_$.p4,z=e.$_$.xa,M=e.$_$.hd,D=e.$_$.r9,R=e.$_$.bb,P=e.$_$.z9,j=e.$_$.qd,N=e.$_$.ca,L=n.$_$.q1,q=e.$_$.c7,B=e.$_$.s9,F=e.$_$.ee,U=e.$_$.v9,H=n.$_$.p1,V=i.$_$.o,Y=e.$_$.wb,W=i.$_$.q,G=i.$_$.l,Z=i.$_$.c1,K=i.$_$.j,X=i.$_$.g;function J(){m=this;for(var t,e=[nt(),it(),rt(),ot(),st(),at(),ut(),lt(),ct(),ht(),pt(),_t()],n=T(S(e.length),16),i=I(n),r=e,o=0,s=r.length;o<s;){var a,u=r[o];o=o+1|0,a=u.k3b_1,i.a(a,u)}t=i,this.l3b_1=t,this.m3b_1=ht()}function Q(){return tt(),null==m&&new J,m}function tt(){if(y)return O();y=!0,r=new et("NORMAL",0,1e3),o=new et("GOING_AWAY",1,1001),s=new et("PROTOCOL_ERROR",2,1002),a=new et("CANNOT_ACCEPT",3,1003),u=new et("CLOSED_ABNORMALLY",4,1006),l=new et("NOT_CONSISTENT",5,1007),c=new et("VIOLATED_POLICY",6,1008),h=new et("TOO_BIG",7,1009),p=new et("NO_EXTENSION",8,1010),_=new et("INTERNAL_ERROR",9,1011),f=new et("SERVICE_RESTART",10,1012),d=new et("TRY_AGAIN_LATER",11,1013),Q()}function et(t,e,n){M.call(this,t,e),this.k3b_1=n}function nt(){return tt(),r}function it(){return tt(),o}function rt(){return tt(),s}function ot(){return tt(),a}function st(){return tt(),u}function at(){return tt(),l}function ut(){return tt(),c}function lt(){return tt(),h}function ct(){return tt(),p}function ht(){return tt(),_}function pt(){return tt(),f}function _t(){return tt(),d}function ft(t,e){this.p3b_1=t,this.q3b_1=e}function dt(){}function mt(){v=this}function yt(){return null==v&&new mt,v}function vt(){C=this;var t,e=gt();if(0===e.length)t=null;else{var n=e[0],i=q(e);if(0!==i){var r=n.v3b_1,o=1;if(o<=i)do{var s=o;o=o+1|0;var a=e[s],u=a.v3b_1;B(r,u)<0&&(n=a,r=u)}while(s!==i);t=n}else t=n}this.w3b_1=F(t).v3b_1;for(var l=0,c=this.w3b_1+1|0,h=U(Array(c),null);l<c;){var p,_,f=l;t:{for(var d=null,m=!1,y=gt(),v=0,g=y.length;v<g;){var w=y[v];if(v=v+1|0,w.v3b_1===f){if(m){_=null;break t}d=w,m=!0}}_=m?d:null}p=_,h[f]=p,l=l+1|0}this.x3b_1=h}function gt(){return[xt(),$t(),Ct(),(wt(),x),(wt(),$)]}function wt(){if(E)return O();E=!0,g=new bt("TEXT",0,!1,1),w=new bt("BINARY",1,!1,2),b=new bt("CLOSE",2,!0,8),x=new bt("PING",3,!0,9),$=new bt("PONG",4,!0,10),wt(),null==C&&new vt}function bt(t,e,n,i){M.call(this,t,e),this.u3b_1=n,this.v3b_1=i}function xt(){return wt(),g}function $t(){return wt(),w}function Ct(){return wt(),b}function Et(){}function At(t,e){var n=V().x2p_1;return function(t,e,n){Tt.call(n,t,e,!1,!1,!1)}(!0,n.equals(V().x2p_1)?Y(t):W(n.a2q(),t,0,t.length),e),e}function kt(t,e){var n;t:{var i=G(null,1,null);try{Z(i,t.p3b_1),K(i,t.q3b_1,0,0,null,14,null),n=i.i1s();break t}catch(t){throw t instanceof Error?(i.yt(),t):t}}return function(t,e){It.call(e,X(t,0,1,null))}(n,e),e}function St(t,e,n,i,r){zt.call(this,t,$t(),e,yt(),n,i,r)}function Tt(t,e,n,i,r){zt.call(this,t,xt(),e,yt(),n,i,r)}function It(t){zt.call(this,!0,Ct(),t,yt(),!1,!1,!1)}function Ot(){A=this,this.z3b_1=new Int8Array(0)}function zt(t,e,n,i,r,o,s){null==A&&new Ot,this.a3c_1=t,this.b3c_1=e,this.c3c_1=n,this.d3c_1=i,this.e3c_1=r,this.f3c_1=o,this.g3c_1=s}return et.prototype=Object.create(M.prototype),et.prototype.constructor=et,bt.prototype=Object.create(M.prototype),bt.prototype.constructor=bt,St.prototype=Object.create(zt.prototype),St.prototype.constructor=St,Tt.prototype=Object.create(zt.prototype),Tt.prototype.constructor=Tt,It.prototype=Object.create(zt.prototype),It.prototype.constructor=It,J.prototype.n3b=function(t){return this.l3b_1.o(t)},J.$metadata$=z("Companion"),et.prototype.o3b=function(){return this.k3b_1},et.$metadata$=D("Codes",void 0,void 0,void 0,void 0,M.prototype),ft.prototype.o3b=function(){return this.p3b_1},ft.prototype.r1=function(){return this.q3b_1},ft.prototype.r3b=function(){return Q().n3b(this.p3b_1)},ft.prototype.toString=function(){var t=this.r3b();return"CloseReason(reason="+R(null==t?this.p3b_1:t)+", message="+this.q3b_1+")"},ft.prototype.hashCode=function(){var t=this.p3b_1;return k(t,31)+P(this.q3b_1)|0},ft.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ft))return!1;var e=t instanceof ft?t:j();return this.p3b_1===e.p3b_1&&this.q3b_1===e.q3b_1},ft.$metadata$=D("CloseReason"),dt.$metadata$=N("DefaultWebSocketSession",[Et]),mt.prototype.yq=function(){},mt.prototype.toString=function(){return"NonDisposableHandle"},mt.$metadata$=z("NonDisposableHandle",[L]),vt.$metadata$=z("Companion"),bt.prototype.y3b=function(){return this.v3b_1},bt.$metadata$=D("FrameType",void 0,void 0,void 0,void 0,M.prototype),Et.$metadata$=N("WebSocketSession",[H]),St.$metadata$=D("Binary",void 0,void 0,void 0,void 0,zt.prototype),Tt.$metadata$=D("Text",void 0,void 0,void 0,void 0,zt.prototype),It.$metadata$=D("Close",void 0,void 0,void 0,void 0,zt.prototype),Ot.$metadata$=z("Companion"),zt.prototype.toString=function(){return"Frame "+this.b3c_1+" (fin="+this.a3c_1+", buffer len = "+this.c3c_1.length+")"},zt.$metadata$=D("Frame"),t.$_$=t.$_$||{},t.$_$.a=st,t.$_$.b=ht,t.$_$.c=function(t,e){return function(t,e,n){return St.call(n,t,e,!1,!1,!1),n}(t,e,Object.create(St.prototype))},t.$_$.d=function(t){return kt(t,Object.create(It.prototype))},t.$_$.e=function(t){return At(t,Object.create(Tt.prototype))},t.$_$.f=Q,t.$_$.g=ft,t.$_$.h=dt,t})?i.apply(e,r):i)||(t.exports=o)},7617:function(t,e,n){var i,r,o;r=[e,n(8351),n(8744),n(729),n(769),n(2168),n(7506),n(1261),n(9006),n(7646),n(3645),n(4817),n(9771),n(4658),n(6945),n(7220),n(4813),n(4781),n(929),n(9961)],void 0===(o="function"==typeof(i=function(t,e,i,r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w){"use strict";var b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N=Math.imul,L=e.Map,q=i.$_$.xa,B=i.$_$.p4,F=r.$_$.a,U=o.$_$.b,H=r.$_$.b,V=i.$_$.r9,Y=i.$_$.qd,W=i.$_$.ee,G=i.$_$.d9,Z=i.$_$.o8,K=s.$_$.j,X=s.$_$.h,J=s.$_$.o,Q=i.$_$.d,tt=s.$_$.k,et=i.$_$.ca,nt=s.$_$.i,it=i.$_$.se,rt=i.$_$.bb,ot=i.$_$.z9,st=i.$_$.x9,at=i.$_$.t9,ut=s.$_$.a,lt=s.$_$.e,ct=(i.$_$.e9,a.$_$.e),ht=o.$_$.a,pt=o.$_$.c,_t=o.$_$.x,ft=u.$_$.v1,dt=l.$_$.a,mt=c.$_$.p1,yt=i.$_$.la,vt=c.$_$.v,gt=c.$_$.o1,wt=c.$_$.q,bt=(i.$_$.f9,h.$_$.z1),xt=h.$_$.o,$t=h.$_$.s,Ct=h.$_$.m,Et=h.$_$.n,At=i.$_$.md,kt=h.$_$.e,St=h.$_$.w1,Tt=h.$_$.x1,It=h.$_$.c2,Ot=h.$_$.u1,zt=s.$_$.l,Mt=p.$_$.a,Dt=p.$_$.c,Rt=p.$_$.e,Pt=i.$_$.aa,jt=_.$_$.a,Nt=f.$_$.a,Lt=d.$_$.b,qt=m.$_$.f,Bt=m.$_$.h,Ft=y.$_$.j,Ut=m.$_$.j,Ht=v.$_$.c,Vt=i.$_$.ae,Yt=i.$_$.a,Wt=v.$_$.j,Gt=m.$_$.a,Zt=m.$_$.l,Kt=d.$_$.a,Xt=i.$_$.w5,Jt=i.$_$.c1,Qt=g.$_$.a,te=g.$_$.b,ee=i.$_$.m6,ne=i.$_$.p9,ie=i.$_$.z7,re=p.$_$.b,oe=p.$_$.d,se=s.$_$.f,ae=d.$_$.e,ue=d.$_$.d,le=d.$_$.c,ce=d.$_$.f,he=w.$_$.a,pe=c.$_$.h,_e=u.$_$.d1,fe=o.$_$.z,de=o.$_$.v,me=o.$_$.h1,ye=i.$_$.na,ve=c.$_$.f1,ge=o.$_$.r,we=l.$_$.b,be=o.$_$.o,xe=u.$_$.t1,$e=o.$_$.y,Ce=i.$_$.pb,Ee=i.$_$.rd,Ae=i.$_$.w9,ke=u.$_$.p1,Se=u.$_$.b1,Te=u.$_$.q1,Ie=u.$_$.r1,Oe=i.$_$.t6,ze=i.$_$.h7,Me=c.$_$.g,De=c.$_$.c1,Re=i.$_$.j6,Pe=o.$_$.u,je=o.$_$.e1,Ne=o.$_$.f1,Le=i.$_$.d1,qe=i.$_$.m1,Be=i.$_$.od,Fe=i.$_$.hd,Ue=o.$_$.d,He=i.$_$.m2,Ve=o.$_$.e,Ye=o.$_$.f,We=o.$_$.p,Ge=o.$_$.i,Ze=o.$_$.k,Ke=i.$_$.k4,Xe=i.$_$.i3,Je=i.$_$.q8,Qe=c.$_$.t1,tn=c.$_$.i1,en=i.$_$.i,nn=i.$_$.ua,rn=o.$_$.b1,on=o.$_$.t,sn=o.$_$.h,an=o.$_$.m,un=i.$_$.nb,ln=i.$_$.z3,cn=c.$_$.d,hn=o.$_$.n,pn=i.$_$.h5,_n=c.$_$.a1,fn=c.$_$.z,dn=c.$_$.b,mn=c.$_$.e1,yn=c.$_$.b1,vn=c.$_$.d1,gn=u.$_$.m1,wn=u.$_$.h1,bn=u.$_$.c1,xn=u.$_$.d,$n=u.$_$.x,Cn=u.$_$.e,En=u.$_$.y,An=u.$_$.j1,kn=u.$_$.g,Sn=u.$_$.u,Tn=u.$_$.t,In=u.$_$.k1,On=u.$_$.c,zn=u.$_$.i,Mn=u.$_$.r,Dn=u.$_$.g1,Rn=u.$_$.i1,Pn=u.$_$.w,jn=u.$_$.f,Nn=u.$_$.e1,Ln=u.$_$.v,qn=u.$_$.q,Bn=u.$_$.a,Fn=u.$_$.p,Un=u.$_$.k,Hn=u.$_$.n,Vn=u.$_$.o,Yn=u.$_$.m,Wn=u.$_$.l,Gn=u.$_$.b,Zn=u.$_$.u1,Kn=o.$_$.s,Xn=i.$_$.qb,Jn=i.$_$.y9,Qn=u.$_$.a1,ti=u.$_$.w1,ei=i.$_$.r6,ni=u.$_$.s,ii=u.$_$.h,ri=u.$_$.l1,oi=u.$_$.n1,si=u.$_$.o1,ai=u.$_$.s1,ui=u.$_$.z,li=u.$_$.f1,ci=u.$_$.j;function hi(){b=this,this.g5z_1="pk.eyJ1IjoiZGVsbGlzZCIsImEiOiJja3hwOWxhbTExc3I3MnBtd25jcXVjb2JnIn0.1fP9HzNcbjsfUc680y9eMg",this.h5z_1=0}function pi(){return null==b&&new hi,b}function _i(t){return t.k5z_1.d2d("ca.derekellis.reroute.`data`.DataSource",(e=t,function(){return e.n5z(di(e))}));var e}function fi(t){return t.k5z_1.d2d("ca.derekellis.reroute.map.MapInteractionsManager",(function(){return new Sr}))}function di(t){return t.k5z_1.d2d("ca.derekellis.reroute.db.DatabaseHelper",(function(){return new wr}))}function mi(t){return function(e,n){var i=e;return 2==(11&n)&&i.p3q()?i.p3m():Ho(t.k5z_1.d2d("ca.derekellis.reroute.search.SearchViewModel",function(t){return function(){return new vo(_i(t),fi(t))}}(t)),i,0),B()}}function yi(t){return function(e,n){var i=e;return 2==(11&n)&&i.p3q()?i.p3m():Cr(t.k5z_1.d2d("ca.derekellis.reroute.map.ui.MapViewModel",function(t){return function(){return new mo(_i(t),fi(t))}}(t)),i,0),B()}}function vi(t){return function(e,n,i){var r=n,o=i;return 0==(14&i)&&(o|=r.c3h(e)?4:2,B()),18==(91&o)&&r.p3q()?r.p3m():No(t.k5z_1.d2d("ca.derekellis.reroute.stops.StopsViewModel",function(t){return function(){return new Do(_i(t),fi(t))}}(t)),e,r,112&o<<3),B()}}function gi(t){return function(){return new Fi(t.k5z_1.d2d("ca.derekellis.reroute.`data`.ResourceLoader",function(t){return function(){return new sr(di(t))}}(t)))}}function wi(){br.call(this),this.k5z_1=new F,this.l5z_1=8}function bi(t){this.s5z_1=t,this.t5z_1=8}function xi(t){this.u5z_1=t,this.v5z_1=0}function $i(t,e){return function(n){return n.lm(0,t.x5z_1.s5z_1.sj(e.u5z_1)),B()}}function Ci(t,e,n){G.call(this,n),this.h60_1=t,this.i60_1=e}function Ei(t,e){K.call(this,t),this.x5z_1=e,this.y5z_1=8}function Ai(){x=this}function ki(){return null==x&&new Ai,x}function Si(){ki()}function Ti(t,e,n){this.r60_1=t,nt.call(this,n),this.q60_1=e}function Ii(t){K.call(this,t),this.t60_1=0}function Oi(t,e,n,i,r,o,s,a,u){this.w60_1=t,this.x60_1=e,this.y60_1=n,this.z60_1=i,this.a61_1=r,this.b61_1=o,this.c61_1=s,this.d61_1=a,this.e61_1=u,this.f61_1=0}function zi(t,e,n){this.i61_1=t,nt.call(this,n),this.h61_1=e}function Mi(t,e,n,i,r,o,s,a,u){return function(l){return l.lm(0,t),l.lm(1,e),l.lm(2,n),l.lm(3,i),l.km(4,r),l.km(5,o),l.jm(6,s),l.lm(7,a),l.jm(8,u),B()}}function Di(t,e,n,i,r,o,s,a,u,l,c){G.call(this,c),this.r61_1=t,this.s61_1=e,this.t61_1=n,this.u61_1=i,this.v61_1=r,this.w61_1=o,this.x61_1=s,this.y61_1=a,this.z61_1=u,this.a62_1=l}function Ri(t){K.call(this,t),this.c62_1=0}function Pi(t){return null==$&&new Li,$}function ji(t,e){this.o62_1=t,G.call(this,e)}function Ni(t){G.call(this,t)}function Li(){$=this,this.x62_1=0}function qi(t,e){K.call(this,t),this.z62_1=new Ei(t,e),this.a63_1=new Ii(t),this.b63_1=new Ri(t)}function Bi(t,e){this.o63_1=t,G.call(this,e)}function Fi(t){this.c63_1=t,this.d63_1=gt(vt().kz()),this.e63_1=8}function Ui(){}function Hi(t,e){this.x63_1=t,this.y63_1=e,this.z63_1=0}function Vi(){C=this;var t=new bt("ca.derekellis.reroute.data.ResourceLoader.Stop",this,6);t.h1w("stop_id",!1),t.h1w("stop_code",!0),t.h1w("stop_name",!1),t.h1w("stop_lat",!1),t.h1w("stop_lon",!1),t.h1w("location_type",!1),this.a64_1=t,this.b64_1=8}function Yi(){return null==C&&new Vi,C}function Wi(t,e,n,i,r,o,s,a){return function(t,e,n,i,r,o,s,a,u){return 61!=(61&t)&&It(t,61,Yi().a64_1),u.d64_1=e,u.e64_1=0==(2&t)?null:n,u.f64_1=i,u.g64_1=r,u.h64_1=o,u.i64_1=s,u}(t,e,n,i,r,o,s,0,Object.create(tr.prototype))}function Gi(){E=this}function Zi(){A=this;var t=new bt("ca.derekellis.reroute.data.ResourceLoader.Data",this,1);t.h1w("stops",!1),this.j64_1=t,this.k64_1=8}function Ki(){return null==A&&new Zi,A}function Xi(t,e,n){return function(t,e,n,i){return 1!=(1&t)&&It(t,1,Ki().j64_1),i.m64_1=e,i}(t,e,0,Object.create(er.prototype))}function Ji(t,e,n){this.v64_1=t,this.w64_1=e,G.call(this,n)}function Qi(t,e,n){var i=new Ji(t,e,n),r=function(t,e){return i.c65(t,e)};return r.$arity=1,r}function tr(){}function er(t){null==E&&new Gi,this.m64_1=t}function nr(){return function(t){var e=Nt();return t.d53(e,(function(t){return jt(t,null,null,3,null),B()})),B()}}function ir(t,e){this.m65_1=t,G.call(this,e)}function rr(t,e){var n=new ir(t,e),i=function(t,e){return n.p65(t,e)};return i.$arity=1,i}function or(t,e){G.call(this,e),this.z65_1=t}function sr(t){this.q63_1=t;var e=Gt();this.r63_1=Zt(e,nr()),this.s63_1=8}function ar(t,e){this.s66_1=t,G.call(this,e)}function ur(t,e){var n=new ar(t,e),i=function(t,e){return n.u66(t,e)};return i.$arity=1,i}function lr(t){G.call(this,t)}function cr(t,e){this.n67_1=t,G.call(this,e)}function hr(t,e,n){G.call(this,n),this.x67_1=t,this.y67_1=e}function pr(t){this.z67_1=t,this.a68_1=8}function _r(t,e,n,i,r,o,s,a){this.b68_1=t,this.c68_1=e,this.d68_1=n,this.e68_1=i,this.f68_1=r,this.g68_1=o,this.h68_1=s,this.i68_1=a,this.j68_1=0}function fr(){k=this,this.k68_1=0}function dr(){S=this,this.z68_1="user_version"}function mr(){return null==S&&new dr,S}function yr(t,e){G.call(this,e),this.i69_1=t}function vr(t,e,n){G.call(this,n),this.u69_1=t,this.v69_1=e}function gr(t,e){G.call(this,e),this.v68_1=t}function wr(){mr();var t;t=new Worker(new URL(n.p+n.u(282),n.b)),this.f66_1=new he(t),this.g66_1=ki().l60(this.f66_1,new bi((null==k&&new fr,k))),this.h66_1=pe(!1,1,null),this.i66_1=8}function br(){this.m5z_1=0}function xr(){T=this,this.d6a_1=U(-637431742,!1,(function(t,e,n){var i=e,r=n;return 0==(14&n)&&(r|=i.c3h(t)?4:2,B()),18==(91&r)&&i.p3q()?i.p3m():(t.b6a(_e(4.1,89.6,58.4),i,112&r<<3),t.c6a(5,i,6|112&r<<3)),B()})),this.e6a_1=U(583999158,!1,(function(t,e,n){var i=e;return t.i6a("stop-circles",$r().d6a_1,i,566,0),B()}))}function $r(){return null==T&&new xr,T}function Cr(t,e,n){var i=e;de()&&fe(1307560217,-1,-1,"ca.derekellis.reroute.map.MapDemo$composable (MapDemo.kt:27)"),i=i.k3s(1307560217),_t(i,"C(MapDemo$composable)");var r,o,s,a,u,l=n;if(0==(14&n)&&(l|=i.c3h(t)?4:2),2==(11&l)&&i.p3q())i.p3m();else{var c=Jr(new Hi(-75.7181,45.3922),11,0,0,i,0,12),h=i;h.x3g(547886695),_t(h,"C(remember$composable)");var p,_=h,f=_.y3g();if(f===me().a3h_1){var d=t.m6a_1;_.z3g(d),p=d}else p=f;var m=p,y=null==m||ye(m)?m:Y();h.b3h();var v=y,g=i;g.x3g(547886695),_t(g,"C(remember$composable)");var w,b=g,x=b.y3g();if(x===me().a3h_1){var $=(a=new Ar(null),(u=function(t,e){return a.x6a(t,e)}).$arity=1,u);b.z3g($),w=$}else w=x;var C=w,E=null==C||ye(C)?C:Y();g.b3h();var A=ve(v,E),k=ge(A,null,null,i,48,2),S=ge(t.l6a_1,null,null,i,48,2),T=we().m3w(i,6),I=Er(S);be(I,function(t,e,n){var i=new kr(t,e,n),r=function(t,e){return i.r2l(t,e)};return r.$arity=1,r}(c,S,null),i,0),xe(null,pt(i,996801269,!0,(r=c,o=T,s=k,function(t,e,n){var i=e;if(16==(81&n)&&i.p3q())i.p3m();else{var a=pi().g5z_1,u=i;u.x3g(547886695),_t(u,"C(remember$composable)");var l,c=u,h=c.y3g();if(h===me().a3h_1){var p=function(t){return t.d4j((function(t){return Se(t,ke(100)),Ie(t,Te(100)),B()})),B()};c.z3g(p),l=p}else l=h;var _=l,f=null==_||ye(_)?_:Y();u.b3h();var d=f,m=function(t){return function(e){var n=ze("stop-circles");e.v6b(n,function(t){return function(e){var n;n=e.features;var i,r=Oe(n),o=null==(i=null==r?null:r.properties)?null:i.code,s="/stops/"+(null!=o&&"string"==typeof o?o:Y());return t.u4y(s,!1,2,null),B()}}(t));var i=ze("stop-circles");e.w6b(i,(function(t){return t.target.getCanvas().style.cursor="pointer",B()}));var r=ze("stop-circles");return e.x6b(r,(function(t){return t.target.getCanvas().style.cursor="",B()})),B()}}(o);Xr(a,"mapbox://styles/mapbox/navigation-day-v1",r,!1,d,m,pt(i,-1149438133,!0,function(t){return function(e,n,i){var r=n,o=function(t){return Ae("data",Ce,!1,(function(){return Ee()})),t.b1()}(t);return null==o||(e.a6c("stops",o,$r().e6a_1,r,4486),B()),B()}}(s)),i,1573430,8)}return B()})),i,48,1)}var O,z,M=i.l3s();null===M||M.k3t((O=t,z=n,function(t,e){return function(t,e,n,i){Cr(t,n,1|e)}(O,z,t),B()})),de()&&$e()}function Er(t){return Ae("targetStop",Ce,!1,(function(){return Ee()})),t.b1()}function Ar(t){G.call(this,t)}function kr(t,e,n){this.h6b_1=t,this.i6b_1=e,G.call(this,n)}function Sr(){this.b6c_1=Me(0,0,null,7,null),this.c6c_1=De(this.b6c_1),this.d6c_1=0}function Tr(t){this.t6b_1=t,this.u6b_1=8}function Ir(t,e){this.f6c_1=t,this.g6c_1=e,this.h6c_1=8}function Or(t,e){Ir.call(this,t,e),this.a6a_1=0}function zr(){}function Mr(){zr.call(this);var t;t=Le(),this.n6c_1=t}function Dr(t,e){zr.call(this),this.o6c_1=t,this.p6c_1=e;var n;n=Le(),this.q6c_1=n}function Rr(t,e){zr.call(this),this.s6c_1=t,this.t6c_1=e;var n;n=Le(),this.u6c_1=n}function Pr(t,e,n){zr.call(this),this.j6c_1=t,this.k6c_1=e,this.l6c_1=n}function jr(){if(z)return B();z=!0,I=new Nr("LAYOUT",0),O=new Nr("PAINT",1)}function Nr(t,e){Fe.call(this,t,e)}function Lr(){return jr(),O}function qr(t){Ue.call(this,new Mr),this.d6d_1=t}function Br(t,e){return function(){return new Dr(t,Vo(function(t){return function(e){return e.type="geojson",e.data=t,B()}}(e)))}}function Fr(t){this.y6b_1=t,this.z6b_1=8}function Ur(t,e,n){var i,r,o=new We(t.gn()),s=Ge(new qr(e),o),a=Ze();wt(t,a,null,(i=new Hr(o,null),(r=function(t,e){return i.r2l(t,e)}).$arity=1,r),2,null);var u,l,c=new Fr(e);s.h3w(U(-79406127,!0,(u=n,l=c,function(t,e){var n=t;if(2==(11&e)&&n.p3q())n.p3m();else{var i=u;i instanceof ht?i.o3q(l,n,8):i(l,n,8)}return B()})))}function Hr(t,e){this.o6d_1=t,G.call(this,e)}function Vr(t){return[t.x63_1,t.y63_1]}function Yr(t,e,n,i,r,o,s){return function(){var a=t.q6b_1;return null==a||a.flyTo(Vo(function(t,e,n,i,r,o){return function(s){return s.center=Vr(t),s.zoom=e,s.bearing=n,s.pitch=i,s.padding=r,null==o||o(s),B()}}(e,n,i,r,o,s))),B()}}function Wr(t,e){return function(n){var i;return t._v||(Ke(),i=Xe(B()),e.g4(i)),t._v=!0,B()}}function Gr(t,e){return function(n){var i=t.q6b_1;null==i||i.stop();var r=t.q6b_1;return null==r||r.off("moveend",e._v),B()}}function Zr(t,e,n){G.call(this,n),this.c6e_1=t,this.d6e_1=e}function Kr(t,e,n,i){this.m6b_1=t,this.n6b_1=e,this.o6b_1=n,this.p6b_1=i,this.q6b_1=null,this.r6b_1=8}function Xr(t,e,n,i,r,o,s,a,u,l){var c={_v:n},h={_v:i},p={_v:r},_={_v:o},f=a;de()&&fe(1208091192,-1,-1,"ca.derekellis.reroute.map.compose.MapboxMap$composable (MapboxMap.kt:195)"),f=f.k3s(1208091192),_t(f,"C(MapboxMap$composable)P(!1,6,5,3)");var d,m,y,v,g,w,b,x,$,C=u;if(0!=(1&l)?C|=6:0==(14&u)&&(C|=f.c3h(t)?4:2),0!=(2&l)?C|=48:0==(112&u)&&(C|=f.c3h(e)?32:16),0!=(4&l)&&(C|=128),0!=(8&l)?C|=3072:0==(7168&u)&&(C|=f.c3s(h._v)?2048:1024),0==(57344&u)&&(C|=0==(16&l)&&f.c3h(p._v)?16384:8192),0==(458752&u)&&(C|=0==(32&l)&&f.c3h(_._v)?131072:65536),0!=(64&l)?C|=1572864:0==(3670016&u)&&(C|=f.c3h(s)?1048576:524288),4==(4&l)&&599186==(2995931&C)&&f.p3q())f.p3m();else{if(f.p3r(),0==(1&u)||f.t3r()){if(0!=(4&l)&&(c._v=Jr(null,0,0,0,f,0,15),C&=-897),0!=(8&l)&&(h._v=!1),0!=(16&l)){var E,A=f;A.x3g(547886695),_t(A,"C(remember$composable)");var k,S=A,T=S.y3g();if(T===me().a3h_1){var I=function(t){return B()};S.z3g(I),k=I}else k=T;var O=k,z=null==O||ye(O)?O:Y();A.b3h(),E=z,p._v=E,C&=-57345}if(0!=(32&l)){var M,D=f;D.x3g(547886695),_t(D,"C(remember$composable)");var R,P=D,j=P.y3g();if(j===me().a3h_1){var N=function(t){return B()};P.z3g(N),R=N}else R=j;var q=R,F=null==q||ye(q)?q:Y();D.b3h(),M=F,_._v=M,C&=-458753}}else f.p3m(),0!=(4&l)&&(C&=-897),0!=(16&l)&&(C&=-57345),0!=(32&l)&&(C&=-458753);f.q3r();var U=f;U.x3g(547886695),_t(U,"C(remember$composable)");var H,V=U,G=V.y3g();if(G===me().a3h_1){var Z=rn(null,null,2,null);V.z3g(Z),H=Z}else H=G;var K=H,X=null==K||ye(K)?K:Y();U.b3h();var J=X,Q=null,tt=f;tt.x3g(102870005),_t(tt,"C(rememberCoroutineScope$composable)"),Q=function(){return ln()};var et=tt,nt=tt;nt.x3g(547886695),_t(nt,"C(remember$composable)");var it,rt=nt,ot=rt.y3g();if(ot===me().a3h_1){var st=new sn(on(Q(),et));rt.z3g(st),it=st}else it=ot;var at=it,ut=null==at||ye(at)?at:Y();nt.b3h();var lt=ut.z3w_1;tt.b3h();var ct=(d=p,m=c,y=t,v=e,g=h,w=J,b=lt,x=s,$=_,function(t){return d._v(t),t.f4j(function(t,e,n,i,r,o,s,a){return function(u,l){(function(t,e){Ae("map",un,!0,(function(){return Ee()})),t.t16(e)})(r,new L(Vo(function(t,e,n,i,r){return function(o){return o.accessToken=t,o.container=e,o.style=n,o.hash=i._v,o.center=Vr(r._v.m6b_1),o.zoom=r._v.n6b_1,o.bearing=r._v.o6b_1,o.pitch=r._v.p6b_1,B()}}(e,l,n,i,t)))),console.dir(W(Qr(r)));var c=Qr(r);null==c||c.resize(),t._v.i6e(Qr(r));var h={_v:null},p=Qr(r);return null==p||p.on("style.load",function(t,e,n,i,r){return function(o){var s=t._v;return null==s||s.no(null,1,null),t._v=wt(e,null,null,function(t,e,n,i){var r=new to(t,e,n,i),o=function(t,e){return r.r2l(t,e)};return o.$arity=1,o}(n,i,r,null),3,null),B()}}(h,o,s,a,r)),new eo}}(m,y,v,g,w,b,x,$)),B()});xe(ct,null,f,0,2);var ht=f;ht.x3g(-1124426577),_t(ht,"C(remember$composable)P(1,2)");var pt,ft=ht,dt=!!(ht.c3h(J)|ht.c3h(e)),mt=ft.y3g();if(dt||mt===me().a3h_1){var yt=function(t,e){return function(n){var i=Qr(e);return null==i||i.setStyle(t),new no}}(e,J);ft.z3g(yt),pt=yt}else pt=mt;var vt=pt,gt=null==vt||ye(vt)?vt:Y();ht.b3h(),an(e,gt,f,14&C>>3)}var bt=f.l3s();null===bt||bt.k3t(function(t,e,n,i,r,o,s,a,u){return function(l,c){return function(t,e,n,i,r,o,s,a,u,l,c){Xr(t,e,n._v,i._v,r._v,o._v,s,l,1|a,u)}(t,e,n,i,r,o,s,a,u,l),B()}}(t,e,c,h,p,_,s,u,l)),de()&&$e()}function Jr(t,e,n,i,r,o,s){var a=t,u=e,l=n,c=i,h=r;h.x3g(-794945509),_t(h,"C(rememberMapboxState$composable)P(1,3)"),0!=(1&s)&&(a=new Hi(0,0)),0!=(2&s)&&(u=0),0!=(4&s)&&(l=0),0!=(8&s)&&(c=0);var p=h;p.x3g(547886695),_t(p,"C(remember$composable)");var _,f=p,d=f.y3g();if(d===me().a3h_1){var m=new Kr(a,u,l,c);f.z3g(m),_=m}else _=d;var y=_,v=null==y||ye(y)?y:Y();p.b3h();var g=v;return h.b3h(),g}function Qr(t){return Ae("map",un,!0,(function(){return Ee()})),t.b1()}function to(t,e,n,i){this.x6e_1=t,this.y6e_1=e,this.z6e_1=n,G.call(this,i)}function eo(){}function no(){}function io(t,e,n,i,r,o,s){var a=o;de()&&fe(-1122065051,-1,-1,"ca.derekellis.reroute.map.compose.SourceScope.Layer$composable (SourceScope.kt:12)"),a=a.k3s(-1122065051);var u,l,c,h=s,p=(u=e,l=n,c=t,function(){return new Rr(u,Vo(function(t,e,n){return function(i){return i.type=t,i.source=e.f6a_1,i.id=n,B()}}(l,c,u)))}),_=a;_.x3g(-1932960305),_t(_,"C(ComposeNode$composable)P(1,2)"),_.k3r()instanceof qr||Pe(),_.s3m(),_.v3r()?_.x3r(p):_.z3r();var f=je(_);Ne(f,e,function(t){return function(e,n){return e.s6c_1=t,B()}}(e));var d=_,m=r;m instanceof ht?m.o3q(i,d,8&h>>6|14&h>>6|112&h>>6):m(i,d,8&h>>6|14&h>>6|112&h>>6),_.a3s(),_.b3h();var y=t,v=a.l3s();null===v||v.k3t(function(t,e,n,i,r,o){return function(s,a){return function(t,e,n,i,r,o,s,a){io(t,e,n,i,r,s,1|o)}(t,e,n,i,r,o,s),B()}}(y,e,n,i,r,s)),de()&&$e()}function ro(t,e){this.f6a_1=t,this.g6a_1=e,this.h6a_1=8}function oo(){M=this,this.b6f_1=U(-325927929,!1,(function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():B(),B()})),this.c6f_1=U(2068562535,!1,(function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():B(),B()})),this.d6f_1=U(-1851340217,!1,(function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():B(),B()})),this.e6f_1=U(-2090935737,!1,(function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():B(),B()})),this.f6f_1=U(-1233332921,!1,(function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():B(),B()}))}function so(t,e){return function(n){var i,r;return n.type="Point",i=[t.f68_1.x63_1,t.f68_1.y63_1],n.coordinates=i,r=Vo(function(t){return function(e){return e.name=t.d68_1,e.code=t.c68_1,e.id=t.b68_1,B()}}(t)),e.properties=r,B()}}function ao(t){return function(e){return e.type="Feature",e.geometry=Vo(so(t,e)),B()}}function uo(t){return function(e){var n;return e.type="FeatureCollection",n=Re(t),e.features=n,B()}}function lo(t,e){this.o6f_1=t,G.call(this,e)}function co(t,e){var n=new lo(t,e),i=function(t,e){return n.s6f(t,e)};return i.$arity=1,i}function ho(t,e,n){G.call(this,n),this.c6g_1=t,this.d6g_1=e}function po(t){this.e6g_1=t}function _o(t){this.g6g_1=t}function fo(t,e){this.p6g_1=t,G.call(this,e)}function mo(t,e){var n,i;this.j6a_1=t,this.k6a_1=e,this.l6a_1=this.k6a_1.c6c_1,this.m6a_1=mn((n=new fo(this,null),(i=function(t,e){return n.t6g(t,e)}).$arity=1,i)),this.n6a_1=0}function yo(t,e,n){G.call(this,n),this.e6h_1=t,this.f6h_1=e}function vo(t,e){this.g6h_1=t,this.h6h_1=e,this.i6h_1=yn(ee()),this.j6h_1=vn(this.i6h_1),this.k6h_1=0}function go(){return function(t){xn(),$n(t,"flex"),Ie(t,In(100)),Se(t,gn(72)),Cn(),En(t,"column"),jn(),Nn(t,"center"),Ln(t,"border-box"),An(t,[gn(9)]);var e=t.m4q(t.j4q());return t.l4q(e,(function(t){return Mn(t,_e(0,0,93)),Pn(t,["pointer"]),B()})),B()}}function wo(){D=this,Bn(null,!1,3,null,this),this.q6h_1=this.h4t((function(t){return wn(t,[gn(16)]),Ie(t,gn(350)),bn(t,"auto"),xn(),$n(t,"flex"),Cn(),En(t,"column"),B()})).c4t(this,Jn("searchContainer",1,Xn,(function(t){return t.v6h()}),null)),this.r6h_1=this.h4t((function(t){An(t,[gn(8)]);var e=gn(1);return kn(),Sn(t,e,"solid",_e(0,0,93)),Tn(t,gn(8)),t.k4q("box-shadow","0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)"),B()})).c4t(this,Jn("searchInput",1,Xn,(function(t){return t.w6h()}),null)),this.s6h_1=this.h4t((function(t){var e;return xn(),$n(t,"flex"),Cn(),En(t,"column"),Ie(t,In(100)),On(),e=zn("white"),Mn(t,e),Tn(t,gn(8)),Dn(t,gn(8)),Rn(t,"hidden"),t.k4q("user-select","none"),B()})).c4t(this,Jn("resultsContainer",1,Xn,(function(t){return t.x6h()}),null)),this.t6h_1=this.h4t(go()).c4t(this,Jn("searchResult",1,Xn,(function(t){return t.y6h()}),null)),this.u6h_1=0}function bo(){return null==D&&new wo,D}function xo(t,e,n,i,r){var o={_v:e},s=n;de()&&fe(1601867326,-1,-1,"ca.derekellis.reroute.search.ui.SearchBar$composable (Search.kt:91)"),s=s.k3s(1601867326),_t(s,"C(SearchBar$composable)P(1)");var a,u,l=i;if(0!=(1&r)?l|=6:0==(14&i)&&(l|=s.c3h(t)?4:2),0==(112&i)&&(l|=0==(2&r)&&s.c3h(o._v)?32:16),18==(91&l)&&s.p3q())s.p3m();else{if(s.p3r(),0==(1&i)||s.t3r()){if(0!=(2&r)){var c,h=s;h.x3g(547886695),_t(h,"C(remember$composable)");var p,_=h,f=_.y3g();if(f===me().a3h_1){var d=function(t){return B()};_.z3g(d),p=d}else p=f;var m=p,y=null==m||ye(m)?m:Y();h.b3h(),c=y,o._v=c,l&=-113}}else s.p3m(),0!=(2&r)&&(l&=-113);s.q3r();var v=Gn(),g=o._v,w=s;w.x3g(-1124426577),_t(w,"C(remember$composable)P(1,2)");var b,x=w,$=!!(w.c3h(t)|w.c3h(g)),C=x.y3g();if($||C===me().a3h_1){var E=(a=t,u=o,function(t){return t.e4j([bo().w6h()]),t.g4q(function(t){return function(e){return t(e.l4w_1),B()}}(a)),t.j4j(function(t){return function(e){return t._v(!0),B()}}(u)),t.k4j(function(t){return function(e){return t._v(!1),B()}}(u)),B()});x.z3g(E),b=E}else b=C;var A=b,k=null==A||ye(A)?A:Y();w.b3h(),Zn(v,k,s,6)}var S=s.l3s();null===S||S.k3t(function(t,e,n,i){return function(r,o){return function(t,e,n,i,r,o){xo(t,e._v,r,1|n,i)}(t,e,n,i,r),B()}}(t,o,i,r)),de()&&$e()}function $o(t,e,n){var i=e;de()&&fe(-2077514027,-1,-1,"ca.derekellis.reroute.search.ui.Search$composable (Search.kt:103)"),i=i.k3s(-2077514027),_t(i,"C(Search$composable)");var r,o,s,a,u,l=n;if(0==(14&n)&&(l|=i.c3h(t)?4:2),2==(11&l)&&i.p3q())i.p3m();else{var c=null,h=i;h.x3g(102870005),_t(h,"C(rememberCoroutineScope$composable)"),c=function(){return ln()};var p=h,_=h;_.x3g(547886695),_t(_,"C(remember$composable)");var f,d=_,m=d.y3g();if(m===me().a3h_1){var y=new sn(on(c(),p));d.z3g(y),f=y}else f=m;var v=f,g=null==v||ye(v)?v:Y();_.b3h();var w=g.z3w_1;h.b3h();var b=w,x=Kn(t.j6h_1,null,i,0,1),$=we().m3w(i,6),C=i;C.x3g(547886695),_t(C,"C(remember$composable)");var E,A=C,k=A.y3g();if(k===me().a3h_1){var S=rn(!1,null,2,null);A.z3g(S),E=S}else E=k;var T=E,I=null==T||ye(T)?T:Y();C.b3h();var O=I,z=bo(),M=i;M.x3g(-168645675),_t(M,"C(Style$composable)"),ft(null,z.v4q(),M,0,1),M.b3h();var D=i;D.x3g(547886695),_t(D,"C(remember$composable)");var R,P=D,j=P.y3g();if(j===me().a3h_1){var N=function(t){return t.e4j([bo().v6h()]),B()};P.z3g(N),R=N}else R=j;var L=R,q=null==L||ye(L)?L:Y();D.b3h(),xe(q,pt(i,589428991,!0,(r=O,o=b,s=t,a=x,u=$,function(t,e,n){var i=e;if(16==(81&n)&&i.p3q())i.p3m();else{var l=function(t,e){return function(n){return wt(t,null,null,function(t,e,n){var i=new Co(t,e,n),r=function(t,e){return i.r2l(t,e)};return r.$arity=1,r}(e,n,null),3,null),B()}}(o,s),c=i;c.x3g(-838505973),_t(c,"C(remember$composable)P(1)");var h,p=c,_=c.c3h(r),f=p.y3g();if(_||f===me().a3h_1){var d=function(t){return function(e){return function(t,e){Ae("isFocused",un,!0,(function(){return Ee()})),t.t16(e)}(t,e),B()}}(r);p.z3g(d),h=d}else h=f;var m=h,y=null==m||ye(m)?m:Y();if(c.b3h(),xo(l,y,i,0,0),function(t){return Ae("isFocused",un,!0,(function(){return Ee()})),t.b1()}(r)){var v=i;v.x3g(547886695),_t(v,"C(remember$composable)");var g,w=v,b=w.y3g();if(b===me().a3h_1){var x=function(t){return t.e4j([bo().x6h()]),B()};w.z3g(x),g=x}else g=b;var $=g,C=null==$||ye($)?$:Y();v.b3h(),xe(C,pt(i,-1756704539,!0,function(t,e,n){return function(i,r,o){var s=r;if(16==(81&o)&&s.p3q())s.p3m();else{for(var a=function(t){return Ae("results",Ce,!1,(function(){return Ee()})),t.b1()}(t).d();a.e();)ko(a.f(),Ao(e,n),s,0);B()}return B()}}(a,o,u)),i,48,0)}B()}return B()})),i,48,0)}var F=i.l3s();null===F||F.k3t(function(t,e){return function(n,i){return function(t,e,n,i){$o(t,n,1|e)}(t,e,n),B()}}(t,n)),de()&&$e()}function Co(t,e,n){this.h6i_1=t,this.i6i_1=e,G.call(this,n)}function Eo(t,e,n){this.s6i_1=t,this.t6i_1=e,G.call(this,n)}function Ao(t,e){return function(n){return wt(t,null,null,function(t,e,n){var i=new Eo(t,e,n),r=function(t,e){return i.r2l(t,e)};return r.$arity=1,r}(e,n,null),3,null),B()}}function ko(t,e,n,i){var r=n;de()&&fe(178813376,-1,-1,"ca.derekellis.reroute.search.ui.SearchResult$composable (SearchResult.kt:10)"),r=r.k3s(178813376),_t(r,"C(SearchResult$composable)P(1)");var o,s,a=i;if(0==(14&i)&&(a|=r.c3h(t)?4:2),0==(112&i)&&(a|=r.c3h(e)?32:16),18==(91&a)&&r.p3q())r.p3m();else{var u=r;u.x3g(-1124426577),_t(u,"C(remember$composable)P(1,2)");var l,c=u,h=!!(u.c3h(e)|u.c3h(t)),p=c.y3g();if(h||p===me().a3h_1){var _=(o=e,s=t,function(t){return t.e4j([bo().y6h()]),t.i4j(function(t,e){return function(n){return t(e),B()}}(o,s)),B()});c.z3g(_),l=_}else l=p;var f=l,d=null==f||ye(f)?f:Y();u.b3h(),xe(d,pt(r,-503139558,!0,function(t){return function(e,n,i){var r=n;if(16==(81&i)&&r.p3q())r.p3m();else{var o=r;o.x3g(547886695),_t(o,"C(remember$composable)");var s,a=o,u=a.y3g();if(u===me().a3h_1){var l=function(t){return t.d4j((function(t){return Qn(t,gn(20)),B()})),B()};a.z3g(l),s=l}else s=u;var c=s,h=null==c||ye(c)?c:Y();o.b3h(),xe(h,pt(r,-120173159,!0,function(t){return function(e,n,i){var r=n;return 16==(81&i)&&r.p3q()?r.p3m():ti(t.d68_1,r,0),B()}}(t)),r,48,0);var p=r;p.x3g(547886695),_t(p,"C(remember$composable)");var _,f=p,d=f.y3g();if(d===me().a3h_1){var m=function(t){return t.d4j((function(t){return Qn(t,gn(16)),B()})),B()};f.z3g(m),_=m}else _=d;var y=_,v=null==y||ye(y)?y:Y();p.b3h(),xe(v,pt(r,-1935987888,!0,function(t){return function(e,n,i){var r=n;return 16==(81&i)&&r.p3q()?r.p3m():ti(t.c68_1,r,0),B()}}(t)),r,48,0)}return B()}}(t)),r,48,0)}var m=r.l3s();null===m||m.k3t(function(t,e,n){return function(i,r){return function(t,e,n,i,r){ko(t,e,i,1|n)}(t,e,n,i),B()}}(t,e,i)),de()&&$e()}function So(t,e){this.d6j_1=t,G.call(this,e)}function To(t,e){var n=new So(t,e),i=function(t,e){return n.s6f(t,e)};return i.$arity=1,i}function Io(t,e,n){G.call(this,n),this.o6j_1=t,this.p6j_1=e}function Oo(t){this.q6j_1=t}function zo(t){this.s6j_1=t}function Mo(t,e,n){this.b6k_1=t,this.c6k_1=e,G.call(this,n)}function Do(t,e){this.i6k_1=t,this.j6k_1=e,this.k6k_1=0}function Ro(){R=this,Bn(null,!1,3,null,this),this.q6k_1=this.h4t((function(t){return Ie(t,gn(350)),Se(t,In(100)),ni(t,"#FFFFFF"),ii(),ri(t,"fixed"),oi(t,gn(0)),si(t,gn(0)),B()})).c4t(this,Jn("infoPanelContainer",1,Xn,(function(t){return t.s6k()}),null)),this.r6k_1=8}function Po(){return null==R&&new Ro,R}function jo(){P=this,this.t6k_1=U(-906777001,!1,(function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():ti("Close",i,6),B()}))}function No(t,e,n,i){var r=n;de()&&fe(1195378875,-1,-1,"ca.derekellis.reroute.stops.ui.Stops$composable (Stops.kt:40)"),r=r.k3s(1195378875),_t(r,"C(Stops$composable)P(1)");var o,s,a=i;if(0==(14&i)&&(a|=r.c3h(t)?4:2),0==(112&i)&&(a|=r.c3h(e)?32:16),18==(91&a)&&r.p3q())r.p3m();else{var u=t.l6k(e),l=ge(u,null,null,r,48,2),c=qo(l);be(c,(o=new Bo(t,l,null),(s=function(t,e){return o.r2l(t,e)}).$arity=1,s),r,0);var h=Po(),p=r;p.x3g(-168645675),_t(p,"C(Style$composable)"),ft(null,h.v4q(),p,0,1),p.b3h(),Lo(qo(l),r,0)}var _=r.l3s();null===_||_.k3t(function(t,e,n){return function(i,r){return function(t,e,n,i,r){No(t,e,i,1|n)}(t,e,n,i),B()}}(t,e,i)),de()&&$e()}function Lo(t,e,n){var i=e;de()&&fe(-1024142406,-1,-1,"ca.derekellis.reroute.stops.ui.InfoPanel$composable (Stops.kt:52)"),i=i.k3s(-1024142406),_t(i,"C(InfoPanel$composable)");var r,o,s=n;if(0==(14&n)&&(s|=i.c3h(t)?4:2),2==(11&s)&&i.p3q())i.p3m();else{var a=we().m3w(i,6),u=i;u.x3g(547886695),_t(u,"C(remember$composable)");var l,c=u,h=c.y3g();if(h===me().a3h_1){var p=function(t){return t.e4j([Po().s6k()]),B()};c.z3g(p),l=p}else l=h;var _=l,f=null==_||ye(_)?_:Y();u.b3h(),xe(f,pt(i,-43279331,!0,(r=t,o=a,function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():(ai(function(t){return function(e){return e.h4j(function(t){return function(e){return t.u4y("/",!1,2,null),B()}}(t)),B()}}(o),(null==P&&new jo,P).t6k_1,i,48,0),null==r?(i.x3g(1201662343),ti("Not Found!",i,6),i.b3h()):(i.x3g(1201662391),xe(null,pt(i,449523994,!0,function(t){return function(e,n,i){var r=n;return 16==(81&i)&&r.p3q()?r.p3m():ti(t.d68_1,r,0),B()}}(r)),i,48,1),xe(null,pt(i,2071811587,!0,function(t){return function(e,n,i){var r=n;return 16==(81&i)&&r.p3q()?r.p3m():ti(t.c68_1,r,0),B()}}(r)),i,48,1),xe(null,pt(i,-2078746014,!0,function(t){return function(e,n,i){var r=n;return 16==(81&i)&&r.p3q()?r.p3m():ti(t.b68_1,r,0),B()}}(r)),i,48,1),i.b3h())),B()})),i,48,0)}var d=i.l3s();null===d||d.k3t(function(t,e){return function(n,i){return function(t,e,n,i){Lo(t,n,1|e)}(t,e,n),B()}}(t,n)),de()&&$e()}function qo(t){return Ae("stop",Ce,!1,(function(){return Ee()})),t.b1()}function Bo(t,e,n){this.c6l_1=t,this.d6l_1=e,G.call(this,n)}function Fo(){j=this,Bn(null,!1,3,null,this),this.y4t("html, body, #root",(function(t){return Ie(t,In(100)),Se(t,In(100)),wn(t,[gn(0)]),ui(t,["Roboto","sans-serif"]),B()})),this.l6l_1=this.h4t((function(t){return Ie(t,In(100)),Se(t,In(100)),B()})).c4t(this,Jn("map",1,Xn,(function(t){return t.tc()}),null)),this.m6l_1=this.h4t((function(t){return ii(),ri(t,"absolute"),si(t,gn(0)),li(t,gn(0)),B()})).c4t(this,Jn("overlayContainer",1,Xn,(function(t){return t.o6l()}),null)),this.n6l_1=0}function Uo(){return null==j&&new Fo,j}function Ho(t,e,n){var i=e;de()&&fe(-1800785521,-1,-1,"ca.derekellis.reroute.ui.Application$composable (Application.kt:15)"),i=i.k3s(-1800785521),_t(i,"C(Application$composable)");var r,o,s=n;if(0==(14&n)&&(s|=i.c3h(t)?4:2),2==(11&s)&&i.p3q())i.p3m();else{var a=i;a.x3g(547886695),_t(a,"C(remember$composable)");var u,l=a,c=l.y3g();if(c===me().a3h_1){var h=function(t){return t.e4j([Uo().o6l()]),B()};l.z3g(h),u=h}else u=c;var p=u,_=null==p||ye(p)?p:Y();a.b3h(),xe(_,pt(i,1234430451,!0,(r=t,o=s,function(t,e,n){var i=e;return 16==(81&n)&&i.p3q()?i.p3m():$o(r,i,14&o),B()})),i,48,0)}var f=i.l3s();null===f||f.k3t(function(t,e){return function(n,i){return function(t,e,n,i){Ho(t,n,1|e)}(t,e,n),B()}}(t,n)),de()&&$e()}function Vo(t){var e={};return t(e),e}return wi.prototype=Object.create(br.prototype),wi.prototype.constructor=wi,Ci.prototype=Object.create(G.prototype),Ci.prototype.constructor=Ci,Ei.prototype=Object.create(K.prototype),Ei.prototype.constructor=Ei,Ti.prototype=Object.create(nt.prototype),Ti.prototype.constructor=Ti,Ii.prototype=Object.create(K.prototype),Ii.prototype.constructor=Ii,zi.prototype=Object.create(nt.prototype),zi.prototype.constructor=zi,Di.prototype=Object.create(G.prototype),Di.prototype.constructor=Di,Ri.prototype=Object.create(K.prototype),Ri.prototype.constructor=Ri,ji.prototype=Object.create(G.prototype),ji.prototype.constructor=ji,Ni.prototype=Object.create(G.prototype),Ni.prototype.constructor=Ni,qi.prototype=Object.create(K.prototype),qi.prototype.constructor=qi,Bi.prototype=Object.create(G.prototype),Bi.prototype.constructor=Bi,Ji.prototype=Object.create(G.prototype),Ji.prototype.constructor=Ji,ir.prototype=Object.create(G.prototype),ir.prototype.constructor=ir,or.prototype=Object.create(G.prototype),or.prototype.constructor=or,ar.prototype=Object.create(G.prototype),ar.prototype.constructor=ar,lr.prototype=Object.create(G.prototype),lr.prototype.constructor=lr,cr.prototype=Object.create(G.prototype),cr.prototype.constructor=cr,hr.prototype=Object.create(G.prototype),hr.prototype.constructor=hr,yr.prototype=Object.create(G.prototype),yr.prototype.constructor=yr,vr.prototype=Object.create(G.prototype),vr.prototype.constructor=vr,gr.prototype=Object.create(G.prototype),gr.prototype.constructor=gr,Ar.prototype=Object.create(G.prototype),Ar.prototype.constructor=Ar,kr.prototype=Object.create(G.prototype),kr.prototype.constructor=kr,Or.prototype=Object.create(Ir.prototype),Or.prototype.constructor=Or,Mr.prototype=Object.create(zr.prototype),Mr.prototype.constructor=Mr,Dr.prototype=Object.create(zr.prototype),Dr.prototype.constructor=Dr,Rr.prototype=Object.create(zr.prototype),Rr.prototype.constructor=Rr,Pr.prototype=Object.create(zr.prototype),Pr.prototype.constructor=Pr,Nr.prototype=Object.create(Fe.prototype),Nr.prototype.constructor=Nr,qr.prototype=Object.create(Ue.prototype),qr.prototype.constructor=qr,Hr.prototype=Object.create(G.prototype),Hr.prototype.constructor=Hr,Zr.prototype=Object.create(G.prototype),Zr.prototype.constructor=Zr,to.prototype=Object.create(G.prototype),to.prototype.constructor=to,lo.prototype=Object.create(G.prototype),lo.prototype.constructor=lo,ho.prototype=Object.create(G.prototype),ho.prototype.constructor=ho,fo.prototype=Object.create(G.prototype),fo.prototype.constructor=fo,yo.prototype=Object.create(G.prototype),yo.prototype.constructor=yo,wo.prototype=Object.create(qn.prototype),wo.prototype.constructor=wo,Co.prototype=Object.create(G.prototype),Co.prototype.constructor=Co,Eo.prototype=Object.create(G.prototype),Eo.prototype.constructor=Eo,So.prototype=Object.create(G.prototype),So.prototype.constructor=So,Io.prototype=Object.create(G.prototype),Io.prototype.constructor=Io,Mo.prototype=Object.create(G.prototype),Mo.prototype.constructor=Mo,Ro.prototype=Object.create(qn.prototype),Ro.prototype.constructor=Ro,Bo.prototype=Object.create(G.prototype),Bo.prototype.constructor=Bo,Fo.prototype=Object.create(qn.prototype),Fo.prototype.constructor=Fo,hi.prototype.i5z=function(){return this.g5z_1},hi.$metadata$=q("RerouteConfig"),Object.defineProperty(hi.prototype,"MAPBOX_ACCESS_KEY",{configurable:!0,get:hi.prototype.i5z}),wi.prototype.o5z=function(){return U(1303570839,!0,mi(this))},wi.prototype.p5z=function(){return U(289168953,!0,yi(this))},wi.prototype.q5z=function(){return U(-2043662109,!0,vi(this))},wi.prototype.r5z=function(){return this.k5z_1.d2d("ca.derekellis.reroute.RerouteApplication",gi(this))},wi.$metadata$=V("InjectAppComponent",[H],void 0,void 0,void 0,br.prototype),bi.$metadata$=V("Adapter"),xi.prototype.toString=function(){return"Metadata(updated="+this.u5z_1+")"},xi.prototype.hashCode=function(){return this.u5z_1.hashCode()},xi.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof xi))return!1;var e=t instanceof xi?t:Y();return!!this.u5z_1.equals(e.u5z_1)},xi.$metadata$=V("Metadata"),Ci.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.h60_1.el().hm(1338929812,"INSERT INTO Metadata VALUES (?)",1,$i(this.h60_1,this.i60_1)).gl(this))===Z())return t;continue t;case 1:return this.h60_1.xl(1338929812,(function(t){return t("Metadata"),B()})),B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ci.$metadata$=V("$insertCOROUTINE$0",void 0,void 0,void 0,void 0,G.prototype),Ei.prototype.zu=function(){var t,e=this.el();return X(57566555,["Metadata"],e,"Metadata.sq","get","SELECT * FROM Metadata",(t=this,function(e){return t.x5z_1.s5z_1.rj(W(e.em(0)))}))},Ei.prototype.j60=function(t,e){var n=new Ci(this,t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Ei.$metadata$=V("MetadataQueries",void 0,void 0,void 0,void 0,K.prototype),Ai.prototype.k60=function(){return Pi(Q(Si))},Ai.prototype.l60=function(t,e){return function(t,e,n){return new qi(e,n)}(Q(Si),t,e)},Ai.$metadata$=q("Companion"),Si.$metadata$=et("RerouteDatabase",[tt]),Ti.prototype.vj=function(t){var e;e=["stops","stop_search"],this.r60_1.el().ik(t,e)},Ti.prototype.wj=function(t){var e;e=["stops","stop_search"],this.r60_1.el().jk(t,e)},Ti.prototype.zj=function(t){return this.r60_1.el().hk(974007646,"SELECT *\nFROM stops\nWHERE id IN (\n    SELECT id\n    FROM stop_search\n    WHERE stop_search MATCH ? || '*'\n)",t,1,(e=this,function(t){return t.lm(0,e.q60_1),B()}));var e},Ti.prototype.toString=function(){return"StopSearch.sq:search"},Ti.$metadata$=V("SearchQuery",void 0,void 0,void 0,void 0,nt.prototype),Ii.prototype.u60=function(t,e){return new Ti(this,t,(n=e,function(t){return n(W(t.em(0)),W(t.em(1)),W(t.em(2)),t.em(3),W(t.gm(4)),W(t.gm(5)),t.fm(6),t.em(7),W(t.fm(8)))}));var n},Ii.prototype.v60=function(t){return this.u60(t,(function(t,e,n,i,r,o,s,a,u){return new Oi(t,e,n,i,r,o,s,a,u)}))},Ii.$metadata$=V("StopSearchQueries",void 0,void 0,void 0,void 0,K.prototype),Oi.prototype.toString=function(){return"Stops(id="+this.w60_1+", code="+this.x60_1+", name="+this.y60_1+", desc="+this.z60_1+", lat="+this.a61_1+", lon="+this.b61_1+", zone_id="+it(this.c61_1)+", url="+this.d61_1+", location_type="+rt(this.e61_1)+")"},Oi.prototype.hashCode=function(){var t=ot(this.w60_1);return t=N(t,31)+ot(this.x60_1)|0,t=N(t,31)+ot(this.y60_1)|0,t=N(t,31)+(null==this.z60_1?0:ot(this.z60_1))|0,t=N(t,31)+st(this.a61_1)|0,t=N(t,31)+st(this.b61_1)|0,t=N(t,31)+(null==this.c61_1?0:this.c61_1.hashCode())|0,t=N(t,31)+(null==this.d61_1?0:ot(this.d61_1))|0,N(t,31)+this.e61_1.hashCode()|0},Oi.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Oi))return!1;var e=t instanceof Oi?t:Y();return!!(this.w60_1===e.w60_1&&this.x60_1===e.x60_1&&this.y60_1===e.y60_1&&this.z60_1==e.z60_1&&at(this.a61_1,e.a61_1)&&at(this.b61_1,e.b61_1)&&at(this.c61_1,e.c61_1)&&this.d61_1==e.d61_1&&this.e61_1.equals(e.e61_1))},Oi.$metadata$=V("Stops"),zi.prototype.vj=function(t){var e;e=["stops"],this.i61_1.el().ik(t,e)},zi.prototype.wj=function(t){var e;e=["stops"],this.i61_1.el().jk(t,e)},zi.prototype.zj=function(t){return this.i61_1.el().hk(-612536039,"SELECT * FROM stops WHERE code = ?",t,1,(e=this,function(t){return t.lm(0,e.h61_1),B()}));var e},zi.prototype.toString=function(){return"Stops.sq:getByCode"},zi.$metadata$=V("GetByCodeQuery",void 0,void 0,void 0,void 0,nt.prototype),Di.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.r61_1.el().hm(-2019000358,"INSERT INTO stops VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",9,Mi(this.s61_1,this.t61_1,this.u61_1,this.v61_1,this.w61_1,this.x61_1,this.y61_1,this.z61_1,this.a62_1)).gl(this))===Z())return t;continue t;case 1:return this.r61_1.xl(-2019000358,(function(t){return t("stop_search"),t("stops"),B()})),B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Di.$metadata$=V("$insertCOROUTINE$2",void 0,void 0,void 0,void 0,G.prototype),Ri.prototype.d62=function(t,e){return new zi(this,t,(n=e,function(t){return n(W(t.em(0)),W(t.em(1)),W(t.em(2)),t.em(3),W(t.gm(4)),W(t.gm(5)),t.fm(6),t.em(7),W(t.fm(8)))}));var n},Ri.prototype.e62=function(t){var e,n=this.el();return X(-2084575348,["stops"],n,"Stops.sq","getAll","SELECT * FROM stops",(e=t,function(t){return e(W(t.em(0)),W(t.em(1)),W(t.em(2)),t.em(3),W(t.gm(4)),W(t.gm(5)),t.fm(6),t.em(7),W(t.fm(8)))}))},Ri.prototype.f62=function(t,e,n,i,r,o,s,a,u,l){var c=new Di(this,t,e,n,i,r,o,s,a,u,l);return c.ji_1=B(),c.ki_1=null,c.ri()},Ri.$metadata$=V("StopsQueries",void 0,void 0,void 0,void 0,K.prototype),ji.prototype.x1g=function(t){var e=this.y1g(t);return e.ji_1=B(),e.ki_1=null,e.ri()},ji.prototype.qj=function(t){return this.x1g(t)},ji.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=6,this.hi_1=1,(t=this.o62_1.im(null,"CREATE TABLE Metadata (\n    updated TEXT NOT NULL\n)",0,null,8,null).gl(this))===Z())return t;continue t;case 1:if(this.hi_1=2,(t=this.o62_1.im(null,"CREATE TABLE routes (\n    id TEXT NOT NULL PRIMARY KEY,\n    short_name TEXT NOT NULL,\n    long_name TEXT,\n    desc TEXT,\n    type INTEGER NOT NULL,\n    url TEXT,\n    color TEXT,\n    text_color TEXT\n)",0,null,8,null).gl(this))===Z())return t;continue t;case 2:if(this.hi_1=3,(t=this.o62_1.im(null,"CREATE TABLE stops (\n    id TEXT NOT NULL PRIMARY KEY,\n    code TEXT NOT NULL,\n    name TEXT NOT NULL,\n    desc TEXT,\n    lat REAL NOT NULL,\n    lon REAL NOT NULL,\n    zone_id INTEGER,\n    url TEXT,\n    location_type INTEGER NOT NULL\n)",0,null,8,null).gl(this))===Z())return t;continue t;case 3:if(this.hi_1=4,(t=this.o62_1.im(null,"CREATE TRIGGER update_stop_search AFTER INSERT ON stops\nBEGIN\nINSERT INTO stop_search(id, code, name)\nVALUES(new.id, new.code, new.name);\nEND",0,null,8,null).gl(this))===Z())return t;continue t;case 4:if(this.hi_1=5,(t=this.o62_1.im(null,"CREATE VIRTUAL TABLE stop_search USING fts3 (\n    id TEXT NOT NULL,\n    code TEXT NOT NULL,\n    name TEXT NOT NULL,\n    tokenize=unicode61\n)",0,null,8,null).gl(this))===Z())return t;continue t;case 5:return B();case 6:throw this.ki_1}}catch(t){if(6===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ji.prototype.y1g=function(t){return new ji(this.o62_1,t)},ji.$metadata$=V("RerouteDatabaseImpl$Schema$create$slambda",void 0,void 0,void 0,[0],G.prototype),Ni.prototype.x1g=function(t){var e=this.y1g(t);return e.ji_1=B(),e.ki_1=null,e.ri()},Ni.prototype.qj=function(t){return this.x1g(t)},Ni.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t)return this.ii_1=1,B();if(1===t)throw this.ki_1}catch(t){throw t}},Ni.prototype.y1g=function(t){return new Ni(t)},Ni.$metadata$=V("RerouteDatabaseImpl$Schema$migrate$slambda",void 0,void 0,void 0,[0],G.prototype),Li.prototype.mm=function(){return 1},Li.prototype.nm=function(t){return new ut((e=new ji(t,null),(n=function(t){return e.x1g(t)}).$arity=0,n));var e,n},Li.prototype.om=function(t,e,n){return new ut((i=new Ni(null),(r=function(t){return i.x1g(t)}).$arity=0,r));var i,r},Li.$metadata$=q("Schema",[lt]),qi.prototype.m60=function(){return this.z62_1},qi.prototype.n60=function(){return this.a63_1},qi.prototype.o60=function(){return this.b63_1},qi.$metadata$=V("RerouteDatabaseImpl",[Si],void 0,void 0,void 0,K.prototype),Bi.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Bi.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},Bi.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.o63_1.c63_1.t63(this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Bi.prototype.u1k=function(t,e){var n=new Bi(this.o63_1,e);return n.p63_1=t,n},Bi.$metadata$=V("RerouteApplication$init$slambda",void 0,void 0,void 0,[1],G.prototype),Fi.prototype.f63=function(){var t,e;wt(this.d63_1,null,null,(t=new Bi(this,null),(e=function(e,n){return t.r2l(e,n)}).$arity=1,e),3,null)},Fi.$metadata$=V("RerouteApplication"),Ui.$metadata$=et("DataSource"),Hi.prototype.toString=function(){return"LngLat(longitude="+this.x63_1+", latitude="+this.y63_1+")"},Hi.prototype.hashCode=function(){var t=st(this.x63_1);return N(t,31)+st(this.y63_1)|0},Hi.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Hi))return!1;var e=t instanceof Hi?t:Y();return!!at(this.x63_1,e.x63_1)&&!!at(this.y63_1,e.y63_1)},Hi.$metadata$=V("LngLat"),Vi.prototype.p1m=function(){return this.a64_1},Vi.prototype.j1w=function(){return[xt(),$t(xt()),xt(),Ct(),Ct(),Et()]},Vi.prototype.r1m=function(t){var e=this.a64_1,n=!0,i=0,r=0,o=null,s=null,a=null,u=0,l=0,c=new At(0,0),h=t.n1p(e);if(h.b1q())o=h.x1p(e,0),r|=1,s=h.a1q(e,1,xt(),s),r|=2,a=h.x1p(e,2),r|=4,u=h.v1p(e,3),r|=8,l=h.v1p(e,4),r|=16,c=h.t1p(e,5),r|=32;else for(;n;)switch(i=h.c1q(e)){case-1:n=!1;break;case 0:o=h.x1p(e,0),r|=1;break;case 1:s=h.a1q(e,1,xt(),s),r|=2;break;case 2:a=h.x1p(e,2),r|=4;break;case 3:u=h.v1p(e,3),r|=8;break;case 4:l=h.v1p(e,4),r|=16;break;case 5:c=h.t1p(e,5),r|=32;break;default:throw kt(i)}return h.o1p(e),Wi(r,o,s,a,u,l,c)},Vi.prototype.c64=function(t,e){var n=this.a64_1,i=t.n1p(n);i.z1q(n,0,e.d64_1),(i.g1r(n,1)||null!=e.e64_1)&&i.c1r(n,1,xt(),e.e64_1),i.z1q(n,2,e.f64_1),i.x1q(n,3,e.g64_1),i.x1q(n,4,e.h64_1),i.v1q(n,5,e.i64_1),i.o1p(n)},Vi.prototype.q1m=function(t,e){return this.c64(t,e instanceof tr?e:Y())},Vi.$metadata$=q("$serializer",[Tt]),Gi.$metadata$=q("Companion"),Zi.prototype.p1m=function(){return this.j64_1},Zi.prototype.j1w=function(){return[new Ot(Yi())]},Zi.prototype.r1m=function(t){var e=this.j64_1,n=!0,i=0,r=0,o=null,s=t.n1p(e);if(s.b1q())o=s.y1p(e,0,new Ot(Yi()),o),r|=1;else for(;n;)switch(i=s.c1q(e)){case-1:n=!1;break;case 0:o=s.y1p(e,0,new Ot(Yi()),o),r|=1;break;default:throw kt(i)}return s.o1p(e),Xi(r,o)},Zi.prototype.l64=function(t,e){var n=this.j64_1,i=t.n1p(n);i.a1r(n,0,new Ot(Yi()),e.m64_1),i.o1p(n)},Zi.prototype.q1m=function(t,e){return this.l64(t,e instanceof er?e:Y())},Zi.$metadata$=q("$serializer",[Tt]),Ji.prototype.c65=function(t,e){var n=this.d65(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Ji.prototype.si=function(t,e){return this.c65(null!=t&&yt(t,zt)?t:Y(),e)},Ji.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=5,this.y64_1=this.v64_1.m64_1,this.z64_1=this.y64_1.d(),this.hi_1=1;continue t;case 1:if(!this.z64_1.e()){this.hi_1=3;continue t}this.a65_1=this.z64_1.f(),this.hi_1=2;var e=this.w64_1.o60(),n=this.a65_1.e64_1;if((t=e.f62(this.a65_1.d64_1,null==n?"":n,this.a65_1.f64_1,null,this.a65_1.g64_1,this.a65_1.h64_1,null,null,this.a65_1.i64_1,this))===Z())return t;continue t;case 2:this.hi_1=1;continue t;case 3:if(this.b65_1=new xi(Rt(Mt().o3e(),Dt().o3f())),this.hi_1=4,(t=this.w64_1.m60().j60(this.b65_1,this))===Z())return t;continue t;case 4:return B();case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Ji.prototype.d65=function(t,e){var n=new Ji(this.v64_1,this.w64_1,e);return n.x64_1=t,n},Ji.$metadata$=V("ResourceLoader$loadStopsToDatabase$slambda$slambda",void 0,void 0,void 0,[1],G.prototype),tr.prototype.toString=function(){return"Stop(id="+this.d64_1+", code="+this.e64_1+", name="+this.f64_1+", lat="+this.g64_1+", lon="+this.h64_1+", locationType="+rt(this.i64_1)+")"},tr.prototype.hashCode=function(){var t=ot(this.d64_1);return t=N(t,31)+(null==this.e64_1?0:ot(this.e64_1))|0,t=N(t,31)+ot(this.f64_1)|0,t=N(t,31)+st(this.g64_1)|0,t=N(t,31)+st(this.h64_1)|0,N(t,31)+this.i64_1.hashCode()|0},tr.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof tr))return!1;var e=t instanceof tr?t:Y();return this.d64_1===e.d64_1&&this.e64_1==e.e64_1&&this.f64_1===e.f64_1&&!!at(this.g64_1,e.g64_1)&&!!at(this.h64_1,e.h64_1)&&!!this.i64_1.equals(e.i64_1)},tr.$metadata$=V("Stop",void 0,void 0,{0:Yi}),er.prototype.toString=function(){return"Data(stops="+this.m64_1+")"},er.prototype.hashCode=function(){return Pt(this.m64_1)},er.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof er))return!1;var e=t instanceof er?t:Y();return!!at(this.m64_1,e.m64_1)},er.$metadata$=V("Data",void 0,void 0,{0:Ki}),ir.prototype.p65=function(t,e){var n=this.q65(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},ir.prototype.si=function(t,e){return this.p65(null!=t&&yt(t,Si)?t:Y(),e)},ir.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=4,this.hi_1=1,(t=Lt(this.n65_1.m60().zu(),this))===Z())return t;continue t;case 1:if(this.o65_1=t,null==this.o65_1){if(this.hi_1=2,(t=this.n65_1.o60().ul(!1,Qi(this.m65_1,this.n65_1,null),this,1,null))===Z())return t;continue t}this.hi_1=3;continue t;case 2:this.hi_1=3;continue t;case 3:return B();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ir.prototype.q65=function(t,e){var n=new ir(this.m65_1,e);return n.n65_1=t,n},ir.$metadata$=V("ResourceLoader$loadStopsToDatabase$slambda",void 0,void 0,void 0,[1],G.prototype),or.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4,this.a66_1=this.z65_1.r63_1,this.b66_1=window.location.origin+"/reroute/data.json";var e=new qt;if(Bt(e,this.b66_1),this.c66_1=e,this.c66_1.x51_1=Ft().o35_1,this.hi_1=1,(t=new Ut(this.c66_1,this.a66_1).a5s(this))===Z())return t;continue t;case 1:this.d66_1=t,this.hi_1=2;var n,i=this.d66_1.g55(),r=Ht(),o=Q(er);try{n=Yt(Q(er),Vt([]),!1)}catch(t){if(!(t instanceof Error))throw t;n=null}if((t=i.j54(Wt(r,o,n),this))===Z())return t;continue t;case 2:if(this.e66_1=t instanceof er?t:Y(),this.hi_1=3,(t=this.z65_1.q63_1.j66(rr(this.e66_1,null),this))===Z())return t;continue t;case 3:return B();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},or.$metadata$=V("$loadStopsToDatabaseCOROUTINE$3",void 0,void 0,void 0,void 0,G.prototype),sr.prototype.t63=function(t){var e=new or(this,t);return e.ji_1=B(),e.ki_1=null,e.ri()},sr.$metadata$=V("ResourceLoader"),ar.prototype.u66=function(t,e){var n=this.q65(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},ar.prototype.si=function(t,e){return this.u66(null!=t&&yt(t,Si)?t:Y(),e)},ar.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=Kt(this.t66_1.n60().v60(this.s66_1),this))===Z())return t;continue t;case 1:for(var e=t,n=Jt(Xt(e,10)),i=e.d();i.e();){var r=i.f(),o=new Hi(r.b61_1,r.a61_1),s=r.c61_1;n.b(new _r(r.w60_1,r.x60_1,r.y60_1,r.z60_1,o,null==s?null:s.m6(),r.d61_1,r.e61_1.m6()))}return n;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ar.prototype.q65=function(t,e){var n=new ar(this.s66_1,e);return n.t66_1=t,n},ar.$metadata$=V("SqlJsDataSource$searchStops$slambda",void 0,void 0,void 0,[1],G.prototype),lr.prototype.e67=function(t,e){var n=this.q65(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},lr.prototype.si=function(t,e){return this.e67(null!=t&&yt(t,Si)?t:Y(),e)},lr.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t){this.ii_1=1;var e=this.d67_1.o60(),n=Qt(e.e62((function(t,e,n,i,r,o,s,a,u){return new _r(t,e,n,i,new Hi(o,r),null==s?null:s.m6(),a,u.m6())})));return te(n,null,1,null)}if(1===t)throw this.ki_1}catch(t){throw t}},lr.prototype.q65=function(t,e){var n=new lr(e);return n.d67_1=t,n},lr.$metadata$=V("SqlJsDataSource$getStops$slambda",void 0,void 0,void 0,[1],G.prototype),cr.prototype.e67=function(t,e){var n=this.q65(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},cr.prototype.si=function(t,e){return this.e67(null!=t&&yt(t,Si)?t:Y(),e)},cr.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t){this.ii_1=1;var e=this.o67_1.o60(),n=Qt(e.d62(this.n67_1,(function(t,e,n,i,r,o,s,a,u){return new _r(t,e,n,i,new Hi(o,r),null==s?null:s.m6(),a,u.m6())})));return te(n,null,1,null)}if(1===t)throw this.ki_1}catch(t){throw t}},cr.prototype.q65=function(t,e){var n=new cr(this.n67_1,e);return n.o67_1=t,n},cr.$metadata$=V("SqlJsDataSource$getStopByCode$slambda",void 0,void 0,void 0,[1],G.prototype),hr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,0===ne(this.y67_1))return ee();if(this.hi_1=1,(t=this.x67_1.z67_1.j66(ur(this.y67_1,null),this))===Z())return t;continue t;case 1:return ie(t,5);case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},hr.$metadata$=V("$searchStopsCOROUTINE$4",void 0,void 0,void 0,void 0,G.prototype),pr.prototype.v63=function(t,e){var n=new hr(this,t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},pr.prototype.w63=function(t){return this.z67_1.j66((e=new lr(null),n=function(t,n){return e.e67(t,n)},n.$arity=1,n),t);var e,n},pr.prototype.u63=function(t,e){return this.z67_1.j66((n=new cr(t,null),i=function(t,e){return n.e67(t,e)},i.$arity=1,i),e);var n,i},pr.$metadata$=V("SqlJsDataSource",[Ui]),_r.prototype.o3b=function(){return this.c68_1},_r.prototype.toString=function(){return"Stop(id="+this.b68_1+", code="+this.c68_1+", name="+this.d68_1+", desc="+this.e68_1+", location="+this.f68_1+", zoneId="+this.g68_1+", url="+this.h68_1+", locationType="+this.i68_1+")"},_r.prototype.hashCode=function(){var t=ot(this.b68_1);return t=N(t,31)+ot(this.c68_1)|0,t=N(t,31)+ot(this.d68_1)|0,t=N(t,31)+(null==this.e68_1?0:ot(this.e68_1))|0,t=N(t,31)+this.f68_1.hashCode()|0,t=N(t,31)+(null==this.g68_1?0:this.g68_1)|0,t=N(t,31)+(null==this.h68_1?0:ot(this.h68_1))|0,N(t,31)+this.i68_1|0},_r.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof _r))return!1;var e=t instanceof _r?t:Y();return this.b68_1===e.b68_1&&this.c68_1===e.c68_1&&this.d68_1===e.d68_1&&this.e68_1==e.e68_1&&!!this.f68_1.equals(e.f68_1)&&this.g68_1==e.g68_1&&this.h68_1==e.h68_1&&this.i68_1===e.i68_1},_r.$metadata$=V("Stop"),fr.prototype.l68=function(t){return re().l2z(t)},fr.prototype.rj=function(t){return this.l68(null!=t&&"string"==typeof t?t:Y())},fr.prototype.m68=function(t){return t.toString()},fr.prototype.sj=function(t){return this.m68(t instanceof oe?t:Y())},fr.$metadata$=q("LocalDateTimeAdapter",[se]),dr.$metadata$=q("Companion"),yr.prototype.ri=function(){var t,e,n=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=10,this.hi_1=1;continue t;case 1:if(this.k69_1=this.i69_1.h66_1,this.hi_1=2,(n=this.k69_1.j1d(null,this))===Z())return n;continue t;case 2:this.hi_1=3;continue t;case 3:this.hi_1=4;continue t;case 4:if(this.ii_1=9,this.hi_1=5,t=this.i69_1,e=void 0,(e=new gr(t,this)).ji_1=B(),e.ki_1=null,(n=e.ri())===Z())return n;continue t;case 5:this.l69_1=n,this.ii_1=10,this.hi_1=6;continue t;case 6:this.j69_1=this.k69_1.k1d(null),this.hi_1=8;continue t;case 7:this.k69_1.k1d(null),this.hi_1=8;continue t;case 8:return B();case 9:this.ii_1=10;var i=this.ki_1;throw this.k69_1.k1d(null),i;case 10:throw this.ki_1}}catch(t){if(10===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},yr.$metadata$=V("$initDatabaseCOROUTINE$5",void 0,void 0,void 0,void 0,G.prototype),vr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.u69_1.w69(this))===Z())return t;continue t;case 1:if(this.hi_1=2,(t=this.v69_1(this.u69_1.g66_1,this))===Z())return t;continue t;case 2:return t;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},vr.$metadata$=V("$invokeCOROUTINE$6",void 0,void 0,void 0,void 0,G.prototype),gr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=7,this.hi_1=1,mr();var e=function(t){var e;if(t.f()){var n=t.fm(0);e=null==n?null:n.m6()}else e=null;return e};if((t=ae(this.v68_1.f66_1,null,"PRAGMA user_version",e,0,null,this,16,null))===Z())return t;continue t;case 1:if(this.w68_1=t,this.x68_1=null==this.w68_1?0:this.w68_1,this.y68_1=ki().k60().mm(),0===this.x68_1){if(this.hi_1=4,(t=le(ki().k60(),this.v68_1.f66_1,this))===Z())return t;continue t}if(this.x68_1<this.y68_1){if(this.hi_1=2,(t=ue(ki().k60(),this.v68_1.f66_1,this.x68_1,this.y68_1,this))===Z())return t;continue t}this.hi_1=6;continue t;case 2:this.hi_1=3,mr();var n="PRAGMA user_version="+this.y68_1;if((t=ce(this.v68_1.f66_1,null,n,0,null,this,8,null))===Z())return t;continue t;case 3:case 5:this.hi_1=6;continue t;case 4:this.hi_1=5,mr();var i="PRAGMA user_version="+this.y68_1;if((t=ce(this.v68_1.f66_1,null,i,0,null,this,8,null))===Z())return t;continue t;case 6:return B();case 7:throw this.ki_1}}catch(t){if(7===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},gr.$metadata$=V("$migrateIfNeededCOROUTINE$7",void 0,void 0,void 0,void 0,G.prototype),wr.prototype.w69=function(t){var e=new yr(this,t);return e.ji_1=B(),e.ki_1=null,e.ri()},wr.prototype.j66=function(t,e){var n=new vr(this,t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},wr.$metadata$=V("DatabaseHelper"),br.prototype.n5z=function(t){return new pr(t)},br.$metadata$=V("AppComponent"),xr.$metadata$=q("ComposableSingletons$MapDemoKt"),Ar.prototype.x6a=function(t,e){var n=this.y6a(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Ar.prototype.si=function(t,e){return this.x6a(null!=t&&ye(t)?t:Y(),e)},Ar.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t)return this.ii_1=1,B();if(1===t)throw this.ki_1}catch(t){throw t}},Ar.prototype.y6a=function(t,e){var n=new Ar(e);return n.w6a_1=t,n},Ar.$metadata$=V("MapDemo$composable$slambda",void 0,void 0,void 0,[1],G.prototype),kr.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},kr.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},kr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.k6b_1=Er(this.i6b_1),null==this.k6b_1){this.l6b_1=null,this.hi_1=2;continue t}if(this.hi_1=1,(t=this.h6b_1.s6b(this.k6b_1.f68_1,16,0,0,null,null,this,60,null))===Z())return t;continue t;case 1:this.l6b_1=B(),this.hi_1=2;continue t;case 2:return B();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},kr.prototype.u1k=function(t,e){var n=new kr(this.h6b_1,this.i6b_1,e);return n.j6b_1=t,n},kr.$metadata$=V("MapDemo$composable$slambda",void 0,void 0,void 0,[1],G.prototype),Sr.prototype.e6c=function(t,e){return this.b6c_1.m14(t,e)},Sr.$metadata$=V("MapInteractionsManager"),Tr.prototype.v6b=function(t,e){if(null==t){var n;n=e,this.t6b_1.on("click",n)}else{var i,r=Re(t);i=e,this.t6b_1.on("click",r,i)}},Tr.prototype.w6b=function(t,e){if(null==t){var n;n=e,this.t6b_1.on("mouseenter",n)}else{var i,r=Re(t);i=e,this.t6b_1.on("mouseenter",r,i)}},Tr.prototype.x6b=function(t,e){if(null==t){var n;n=e,this.t6b_1.on("mouseleave",n)}else{var i,r=Re(t);i=e,this.t6b_1.on("mouseleave",r,i)}},Tr.$metadata$=V("EventsScope"),Ir.prototype.m6c=function(){return this.f6c_1},Ir.prototype.i6c=function(t,e,n,i){var r=n;de()&&fe(1678771109,-1,-1,"ca.derekellis.reroute.map.compose.LayerScope.paint$composable (LayerScope.kt:86)"),r=r.k3s(1678771109),_t(r,"C(paint$composable)");var o=r;o.x3g(-1124426577),_t(o,"C(remember$composable)P(1,2)");var s,a,u,l=o,c=!!(o.c3h(t)|o.c3h(e)),h=l.y3g();if(c||h===me().a3h_1){var p=(a=t,u=e,function(){return new Pr(a,u,Lr())});l.z3g(p),s=p}else s=h;var _=s,f=null==_||ye(_)?_:Y();o.b3h();var d,m=f,y=r;y.x3g(-1846754774),_t(y,"C(ComposeNode$composable)"),y.k3r()instanceof qr||Pe(),y.s3m(),y.v3r()?y.x3r((d=m,function(){return d()})):y.z3r();var v=je(y);Ne(v,e,function(t,e){return function(n,i){return n.k6c_1=t,null!=e.g6c_1.getLayer(e.f6c_1)&&(e.g6c_1.setPaintProperty(e.f6c_1,n.j6c_1,t),B()),B()}}(e,this)),y.a3s(),y.b3h();var g=r.l3s();null===g||g.k3t(function(t,e,n,i){return function(r,o){return function(t,e,n,i,r,o){t.i6c(e,n,r,1|i)}(t,e,n,i,r),B()}}(this,t,e,i)),de()&&$e()},Ir.$metadata$=V("LayerScope"),Or.prototype.b6a=function(t,e,n){var i=e;de()&&fe(2068381356,-1,-1,"ca.derekellis.reroute.map.compose.CircleLayerScope.circleColor$composable (LayerScope.kt:990)"),i=i.k3s(2068381356),_t(i,"C(circleColor$composable)");var r=n;0==(14&n)&&(r|=i.c3h(t)?4:2),0==(112&n)&&(r|=i.c3h(this)?32:16),18==(91&r)&&i.p3q()?i.p3m():this.i6c("circle-color",rt(t),i,6|896&r<<3);var o,s,a,u=i.l3s();null===u||u.k3t((o=this,s=t,a=n,function(t,e){return function(t,e,n,i,r){t.b6a(e,i,1|n)}(o,s,a,t),B()})),de()&&$e()},Or.prototype.c6a=function(t,e,n){var i=e;de()&&fe(1593480035,-1,-1,"ca.derekellis.reroute.map.compose.CircleLayerScope.circleRadius$composable (LayerScope.kt:1030)"),i=i.k3s(1593480035),_t(i,"C(circleRadius$composable)");var r=n;0==(14&n)&&(r|=i.c3h(t)?4:2),0==(112&n)&&(r|=i.c3h(this)?32:16),18==(91&r)&&i.p3q()?i.p3m():this.i6c("circle-radius",t,i,6|112&r<<3|896&r<<3);var o,s,a,u=i.l3s();null===u||u.k3t((o=this,s=t,a=n,function(t,e){return function(t,e,n,i,r){t.c6a(e,i,1|n)}(o,s,a,t),B()})),de()&&$e()},Or.$metadata$=V("CircleLayerScope",void 0,void 0,void 0,void 0,Ir.prototype),zr.$metadata$=V("MapNode"),Mr.$metadata$=V("RootNode",void 0,void 0,void 0,void 0,zr.prototype),Dr.prototype.r6c=function(t){this.o6c_1=t},Dr.prototype.j2c=function(){return this.p6c_1},Dr.$metadata$=V("SourceNode",void 0,void 0,void 0,void 0,zr.prototype),Rr.prototype.r6c=function(t){this.s6c_1=t},Rr.prototype.e3f=function(){return this.s6c_1},Rr.prototype.v6c=function(){for(var t=this.u6c_1,e=qe(),n=t.d();n.e();){var i,r=n.f(),o=r.l6c_1,s=e.o(o);if(null==s){var a=Le();e.a(o,a),i=a}else i=s;i.b(r)}var u,l=e,c=l.o(Lr());if(null==c)u=null;else{for(var h=Vo((function(t){return B()})),p=c.d();p.e();){var _=p.f();h[_.j6c_1]=_.k6c_1}u=h}var f,d=u,m=null==d?Vo((function(t){return B()})):d,y=l.o((jr(),I));if(null==y)f=null;else{for(var v=Vo((function(t){return B()})),g=y.d();g.e();){var w=g.f();v[w.j6c_1]=w.k6c_1}f=v}var b,x=f;return b=null==x?Vo((function(t){return B()})):x,new Be(m,b)},Rr.$metadata$=V("LayerNode",void 0,void 0,void 0,void 0,zr.prototype),Pr.prototype.f35=function(){return this.j6c_1},Pr.prototype.w6c=function(t){this.k6c_1=t},Pr.prototype.x6c=function(){return this.k6c_1},Pr.prototype.y6c=function(){return this.l6c_1},Pr.$metadata$=V("ExpressionNode",void 0,void 0,void 0,void 0,zr.prototype),Nr.$metadata$=V("ExpressionType",void 0,void 0,void 0,void 0,Fe.prototype),qr.prototype.e6d=function(t,e){var n=this.s3f();if(n instanceof Dr){if(!(e instanceof Rr))throw He("Node must be a LayerNode");if(null==this.d6d_1.getLayer(e.s6c_1)){var i,r,o,s=e.v6c(),a=s.w3(),u=s.x3(),l=e.t6c_1;r=a,l.paint=r,o=u,l.layout=o,i=l,this.d6d_1.addLayer(i),n.q6c_1.jb(t,e)}else console.warn("Layer "+e.s6c_1+" already exists")}else if(n instanceof Rr){if(!(e instanceof Pr))throw He("Node must be an ExpressionNode");n.u6c_1.jb(t,e)}},qr.prototype.y3f=function(t,e){return this.e6d(t,e instanceof zr?e:Y())},qr.prototype.f6d=function(t,e){var n=this.s3f();if(n instanceof Mr){if(!(e instanceof Dr))throw He("Node must be a SourceNode");if(null==this.d6d_1.getSource(e.o6c_1)){var i,r=e.o6c_1;i=e.p6c_1,this.d6d_1.addSource(r,i),n.n6c_1.jb(t,e)}else console.warn("Source "+e.o6c_1+" already exists")}},qr.prototype.x3f=function(t,e){return this.f6d(t,e instanceof zr?e:Y())},qr.prototype.a3g=function(t,e,n){},qr.prototype.z3f=function(t,e){var n=this.s3f();if(n instanceof Dr)this.d6d_1.removeLayer(n.q6c_1.l(t).s6c_1),n.q6c_1.y3(t);else if(n instanceof Rr){var i=n.u6c_1.l(t);null==this.d6d_1.getLayer(n.s6c_1)?console.warn("Layer "+n.s6c_1+" does not exist, cannot update style"):i.l6c_1.equals(Lr())?this.d6d_1.setPaintProperty(n.s6c_1,i.j6c_1,null):this.d6d_1.setLayoutProperty(n.s6c_1,i.j6c_1,null)}else if(n instanceof Mr){for(var r=n.n6c_1.l(t),o=r.q6c_1.d();o.e();){var s=o.f();this.d6d_1.removeLayer(s.s6c_1)}this.d6d_1.removeSource(r.o6c_1),n.n6c_1.y3(t)}},qr.$metadata$=V("MapNodeApplier",void 0,void 0,void 0,void 0,Ue.prototype),Fr.prototype.a6c=function(t,e,n,i,r){var o=i;de()&&fe(1196388295,-1,-1,"ca.derekellis.reroute.map.compose.MapScope.GeoJsonSource$composable (MapScope.kt:21)"),o=o.k3s(1196388295),_t(o,"C(GeoJsonSource$composable)P(1)");var s=r,a=new ro(t,this.y6b_1),u=Br(t,e),l=o;l.x3g(-1932960305),_t(l,"C(ComposeNode$composable)P(1,2)"),l.k3r()instanceof qr||Pe(),l.s3m(),l.v3r()?l.x3r(u):l.z3r();var c,h=je(l);Ne(h,t,(c=t,function(t,e){return t.o6c_1=c,B()})),Ne(h,e,function(t,e,n){return function(i,r){i.p6c_1.data=t;var o=e.y6b_1.getSource(n);return null==o||o.setData(t),B()}}(e,this,t));var p=l,_=n;_ instanceof ht?_.o3q(a,p,8|112&s>>3):_(a,p,8|112&s>>3),l.a3s(),l.b3h();var f=o.l3s();null===f||f.k3t(function(t,e,n,i,r){return function(o,s){return function(t,e,n,i,r,o,s){t.a6c(e,n,i,o,1|r)}(t,e,n,i,r,o),B()}}(this,t,e,n,r)),de()&&$e()},Fr.$metadata$=V("MapScope"),Hr.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Hr.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},Hr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.o6d_1.z41(this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Hr.prototype.u1k=function(t,e){var n=new Hr(this.o6d_1,e);return n.p6d_1=t,n},Hr.$metadata$=V("applySources$composable$slambda",void 0,void 0,void 0,[1],G.prototype),Zr.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.e6e_1={_v:null},this.f6e_1={_v:!1},this.hi_1=1,this.g6e_1=this,this.h6e_1=new tn(Je(this.g6e_1),Qe()),this.h6e_1.js(),this.d6e_1(),this.e6e_1._v=Wr(this.f6e_1,this.h6e_1);var e=this.c6e_1.q6b_1;if(null==e||e.on("moveend",this.e6e_1._v),this.h6e_1.tq(Gr(this.c6e_1,this.e6e_1)),(t=en(this.h6e_1.gp(),this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Zr.$metadata$=V("$doMoveAnimationCOROUTINE$8",void 0,void 0,void 0,void 0,G.prototype),Kr.prototype.i6e=function(t){var e;null!=t&&((e=this).q6d(e.m6b_1),e.r6d(e.n6b_1),e.s6d(e.o6b_1),e.t6d(e.p6b_1)),this.q6b_1=t},Kr.prototype.q6d=function(t){var e=this.q6b_1;null==e||e.setCenter(Vr(t))},Kr.prototype.j6e=function(){var t=W(this.q6b_1).getCenter();return new Hi(nn(t.lng),nn(t.lat))},Kr.prototype.r6d=function(t){var e=this.q6b_1;null==e||e.setZoom(t)},Kr.prototype.k6e=function(){return nn(W(this.q6b_1).getZoom())},Kr.prototype.s6d=function(t){var e=this.q6b_1;null==e||e.setBearing(this.l6e())},Kr.prototype.l6e=function(){return nn(W(this.q6b_1).getBearing())},Kr.prototype.m6e=function(){return W(this.q6b_1).getPadding()},Kr.prototype.t6d=function(t){var e=this.q6b_1;null==e||e.setPitch(t)},Kr.prototype.n6e=function(){return nn(W(this.q6b_1).getPitch())},Kr.prototype.o6e=function(t,e,n,i,r,o,s){return function(t,e,n){var i=new Zr(t,e,n);return i.ji_1=B(),i.ki_1=null,i.ri()}(this,Yr(this,t,e,n,i,r,o),s)},Kr.prototype.s6b=function(t,e,n,i,r,o,s,a,u){return 0!=(1&a)&&(t=this.j6e()),0!=(2&a)&&(e=this.k6e()),0!=(4&a)&&(n=this.l6e()),0!=(8&a)&&(i=this.n6e()),0!=(16&a)&&(r=this.m6e()),0!=(32&a)&&(o=null),this.o6e(t,e,n,i,r,o,s)},Kr.$metadata$=V("MapboxState"),to.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},to.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},to.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=4,this.hi_1=1;continue t;case 1:var e=Qr(this.z6e_1);if(!1!==(null==e?null:e.isStyleLoaded())){this.hi_1=3;continue t}if(this.hi_1=2,(t=cn(new At(100,0),this))===Z())return t;continue t;case 2:this.hi_1=1;continue t;case 3:return console.log("on style loaded"),Ur(this.a6f_1,W(Qr(this.z6e_1)),this.x6e_1),this.y6e_1._v(new Tr(W(Qr(this.z6e_1)))),B();case 4:throw this.ki_1}}catch(t){if(4===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},to.prototype.u1k=function(t,e){var n=new to(this.x6e_1,this.y6e_1,this.z6e_1,e);return n.a6f_1=t,n},to.$metadata$=V("MapboxMap$composable$lambda$lambda$lambda$slambda",void 0,void 0,void 0,[1],G.prototype),eo.prototype.yq=function(){B()},eo.$metadata$=V(void 0,[hn]),no.prototype.yq=function(){B()},no.$metadata$=V(void 0,[hn]),ro.prototype.i6a=function(t,e,n,i,r){var o={_v:e},s=n;de()&&fe(91504501,-1,-1,"ca.derekellis.reroute.map.compose.SourceScope.CircleLayer$composable (SourceScope.kt:53)"),s=s.k3s(91504501),_t(s,"C(CircleLayer$composable)");var a=i;0!=(2&r)&&(o._v=(null==M&&new oo,M).f6f_1),io(this,t,"circle",new Or(t,this.g6a_1),o._v,s,32816|14&a|7168&a<<6);var u,l,c,h,p,_=s.l3s();null===_||_.k3t((u=this,l=t,c=o,h=i,p=r,function(t,e){return function(t,e,n,i,r,o,s){t.i6a(e,n._v,o,1|i,r)}(u,l,c,h,p,t),B()})),de()&&$e()},ro.$metadata$=V("SourceScope"),oo.$metadata$=q("ComposableSingletons$SourceScopeKt"),lo.prototype.s6f=function(t,e){var n=this.t6f(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},lo.prototype.si=function(t,e){return this.s6f(null!=t&&yt(t,pn)?t:Y(),e)},lo.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;this.q6f_1=Jt(Xt(this.p6f_1,10));for(var e=this.p6f_1.d();e.e();){var n=e.f();this.q6f_1.b(Vo(ao(n)))}if(this.r6f_1=this.q6f_1,(t=this.o6f_1.m14(Vo(uo(this.r6f_1)),this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},lo.prototype.t6f=function(t,e){var n=new lo(this.o6f_1,e);return n.p6f_1=t,n},lo.$metadata$=V("MapViewModel$stopData$slambda$o$collect$slambda",void 0,void 0,void 0,[1],G.prototype),ho.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=co(this.d6g_1,null);if((t=this.c6g_1.e6g_1.u13(new _o(e),this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},ho.$metadata$=V("$collectCOROUTINE$9",void 0,void 0,void 0,void 0,G.prototype),po.prototype.f6g=function(t,e){var n=new ho(this,t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},po.prototype.u13=function(t,e){return this.f6g(t,e)},po.$metadata$=V(void 0,[_n]),_o.prototype.m14=function(t,e){return this.g6g_1(t,e)},_o.$metadata$=V("sam$kotlinx_coroutines_flow_FlowCollector$0",[fn]),fo.prototype.t6g=function(t,e){var n=this.u6g(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},fo.prototype.si=function(t,e){return this.t6g(null!=t&&yt(t,fn)?t:Y(),e)},fo.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.p6g_1.j6a_1.w63(this))===Z())return t;continue t;case 1:if(this.r6g_1=t,this.s6g_1=new po(this.r6g_1),this.hi_1=2,(t=dn(this.q6g_1,this.s6g_1,this))===Z())return t;continue t;case 2:return B();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},fo.prototype.u6g=function(t,e){var n=new fo(this.p6g_1,e);return n.q6g_1=t,n},fo.$metadata$=V("MapViewModel$stopData$slambda",void 0,void 0,void 0,[1],G.prototype),mo.prototype.v6g=function(){return this.m6a_1},mo.$metadata$=V("MapViewModel"),yo.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.e6h_1.g6h_1.v63(this.f6h_1,this))===Z())return t;continue t;case 1:var e=t;return this.e6h_1.i6h_1.t16(e),B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},yo.$metadata$=V("$searchCOROUTINE$10",void 0,void 0,void 0,void 0,G.prototype),vo.prototype.l6h=function(t,e){var n=new yo(this,t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},vo.$metadata$=V("SearchViewModel"),wo.prototype.v6h=function(){return this.q6h_1.k5(this,Jn("searchContainer",1,Xn,(function(t){return t.v6h()}),null))},wo.prototype.w6h=function(){return this.r6h_1.k5(this,Jn("searchInput",1,Xn,(function(t){return t.w6h()}),null))},wo.prototype.x6h=function(){return this.s6h_1.k5(this,Jn("resultsContainer",1,Xn,(function(t){return t.x6h()}),null))},wo.prototype.y6h=function(){return this.t6h_1.k5(this,Jn("searchResult",1,Xn,(function(t){return t.y6h()}),null))},wo.prototype.c4r=function(t,e){return this.i4t(t,e)},wo.$metadata$=q("SearchStyleSheet",void 0,void 0,void 0,void 0,qn.prototype),Co.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Co.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},Co.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.h6i_1.l6h(this.i6i_1,this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Co.prototype.u1k=function(t,e){var n=new Co(this.h6i_1,this.i6i_1,e);return n.j6i_1=t,n},Co.$metadata$=V("Search$composable$lambda$lambda$slambda",void 0,void 0,void 0,[1],G.prototype),Eo.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Eo.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},Eo.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t){this.ii_1=1;var e="/stops/"+this.t6i_1.c68_1;return this.s6i_1.u4y(e,!1,2,null),B()}if(1===t)throw this.ki_1}catch(t){throw t}},Eo.prototype.u1k=function(t,e){var n=new Eo(this.s6i_1,this.t6i_1,e);return n.u6i_1=t,n},Eo.$metadata$=V("Search$composable$lambda$lambda$lambda$slambda",void 0,void 0,void 0,[1],G.prototype),So.prototype.s6f=function(t,e){var n=this.t6f(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},So.prototype.si=function(t,e){return this.s6f(null!=t&&yt(t,pn)?t:Y(),e)},So.prototype.ri=function(){var t,e=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,t=this.e6j_1,(e=ei(t))===Z())return e;continue t;case 1:if(this.f6j_1=e,this.hi_1=2,(e=this.d6j_1.m14(this.f6j_1,this))===Z())return e;continue t;case 2:return B();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},So.prototype.t6f=function(t,e){var n=new So(this.d6j_1,e);return n.e6j_1=t,n},So.$metadata$=V("StopsViewModel$stop$slambda$o$collect$slambda",void 0,void 0,void 0,[1],G.prototype),Io.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=To(this.p6j_1,null);if((t=this.o6j_1.q6j_1.u13(new zo(e),this))===Z())return t;continue t;case 1:return B();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Io.$metadata$=V("$collectCOROUTINE$11",void 0,void 0,void 0,void 0,G.prototype),Oo.prototype.r6j=function(t,e){var n=new Io(this,t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Oo.prototype.u13=function(t,e){return this.r6j(t,e)},Oo.$metadata$=V(void 0,[_n]),zo.prototype.m14=function(t,e){return this.s6j_1(t,e)},zo.$metadata$=V("sam$kotlinx_coroutines_flow_FlowCollector$0",[fn]),Mo.prototype.g6k=function(t,e){var n=this.h6k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Mo.prototype.si=function(t,e){return this.g6k(null!=t&&yt(t,fn)?t:Y(),e)},Mo.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=this.b6k_1.i6k_1.u63(this.c6k_1,this))===Z())return t;continue t;case 1:if(this.e6k_1=t,this.f6k_1=new Oo(this.e6k_1),this.hi_1=2,(t=dn(this.d6k_1,this.f6k_1,this))===Z())return t;continue t;case 2:return B();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Mo.prototype.h6k=function(t,e){var n=new Mo(this.b6k_1,this.c6k_1,e);return n.d6k_1=t,n},Mo.$metadata$=V("StopsViewModel$stop$slambda",void 0,void 0,void 0,[1],G.prototype),Do.prototype.l6k=function(t){return mn((e=new Mo(this,t,null),(n=function(t,n){return e.g6k(t,n)}).$arity=1,n));var e,n},Do.prototype.e6c=function(t,e){return this.j6k_1.e6c(t,e)},Do.$metadata$=V("StopsViewModel"),Ro.prototype.s6k=function(){return this.q6k_1.k5(this,Jn("infoPanelContainer",1,Xn,(function(t){return t.s6k()}),null))},Ro.prototype.c4r=function(t,e){return this.i4t(t,e)},Ro.$metadata$=q("StopsStyleSheet",void 0,void 0,void 0,void 0,qn.prototype),jo.$metadata$=q("ComposableSingletons$StopsKt"),Bo.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=B(),n.ki_1=null,n.ri()},Bo.prototype.si=function(t,e){return this.r2l(null!=t&&yt(t,mt)?t:Y(),e)},Bo.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.f6l_1=qo(this.d6l_1),null==this.f6l_1){this.g6l_1=null,this.hi_1=2;continue t}if(this.hi_1=1,(t=this.c6l_1.e6c(this.f6l_1,this))===Z())return t;continue t;case 1:this.g6l_1=B(),this.hi_1=2;continue t;case 2:return B();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Bo.prototype.u1k=function(t,e){var n=new Bo(this.c6l_1,this.d6l_1,e);return n.e6l_1=t,n},Bo.$metadata$=V("Stops$composable$slambda",void 0,void 0,void 0,[1],G.prototype),Fo.prototype.tc=function(){return this.l6l_1.k5(this,Jn("map",1,Xn,(function(t){return t.tc()}),null))},Fo.prototype.o6l=function(){return this.m6l_1.k5(this,Jn("overlayContainer",1,Xn,(function(t){return t.o6l()}),null))},Fo.prototype.c4r=function(t,e){return this.i4t(t,e)},Fo.$metadata$=q("AppStylesheet",void 0,void 0,void 0,void 0,qn.prototype),Ei.prototype.ul=J,Ii.prototype.ul=J,Ri.prototype.ul=J,qi.prototype.ul=J,Vi.prototype.k1w=St,Zi.prototype.k1w=St,qr.prototype.t3f=Ve,qr.prototype.u3f=Ye,wo.prototype.i4t=Fn,wo.prototype.j4r=Un,wo.prototype.k4r=Hn,wo.prototype.returnUniversalSelector=Vn,wo.prototype.returnHoverSelector=Yn,wo.prototype.l4r=Wn,Ro.prototype.i4t=Fn,Ro.prototype.j4r=Un,Ro.prototype.k4r=Hn,Ro.prototype.returnUniversalSelector=Vn,Ro.prototype.returnHoverSelector=Yn,Ro.prototype.l4r=Wn,Fo.prototype.i4t=Fn,Fo.prototype.y4t=ci,Fo.prototype.j4r=Un,Fo.prototype.k4r=Hn,Fo.prototype.returnUniversalSelector=Vn,Fo.prototype.returnHoverSelector=Yn,Fo.prototype.l4r=Wn,function(t){var e=t.ca||(t.ca={}),n=e.derekellis||(e.derekellis={}),i=n.reroute||(n.reroute={});Object.defineProperty(i,"RerouteConfig",{configurable:!0,get:pi})}(t),function(){n(4654);var t,e=(Q(br),new wi);e.r5z().f63(),ct("root",U(-1422331071,!0,(t=e,function(e,n,i){var r=n;if(16==(81&i)&&r.p3q())r.p3m();else{var o=Uo(),s=r;s.x3g(-168645675),_t(s,"C(Style$composable)"),ft(null,o.v4q(),s,0,1),s.b3h(),dt("/",pt(r,733997116,!0,function(t){return function(e,n,i){var r=n,o=i;if(0==(14&i)&&(o|=r.c3h(e)?4:2,B()),18==(91&o)&&r.p3q())r.p3m();else{var s=t.p5z();s instanceof ht?s.s3w(r,0):s(r,0);var a=t.o5z();a instanceof ht?a.s3w(r,0):a(r,0);var u=r;e.p4y(["/stops"],pt(u,-24427399,!0,function(t){return function(e,n,i){var r=n,o=i;if(0==(14&i)&&(o|=r.c3h(e)?4:2,B()),18==(91&o)&&r.p3q())r.p3m();else{var s=r;e.q4y(pt(s,-650384314,!0,function(t){return function(e,n,i,r){var o=i,s=r;if(0==(112&r)&&(s|=o.c3h(n)?32:16,B()),144==(721&s)&&o.p3q())o.p3m();else{var a=t.q5z();a instanceof ht?a.o3q(n,o,14&s>>3):a(n,o,14&s>>3)}return B()}}(t)),r,6|112&o<<3)}return B()}}(t)),r,48|896&o<<6)}return B()}}(t)),r,54)}return B()})))}(),t})?i.apply(e,r):i)||(t.exports=o)},9006:function(t,e,n){var i,r,o;r=[e,n(8744),n(769),n(7646)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_=Math.imul,f=e.$_$.p4,d=e.$_$.v,m=e.$_$.te,y=e.$_$.k7,v=e.$_$.y,g=e.$_$.w5,w=e.$_$.c1,b=e.$_$.m1,x=e.$_$.u6,$=e.$_$.d1,C=e.$_$.f7,E=e.$_$.j7,A=e.$_$.l1,k=e.$_$.p9,S=e.$_$.xa,T=e.$_$.c,I=e.$_$.qd,O=e.$_$.z9,z=e.$_$.r9,M=e.$_$.z,D=e.$_$.bb,R=e.$_$.m2,P=e.$_$.hc,j=e.$_$.l6,N=e.$_$.l,L=e.$_$.o9,q=e.$_$.cd,B=e.$_$.a3,F=e.$_$.t9,U=e.$_$.hd,H=e.$_$.ic,V=e.$_$.z4,Y=e.$_$.la,W=e.$_$.o,G=e.$_$.h2,Z=n.$_$.z,K=n.$_$.v,X=n.$_$.x,J=n.$_$.h1,Q=e.$_$.na,tt=n.$_$.c,et=n.$_$.g,nt=n.$_$.y,it=n.$_$.a,rt=n.$_$.b1,ot=e.$_$.ob,st=e.$_$.y9,at=e.$_$.ca,ut=e.$_$.pb,lt=e.$_$.rd,ct=e.$_$.w9,ht=n.$_$.a1,pt=e.$_$.zb,_t=e.$_$.d9,ft=i.$_$.p1,dt=n.$_$.o;function mt(t,e,n,i){return 0!=(2&n)&&(e=!1),null==i?this.t4y(t,e):i(t,e)}function yt(t,e){for(var n=t,i=e.z4x_1.z().d();i.e();){var r,o=i.f(),s=o.a1();r=o.b1(),n=d(n,s,r,!1,4,null)}return n}function vt(){r=this,this.z4x_1=y([m("+"," "),m("%20"," "),m("%21","!"),m("%22",'"'),m("%23","#"),m("%24","$"),m("%25","%"),m("%26","&"),m("%27","'"),m("%28","("),m("%29",")"),m("%2A","*"),m("%2B","+"),m("%2C",","),m("%2D","-"),m("%2E","."),m("%2F","/"),m("%3A",":"),m("%3B",";"),m("%3C","<"),m("%3D","="),m("%3E",">"),m("%3F","?"),m("%40","@"),m("%5B","["),m("%5C","\\"),m("%5D","]")])}function gt(){return null==r&&new vt,r}function wt(t,e){gt(),this.b4y_1=t,this.c4y_1=e,this.d4y_1=8}function bt(){o=this}function xt(){return null==o&&new bt,o}function $t(t,e){xt(),this.e4y_1=t,this.f4y_1=e,this.g4y_1=8}function Ct(){if(l)return f();l=!0,s=new kt("Constant",0),new kt("Integer",1),a=new kt("String",2),new kt("Uuid",3),u=new kt("NoMatch",4)}function Et(t,e){return st("match",1,ot,(function(t){return At(t)}),(function(t,e){return Et(t,e)})),t.n4y_1.t16(e)}function At(t){return st("match",1,ot,(function(t){return At(t)}),(function(t,e){return Et(t,e)})),t.n4y_1.b1()}function kt(t,e){U.call(this,t,e)}function St(t,e,n,i,r){var o=i;K()&&Z(-943158333,-1,-1,"app.softwork.routingcompose.RouteBuilder.execute$composable (RouteBuilder.kt:84)"),o=o.k3s(-943158333);var s,a,u,l,c=r;if(0==(14&r)&&(c|=o.c3h(e)?4:2),0==(112&r)&&(c|=o.c3h(n)?32:16),0==(896&r)&&(c|=o.c3h(t)?256:128),146==(731&c)&&o.p3q())o.p3m();else{var h=t.l4y_1.h4y(e),p=Pt().m3w(o,6),_=o;_.x3g(-838505973),X(_,"C(remember$composable)P(1)");var d,m=_,y=_.c3h(h),v=m.y3g();if(y||v===J().a3h_1){var g=new Mt(t.k4y_1,p);m.z3g(g),d=g}else d=v;var w=d,b=null==w||Q(w)?w:I();_.b3h();var x=b,$=[Dt().o3w(x)];et($,tt(o,93719673,!0,(s=t,a=h,u=n,l=c,function(t,e){var n=t;if(2==(11&e)&&n.p3q())n.p3m();else{var i=new zt(s.k4y_1,a),r=u;r instanceof it?r.o3q(i,n,112&l):r(i,n,112&l)}return f()})),o,48)}var C=t,E=o.l3s();null===E||E.k3t(function(t,e,n,i){return function(r,o){return function(t,e,n,i,r,o){St(t,e,n,r,1|i)}(t,e,n,i,r),f()}}(C,e,n,r)),K()&&nt()}function Tt(){return Ct(),s}function It(){return Ct(),a}function Ot(){return Ct(),u}function zt(t,e){this.k4y_1=t,this.l4y_1=e,this.m4y_1=this.l4y_1.f4y_1;var n=Ot();this.n4y_1=rt(n,null,2,null),this.o4y_1=0}function Mt(t,e){this.r4y_1=t,this.s4y_1=e}function Dt(){return Lt(),c}function Rt(){h=this}function Pt(){return null==h&&new Rt,h}function jt(){}function Nt(t,e,n,i,r){Lt();var o=i;K()&&Z(1005602596,-1,-1,"app.softwork.routingcompose.route$composable (Router.kt:36)"),o=o.k3s(1005602596),X(o,"C(route$composable)");var s,a,u,l,c=r;if(0==(14&r)&&(c|=o.c3h(t)?4:2),0==(112&r)&&(c|=o.c3h(e)?32:16),0==(896&r)&&(c|=o.c3h(n)?256:128),146==(731&c)&&o.p3q())o.p3m();else{var h=[Dt().o3w(t)];et(h,tt(o,1744162961,!0,(s=t,a=e,u=c,l=n,function(t,e){var n,i=t;if(2==(11&e)&&i.p3q())i.p3m();else{var r=s.v4y(a,i,14&u>>3|112&u<<3),o=xt().a4y((n=r,Lt(),ct("rawPath",ut,!1,(function(){return lt()})),n.b1())),c=new zt(o.e4y_1,o),h=l;h instanceof it?h.o3q(c,i,112&u>>3):h(c,i,112&u>>3)}return f()})),o,48)}var p=o.l3s();null===p||p.k3t(function(t,e,n,i){return function(r,o){return function(t,e,n,i,r,o){Nt(t,e,n,r,1|i)}(t,e,n,i,r),f()}}(t,e,n,r)),K()&&nt()}function Lt(){p||(p=!0,c=ht(null,(function(){throw R("Router not defined, cannot provide through RouterCompositionLocal.")}),1,null))}function qt(t,e,n,i){var r=n;K()&&Z(1510435617,-1,-1,"app.softwork.routingcompose.HashRouter$composable (HashRouter.kt:12)"),r=r.k3s(1510435617),X(r,"C(HashRouter$composable)");var o=i;0==(14&i)&&(o|=r.c3h(t)?4:2),0==(112&i)&&(o|=r.c3h(e)?32:16),18==(91&o)&&r.p3q()?r.p3m():Nt(new Ht,t,e,r,112&o<<3|896&o<<3);var s,a,u,l=r.l3s();null===l||l.k3t((s=t,a=e,u=i,function(t,e){return function(t,e,n,i,r){qt(t,e,i,1|n)}(s,a,u,t),f()})),K()&&nt()}function Bt(t){return function(e){var n=Ft(window.location.hash);return t.w4y_1.t16(null==n?"":n),f()}}function Ft(t,e){var n=P(P(t,"#"),"/");return pt(n)?null:n}function Ut(t,e,n){this.g4z_1=t,this.h4z_1=e,_t.call(this,n)}function Ht(){var t=Ft(window.location.hash),e=null==t?"":t;this.w4y_1=rt(e,null,2,null),this.x4y_1=0}return e.$_$.f9,kt.prototype=Object.create(U.prototype),kt.prototype.constructor=kt,Ut.prototype=Object.create(_t.prototype),Ut.prototype.constructor=Ut,vt.prototype.a4y=function(t){for(var e=v(t,["&",";"],!1,0,6,null),n=w(g(e,10)),i=e.d();i.e();){var r,o=i.f();r=v(o,["="],!1,0,6,null),n.b(r)}for(var s=n,a=b(),u=s.d();u.e();){var l,c=u.f(),h=x(c),p=a.o(h);if(null==p){var _=$();a.a(h,_),l=_}else l=p;var f,d=l;f=C(c),d.b(f)}for(var m=a,y=A(E(m.g())),S=m.z().d();S.e();){for(var T,I=S.f(),O=I.a1(),z=I.b1(),M=$(),D=z.d();D.e();){var R=D.f();k(R)>0&&M.b(R)}T=M,y.a(O,T)}for(var P=y,j=A(E(P.g())),N=P.z().d();N.e();){for(var L,q=N.f(),B=q.a1(),F=q.b1(),U=w(g(F,10)),H=F.d();H.e();){var V;V=yt(H.f(),gt()),U.b(V)}L=U,j.a(B,L)}for(var Y=j,W=b(),G=Y.z().d();G.e();){var Z=G.f();!Z.b1().m()&&W.a(Z.a1(),Z.b1())}return new wt(t,W)},vt.$metadata$=S("Companion"),wt.prototype.toString=function(){return this.b4y_1},wt.prototype.equals=function(t){return this===t||!(null==t||!T(this).equals(T(t)))&&(t instanceof wt||I(),this.b4y_1===t.b4y_1)},wt.prototype.hashCode=function(){return O(this.b4y_1)},wt.$metadata$=z("Parameters"),bt.prototype.a4y=function(t){var e,n=v(t,["?"],!1,0,6,null);switch(n.g()){case 1:e=m(x(n),null);break;case 2:var i,r=x(n),o=C(n);i=gt().a4y(o),e=m(r,i);break;default:throw R(D("path contains more than 1 '?' delimiter: "+t))}var s,a,u=e,l=u.w3(),c=u.x3();return new $t(M(s=l,a="/",!1,2,null)?s:a+s,c)},bt.$metadata$=S("Companion"),$t.prototype.h4y=function(t){return new $t(P(this.e4y_1,"/"+t),this.f4y_1)},$t.prototype.i4y=function(t){var e=v(this.e4y_1,["/"],!1,0,6,null),n=v(t,["./"],!1,0,6,null),i=C(n),r=k(i)>0?"/"+i:i,o=n.g()-1|0,s=xt(),a=j(e,o);return s.a4y(N(a,"/",null,r,0,null,(function(t){return t}),26,null))},$t.prototype.toString=function(){return null==this.f4y_1?this.e4y_1:this.e4y_1+"?"+this.f4y_1},$t.prototype.j4y=function(){var t;t:{var e=P(this.e4y_1,"/"),n=0,i=e.length;if(n<i)do{var r=n;n=n+1|0;var o=L(e,r);if(F(new q(o),new q(B(47)))){t=e.substring(0,r);break t}}while(n<i);t=e}return t},$t.prototype.hashCode=function(){var t=O(this.e4y_1);return _(t,31)+(null==this.f4y_1?0:this.f4y_1.hashCode())|0},$t.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof $t))return!1;var e=t instanceof $t?t:I();return this.e4y_1===e.e4y_1&&!!F(this.f4y_1,e.f4y_1)},$t.$metadata$=z("Path"),kt.$metadata$=z("Match",void 0,void 0,void 0,void 0,U.prototype),zt.prototype.p4y=function(t,e,n,i){var r=n;K()&&Z(-922082958,-1,-1,"app.softwork.routingcompose.RouteBuilder.route$composable (RouteBuilder.kt:51)"),r=r.k3s(-922082958),X(r,"C(route$composable)P(1)");var o=i;0==(112&i)&&(o|=r.c3h(e)?32:16),0==(896&i)&&(o|=r.c3h(this)?256:128),r.c3p(1094008346,t.length);for(var s=t,a=0,u=s.length;a<u;){var l=s[a];a=a+1|0,o|=r.c3h(l)?4:0}if(r.f3p(),0==(14&o)&&(o|=2),146==(731&o)&&r.p3q())r.p3m();else{var c=function(t,e){for(var n=w(t.length),i=t,r=0,o=i.length;r<o;){var s,a=i[r];r=r+1|0,s=H(P(a,"/"),"/"),n.b(s)}var u,l,c=n;t:if(Y(c,V)&&c.m())u=!0;else{for(var h=c.d();h.e();){var p=h.f();if(W(p,"/",!1,2,null)){u=!1;break t}}u=!0}if(!u)throw G(D("To use nested routes, use route() { route() { } } instead."));t:if(Y(c,V)&&c.m())l=!0;else{for(var _=c.d();_.e();){var f=_.f();if(0===k(f)){l=!1;break t}}l=!0}if(!l)throw G(D("Route "+t+" cannot be empty. Use noMatch instead."));return c}(t),h=this.l4y_1.j4y();(At(this).equals(Ot())||At(this).equals(Tt()))&&c.n(h)&&(St(this,h,e,r,112&o|896&o),Et(this,Tt()))}var p,_,d,m,y=r.l3s();null===y||y.k3t((p=this,_=t,d=e,m=i,function(t,e){return function(t,e,n,i,r,o){t.p4y(e.slice(),n,r,1|i)}(p,_,d,m,t),f()})),K()&&nt()},zt.prototype.q4y=function(t,e,n){var i=e;K()&&Z(-427238156,-1,-1,"app.softwork.routingcompose.RouteBuilder.string$composable (RouteBuilder.kt:99)"),i=i.k3s(-427238156),X(i,"C(string$composable)");var r,o,s,a=n;if(0==(14&n)&&(a|=i.c3h(t)?4:2),0==(112&n)&&(a|=i.c3h(this)?32:16),18==(91&a)&&i.p3q())i.p3m();else{var u=this.l4y_1.j4y();(At(this).equals(Ot())||At(this).equals(It()))&&k(u)>0&&(St(this,u,tt(i,1608782891,!0,(r=t,o=u,s=a,function(t,e,n){var i=e,a=n;if(0==(14&n)&&(a|=i.c3h(t)?4:2,f()),18==(91&a)&&i.p3q())i.p3m();else{var u=r;u instanceof it?u.k4h(t,o,i,14&a|896&s<<6):u(t,o,i,14&a|896&s<<6)}return f()})),i,48|896&a<<3),Et(this,It()))}var l=i.l3s();null===l||l.k3t(function(t,e,n){return function(i,r){return function(t,e,n,i,r){t.q4y(e,i,1|n)}(t,e,n,i),f()}}(this,t,n)),K()&&nt()},zt.$metadata$=z("RouteBuilder"),Mt.prototype.j4y=function(){return this.s4y_1.j4y()},Mt.prototype.t4y=function(t,e){if(M(t,"/",!1,2,null))this.s4y_1.t4y(t,e);else if("/"===this.r4y_1)this.s4y_1.t4y("/"+t,e);else if(M(t,".",!1,2,null)){var n=this.s4y_1.j4y().i4y(t);this.s4y_1.u4y(n.e4y_1,!1,2,null)}else this.s4y_1.t4y(this.r4y_1+"/"+t,e)},Mt.prototype.v4y=function(t,e,n){var i=e;i.x3g(-1546286896),X(i,"C(getPath$composable)");var r=this.s4y_1.v4y(t,i,14&n);return i.b3h(),r},Mt.$metadata$=z("DelegatingRouter",[jt]),Rt.prototype.m3w=function(t,e){var n=t;n.x3g(-1443999548),X(n,"C($get-current$$composable)");var i=Dt(),r=n.i3s(i);return n.b3h(),r},Rt.$metadata$=S("Companion"),jt.$metadata$=at("Router"),Ut.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=f(),n.ki_1=null,n.ri()},Ut.prototype.si=function(t,e){return this.r2l(null!=t&&Y(t,ft)?t:I(),e)},Ut.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t){this.ii_1=1;var e=Ft(window.location.hash,this.g4z_1);return this.g4z_1.w4y_1.t16(null==e?this.h4z_1:e),window.onhashchange=Bt(this.g4z_1),f()}if(1===t)throw this.ki_1}catch(t){throw t}},Ut.prototype.u1k=function(t,e){var n=new Ut(this.g4z_1,this.h4z_1,e);return n.i4z_1=t,n},Ut.$metadata$=z("HashRouter$getPath$composable$slambda",void 0,void 0,void 0,[1],_t.prototype),Ht.prototype.j4y=function(){return xt().a4y(this.w4y_1.b1())},Ht.prototype.t4y=function(t,e){if(e){var n=Ft(t);this.w4y_1.t16(null==n?"":n)}else Ft(window.location.hash)==Ft(t)?this.w4y_1.t16(P(t,"#")):window.location.hash=t},Ht.prototype.v4y=function(t,e,n){var i,r,o=e;o.x3g(869753156),X(o,"C(getPath$composable)"),dt(f(),(i=new Ut(this,t,null),(r=function(t,e){return i.r2l(t,e)}).$arity=1,r),o,6);var s=this.w4y_1;return o.b3h(),s},Ht.$metadata$=z("HashRouter",[jt]),Mt.prototype.u4y=mt,Ht.prototype.u4y=mt,t.$_$=t.$_$||{},t.$_$.a=qt,t.$_$.b=Pt,t})?i.apply(e,r):i)||(t.exports=o)},6945:function(t,e,n){var i,r,o;r=[e,n(8744)],void 0===(o="function"==typeof(i=function(t,e){"use strict";e.$_$.p4;var n=e.$_$.bb,i=e.$_$.m2,r=e.$_$.d1;return t.$_$=t.$_$||{},t.$_$.a=function(t,e){return t.zj((n=t,function(t){for(var e=r();t.f();)e.b(n.yj()(t));return e})).gl(e);var n},t.$_$.b=function(t,e){return t.zj((r=t,function(t){if(!t.f())return null;var e=r.yj()(t);if(t.f())throw i(n("ResultSet returned more than 1 row for "+r));return e})).gl(e);var r},t.$_$.c=function(t,e,n){return t.nm(e).gl(n)},t.$_$.d=function(t,e,n,i,r){return t.om(e,n,i).gl(r)},t.$_$.e=function(t,e,n,i,r,o,s,a,u){return 0!=(16&a)&&(o=null),function(t,e,n,i,r,o,s){return t.hk(e,n,i,r,o).gl(s)}(t,e,n,i,r,o,s)},t.$_$.f=function(t,e,n,i,r,o,s,a){return 0!=(8&s)&&(r=null),function(t,e,n,i,r,o){return t.hm(e,n,i,r).gl(o)}(t,e,n,i,r,o)},t})?i.apply(e,r):i)||(t.exports=o)},929:function(t,e,n){var i,r,o;r=[e,n(8744),n(7646),n(6945),n(2168)],void 0===(o="function"==typeof(i=function(t,e,n,i,r){"use strict";var o=e.$_$.p4,s=n.$_$.v,a=n.$_$.e1,u=e.$_$.d9,l=e.$_$.qd,c=n.$_$.p1,h=e.$_$.la,p=i.$_$.a,_=e.$_$.o8,f=e.$_$.r9,d=n.$_$.z,m=r.$_$.i,y=n.$_$.e,v=n.$_$.a1,g=r.$_$.g,w=n.$_$.s,b=n.$_$.f;function x(t,e){this.r1k_1=t,u.call(this,e)}function $(t,e){var n=new x(t,e),i=function(t,e){return n.t1k(t,e)};return i.$arity=1,i}function C(t){this.v1k_1=t}function E(t,e,n){this.e1l_1=t,this.f1l_1=e,u.call(this,n)}function A(t,e,n){var i=new E(t,e,n),r=function(t,e){return i.i1l(t,e)};return r.$arity=1,r}function k(t,e,n){u.call(this,n),this.s1l_1=t,this.t1l_1=e}function S(t,e){this.u1l_1=t,this.v1l_1=e}function T(t){this.x1l_1=t}function I(t,e){this.g1m_1=t,u.call(this,e)}return e.$_$.f9,x.prototype=Object.create(u.prototype),x.prototype.constructor=x,E.prototype=Object.create(u.prototype),E.prototype.constructor=E,k.prototype=Object.create(u.prototype),k.prototype.constructor=k,I.prototype=Object.create(u.prototype),I.prototype.constructor=I,x.prototype.t1k=function(t,e){var n=this.u1k(t,e);return n.ji_1=o(),n.ki_1=null,n.ri()},x.prototype.si=function(t,e){return this.t1k(null!=t&&h(t,c)?t:l(),e)},x.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=p(this.r1k_1,this))===_())return t;continue t;case 1:return t;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},x.prototype.u1k=function(t,e){var n=new x(this.r1k_1,e);return n.s1k_1=t,n},x.$metadata$=f("mapToList$o$collect$slambda$slambda",void 0,void 0,void 0,[1],u.prototype),C.prototype.m14=function(t,e){return this.v1k_1(t,e)},C.$metadata$=f("sam$kotlinx_coroutines_flow_FlowCollector$0",[d]),E.prototype.i1l=function(t,e){var n=this.j1l(t,e);return n.ji_1=o(),n.ki_1=null,n.ri()},E.prototype.si=function(t,e){return this.i1l(t instanceof m?t:l(),e)},E.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.hi_1=1,(t=y(this.f1l_1,$(this.g1l_1,null),this))===_())return t;continue t;case 1:if(this.h1l_1=t,this.hi_1=2,(t=this.e1l_1.m14(this.h1l_1,this))===_())return t;continue t;case 2:return o();case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},E.prototype.j1l=function(t,e){var n=new E(this.e1l_1,this.f1l_1,e);return n.g1l_1=t,n},E.$metadata$=f("mapToList$o$collect$slambda",void 0,void 0,void 0,[1],u.prototype),k.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2,this.hi_1=1;var e=A(this.t1l_1,this.s1l_1.v1l_1,null);if((t=this.s1l_1.u1l_1.u13(new C(e),this))===_())return t;continue t;case 1:return o();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},k.$metadata$=f("$collectCOROUTINE$0",void 0,void 0,void 0,void 0,u.prototype),S.prototype.w1l=function(t,e){var n=new k(this,t,e);return n.ji_1=o(),n.ki_1=null,n.ri()},S.prototype.u13=function(t,e){return this.w1l(t,e)},S.$metadata$=f(void 0,[v]),T.prototype.tj=function(){this.x1l_1.a12(o())},T.$metadata$=f(void 0,[g]),I.prototype.n1m=function(t,e){var n=this.o1m(t,e);return n.ji_1=o(),n.ki_1=null,n.ri()},I.prototype.si=function(t,e){return this.n1m(null!=t&&h(t,d)?t:l(),e)},I.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=8;w(),this.i1m_1=b(-1,null,null,6,null),this.i1m_1.a12(o()),this.j1m_1=new T(this.i1m_1),this.g1m_1.vj(this.j1m_1),this.hi_1=1;continue t;case 1:this.ii_1=7,this.l1m_1=this.i1m_1.d(),this.hi_1=2;continue t;case 2:if(this.hi_1=3,(t=this.l1m_1.n10(this))===_())return t;continue t;case 3:if(!t){this.hi_1=5;continue t}if(this.m1m_1=this.l1m_1.f(),this.hi_1=4,(t=this.h1m_1.m14(this.g1m_1,this))===_())return t;continue t;case 4:this.hi_1=2;continue t;case 5:this.k1m_1=o(),this.ii_1=8,this.hi_1=6;continue t;case 6:return this.g1m_1.wj(this.j1m_1),o();case 7:this.ii_1=8;var e=this.ki_1;throw this.g1m_1.wj(this.j1m_1),e;case 8:throw this.ki_1}}catch(t){if(8===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},I.prototype.o1m=function(t,e){var n=new I(this.g1m_1,e);return n.h1m_1=t,n},I.$metadata$=f("asFlow$slambda",void 0,void 0,void 0,[1],u.prototype),t.$_$=t.$_$||{},t.$_$.a=function(t){return a((e=new I(t,null),(n=function(t,n){return e.n1m(t,n)}).$arity=1,n));var e,n},t.$_$.b=function(t,e,n,i){return 0!=(1&n)&&(e=s().gz_1),function(t,e){return new S(t,e)}(t,e)},t})?i.apply(e,r):i)||(t.exports=o)},2168:function(t,e,n){var i,r,o;r=[e,n(8744)],void 0===(o="function"==typeof(i=function(t,e){"use strict";var n=e.$_$.ca,i=e.$_$.r9,r=e.$_$.p4,o=e.$_$.d9,s=e.$_$.o8,a=e.$_$.bb,u=e.$_$.m2,l=e.$_$.j6,c=e.$_$.sa,h=e.$_$.qd,p=e.$_$.na,_=e.$_$.o1,f=e.$_$.d1,d=e.$_$.md;function m(t,e,n,i,r){return 0!=(1&i)&&(t=!1),null==r?this.tl(t,e,n):r(t,e,n)}function y(){}function v(){}function g(t){w.call(this,t)}function w(t){this.xj_1=t}function b(t,e,n,i,r,o,s){g.call(this,s),this.bk_1=t,this.ck_1=e,this.dk_1=n,this.ek_1=i,this.fk_1=r,this.gk_1=o}function x(t,e,n,i){o.call(this,i),this.sk_1=t,this.tk_1=e,this.uk_1=n}function $(t){A.call(this,t)}function C(){}function E(){}function A(t){this.dl_1=t}function k(){}function S(t){this.zl_1=t}function T(){this.hl_1=q();var t;t=f(),this.il_1=t;var e;e=f(),this.jl_1=e;var n;n=_(),this.kl_1=n;var i;i=_(),this.ll_1=i,this.ml_1=!1,this.nl_1=!0,this.ol_1=null}function I(){}function O(){}function z(){}function M(t){this.dm_1=t}function D(){}function R(){}function P(){}function j(){}function N(){}function L(){}function q(){return new d(0,0)}return g.prototype=Object.create(w.prototype),g.prototype.constructor=g,b.prototype=Object.create(g.prototype),b.prototype.constructor=b,x.prototype=Object.create(o.prototype),x.prototype.constructor=x,$.prototype=Object.create(A.prototype),$.prototype.constructor=$,O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,y.$metadata$=n("ColumnAdapter"),v.$metadata$=n("Listener"),g.$metadata$=i("Query",void 0,void 0,void 0,void 0,w.prototype),w.prototype.yj=function(){return this.xj_1},w.$metadata$=i("ExecutableQuery"),b.prototype.zj=function(t){return this.dk_1.hk(this.bk_1,this.gk_1,t,0,null)},b.prototype.toString=function(){return this.ek_1+":"+this.fk_1},b.prototype.vj=function(t){this.dk_1.ik(t,this.ck_1)},b.prototype.wj=function(t){this.dk_1.jk(t,this.ck_1)},b.$metadata$=i("SimpleQuery",void 0,void 0,void 0,void 0,g.prototype),x.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=9,this.hi_1=1,(t=this.sk_1.el().fl().gl(this))===s())return t;continue t;case 1:if(this.vk_1=t,this.wk_1=this.vk_1.pl(),this.xk_1=null==this.wk_1||!this.tk_1,!this.xk_1)throw u(a("Already in a transaction"));this.yk_1=null,this.zk_1=null,this.hi_1=2;continue t;case 2:if(this.ii_1=5,this.ii_1=4,this.vk_1.ol_1=this.sk_1,this.hi_1=3,(t=this.uk_1(new S(this.vk_1),this))===s())return t;continue t;case 3:this.zk_1=t;this.vk_1.ml_1=!0,this.al_1=r(),this.ii_1=9,this.hi_1=7;continue t;case 4:if(this.ii_1=5,this.ki_1 instanceof Error){this.bl_1=this.ki_1;this.yk_1=this.bl_1,this.al_1=r(),this.ii_1=9,this.hi_1=7;continue t}throw this.ki_1;case 5:if(this.ii_1=9,this.cl_1=this.ki_1,this.hi_1=6,(t=this.vk_1.ql().gl(this))===s())return t;continue t;case 6:case 8:return this.sk_1.rl(this.vk_1,this.wk_1,this.yk_1,this.zk_1);case 7:if(this.hi_1=8,(t=this.vk_1.ql().gl(this))===s())return t;continue t;case 9:throw this.ki_1}}catch(t){if(9===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},x.$metadata$=i("$transactionWithWrapperCOROUTINE$0",void 0,void 0,void 0,void 0,o.prototype),$.prototype.tl=function(t,e,n){return function(t,e,n,i){var o=new x(t,e,n,i);return o.ji_1=r(),o.ki_1=null,o.ri()}(this,t,e,n)},$.$metadata$=i("SuspendingTransacterImpl",[C],void 0,void 0,void 0,A.prototype),C.$metadata$=n("SuspendingTransacter",[I]),E.$metadata$=n("SuspendingTransactionWithoutReturn",[z]),A.prototype.el=function(){return this.dl_1},A.prototype.rl=function(t,e,n,i){if(null==e)if(t.ml_1&&t.nl_1){if(!t.ll_1.m()){var r,o=t.ll_1;r=l(o),this.dl_1.vl(r)}t.ll_1.va(),t.kl_1.va();for(var s=t.il_1.d();s.e();)s.f()();t.il_1.va()}else{try{for(var a=t.jl_1.d();a.e();)a.f()()}catch(t){if(t instanceof Error){if(null!=n)throw c("Exception while rolling back from an exception.\nOriginal exception: "+n+"\nwith cause "+n.cause+"\n\nRollback exception: "+t,t);throw t}throw t}t.jl_1.va()}else e.nl_1=!!t.ml_1&&t.nl_1,e.il_1.k(t.il_1),e.jl_1.k(t.jl_1),e.kl_1.k(t.kl_1),e.ll_1.k(t.ll_1);if(null==e&&n instanceof O){var u=n.wl_1;return null==u||p(u)?u:h()}if(null!=n)throw n;return null==i||p(i)?i:h()},A.prototype.xl=function(t,e){var n,i,o=this.dl_1.yl();if(null!=o)o.kl_1.b(t)&&e((i=o,function(t){return i.ll_1.b(t),r()}));else{var s,a=_();e((n=a,function(t){return n.b(t),r()})),s=l(a),this.dl_1.vl(s)}},A.$metadata$=i("BaseTransacterImpl"),k.$metadata$=n("SuspendingTransactionWithReturn",[z]),S.$metadata$=i("SuspendingTransactionWrapper",[E,k]),T.prototype.pl=function(){return this.am()},T.prototype.ql=function(){return this.cm(),this.bm(!!this.ml_1&&this.nl_1)},T.prototype.cm=function(){if(!this.hl_1.equals(q()))throw u(a("Transaction objects (`TransactionWithReturn` and `TransactionWithoutReturn`) must be used\nonly within the transaction lambda scope."))},T.$metadata$=i("Transaction",[z]),I.$metadata$=n("TransacterBase"),O.$metadata$=i("RollbackException",void 0,void 0,void 0,void 0,Error.prototype),z.$metadata$=n("TransactionCallbacks"),M.prototype.gl=function(t){return this.dm_1(t)},M.$metadata$=i("AsyncValue",[D]),D.$metadata$=n("QueryResult"),R.$metadata$=n("SqlCursor"),P.$metadata$=n("SqlDriver",[L]),j.$metadata$=n("SqlPreparedStatement"),N.$metadata$=n("SqlSchema"),L.$metadata$=n("Closeable"),$.prototype.ul=m,t.$_$=t.$_$||{},t.$_$.a=M,t.$_$.b=R,t.$_$.c=P,t.$_$.d=j,t.$_$.e=N,t.$_$.f=y,t.$_$.g=v,t.$_$.h=function(t,e,n,i,r,o,s){return new b(t,e,n,i,r,o,s)},t.$_$.i=g,t.$_$.j=$,t.$_$.k=C,t.$_$.l=E,t.$_$.m=T,t.$_$.n=function(t,e,n,i,r,o){return 0!=(8&r)&&(i=null),null==o?this.hm(t,e,n,i):o(t,e,n,i)},t.$_$.o=m,t})?i.apply(e,r):i)||(t.exports=o)},9961:function(t,e,n){var i,r,o;r=[e,n(8744),n(2168),n(7646)],void 0===(o="function"==typeof(i=function(t,e,n,i){"use strict";var r=e.$_$.u9,o=e.$_$.l9,s=e.$_$.r9,a=e.$_$.d9,u=e.$_$.p4,l=e.$_$.o8,c=n.$_$.m,h=n.$_$.a,p=e.$_$.j6,_=e.$_$.md,f=e.$_$.k4,d=e.$_$.i3,m=e.$_$.ee,y=e.$_$.de,v=e.$_$.bb,g=e.$_$.q8,w=i.$_$.t1,b=i.$_$.i1,x=e.$_$.i,$=e.$_$.m1,C=n.$_$.n,E=e.$_$.o1,A=e.$_$.d1,k=e.$_$.o6,S=e.$_$.t5,T=e.$_$.k6,I=n.$_$.c,O=n.$_$.d,z=e.$_$.wa,M=n.$_$.b;function D(t){r(this,t,void 0),o(this,D)}function R(t,e,n,i){this.u1g_1=t,this.v1g_1=e,this.w1g_1=n,a.call(this,i)}function P(t,e){this.m1h_1=t,c.call(this),this.l1h_1=e}function j(t,e,n,i,r){var o=new Y(e,t,n,i,r);return o.ji_1=u(),o.ki_1=null,o.ri()}function N(t,e,n,i){var r=new W(e,t,n,i);return r.ji_1=u(),r.ki_1=null,r.ri()}function L(t,e,n,i,r){this.z1i_1=t,this.a1j_1=e,this.b1j_1=n,this.c1j_1=i,a.call(this,r)}function q(t,e,n,i){this.l1j_1=t,this.m1j_1=e,this.n1j_1=n,a.call(this,i)}function B(t,e){this.x1j_1=t,a.call(this,e)}function F(t,e,n){this.b1k_1=t,this.c1k_1=e,this.d1k_1=n}function U(t,e){this.f1k_1=t,this.g1k_1=e}function H(t,e,n){return function(i){return t.removeEventListener("message",e),t.removeEventListener("error",n),u()}}function V(t,e){return function(n){return n.id=t,n.action="exec",n.sql=e,u()}}function Y(t,e,n,i,r){a.call(this,r),this.v1h_1=t,this.w1h_1=e,this.x1h_1=n,this.y1h_1=i}function W(t,e,n,i){a.call(this,i),this.l1i_1=t,this.m1i_1=e,this.n1i_1=n}function G(t){this.z1g_1=t;var e;e=$(),this.a1h_1=e,this.b1h_1=0,this.c1h_1=null}function Z(){var t;t=A(),this.q1i_1=t}function K(t){var e={};return t(e),e}function X(t){this.h1k_1=t,this.i1k_1=-1}return e.$_$.e9,D.prototype=Object.create(Error.prototype),D.prototype.constructor=D,R.prototype=Object.create(a.prototype),R.prototype.constructor=R,P.prototype=Object.create(c.prototype),P.prototype.constructor=P,L.prototype=Object.create(a.prototype),L.prototype.constructor=L,q.prototype=Object.create(a.prototype),q.prototype.constructor=q,B.prototype=Object.create(a.prototype),B.prototype.constructor=B,Y.prototype=Object.create(a.prototype),Y.prototype.constructor=Y,W.prototype=Object.create(a.prototype),W.prototype.constructor=W,D.$metadata$=s("JsWorkerException",void 0,void 0,void 0,void 0,Error.prototype),R.prototype.x1g=function(t){var e=this.y1g(t);return e.ji_1=u(),e.ki_1=null,e.ri()},R.prototype.qj=function(t){return this.x1g(t)},R.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=5,null==this.u1g_1.l1h_1){if(this.v1g_1){if(this.hi_1=2,(t=N(this.w1g_1.z1g_1,this.w1g_1,"END TRANSACTION",this))===l())return t;continue t}if(this.hi_1=1,(t=N(this.w1g_1.z1g_1,this.w1g_1,"ROLLBACK TRANSACTION",this))===l())return t;continue t}this.hi_1=4;continue t;case 1:case 2:this.hi_1=3;continue t;case 3:this.hi_1=4;continue t;case 4:return this.w1g_1.c1h_1=this.u1g_1.l1h_1,u();case 5:throw this.ki_1}}catch(t){if(5===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},R.prototype.y1g=function(t){return new R(this.u1g_1,this.v1g_1,this.w1g_1,t)},R.$metadata$=s("JsWorkerSqlDriver$Transaction$endTransaction$slambda",void 0,void 0,void 0,[0],a.prototype),P.prototype.am=function(){return this.l1h_1},P.prototype.bm=function(t){return new h((e=this,n=t,i=this.m1h_1,r=new R(e,n,i,null),(o=function(t){return r.x1g(t)}).$arity=0,o));var e,n,i,r,o},P.$metadata$=s("Transaction",void 0,void 0,void 0,void 0,c.prototype),L.prototype.qj=function(t){var e=this.y1g(t);return e.ji_1=u(),e.ki_1=null,e.ri()},L.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=j(this.z1i_1.z1g_1,this.z1i_1,this.a1j_1,this.b1j_1,this))===l())return t;continue t;case 1:var e=t,n=0!==e.results.length?e.results[0]:K((function(t){var e;return e=[],t.values=e,u()}));return this.c1j_1(new X(n));case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},L.prototype.y1g=function(t){return new L(this.z1i_1,this.a1j_1,this.b1j_1,this.c1j_1,t)},L.$metadata$=s("JsWorkerSqlDriver$executeQuery$slambda",void 0,void 0,void 0,[0],a.prototype),q.prototype.o1j=function(t){var e=this.y1g(t);return e.ji_1=u(),e.ki_1=null,e.ri()},q.prototype.qj=function(t){return this.o1j(t)},q.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=j(this.l1j_1.z1g_1,this.l1j_1,this.m1j_1,this.n1j_1,this))===l())return t;continue t;case 1:return new _(0,0);case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},q.prototype.y1g=function(t){return new q(this.l1j_1,this.m1j_1,this.n1j_1,t)},q.$metadata$=s("JsWorkerSqlDriver$execute$slambda",void 0,void 0,void 0,[0],a.prototype),B.prototype.a1k=function(t){var e=this.y1g(t);return e.ji_1=u(),e.ki_1=null,e.ri()},B.prototype.qj=function(t){return this.a1k(t)},B.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=3,this.y1j_1=this.x1j_1.c1h_1,this.z1j_1=new P(this.x1j_1,this.y1j_1),this.x1j_1.c1h_1=this.z1j_1,null==this.y1j_1){if(this.hi_1=1,(t=N(this.x1j_1.z1g_1,this.x1j_1,"BEGIN TRANSACTION",this))===l())return t;continue t}this.hi_1=2;continue t;case 1:this.hi_1=2;continue t;case 2:return this.z1j_1;case 3:throw this.ki_1}}catch(t){if(3===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},B.prototype.y1g=function(t){return new B(this.x1j_1,t)},B.$metadata$=s("JsWorkerSqlDriver$newTransaction$slambda",void 0,void 0,void 0,[0],a.prototype),F.prototype.e1k=function(t){var e=t.data;if(e.id==this.b1k_1)if(this.c1k_1.removeEventListener("message",this),null!=e.error){var n,i=new D(m(e.error));f(),n=d(y(i)),this.d1k_1.g4(n)}else{var r;f(),r=d(e),this.d1k_1.g4(r)}},F.prototype.handleEvent=function(t){return this.e1k(t)},F.$metadata$=s(),U.prototype.e1k=function(t){this.f1k_1.removeEventListener("error",this);var e,n=new D(v(t));f(),e=d(y(n)),this.g1k_1.g4(e)},U.prototype.handleEvent=function(t){return this.e1k(t)},U.$metadata$=s(),Y.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,this.z1h_1=this,this.a1i_1=new b(g(this.z1h_1),w()),this.a1i_1.js(),this.b1i_1=new F(this.x1h_1,this.w1h_1,this.a1i_1),this.c1i_1=new U(this.w1h_1,this.a1i_1),this.w1h_1.addEventListener("message",this.b1i_1),this.w1h_1.addEventListener("error",this.c1i_1),this.w1h_1.postMessage(this.y1h_1),this.a1i_1.tq(H(this.w1h_1,this.b1i_1,this.c1i_1)),(t=x(this.a1i_1.gp(),this))===l())return t;continue t;case 1:return t;case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},Y.$metadata$=s("$sendMessageCOROUTINE$0",void 0,void 0,void 0,void 0,a.prototype),W.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:this.ii_1=2;var e=this.l1i_1,n=e.b1h_1;if(e.b1h_1=n+1|0,this.o1i_1=n,this.p1i_1=K(V(this.o1i_1,this.n1i_1)),this.hi_1=1,(t=j(this.m1i_1,this.l1i_1,this.o1i_1,this.p1i_1,this))===l())return t;continue t;case 1:return u();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},W.$metadata$=s("$runCOROUTINE$1",void 0,void 0,void 0,void 0,a.prototype),G.prototype.hk=function(t,e,n,i,r){var o=new Z;null==r||r(o);var s=this.b1h_1;this.b1h_1=s+1|0;var a,l,c,_=s,f=K((a=_,l=e,c=o,function(t){var e;t.id=a,t.action="exec",t.sql=l;var n=c.q1i_1;return e=p(n),t.params=e,u()}));return new h(function(t,e,n,i,r){var o=new L(t,e,n,i,r),s=function(t){return o.qj(t)};return s.$arity=0,s}(this,_,f,n,null))},G.prototype.hm=function(t,e,n,i){var r=new Z;null==i||i(r);var o=this.b1h_1;this.b1h_1=o+1|0;var s,a,l,c=o,_=K((s=c,a=e,l=r,function(t){var e;t.id=s,t.action="exec",t.sql=a;var n=l.q1i_1;return e=p(n),t.params=e,u()}));return new h(function(t,e,n,i){var r=new q(t,e,n,i),o=function(t){return r.o1j(t)};return o.$arity=0,o}(this,c,_,null))},G.prototype.ik=function(t,e){for(var n=e,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0;var s,a=this.a1h_1,u=a.o(o);if(null==u){var l=E();a.a(o,l),s=l}else s=u;s.b(t)}},G.prototype.jk=function(t,e){for(var n=e,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0;var s=this.a1h_1.o(o);null==s||s.sa(t)}},G.prototype.vl=function(t){for(var e=A(),n=t,i=0,r=n.length;i<r;){var o,s=n[i];i=i+1|0;var a=this.a1h_1.o(s);o=null==a?k():a,S(e,o)}for(var u=T(e).d();u.e();)u.f().tj()},G.prototype.fl=function(){return new h((t=new B(this,null),(e=function(e){return t.a1k(e)}).$arity=0,e));var t,e},G.prototype.yl=function(){return this.c1h_1},G.$metadata$=s("JsWorkerSqlDriver",[I]),Z.prototype.jm=function(t,e){var n=e;this.q1i_1.b(null==n?null:n.o8())},Z.prototype.km=function(t,e){this.q1i_1.b(e)},Z.prototype.lm=function(t,e){this.q1i_1.b(e)},Z.$metadata$=s("JsWorkerSqlPreparedStatement",[O]),X.prototype.f=function(){var t=this;return t.i1k_1=t.i1k_1+1|0,t.i1k_1<this.h1k_1.values.length},X.prototype.em=function(t){return this.h1k_1.values[this.i1k_1][t]},X.prototype.fm=function(t){var e=this.h1k_1.values[this.i1k_1][t],n=null!=e&&"number"==typeof e?e:null;return null==n?null:z(n)},X.prototype.gm=function(t){return this.h1k_1.values[this.i1k_1][t]},X.$metadata$=s("JsWorkerSqlCursor",[M]),G.prototype.im=C,t.$_$=t.$_$||{},t.$_$.a=G,t})?i.apply(e,r):i)||(t.exports=o)},7506:function(t,e,n){var i,r;i=[e,n(8744),n(769),n(7646)],void 0===(r=function(t,e,n,i){"use strict";var r,o=e.$_$.ca,s=e.$_$.p4,a=e.$_$.ee,u=e.$_$.r9,l=n.$_$.d,c=e.$_$.qd,h=n.$_$.e,p=n.$_$.f,_=i.$_$.q,f=n.$_$.g1,d=e.$_$.d9,m=i.$_$.p1,y=e.$_$.la,v=i.$_$.m,g=i.$_$.o1,w=e.$_$.d1,b=e.$_$.xa,x=(e.$_$.f9,i.$_$.l1),$=e.$_$.c9,C=e.$_$.t8,E=e.$_$.x8,A=e.$_$.u8,k=n.$_$.p,S=i.$_$.a,T=n.$_$.j,I=n.$_$.b,O=n.$_$.k,z=e.$_$.o8,M=n.$_$.a;function D(){}function R(t){this.l4h_1=t,this.m4h_1=8}function P(t){l.call(this,t),this.s4h_1=0}function j(){}function N(t){for(var e=t.a4i_1.d();e.e();)e.f()();t.a4i_1.va(),t.b4i_1=!1}function L(t,e){var n,i;t.a4i_1.b(e),t.b4i_1||(t.b4i_1=!0,_(t.y4h_1,null,null,(n=new B(null),(i=function(t,e){return n.r2l(t,e)}).$arity=1,i),3,null))}function q(){return function(t){return U().w4h_1||(U().w4h_1=!0,L(U(),(function(){return U().w4h_1=!1,f().x3y(),s()}))),s()}}function B(t){d.call(this,t)}function F(){r=this,this.v4h_1=!1,this.w4h_1=!1,this.x4h_1=null;var t=new H;this.y4h_1=g(t.b5(v(null,1,null))),this.z4h_1=q();var e;e=w(),this.a4i_1=e,this.b4i_1=!1,this.c4i_1=8}function U(){return null==r&&new F,r}function H(){x.call(this),this.o4i_1=0}function V(t,e){this.x4i_1=t,d.call(this,e)}function Y(t){this.z4i_1=t}return P.prototype=Object.create(l.prototype),P.prototype.constructor=P,B.prototype=Object.create(d.prototype),B.prototype.constructor=B,H.prototype=Object.create(x.prototype),H.prototype.constructor=H,V.prototype=Object.create(d.prototype),V.prototype.constructor=V,D.$metadata$=o("DOMScope"),R.prototype.i4b=function(){return this.l4h_1},R.prototype.n4h=function(t,e){if(t<this.i4b().childNodes.length){var n,i=this.i4b(),r=e.i4b();n=this.i4b().childNodes[t],i.insertBefore(r,a(n))}else this.i4b().appendChild(e.i4b())},R.prototype.z3f=function(t,e){var n=0;if(n<e)do{n=n+1|0;var i,r=this.i4b();i=this.i4b().childNodes[t],r.removeChild(a(i))}while(n<e)},R.prototype.a3g=function(t,e,n){if(t===e)return s();var i=0;if(i<n)do{var r=i;i=i+1|0;var o,u=t>e?t+r|0:t,l=t>e?e+r|0:(e+n|0)-2|0,c=this.i4b();o=this.i4b().childNodes[u];var h,p=c.removeChild(a(o)),_=this.i4b();h=this.i4b().childNodes[l],_.insertBefore(p,a(h))}while(i<n)},R.$metadata$=u("DomNodeWrapper"),P.prototype.t4h=function(t,e){},P.prototype.x3f=function(t,e){return this.t4h(t,e instanceof R?e:c())},P.prototype.u4h=function(t,e){this.s3f().n4h(t,e)},P.prototype.y3f=function(t,e){return this.u4h(t,e instanceof R?e:c())},P.prototype.z3f=function(t,e){this.s3f().z3f(t,e)},P.prototype.a3g=function(t,e,n){this.s3f().a3g(t,e,n)},P.$metadata$=u("DomApplier",void 0,void 0,void 0,void 0,l.prototype),j.$metadata$=o("NamedEventListener"),B.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=s(),n.ki_1=null,n.ri()},B.prototype.si=function(t,e){return this.r2l(null!=t&&y(t,m)?t:c(),e)},B.prototype.ri=function(){for(this.ji_1;;)try{var t=this.hi_1;if(0===t)return this.ii_1=1,N(U()),s();if(1===t)throw this.ki_1}catch(t){throw t}},B.prototype.u1k=function(t,e){var n=new B(e);return n.l4i_1=t,n},B.$metadata$=u("GlobalSnapshotManager$schedule$slambda",void 0,void 0,void 0,[1],d.prototype),F.prototype.m4i=function(){this.v4h_1||(this.v4h_1=!0,this.x4h_1=f().c4c(this.z4h_1))},F.$metadata$=b("GlobalSnapshotManager"),H.prototype.xt=function(t,e){var n;Promise.resolve(s()).then((n=e,function(t){return n.vs(),s()}))},H.$metadata$=u("JsMicrotasksDispatcher",void 0,void 0,void 0,void 0,x.prototype),V.prototype.r2l=function(t,e){var n=this.u1k(t,e);return n.ji_1=s(),n.ki_1=null,n.ri()},V.prototype.si=function(t,e){return this.r2l(null!=t&&y(t,m)?t:c(),e)},V.prototype.ri=function(){var t=this.ji_1;t:for(;;)try{switch(this.hi_1){case 0:if(this.ii_1=2,this.hi_1=1,(t=this.x4i_1.z41(this))===z())return t;continue t;case 1:return s();case 2:throw this.ki_1}}catch(t){if(2===this.ii_1)throw t;this.hi_1=this.ii_1,this.ki_1=t}},V.prototype.u1k=function(t,e){var n=new V(this.x4i_1,e);return n.y4i_1=t,n},V.$metadata$=u("renderComposable$composable$slambda",void 0,void 0,void 0,[1],d.prototype),Y.$metadata$=u(void 0,[D]),P.prototype.t3f=h,P.prototype.u3f=p,H.prototype.b5=$,H.prototype.u4=C,H.prototype.a5=E,H.prototype.z4=A,t.$_$=t.$_$||{},t.$_$.a=D,t.$_$.b=P,t.$_$.c=R,t.$_$.d=j,t.$_$.e=function(t,e){return function(t,e,n,i,r){return 0!=(2&i)&&(e=O()),function(t,e,n){U().m4i();var i=e.b5(new H),r=new k(i),o=g(i),a=S();_(o,null,a,(u=r,l=null,c=new V(u,l),h=function(t,e){return c.r2l(t,e)},h.$arity=1,h),1,null);var u,l,c,h;var p=T(new P(new R(t)),r),f=new Y(t);return p.h3w(I(-1520853124,!0,(d=n,m=f,function(t,e){var n=t;if(2==(11&e)&&n.p3q())n.p3m();else{var i=d;i instanceof M?i.o3q(m,n,0):i(m,n,0)}return s()}))),p;var d,m}(t,e,n)}(a(document.getElementById(t)),null,e,2)},t}.apply(e,i))||(t.exports=r)},1261:function(t,e,n){var i,r;i=[e,n(8744),n(7506),n(769)],void 0===(r=function(t,e,n,i){"use strict";var r,o,s,a,u,l,c,h,p,_,f,d,m,y,v,g,w,b,x,$,C,E,A,k,S,T,I,O,z,M,D,R,P,j,N,L,q,B,F,U,H,V=Math.imul,Y=e.$_$.p4,W=e.$_$.ca,G=e.$_$.m1,Z=e.$_$.d1,K=e.$_$.s5,X=e.$_$.r9,J=e.$_$.xa,Q=e.$_$.bb,tt=e.$_$.m2,et=n.$_$.d,nt=(e.$_$.p9,e.$_$.o1,e.$_$.ee,i.$_$.m),it=e.$_$.se,rt=e.$_$.mc,ot=e.$_$.t9,st=i.$_$.n,at=e.$_$.aa,ut=e.$_$.qd,lt=e.$_$.ua,ct=e.$_$.x9,ht=e.$_$.z9,pt=e.$_$.la,_t=e.$_$.z4,ft=i.$_$.x,dt=e.$_$.db,mt=e.$_$.c,yt=i.$_$.w,vt=e.$_$.te,gt=e.$_$.i8,wt=e.$_$.l,bt=e.$_$.i7,xt=e.$_$.g7,$t=e.$_$.m,Ct=e.$_$.o,Et=i.$_$.z,At=i.$_$.v,kt=i.$_$.h1,St=e.$_$.na,Tt=i.$_$.c1,It=i.$_$.d1,Ot=i.$_$.e1,zt=i.$_$.f1,Mt=i.$_$.a,Dt=i.$_$.y,Rt=(i.$_$.q,n.$_$.c),Pt=e.$_$.m6,jt=e.$_$.j6,Nt=n.$_$.a,Lt=e.$_$.re,qt=e.$_$.ke,Bt=i.$_$.b1,Ft=i.$_$.c,Ut=i.$_$.u,Ht=n.$_$.b,Vt=i.$_$.l,Yt=e.$_$.qb,Wt=e.$_$.y9;function Gt(t,e){var n;return n=e,this.g4r(t,n)}function Zt(t,e){this.w4q(new cn(t,e))}function Kt(t){return new Dn(gt(t))}function Xt(t,e){var n;return t instanceof Dn?(t.q4t_1.b(e),n=t):e instanceof Dn?(e.q4t_1.jb(0,t),n=e):n=this.j4r([t,e]),n}function Jt(){return L||(L=!0,N=new zn("*")),N}function Qt(){return this.l4r()}function te(){return new Pn("hover")}function ee(t,e){this.x4q(t,function(t){var e=new ln;return t(e),e}(e))}function ne(t,e){return r||(r=!0),t.c4j("type",e.a4j_1)}function ie(){}function re(t,e,n){return function(t,e,n,i){return 0!=(1&e)&&(t=new le),oe.call(i,t),i}(t,e,0,Object.create(oe.prototype))}function oe(t){this.l4j_1=t;var e;e=G(),this.m4j_1=e,this.n4j_1=new xn;var n;n=Z(),this.o4j_1=n,this.p4j_1=null;var i;i=Z(),this.q4j_1=i,this.r4j_1=8}function se(){o=this,this.a4k_1="copy",this.b4k_1="cut",this.c4k_1="paste",this.d4k_1="contextmenu",this.e4k_1="click",this.f4k_1="dblclick",this.g4k_1="focus",this.h4k_1="blur",this.i4k_1="focusin",this.j4k_1="focusout",this.k4k_1="keydown",this.l4k_1="keyup",this.m4k_1="mousedown",this.n4k_1="mouseup",this.o4k_1="mouseenter",this.p4k_1="mouseleave",this.q4k_1="mousemove",this.r4k_1="mouseout",this.s4k_1="mouseover",this.t4k_1="wheel",this.u4k_1="scroll",this.v4k_1="select",this.w4k_1="touchcancel",this.x4k_1="touchend",this.y4k_1="touchmove",this.z4k_1="touchstart",this.a4l_1="animationcancel",this.b4l_1="animationend",this.c4l_1="animationiteration",this.d4l_1="animationstart",this.e4l_1="beforeinput",this.f4l_1="input",this.g4l_1="change",this.h4l_1="invalid",this.i4l_1="drag",this.j4l_1="drop",this.k4l_1="dragstart",this.l4l_1="dragend",this.m4l_1="dragover",this.n4l_1="dragenter",this.o4l_1="dragleave",this.p4l_1="submit",this.q4l_1="reset"}function ae(){return null==o&&new se,o}function ue(){}function le(){var t;t=Z(),this.t4j_1=t,this.u4j_1=8}function ce(){s=this,Re.call(this,"button"),this.v4l_1=0}function he(){a=this,Pe.call(this,"checkbox"),this.d4m_1=0}function pe(){return null==a&&new he,a}function _e(){u=this,De.call(this,"color"),this.l4m_1=0}function fe(){l=this,De.call(this,"date"),this.s4m_1=0}function de(){c=this,De.call(this,"datetime-local"),this.w4m_1=0}function me(){h=this,De.call(this,"email"),this.a4n_1=0}function ye(){p=this,De.call(this,"file"),this.e4n_1=0}function ve(){_=this,De.call(this,"hidden"),this.i4n_1=0}function ge(){f=this,De.call(this,"month"),this.m4n_1=0}function we(){d=this,je.call(this,"number"),this.q4n_1=0}function be(){m=this,De.call(this,"password"),this.x4n_1=0}function xe(){y=this,Pe.call(this,"radio"),this.b4o_1=0}function $e(){return null==y&&new xe,y}function Ce(){v=this,je.call(this,"range"),this.f4o_1=0}function Ee(){g=this,De.call(this,"search"),this.j4o_1=0}function Ae(){return null==g&&new Ee,g}function ke(){w=this,Re.call(this,"submit"),this.n4o_1=0}function Se(){b=this,De.call(this,"tel"),this.r4o_1=0}function Te(){x=this,De.call(this,"text"),this.v4o_1=0}function Ie(){$=this,De.call(this,"time"),this.z4o_1=0}function Oe(){C=this,De.call(this,"url"),this.d4p_1=0}function ze(){E=this,De.call(this,"week"),this.h4p_1=0}function Me(){return null==E&&new ze,E}function De(t){qe.call(this,t),this.o4m_1=0}function Re(t){qe.call(this,t),this.y4l_1=0}function Pe(t){qe.call(this,t),this.g4m_1=0}function je(t){qe.call(this,t),this.t4n_1=0}function Ne(){A=this}function Le(){return null==A&&new Ne,A}function qe(t){Le(),this.a4j_1=t,this.b4j_1=0}function Be(t,e){this.k4p_1=t,this.l4p_1=e,this.m4p_1=this.k4p_1,this.n4p_1=0}function Fe(t,e,n){Be.call(this,t,n),this.t4p_1=e}function Ue(t,e){Be.call(this,t,e)}function He(t,e){Be.call(this,t,e)}function Ve(t,e){this.c4q_1=t,this.d4q_1=e,this.e4q_1=8}function Ye(){return Ke(),k}function We(){return Ke(),S}function Ge(t,e,n){Ke();var i,r=e;r.x3g(-1867048565),nt(null,(i=t,function(t){return new Ze(i.i4q(t))}),r,6),r.b3h()}function Ze(t){this.h4q_1=t}function Ke(){var t,e;T||(T=!0,t=new WeakMap,k=t,e=G(),S=e)}function Xe(){}function Je(t,e,n){ln.call(this),this.r4q_1=t,this.s4q_1=e,this.t4q_1=n,this.u4q_1=8}function Qe(){I=this}function tn(){O=this}function en(){z=this}function nn(){M=this}function rn(){D=this}function on(){}function sn(){}function an(){}function un(){}function ln(){xn.call(this),this.w4r_1=0}function cn(t,e){this.x4r_1=t,this.y4r_1=e,this.z4r_1=8}function hn(){}function pn(){}function _n(){R=this}function fn(){return null==R&&new _n,R}function dn(t,e){this.i4s_1=t,this.j4s_1=e,this.k4s_1=0}function mn(){P=this,this.m4s_1=0}function yn(t,e,n){this.o4s_1=t,this.p4s_1=e,this.q4s_1=n}function vn(t){return t}function gn(){}function wn(){}function bn(t,e){this.r4s_1=t,this.s4s_1=e,this.t4s_1=8}function xn(){var t;t=Z(),this.d4r_1=t;var e;e=Z(),this.e4r_1=e,this.f4r_1=0}function $n(t,e){if(t.g()!==e.g())return!1;var n,i=0;t:if(pt(t,_t)&&t.m())n=!0;else{for(var r=t.d();r.e();){var o=r.f(),s=i;i=s+1|0;var a=e.l(s);if(o.r4s_1!==a.r4s_1||Q(o.s4s_1)!==Q(a.s4s_1)){n=!1;break t}}n=!0}return n}function Cn(t){this.u4s_1=t}function En(t){this.w4s_1=t,Un.call(this)}function An(){j=this,this.x4s_1=0}function kn(t){Un.call(this),this.z4s_1=t}function Sn(t,e){this.a4t_1=t,this.b4t_1=e}function Tn(t,e){null==j&&new An,this.d4t_1=t,this.e4t_1=e;var n;n=G(),this.f4t_1=n,this.g4t_1=0}function In(){this.j4t_1=yt(),this.k4t_1=0}function On(t,e,n){var i=new qn,r=t instanceof kn?t:null,o=null==r?new kn(t):r,s=e instanceof kn?e:null,a=new Je(o,null==s?new kn(e):s,i);return n(a),vt(a,i.v4q())}function zn(t){Un.call(this),this.o4t_1=t}function Mn(){}function Dn(t){Un.call(this),this.q4t_1=t}function Rn(t,e){Un.call(this),this.t4t_1=t,this.u4t_1=e}function Pn(t){Un.call(this),this.w4t_1=t}function jn(){}function Nn(){}function Ln(){}function qn(){var t;t=Z(),this.l4t_1=t,this.m4t_1=8}function Bn(){this.z4t_1=null,this.a4u_1=null,this.b4u_1=null,this.c4u_1=8}function Fn(t,e,n){return function(i){return null==t||(r=t,i.z4t_1=r),null==e||function(t,e){t.a4u_1=e}(i,e),null==n||function(t,e){t.b4u_1=e}(i,n),Y();var r}}function Un(){this.a4r_1=0}function Hn(t,e,n,i,r){var o=i;At()&&Et(-1594897193,-1,-1,"org.jetbrains.compose.web.dom.TagElement$composable (Base.kt:106)"),o=o.k3s(-1594897193),ft(o,"C(TagElement$composable)P(2)");var s,a,u,l=r;if(0==(14&r)&&(l|=o.c3h(t)?4:2),0==(112&r)&&(l|=o.c3h(e)?32:16),0==(896&r)&&(l|=o.c3h(n)?256:128),146==(731&l)&&o.p3q())o.p3m();else{var c=o;c.x3g(547886695),ft(c,"C(remember$composable)");var h,p=c,_=p.y3g();if(_===kt().a3h_1){var f=new Wn;p.z3g(f),h=f}else h=_;var d=h,m=null==d||St(d)?d:ut();c.b3h();var y=m,v=null,g=o;g.s3m(),g.v3r()?g.x3r((a=t,u=y,function(){var t=a.e45();return u.p4u(t),new Vn(t)})):g.z3r();var w=Tt(g),b=g,x=0;if(18==(91&(x|=b.c3h(It(w))?4:2))&&b.p3q())b.p3m();else{var $=re(null,1);null==e||e($),v=$.p4j_1,It(w).x3g(509942095);var C=Ot(It(w));zt(C,$.q4j_1,((s=function(t,e){return t.l4u(e),Y()}).callableName="updateClasses",s)),zt(C,$.n4j_1,function(){var t=function(t,e){return t.j4u(e),Y()};return t.callableName="updateStyleDeclarations",t}());var E=$.z4j();zt(C,E,function(){var t=function(t,e){return t.k4u(e),Y()};return t.callableName="updateAttrs",t}());var A=$.l4j_1.r4l();zt(C,A,function(){var t=function(t,e){return t.h4u(e),Y()};return t.callableName="updateEventListeners",t}()),zt(C,$.o4j_1,function(){var t=function(t,e){return t.i4u(e),Y()};return t.callableName="updateProperties",t}()),It(w).b3h()}g.x3g(2058660585);var k=g,S=8;if(18==(91&S)&&k.p3q())k.p3m();else{var T=n;if(o.x3g(-1128047990),null==T);else{var I=T;I instanceof Mt?I.o3q(y,k,14&S|112&l>>3):I(y,k,14&S|112&l>>3)}o.b3h()}g.b3h(),g.a3s(),null==v||nt(null,function(t,e){return function(n){return t(n,e.j12())}}(v,y),o,6)}var O=o.l3s();null===O||O.k3t(function(t,e,n,i){return function(r,o){return function(t,e,n,i,r,o){Hn(t,e,n,r,1|i)}(t,e,n,i,r),Y()}}(t,e,n,r)),At()&&Dt()}function Vn(t){Rt.call(this,t),this.f4u_1=t,this.g4u_1=Pt()}function Yn(){}function Wn(){Gn.call(this)}function Gn(){this.q4u_1=0,this.r4u_1=8}function Zn(){}function Kn(t){return Wt("el",1,Yt,(function(t){return Kn(t)}),null),t.t4u_1.b1()}function Xn(t){var e;this.s4u_1=t,this.t4u_1=qt((e=this,function(){return document.createElement(e.s4u_1)}))}function Jn(t,e,n,i,r){si();var o={_v:t},s={_v:e},a=n;At()&&Et(1021009996,-1,-1,"org.jetbrains.compose.web.dom.Div$composable (Elements.kt:489)"),a=a.k3s(1021009996),ft(a,"C(Div$composable)");var u=i;0!=(1&r)?u|=6:0==(14&i)&&(u|=a.c3h(o._v)?4:2),0!=(2&r)?u|=48:0==(112&i)&&(u|=a.c3h(s._v)?32:16),18==(91&u)&&a.p3q()?a.p3m():(0!=(1&r)&&(o._v=null),0!=(2&r)&&(s._v=null),Hn((si(),q),o._v,s._v,a,112&u<<3|896&u<<3));var l,c,h,p,_=a.l3s();null===_||_.k3t((l=o,c=s,h=i,p=r,function(t,e){return function(t,e,n,i,r,o){Jn(t._v,e._v,r,1|n,i)}(l,c,h,p,t),Y()})),At()&&Dt()}function Qn(t,e,n,i){si();var r=n;At()&&Et(-1013116589,-1,-1,"org.jetbrains.compose.web.dom.Input$composable (Elements.kt:1054)"),r=r.k3s(-1013116589),ft(r,"C(Input$composable)P(1)");var o,s,a=i;if(0==(14&i)&&(a|=r.c3h(t)?4:2),0==(112&i)&&(a|=r.c3h(e)?32:16),18==(91&a)&&r.p3q())r.p3m();else{var u=r;u.x3g(547886695),ft(u,"C(remember$composable)");var l,c=u,h=c.y3g();if(h===kt().a3h_1){var p=Bt(0,null,2,null);c.z3g(p),l=p}else l=h;var _=l,f=null==_||St(_)?_:ut();u.b3h();var d=f,m=(si(),B),y=r;y.x3g(-1058148781),ft(y,"C(remember$composable)P(1,2,3)");var v,g=y,w=!!(!!(y.c3h(t)|y.c3h(d))|y.c3h(e)),b=g.y3g();if(w||b===kt().a3h_1){var x=ii(t,e,d);g.z3g(x),v=x}else v=b;var $=v,C=null==$||St($)?$:ut();y.b3h(),Hn(m,C,Ft(r,558133459,!0,(o=t,s=d,function(t,e,n){var i,r=e,a=n;if(0==(14&n)&&(a|=r.c3h(t)?4:2,Y()),18==(91&a)&&r.p3q())r.p3m();else{r.x3g(-1270925487),ot(o,$e())&&Ge(t,r),r.b3h();var u=s.b1();nt(u,(i=t,function(t){return function(t){Ke();var e=Le().j4p(t.type);if(Ye().has(t)){if(ot(e,$e())){var n=We().o(t.name);if(null==n);else for(var i=n.d();i.e();){var r=i.f();r.checked=rt(it(Ye().get(r)))}return t.checked=rt(it(Ye().get(t))),Y()}ot(e,pe())?t.checked=rt(it(Ye().get(t))):t.value=it(Ye().get(t))}}(i.i4q(t)),new ri}),r,0)}return Y()})),r,384)}var E=r.l3s();null===E||E.k3t(function(t,e,n){return function(i,r){return function(t,e,n,i,r){Qn(t,e,i,1|n)}(t,e,n,i),Y()}}(t,e,i)),At()&&Dt()}function ti(t,e,n){si();var i=e;At()&&Et(-363526853,-1,-1,"org.jetbrains.compose.web.dom.Text$composable (Elements.kt:479)"),i=i.k3s(-363526853),ft(i,"C(Text$composable)");var r,o=n;if(0==(14&n)&&(o|=i.c3h(t)?4:2),2==(11&o)&&i.p3q())i.p3m();else{var s=i;s.x3g(547886695),ft(s,"C(remember$composable)");var a,u=s,l=u.y3g();if(l===kt().a3h_1){var c=function(){return new Rt(document.createTextNode(""))};u.z3g(c),a=c}else a=l;var h=a,p=null==h||St(h)?h:ut();s.b3h();var _=p,f=i;f.x3g(-1846754774),ft(f,"C(ComposeNode$composable)"),f.k3r()instanceof Ht||Ut(),f.s3m(),f.v3r()?f.x3r((r=_,function(){return r()})):f.z3r();var d=Ot(f);zt(d,t,(function(t,e){var n=t.i4b();return(n instanceof Text?n:ut()).data=e,Y()})),f.a3s(),f.b3h()}var m,y,v=i.l3s();null===v||v.k3t((m=t,y=n,function(t,e){return function(t,e,n,i){ti(t,n,1|e)}(m,y,t),Y()})),At()&&Dt()}function ei(t,e,n,i,r){si();var o={_v:t},s={_v:e},a=n;At()&&Et(-767970749,-1,-1,"org.jetbrains.compose.web.dom.Button$composable (Elements.kt:521)"),a=a.k3s(-767970749),ft(a,"C(Button$composable)");var u=i;0!=(1&r)?u|=6:0==(14&i)&&(u|=a.c3h(o._v)?4:2),0!=(2&r)?u|=48:0==(112&i)&&(u|=a.c3h(s._v)?32:16),18==(91&u)&&a.p3q()?a.p3m():(0!=(1&r)&&(o._v=null),0!=(2&r)&&(s._v=null),Hn((si(),F),o._v,s._v,a,112&u<<3|896&u<<3));var l,c,h,p,_=a.l3s();null===_||_.k3t((l=o,c=s,h=i,p=r,function(t,e){return function(t,e,n,i,r,o){ei(t._v,e._v,r,1|n,i)}(l,c,h,p,t),Y()})),At()&&Dt()}function ni(t,e,n,i,r){si();var o={_v:t},s=n;At()&&Et(-1688263201,-1,-1,"org.jetbrains.compose.web.dom.Style$composable (Elements.kt:978)"),s=s.k3s(-1688263201),ft(s,"C(Style$composable)");var a,u,l,c=i;if(0!=(1&r)?c|=6:0==(14&i)&&(c|=s.c3h(o._v)?4:2),0!=(2&r)?c|=48:0==(112&i)&&(c|=s.c3h(e)?32:16),18==(91&c)&&s.p3q())s.p3m();else{0!=(1&r)&&(o._v=null);var h=(si(),U),p=o._v,_=s;_.x3g(-838505973),ft(_,"C(remember$composable)P(1)");var f,d=_,m=_.c3h(p),y=d.y3g();if(m||y===kt().a3h_1){var v=(l=o,function(t){return null!=l._v&&l._v(t),Y()});d.z3g(v),f=v}else f=y;var g=f,w=null==g||St(g)?g:ut();_.b3h(),Hn(h,w,Ft(s,962227798,!0,(a=e,u=c,function(t,e,n){var i=e,r=n;if(0==(14&n)&&(r|=i.c3h(t)?4:2,Y()),18==(91&r)&&i.p3q())i.p3m();else{var o=a.g();Vt(a,o,function(t,e){return function(n){var i=t.i4q(n).sheet,r=i instanceof CSSStyleSheet?i:null;return null==r||function(t,e){for(var n=e.d();n.e();)ai(t,n.f())}(r,e),new oi(r)}}(t,a),i,14&u>>3)}return Y()})),s,384)}var b=s.l3s();null===b||b.k3t(function(t,e,n,i){return function(r,o){return function(t,e,n,i,r,o){ni(t._v,e,r,1|n,i)}(t,e,n,i,r),Y()}}(o,e,i,r)),At()&&Dt()}function ii(t,e,n){return function(i){var r=new Ve(t,i);return ne(r,t),r.g4q(function(t){return function(e){return t.t16(t.b1()+1|0),Y()}}(n)),e(r),Y()}}function ri(){}function oi(t){this.u4u_1=t}function si(){H||(H=!0,new Xn("address"),new Xn("article"),new Xn("aside"),new Xn("header"),new Xn("area"),new Xn("audio"),new Xn("map"),new Xn("track"),new Xn("video"),new Xn("datalist"),new Xn("fieldset"),new Xn("legend"),new Xn("meter"),new Xn("output"),new Xn("progress"),new Xn("embed"),new Xn("iframe"),new Xn("object"),new Xn("param"),new Xn("picture"),new Xn("source"),new Xn("canvas"),new Xn("dl"),new Xn("dt"),new Xn("dd"),q=new Xn("div"),new Xn("a"),B=new Xn("input"),F=new Xn("button"),new Xn("h1"),new Xn("h2"),new Xn("h3"),new Xn("h4"),new Xn("h5"),new Xn("h6"),new Xn("p"),new Xn("em"),new Xn("i"),new Xn("b"),new Xn("small"),new Xn("span"),new Xn("br"),new Xn("ul"),new Xn("ol"),new Xn("li"),new Xn("img"),new Xn("form"),new Xn("select"),new Xn("option"),new Xn("optgroup"),new Xn("section"),new Xn("textarea"),new Xn("nav"),new Xn("pre"),new Xn("code"),new Xn("main"),new Xn("footer"),new Xn("hr"),new Xn("label"),new Xn("table"),new Xn("caption"),new Xn("col"),new Xn("colgroup"),new Xn("tr"),new Xn("thead"),new Xn("th"),new Xn("td"),new Xn("tbody"),new Xn("tfoot"),U=new Xn("style"))}function ai(t,e){var n=function(t,e){var n=t.insertRule(e,t.cssRules.length);return t.cssRules.item(n)}(t,e.s4r()+" {}");null==n||ui(e,n)}function ui(t,e){var n=t;if(pt(n,hn)){for(var i=e,r=t.a4s().h4r().d();r.e();){var o=r.f(),s=o.w3(),a=o.x3();li(i.style,s,a)}for(var u=t.a4s().i4r().d();u.e();){var l=u.f(),c=l.w3(),h=l.x3();ci(i.style,c,h)}}else if(pt(n,pn))for(var p=e,_=t.c4s().d();_.e();)hi(p,_.f());else if(n instanceof sn)for(var f=e,d=t.v4u_1.d();d.e();)pi(f,d.f())}function li(t,e,n){t.setProperty(e,Q(n))}function ci(t,e,n){t.setProperty("--"+e,Q(n))}function hi(t,e){var n=function(t,e){var n=t.insertRule(e,t.cssRules.length);return t.cssRules.item(n)}(t,e.s4r()+" {}");null==n||ui(e,n)}function pi(t,e){var n=function(t,e){return t.appendRule(e),t.cssRules.item(t.cssRules.length-1|0)}(t,e.s4r()+" {}");null==n||ui(e,n)}function _i(t){this.z4u_1=t;var e;e=this.z4u_1.target,this.a4v_1=e,this.b4v_1=this.z4u_1.bubbles,this.c4v_1=this.z4u_1.cancelable,this.d4v_1=this.z4u_1.composed,this.e4v_1=this.z4u_1.currentTarget,this.f4v_1=this.z4u_1.eventPhase,this.g4v_1=this.z4u_1.defaultPrevented,this.h4v_1=this.z4u_1.timeStamp,this.i4v_1=this.z4u_1.type,this.j4v_1=this.z4u_1.isTrusted,this.k4v_1=0}function fi(t){_i.call(this,t),this.x4v_1=t.relatedTarget,this.y4v_1=0}function di(t,e){_i.call(this,e),this.l4w_1=t;var n,i=e.data;n=null==i?null:i,this.m4w_1=n;var r,o=e.dataTransfer;r=null==o?null:o,this.n4w_1=r;var s,a=e.inputType;s=null==a?null:a,this.o4w_1=s;var u=e.isComposing,l=null==u?null:u;this.p4w_1=null!=l&&l,this.q4w_1=8}function mi(t){_i.call(this,t),this.d4x_1=t,this.e4x_1=t.altKey,this.f4x_1=t.button,this.g4x_1=t.buttons,this.h4x_1=t.clientX,this.i4x_1=t.clientY,this.j4x_1=t.ctrlKey,this.k4x_1=t.metaKey;var e=t.movementX,n=null!=e&&"number"==typeof e?e:null;this.l4x_1=null==n?0:n;var i=t.movementY,r=null!=i&&"number"==typeof i?i:null;this.m4x_1=null==r?0:r,this.n4x_1=t.offsetX,this.o4x_1=t.offsetY,this.p4x_1=t.pageX,this.q4x_1=t.pageY,this.r4x_1=t.region,this.s4x_1=t.relatedTarget,this.t4x_1=t.screenX,this.u4x_1=t.screenY,this.v4x_1=t.shiftKey,this.w4x_1=t.x,this.x4x_1=t.y,this.y4x_1=0}return Re.prototype=Object.create(qe.prototype),Re.prototype.constructor=Re,ce.prototype=Object.create(Re.prototype),ce.prototype.constructor=ce,Pe.prototype=Object.create(qe.prototype),Pe.prototype.constructor=Pe,he.prototype=Object.create(Pe.prototype),he.prototype.constructor=he,De.prototype=Object.create(qe.prototype),De.prototype.constructor=De,_e.prototype=Object.create(De.prototype),_e.prototype.constructor=_e,fe.prototype=Object.create(De.prototype),fe.prototype.constructor=fe,de.prototype=Object.create(De.prototype),de.prototype.constructor=de,me.prototype=Object.create(De.prototype),me.prototype.constructor=me,ye.prototype=Object.create(De.prototype),ye.prototype.constructor=ye,ve.prototype=Object.create(De.prototype),ve.prototype.constructor=ve,ge.prototype=Object.create(De.prototype),ge.prototype.constructor=ge,je.prototype=Object.create(qe.prototype),je.prototype.constructor=je,we.prototype=Object.create(je.prototype),we.prototype.constructor=we,be.prototype=Object.create(De.prototype),be.prototype.constructor=be,xe.prototype=Object.create(Pe.prototype),xe.prototype.constructor=xe,Ce.prototype=Object.create(je.prototype),Ce.prototype.constructor=Ce,Ee.prototype=Object.create(De.prototype),Ee.prototype.constructor=Ee,ke.prototype=Object.create(Re.prototype),ke.prototype.constructor=ke,Se.prototype=Object.create(De.prototype),Se.prototype.constructor=Se,Te.prototype=Object.create(De.prototype),Te.prototype.constructor=Te,Ie.prototype=Object.create(De.prototype),Ie.prototype.constructor=Ie,Oe.prototype=Object.create(De.prototype),Oe.prototype.constructor=Oe,ze.prototype=Object.create(De.prototype),ze.prototype.constructor=ze,Fe.prototype=Object.create(Be.prototype),Fe.prototype.constructor=Fe,Ue.prototype=Object.create(Be.prototype),Ue.prototype.constructor=Ue,He.prototype=Object.create(Be.prototype),He.prototype.constructor=He,ln.prototype=Object.create(xn.prototype),ln.prototype.constructor=ln,Je.prototype=Object.create(ln.prototype),Je.prototype.constructor=Je,En.prototype=Object.create(Un.prototype),En.prototype.constructor=En,kn.prototype=Object.create(Un.prototype),kn.prototype.constructor=kn,zn.prototype=Object.create(Un.prototype),zn.prototype.constructor=zn,Dn.prototype=Object.create(Un.prototype),Dn.prototype.constructor=Dn,Rn.prototype=Object.create(Un.prototype),Rn.prototype.constructor=Rn,Pn.prototype=Object.create(Un.prototype),Pn.prototype.constructor=Pn,Vn.prototype=Object.create(Rt.prototype),Vn.prototype.constructor=Vn,Wn.prototype=Object.create(Gn.prototype),Wn.prototype.constructor=Wn,fi.prototype=Object.create(_i.prototype),fi.prototype.constructor=fi,di.prototype=Object.create(_i.prototype),di.prototype.constructor=di,mi.prototype=Object.create(_i.prototype),mi.prototype.constructor=mi,ie.$metadata$=W("AttrsScope",[ue]),oe.prototype.s4j=function(){return this.l4j_1},oe.prototype.h4j=function(t){this.l4j_1.h4j(t)},oe.prototype.j4j=function(t){this.l4j_1.j4j(t)},oe.prototype.k4j=function(t){this.l4j_1.k4j(t)},oe.prototype.i4j=function(t){this.l4j_1.i4j(t)},oe.prototype.g4j=function(t){this.l4j_1.g4j(t)},oe.prototype.v4j=function(){return this.n4j_1},oe.prototype.w4j=function(){return this.o4j_1},oe.prototype.x4j=function(){return this.p4j_1},oe.prototype.y4j=function(){return this.q4j_1},oe.prototype.e4j=function(t){K(this.q4j_1,t)},oe.prototype.d4j=function(t){t(this.n4j_1)},oe.prototype.f4j=function(t){this.p4j_1=t},oe.prototype.c4j=function(t,e){return this.m4j_1.a(t,e),this},oe.prototype.z4j=function(){return this.m4j_1},oe.$metadata$=X("AttrsScopeBuilder",[ie,ue]),se.$metadata$=J("Companion"),ue.$metadata$=W("EventsListenerScope"),le.prototype.g4j=function(t){this.t4j_1.b(t)},le.prototype.r4l=function(){return this.t4j_1},le.$metadata$=X("EventsListenerScopeBuilder",[ue]),ce.$metadata$=J("Button",void 0,void 0,void 0,void 0,Re.prototype),he.$metadata$=J("Checkbox",void 0,void 0,void 0,void 0,Pe.prototype),_e.$metadata$=J("Color",void 0,void 0,void 0,void 0,De.prototype),fe.$metadata$=J("Date",void 0,void 0,void 0,void 0,De.prototype),de.$metadata$=J("DateTimeLocal",void 0,void 0,void 0,void 0,De.prototype),me.$metadata$=J("Email",void 0,void 0,void 0,void 0,De.prototype),ye.$metadata$=J("File",void 0,void 0,void 0,void 0,De.prototype),ve.$metadata$=J("Hidden",void 0,void 0,void 0,void 0,De.prototype),ge.$metadata$=J("Month",void 0,void 0,void 0,void 0,De.prototype),we.$metadata$=J("Number",void 0,void 0,void 0,void 0,je.prototype),be.$metadata$=J("Password",void 0,void 0,void 0,void 0,De.prototype),xe.$metadata$=J("Radio",void 0,void 0,void 0,void 0,Pe.prototype),Ce.$metadata$=J("Range",void 0,void 0,void 0,void 0,je.prototype),Ee.$metadata$=J("Search",void 0,void 0,void 0,void 0,De.prototype),ke.$metadata$=J("Submit",void 0,void 0,void 0,void 0,Re.prototype),Se.$metadata$=J("Tel",void 0,void 0,void 0,void 0,De.prototype),Te.$metadata$=J("Text",void 0,void 0,void 0,void 0,De.prototype),Ie.$metadata$=J("Time",void 0,void 0,void 0,void 0,De.prototype),Oe.$metadata$=J("Url",void 0,void 0,void 0,void 0,De.prototype),ze.$metadata$=J("Week",void 0,void 0,void 0,void 0,De.prototype),De.prototype.h4m=function(t){return Me().i4p(t)},De.$metadata$=X("InputTypeWithStringValue",void 0,void 0,void 0,void 0,qe.prototype),Re.prototype.z4l=function(t){return Y()},Re.prototype.h4m=function(t){return this.z4l(t),Y()},Re.$metadata$=X("InputTypeWithUnitValue",void 0,void 0,void 0,void 0,qe.prototype),Pe.prototype.h4m=function(t){var e,n,i=t.target,r=null==(e=null==i?null:i)?null:e.checked;return null!=(n=null==r?null:r)&&n},Pe.$metadata$=X("InputTypeCheckedValue",void 0,void 0,void 0,void 0,qe.prototype),je.prototype.h4m=function(t){var e,n=t.target,i=null==(e=null==n?null:n)?null:e.valueAsNumber;return null==i?null:i},je.$metadata$=X("InputTypeNumberValue",void 0,void 0,void 0,void 0,qe.prototype),Ne.prototype.j4p=function(t){var e;switch(t){case"button":null==s&&new ce,e=s;break;case"checkbox":e=pe();break;case"color":null==u&&new _e,e=u;break;case"date":null==l&&new fe,e=l;break;case"datetime-local":null==c&&new de,e=c;break;case"email":null==h&&new me,e=h;break;case"file":null==p&&new ye,e=p;break;case"hidden":null==_&&new ve,e=_;break;case"month":null==f&&new ge,e=f;break;case"number":null==d&&new we,e=d;break;case"password":null==m&&new be,e=m;break;case"radio":e=$e();break;case"range":null==v&&new Ce,e=v;break;case"search":e=Ae();break;case"submit":null==w&&new ke,e=w;break;case"tel":null==b&&new Se,e=b;break;case"text":null==x&&new Te,e=x;break;case"time":null==$&&new Ie,e=$;break;case"url":null==C&&new Oe,e=C;break;case"week":e=Me();break;default:throw tt(Q("fromString got unknown type - "+t))}return e},Ne.$metadata$=J("Companion"),qe.prototype.i4p=function(t){var e,n,i=t.target,r=null==(e=null==i?null:i)?null:e.value;return null==(n=null==r?null:r)?"":n},qe.$metadata$=X("InputType"),Be.prototype.o4p=function(){return this.l4p_1},Be.prototype.f35=function(){return this.m4p_1},Be.prototype.e1k=function(t){var e;e=new _i(t),this.l4p_1(e)},Be.prototype.handleEvent=function(t){return this.e1k(t)},Be.$metadata$=X("SyntheticEventListener",[et]),Fe.prototype.e1k=function(t){var e=this.t4p_1.h4m(t);this.o4p()(new di(e,t))},Fe.prototype.handleEvent=function(t){return this.e1k(t)},Fe.$metadata$=X("InputEventListener",void 0,void 0,void 0,void 0,Be.prototype),Ue.prototype.e1k=function(t){this.o4p()(new mi(t))},Ue.prototype.handleEvent=function(t){return this.e1k(t)},Ue.$metadata$=X("MouseEventListener",void 0,void 0,void 0,void 0,Be.prototype),He.prototype.e1k=function(t){this.o4p()(new fi(t))},He.prototype.handleEvent=function(t){return this.e1k(t)},He.$metadata$=X("FocusEventListener",void 0,void 0,void 0,void 0,Be.prototype),Ve.prototype.c4j=function(t,e){return this.d4q_1.c4j(t,e)},Ve.prototype.e4j=function(t){this.d4q_1.e4j(t)},Ve.prototype.h4j=function(t){this.d4q_1.h4j(t)},Ve.prototype.j4j=function(t){this.d4q_1.j4j(t)},Ve.prototype.k4j=function(t){this.d4q_1.k4j(t)},Ve.prototype.i4j=function(t){this.d4q_1.i4j(t)},Ve.prototype.f4q=function(t){this.d4q_1.f4j(t)},Ve.prototype.f4j=function(t){return this.f4q(t)},Ve.prototype.g4j=function(t){this.d4q_1.g4j(t)},Ve.prototype.d4j=function(t){this.d4q_1.d4j(t)},Ve.prototype.g4q=function(t){ae(),this.g4j(new Fe("input",this.c4q_1,t))},Ve.$metadata$=X("InputAttrsScope",[ie]),Ze.prototype.yq=function(){var t=We().o(this.h4q_1.name);null==t||t.sa(this.h4q_1);var e=We().o(this.h4q_1.name);!0===(null==e?null:e.m())&&We().p3(this.h4q_1.name)},Ze.$metadata$=X(void 0,[st]),Xe.$metadata$=W("CSSBuilder",[an,Ln]),Je.prototype.j4q=function(){return this.s4q_1},Je.prototype.v4q=function(){return this.t4q_1.v4q()},Je.prototype.w4q=function(t){this.t4q_1.w4q(t)},Je.prototype.x4q=function(t,e){this.t4q_1.x4q(t,e)},Je.prototype.y4q=function(t,e){for(var n=t.b4r(this.s4q_1)||t.b4r(this.r4q_1)?t:this.z4q(this.s4q_1,t),i=On(this.r4q_1,n,e),r=i.w3(),o=i.x3().d();o.e();){var s=o.f();this.w4q(s)}this.x4q(n,r)},Je.prototype.c4r=function(t,e){return this.y4q(t,e)},Je.$metadata$=X("CSSBuilderImpl",[Xe,jn],void 0,void 0,void 0,ln.prototype),Qe.prototype.m4r=function(){return"flex"},Qe.$metadata$=J("Companion"),tn.prototype.n4r=function(){return"column"},tn.$metadata$=J("Companion"),en.prototype.o4r=function(){return"solid"},en.$metadata$=J("Companion"),nn.prototype.p4r=function(){return"center"},nn.$metadata$=J("Companion"),rn.prototype.q4r=function(){return"absolute"},rn.prototype.r4r=function(){return"fixed"},rn.$metadata$=J("Companion"),on.$metadata$=W("CSSNamedKeyframes"),sn.$metadata$=X("CSSKeyframesRuleDeclaration",[un,on]),an.$metadata$=W("CSSStyleRuleBuilder",[gn]),un.$metadata$=W("CSSRuleDeclaration"),ln.$metadata$=X("CSSRuleBuilderImpl",[an],void 0,void 0,void 0,xn.prototype),cn.prototype.a4s=function(){return this.y4r_1},cn.prototype.s4r=function(){return this.x4r_1.b4s()},cn.prototype.toString=function(){return"CSSStyleRuleDeclaration(selector="+this.x4r_1+", style="+this.y4r_1+")"},cn.prototype.hashCode=function(){var t=at(this.x4r_1);return V(t,31)+at(this.y4r_1)|0},cn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof cn))return!1;var e=t instanceof cn?t:ut();return!!ot(this.x4r_1,e.x4r_1)&&!!ot(this.y4r_1,e.y4r_1)},cn.$metadata$=X("CSSStyleRuleDeclaration",[un,hn]),hn.$metadata$=W("CSSStyledRuleDeclaration"),pn.$metadata$=W("CSSGroupingRuleDeclaration",[un]),_n.prototype.d4s=function(){return"%"},_n.prototype.e4s=function(){return"vw"},_n.prototype.f4s=function(){return"vh"},_n.prototype.g4s=function(){return"px"},_n.prototype.h4s=function(){return"deg"},_n.$metadata$=J("Companion"),dn.prototype.b1=function(){return this.i4s_1},dn.prototype.l4s=function(){return this.j4s_1},dn.prototype.toString=function(){return""+this.i4s_1+this.j4s_1},dn.prototype.hashCode=function(){var t=ct(this.i4s_1);return V(t,31)+at(this.j4s_1)|0},dn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof dn))return!1;var e=t instanceof dn?t:ut();return!!ot(this.i4s_1,e.i4s_1)&&!!ot(this.j4s_1,e.j4s_1)},dn.$metadata$=X("CSSUnitValueTyped"),Object.defineProperty(dn.prototype,"value",{configurable:!0,get:function(){return this.b1()}}),Object.defineProperty(dn.prototype,"unit",{configurable:!0,get:function(){return this.l4s()}}),mn.prototype.n4s=function(){return"white"},mn.$metadata$=J("Color"),yn.prototype.toString=function(){return"hsl("+this.o4s_1+", "+Q(this.p4s_1)+"%, "+Q(this.q4s_1)+"%)"},yn.$metadata$=X("HSL"),gn.$metadata$=W("StyleScope"),wn.$metadata$=W("StyleHolder"),bn.prototype.f35=function(){return this.r4s_1},bn.prototype.b1=function(){return this.s4s_1},bn.prototype.w3=function(){return this.r4s_1},bn.prototype.x3=function(){return this.s4s_1},bn.prototype.toString=function(){return"StylePropertyDeclaration(name="+this.r4s_1+", value="+this.s4s_1+")"},bn.prototype.hashCode=function(){var t=ht(this.r4s_1);return V(t,31)+at(this.s4s_1)|0},bn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof bn))return!1;var e=t instanceof bn?t:ut();return this.r4s_1===e.r4s_1&&!!ot(this.s4s_1,e.s4s_1)},bn.$metadata$=X("StylePropertyDeclaration"),xn.prototype.h4r=function(){return this.d4r_1},xn.prototype.i4r=function(){return this.e4r_1},xn.prototype.g4r=function(t,e){this.h4r().b(new bn(t,e))},xn.prototype.equals=function(t){return!(null==t||!pt(t,wn))&&!!$n(this.h4r(),t.h4r())&&$n(this.i4r(),t.i4r())},xn.$metadata$=X("StyleScopeBuilder",[gn,wn]),Cn.prototype.k5=function(t,e){return this.u4s_1(t,e)},Cn.$metadata$=X("sam$kotlin_properties_ReadOnlyProperty$0",[dt]),En.prototype.b4s=function(){return"."+this.w4s_1},En.$metadata$=X(void 0,void 0,void 0,void 0,void 0,Un.prototype),An.$metadata$=J("Companion"),kn.prototype.toString=function(){throw tt("You can't concatenate `String + CSSSelector` which contains `self` or `root`. Use `selector(<your string>)` to convert `String` to `CSSSelector` for proper work. https://github.com/JetBrains/compose-jb/issues/1440")},kn.prototype.b4s=function(){var t=this.z4s_1,e=null==t?null:t.b4s();if(null==e)throw tt("You can't instantiate self");return e},kn.prototype.equals=function(t){return t instanceof kn},kn.$metadata$=X("CSSSelfSelector",void 0,void 0,void 0,void 0,Un.prototype),Sn.prototype.c4t=function(t,e){var n,i=(this.a4t_1?mt(t).fe()+"-":"")+e.callableName,r=new En(i),o=On(r,r,this.b4t_1),s=o.w3(),a=o.x3();t.x4q(r,s);for(var u=a.d();u.e();){var l=u.f();t.w4q(l)}return new Cn((n=i,function(t,e){return n}))},Sn.$metadata$=X("CSSHolder"),Tn.prototype.v4q=function(){return this.d4t_1.v4q()},Tn.prototype.w4q=function(t){this.d4t_1.w4q(t)},Tn.prototype.x4q=function(t,e){this.d4t_1.x4q(t,e)},Tn.prototype.h4t=function(t){return new Sn(this.e4t_1,t)},Tn.prototype.c4r=function(t,e){return this.i4t(t,e)},Tn.$metadata$=X("StyleSheet",[Nn,jn]),In.prototype.v4q=function(){return this.j4t_1},In.prototype.w4q=function(t){this.j4t_1.y3t(t)},In.$metadata$=X("CSSRulesHolderState",[jn]),zn.prototype.toString=function(){return this.o4t_1},zn.prototype.hashCode=function(){return ht(this.o4t_1)},zn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof zn))return!1;var e=t instanceof zn?t:ut();return this.o4t_1===e.o4t_1},zn.$metadata$=X("RawSelector",void 0,void 0,void 0,void 0,Un.prototype),Mn.$metadata$=W("SelectorsScope"),Dn.prototype.b4r=function(t){return this.r4t(this,t,this.q4t_1)},Dn.prototype.toString=function(){return wt(this.q4t_1,"",null,null,0,null,null,62,null)},Dn.prototype.b4s=function(){return wt(this.q4t_1,"",null,null,0,null,(function(t){return t.b4s()}),30,null)},Dn.prototype.hashCode=function(){return at(this.q4t_1)},Dn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Dn))return!1;var e=t instanceof Dn?t:ut();return!!ot(this.q4t_1,e.q4t_1)},Dn.$metadata$=X("Combine",void 0,void 0,void 0,void 0,Un.prototype),Rn.prototype.b4r=function(t){return this.r4t(this,t,bt([this.t4t_1,this.u4t_1]))},Rn.prototype.toString=function(){return this.t4t_1+" "+this.u4t_1},Rn.prototype.b4s=function(){return this.t4t_1.b4s()+" "+this.u4t_1.b4s()},Rn.prototype.hashCode=function(){var t=at(this.t4t_1);return V(t,31)+at(this.u4t_1)|0},Rn.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Rn))return!1;var e=t instanceof Rn?t:ut();return!!ot(this.t4t_1,e.t4t_1)&&!!ot(this.u4t_1,e.u4t_1)},Rn.$metadata$=X("Descendant",void 0,void 0,void 0,void 0,Un.prototype),Pn.prototype.equals=function(t){return t instanceof Pn&&this.w4t_1===t.w4t_1&&this.x4t()==t.x4t()},Pn.prototype.x4t=function(){return null},Pn.prototype.toString=function(){var t=this.x4t(),e=null==t?null:"("+t+")";return":"+this.w4t_1+(null==e?"":e)},Pn.$metadata$=X("PseudoClassInternal",void 0,void 0,void 0,void 0,Un.prototype),jn.$metadata$=W("CSSRulesHolder"),Nn.$metadata$=W("StyleSheetBuilder",[jn,Ln]),Ln.$metadata$=W("GenericStyleSheetBuilder",[jn,Mn]),qn.prototype.v4q=function(){return this.l4t_1},qn.prototype.w4q=function(t){this.v4q().b(t)},qn.prototype.c4r=function(t,e){return this.i4t(t,e)},qn.$metadata$=X("StyleSheetBuilderImpl",[Nn]),Bn.prototype.equals=function(t){return t instanceof Bn&&!(!ot(this.z4t_1,t.z4t_1)||!ot(this.a4u_1,t.a4u_1))&&ot(this.b4u_1,t.b4u_1)},Bn.prototype.toString=function(){var t=xt([this.z4t_1,this.a4u_1,this.b4u_1]);return wt(t," ",null,null,0,null,null,62,null)},Bn.$metadata$=X("CSSBorder"),Un.prototype.b4r=function(t){return this===t},Un.prototype.r4t=function(t,e,n){var i;if(t===e)i=!0;else{var r;t:if(pt(n,_t)&&n.m())r=!1;else{for(var o=n.d();o.e();)if(o.f().b4r(e)){r=!0;break t}r=!1}i=r}return i},Un.prototype.b4s=function(){return Q(this)},Un.$metadata$=X("CSSSelector"),Vn.prototype.i4b=function(){return this.f4u_1},Vn.prototype.h4u=function(t){for(var e=this.g4u_1.d();e.e();){var n=e.f();this.f4u_1.removeEventListener(n.f35(),n)}this.g4u_1=t;for(var i=this.g4u_1.d();i.e();){var r=i.f();this.f4u_1.addEventListener(r.f35(),r)}},Vn.prototype.i4u=function(t){for(var e=t.d();e.e();){var n=e.f(),i=n.w3(),r=n.x3();i(this.f4u_1,r)}},Vn.prototype.j4u=function(t){var e=this.f4u_1;if(e instanceof HTMLElement||e instanceof SVGElement){this.f4u_1.removeAttribute("style");for(var n=this.f4u_1.style,i=t.h4r().d();i.e();){var r=i.f(),o=r.w3(),s=r.x3();n.setProperty(o,Q(s))}for(var a=t.i4r().d();a.e();){var u=a.f(),l=u.w3(),c=u.x3();n.setProperty(l,Q(c))}}},Vn.prototype.k4u=function(t){for(var e=this.f4u_1.getAttributeNames(),n=0,i=e.length;n<i;){var r=e[n];switch(n=n+1|0,r){case"style":case"class":break;default:this.f4u_1.removeAttribute(r)}}for(var o=t.z().d();o.e();){var s=o.f();this.f4u_1.setAttribute(s.a1(),s.b1())}},Vn.prototype.l4u=function(t){if(this.f4u_1.removeAttribute("class"),!t.m()){var e,n=this.f4u_1.classList;e=jt(t),function(){var t=n;return t.add.apply(t,[].slice.call(e.slice()))}.call(this)}},Vn.$metadata$=X("DomElementWrapper",void 0,void 0,void 0,void 0,Rt.prototype),Yn.$metadata$=W("ElementScope",[Nt]),Wn.prototype.p4u=function(t){this.o4u_1=t},Wn.prototype.j12=function(){var t=this.o4u_1;if(null!=t)return t;Lt("element")},Wn.prototype.i4q=function(t){return this.j12()},Wn.$metadata$=X("ElementScopeImpl",void 0,void 0,void 0,void 0,Gn.prototype),Gn.$metadata$=X("ElementScopeBase",[Yn]),Zn.$metadata$=W("ElementBuilder"),Xn.prototype.e45=function(){var t=Kn(this).cloneNode();return t instanceof Element?t:ut()},Xn.$metadata$=X("ElementBuilderImplementation",[Zn]),ri.prototype.yq=function(){Y()},ri.$metadata$=X(void 0,[st]),oi.prototype.yq=function(){var t=this.u4u_1;null==t||function(t){si();var e=t.cssRules.length,n=0;if(n<e)do{n=n+1|0,t.deleteRule(0)}while(n<e)}(t)},oi.$metadata$=X(void 0,[st]),_i.$metadata$=X("SyntheticEvent"),fi.$metadata$=X("SyntheticFocusEvent",void 0,void 0,void 0,void 0,_i.prototype),di.prototype.b1=function(){return this.l4w_1},di.$metadata$=X("SyntheticInputEvent",void 0,void 0,void 0,void 0,_i.prototype),mi.$metadata$=X("SyntheticMouseEvent",void 0,void 0,void 0,void 0,_i.prototype),le.prototype.h4j=function(t){ae(),this.g4j(new Ue("click",t))},le.prototype.i4j=function(t){ae(),this.g4j(new Ue("mousedown",t))},le.prototype.j4j=function(t){ae(),this.g4j(new He("focusin",t))},le.prototype.k4j=function(t){ae(),this.g4j(new He("focusout",t))},xn.prototype.k4q=Gt,ln.prototype.k4q=Gt,Je.prototype.k4q=Gt,Je.prototype.l4q=function(t,e){this.c4r(t,e)},Je.prototype.j4r=Kt,Je.prototype.k4r=Xt,Je.prototype.returnUniversalSelector=Jt,Je.prototype.z4q=function(t,e){return new Rn(t,e)},Je.prototype.returnHoverSelector=Qt,Je.prototype.m4q=function(t){return this.k4r(t,this.l4r())},Je.prototype.l4r=te,Tn.prototype.i4t=ee,Tn.prototype.j4r=Kt,Tn.prototype.k4r=Xt,Tn.prototype.returnUniversalSelector=Jt,Tn.prototype.returnHoverSelector=Qt,Tn.prototype.l4r=te,In.prototype.x4q=Zt,qn.prototype.i4t=ee,qn.prototype.x4q=Zt,qn.prototype.j4r=Kt,qn.prototype.k4r=Xt,qn.prototype.returnUniversalSelector=Jt,qn.prototype.returnHoverSelector=Qt,qn.prototype.l4r=te,t.$_$=t.$_$||{},t.$_$.a=function(t,e,n,i,r){return 0!=(1&n)&&(t=new In),0!=(2&n)&&(e=!0),Tn.call(r,t,e),r},t.$_$.b=Ae,t.$_$.c=function(){return null==P&&new mn,P},t.$_$.d=function(){return null==I&&new Qe,I},t.$_$.e=function(){return null==O&&new tn,O},t.$_$.f=function(){return null==M&&new nn,M},t.$_$.g=function(){return null==z&&new en,z},t.$_$.h=function(){return null==D&&new rn,D},t.$_$.i=vn,t.$_$.j=function(t,e){this.c4r(new zn(t),e)},t.$_$.k=Kt,t.$_$.l=te,t.$_$.m=Qt,t.$_$.n=Xt,t.$_$.o=Jt,t.$_$.p=ee,t.$_$.q=Tn,t.$_$.r=function(t,e){t.g4r("background-color",e)},t.$_$.s=function(t,e){t.k4q("background",e)},t.$_$.t=function(t,e){t.g4r("border-radius",e)},t.$_$.u=function(t,e,n,i){!function(t,e){var n,i=new Bn;e(i),n=i,t.g4r("border",n)}(t,Fn(e,n,i))},t.$_$.v=function(t,e){t.k4q("box-sizing",e)},t.$_$.w=function(t,e){t.k4q("cursor",$t(e,", ",null,null,0,null,null,62,null))},t.$_$.x=function(t,e){var n;n=e,t.k4q("display",n)},t.$_$.y=function(t,e){var n;n=e,t.k4q("flex-direction",n)},t.$_$.z=function(t,e){t.k4q("font-family",$t(e,", ",null,null,0,null,(function(t){return Ct(t," ",!1,2,null)?'"'+t+'"':t}),30,null))},t.$_$.a1=function(t,e){t.g4r("font-size",e)},t.$_$.b1=function(t,e){t.g4r("height",e)},t.$_$.c1=function(t,e){t.g4r("height",e)},t.$_$.d1=function(t,e,n){return new yn((i=lt(t),fn(),new dn(i,"deg")),e,n);var i},t.$_$.e1=function(t,e){var n;n=e,t.k4q("justify-content",n)},t.$_$.f1=function(t,e){t.g4r("left",e)},t.$_$.g1=function(t,e){t.g4r("margin-top",e)},t.$_$.h1=function(t,e){t.k4q("margin",$t(e," ",null,null,0,null,null,62,null))},t.$_$.i1=function(t,e){t.k4q("overflow",e)},t.$_$.j1=function(t,e){t.k4q("padding",$t(e," ",null,null,0,null,null,62,null))},t.$_$.k1=function(t){var e=lt(t);return fn(),new dn(e,"%")},t.$_$.l1=function(t,e){var n;n=e,t.k4q("position",n)},t.$_$.m1=function(t){var e=lt(t);return fn(),new dn(e,"px")},t.$_$.n1=function(t,e){t.g4r("right",e)},t.$_$.o1=function(t,e){t.g4r("top",e)},t.$_$.p1=function(t){var e=lt(t);return fn(),new dn(e,"vh")},t.$_$.q1=function(t){var e=lt(t);return fn(),new dn(e,"vw")},t.$_$.r1=function(t,e){t.g4r("width",e)},t.$_$.s1=ei,t.$_$.t1=Jn,t.$_$.u1=Qn,t.$_$.v1=ni,t.$_$.w1=ti,t}.apply(e,i))||(t.exports=r)},4654:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var i=n(3743),r=n.n(i),o=n(8124),s=n.n(o),a=n(8591),u=n.n(a),l=n(7035),c=n.n(l),h=n(6190),p=n.n(h),_=n(2799),f=n.n(_),d=n(439),m={};m.styleTagTransform=f(),m.setAttributes=c(),m.insert=u().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=p(),r()(d.Z,m);const y=d.Z&&d.Z.locals?d.Z.locals:void 0},4350:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E"},9504:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E"},8299:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},5834:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},1546:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},583:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},3239:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E"},2380:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E"},1570:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E"},8684:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},662:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},854:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E"},7052:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E"},9813:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E"},1690:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E"},5440:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E"},9633:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E"},4669:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E"},4425:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E"},8941:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E"},4862:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E"},5105:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E"},6352:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23999%27/%3E %3C/svg%3E"},6137:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E"},3947:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E"},3954:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E"},3121:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E"},2905:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%270.3%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%270.9%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E"},9479:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E"},1918:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23fff%27 stroke-width=%273%27 fill=%27%23fff%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23000%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E"}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.u=t=>t+".js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})(),__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__=__webpack_require__(7617);return __webpack_exports__})()}));
//# sourceMappingURL=web.js.map