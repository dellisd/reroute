(this.webpackChunkweb=this.webpackChunkweb||[]).push([[31],{743:(t,e,r)=>{t=r.nmd(t);var n=void 0,o=function(e){return n||(n=new Promise((function(n,o){var i,a=(i=void 0!==e?e:{}).onAbort;i.onAbort=function(t){o(new Error(t)),a&&a(t)},i.postRun=i.postRun||[],i.postRun.push((function(){n(i)})),t=void 0,i||(i=void 0!==i?i:{}),i.onRuntimeInitialized=function(){function t(t,e){this.Qa=t,this.db=e,this.Pa=1,this.wb=[]}function e(t,e){if(this.db=e,e=H(t)+1,this.hb=Lt(e),null===this.hb)throw Error("Unable to allocate memory for the SQL string");V(t,T,this.hb,e),this.sb=this.hb,this.eb=this.Mb=null}function r(t,{filename:e=!1}={}){!1===e?(this.filename="dbfile_"+(4294967295*Math.random()>>>0),this.Xc=!0,null!=t&&Dt.zb("/",this.filename,t,!0,!0)):this.filename=t,this.handleError(a(this.filename,n)),this.db=D(n,"i32"),tt(this.db),this.nb={},this.Xa={}}var n=Yt(4),o=i.cwrap,a=o("sqlite3_open","number",["string","number"]),s=o("sqlite3_close_v2","number",["number"]),u=o("sqlite3_exec","number",["number","string","number","number","number"]),l=o("sqlite3_changes","number",["number"]),c=o("sqlite3_prepare_v2","number",["number","string","number","number","number"]),f=o("sqlite3_sql","string",["number"]),h=o("sqlite3_normalized_sql","string",["number"]),d=o("sqlite3_prepare_v2","number",["number","number","number","number","number"]),p=o("sqlite3_bind_text","number",["number","number","number","number","number"]),m=o("sqlite3_bind_blob","number",["number","number","number","number","number"]),b=o("sqlite3_bind_double","number",["number","number","number"]),w=o("sqlite3_bind_int","number",["number","number","number"]),_=o("sqlite3_bind_parameter_index","number",["number","string"]),y=o("sqlite3_step","number",["number"]),g=o("sqlite3_errmsg","string",["number"]),v=o("sqlite3_column_count","number",["number"]),E=o("sqlite3_data_count","number",["number"]),k=o("sqlite3_column_double","number",["number","number"]),F=o("sqlite3_column_text","string",["number","number"]),z=o("sqlite3_column_blob","number",["number","number"]),M=o("sqlite3_column_bytes","number",["number","number"]),N=o("sqlite3_column_type","number",["number","number"]),P=o("sqlite3_column_name","string",["number","number"]),x=o("sqlite3_reset","number",["number"]),U=o("sqlite3_clear_bindings","number",["number"]),B=o("sqlite3_finalize","number",["number"]),W=o("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),j=o("sqlite3_value_type","number",["number"]),L=o("sqlite3_value_bytes","number",["number"]),I=o("sqlite3_value_text","string",["number"]),Q=o("sqlite3_value_blob","number",["number"]),$=o("sqlite3_value_double","number",["number"]),X=o("sqlite3_result_double","",["number","number"]),Y=o("sqlite3_result_null","",["number"]),Z=o("sqlite3_result_text","",["number","string","number","number"]),G=o("sqlite3_result_blob","",["number","number","number","number"]),K=o("sqlite3_result_int","",["number","number"]),J=o("sqlite3_result_error","",["number","string","number"]),tt=o("RegisterExtensionFunctions","number",["number"]);t.prototype.bind=function(t){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(t)?this.vc(t):null==t||"object"!=typeof t||this.wc(t)},t.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Pa=1;var t=y(this.Qa);switch(t){case 100:return!0;case 101:return!1;default:throw this.db.handleError(t)}},t.prototype.Pc=function(t){return null==t&&(t=this.Pa,this.Pa+=1),k(this.Qa,t)},t.prototype.Qc=function(t){return null==t&&(t=this.Pa,this.Pa+=1),F(this.Qa,t)},t.prototype.getBlob=function(t){null==t&&(t=this.Pa,this.Pa+=1);var e=M(this.Qa,t);t=z(this.Qa,t);for(var r=new Uint8Array(e),n=0;n<e;n+=1)r[n]=O[t+n];return r},t.prototype.get=function(t){null!=t&&this.bind(t)&&this.step(),t=[];for(var e=E(this.Qa),r=0;r<e;r+=1)switch(N(this.Qa,r)){case 1:case 2:t.push(this.Pc(r));break;case 3:t.push(this.Qc(r));break;case 4:t.push(this.getBlob(r));break;default:t.push(null)}return t},t.prototype.getColumnNames=function(){for(var t=[],e=v(this.Qa),r=0;r<e;r+=1)t.push(P(this.Qa,r));return t},t.prototype.getAsObject=function(t){t=this.get(t);for(var e=this.getColumnNames(),r={},n=0;n<e.length;n+=1)r[e[n]]=t[n];return r},t.prototype.getSQL=function(){return f(this.Qa)},t.prototype.getNormalizedSQL=function(){return h(this.Qa)},t.prototype.run=function(t){return null!=t&&this.bind(t),this.step(),this.reset()},t.prototype.zc=function(t,e){null==e&&(e=this.Pa,this.Pa+=1);var r=R(t=Bt(t));this.wb.push(r),this.db.handleError(p(this.Qa,e,r,t.length-1,0))},t.prototype.uc=function(t,e){null==e&&(e=this.Pa,this.Pa+=1);var r=R(t);this.wb.push(r),this.db.handleError(m(this.Qa,e,r,t.length,0))},t.prototype.yc=function(t,e){null==e&&(e=this.Pa,this.Pa+=1),this.db.handleError((t===(0|t)?w:b)(this.Qa,e,t))},t.prototype.xc=function(t){null==t&&(t=this.Pa,this.Pa+=1),m(this.Qa,t,0,0,0)},t.prototype.Tb=function(t,e){switch(null==e&&(e=this.Pa,this.Pa+=1),typeof t){case"string":return void this.zc(t,e);case"number":case"boolean":return void this.yc(t+0,e);case"object":if(null===t)return void this.xc(e);if(null!=t.length)return void this.uc(t,e)}throw"Wrong API use : tried to bind a value of an unknown type ("+t+")."},t.prototype.wc=function(t){var e=this;return Object.keys(t).forEach((function(r){var n=_(e.Qa,r);0!==n&&e.Tb(t[r],n)})),!0},t.prototype.vc=function(t){for(var e=0;e<t.length;e+=1)this.Tb(t[e],e+1);return!0},t.prototype.reset=function(){return 0===U(this.Qa)&&0===x(this.Qa)},t.prototype.freemem=function(){for(var t;void 0!==(t=this.wb.pop());)It(t)},t.prototype.free=function(){var t=0===B(this.Qa);return delete this.db.nb[this.Qa],this.Qa=0,t},e.prototype.next=function(){if(null===this.hb)return{done:!0};if(null!==this.eb&&(this.eb.free(),this.eb=null),!this.db.db)throw this.Bb(),Error("Database closed");var e=$t(),r=Yt(4);S(n),S(r);try{this.db.handleError(d(this.db.db,this.sb,-1,n,r)),this.sb=D(r,"i32");var o=D(n,"i32");return 0===o?(this.Bb(),{done:!0}):(this.eb=new t(o,this.db),this.db.nb[o]=this.eb,{value:this.eb,done:!1})}catch(t){throw this.Mb=C(this.sb),this.Bb(),t}finally{Xt(e)}},e.prototype.Bb=function(){It(this.hb),this.hb=null},e.prototype.getRemainingSQL=function(){return null!==this.Mb?this.Mb:C(this.sb)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(e.prototype[Symbol.iterator]=function(){return this}),r.prototype.run=function(t,e){if(!this.db)throw"Database closed";if(e){t=this.prepare(t,e);try{t.step()}finally{t.free()}}else this.handleError(u(this.db,t,0,0,n));return this},r.prototype.exec=function(e,r){if(!this.db)throw"Database closed";var o=$t(),i=null;try{var a=H(e)+1,s=Yt(a);V(e,O,s,a);var u=s,l=Yt(4);for(e=[];0!==D(u,"i8");){S(n),S(l),this.handleError(d(this.db,u,-1,n,l));var c=D(n,"i32");if(u=D(l,"i32"),0!==c){for(a=null,i=new t(c,this),null!=r&&i.bind(r);i.step();)null===a&&(a={columns:i.getColumnNames(),values:[]},e.push(a)),a.values.push(i.get());i.free()}}return e}catch(t){throw i&&i.free(),t}finally{Xt(o)}},r.prototype.each=function(t,e,r,n){"function"==typeof e&&(n=r,r=e,e=void 0),t=this.prepare(t,e);try{for(;t.step();)r(t.getAsObject())}finally{t.free()}if("function"==typeof n)return n()},r.prototype.prepare=function(e,r){if(S(n),this.handleError(c(this.db,e,-1,n,0)),0===(e=D(n,"i32")))throw"Nothing to prepare";var o=new t(e,this);return null!=r&&o.bind(r),this.nb[e]=o},r.prototype.iterateStatements=function(t){return new e(t,this)},r.prototype.export=function(){Object.values(this.nb).forEach((function(t){t.free()})),Object.values(this.Xa).forEach(A),this.Xa={},this.handleError(s(this.db));var t=Dt.readFile(this.filename,{encoding:"binary"});return this.handleError(a(this.filename,n)),this.db=D(n,"i32"),t},r.prototype.close=function(){null!==this.db&&(Object.values(this.nb).forEach((function(t){t.free()})),Object.values(this.Xa).forEach(A),this.Xa={},this.handleError(s(this.db)),this.Xc&&Dt.unlink("/"+this.filename),this.db=null)},r.prototype.handleError=function(t){if(0===t)return null;throw t=g(this.db),Error(t)},r.prototype.getRowsModified=function(){return l(this.db)},r.prototype.create_function=function(t,e){Object.prototype.hasOwnProperty.call(this.Xa,t)&&(A(this.Xa[t]),delete this.Xa[t]);var r=q((function(t,r,n){for(var o,i=[],a=0;a<r;a+=1){var s=D(n+4*a,"i32"),u=j(s);if(1===u||2===u)s=$(s);else if(3===u)s=I(s);else if(4===u){s=L(u=s),u=Q(u);for(var l=new Uint8Array(s),c=0;c<s;c+=1)l[c]=O[u+c];s=l}else s=null;i.push(s)}try{o=e.apply(null,i)}catch(e){return void J(t,e,-1)}switch(typeof o){case"boolean":K(t,o?1:0);break;case"number":X(t,o);break;case"string":Z(t,o,-1,-1);break;case"object":null===o?Y(t):null!=o.length?(r=R(o),G(t,r,o.length,-1),It(r)):J(t,"Wrong API use : tried to return a value of an unknown type ("+o+").",-1);break;default:Y(t)}}),"viii");return this.Xa[t]=r,this.handleError(W(this.db,t,e.length,1,0,r,0,0,0)),this},i.Database=r;var et=new Map;i.register_for_idb=t=>{let e=q((function(e,r){return e=et.get(e),t.lock(e,r)?0:5}),"iii"),r=q((function(e,r){return e=et.get(e),t.unlock(e,r),0}),"iii"),n=q((function(t,e){t=C(t),et.set(e,t)}),"vii");i._register_for_idb(e,r,n)},i.cleanup_file=t=>{let e=[...et.entries()].find((e=>e[1]===t));et.delete(e[0])},i.reset_filesystem=()=>{Dt.root=null,Dt.lc()}};var s,u={};for(s in i)i.hasOwnProperty(s)&&(u[s]=i[s]);var l,c,f,h,d,p="./this.program",m="object"==typeof window,b="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_="";w?(_=b?r(607).dirname(_)+"/":"//",l=function(t,e){return h||(h=r(9660)),d||(d=r(607)),t=d.normalize(t),h.readFileSync(t,e?null:"utf8")},f=function(t){return(t=l(t,!0)).buffer||(t=new Uint8Array(t)),M(t.buffer),t},c=function(t,e,n){h||(h=r(9660)),d||(d=r(607)),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=i,i.inspect=function(){return"[Emscripten Module object]"}):(m||b)&&(b?_=self.location.href:"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",l=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},b&&(f=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),c=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var y=i.print||console.log.bind(console),g=i.printErr||console.warn.bind(console);for(s in u)u.hasOwnProperty(s)&&(i[s]=u[s]);u=null,i.thisProgram&&(p=i.thisProgram);var v,E,k=[];function A(t){v.delete(X.get(t)),k.push(t)}function q(t,e){if(!v){v=new WeakMap;for(var r=0;r<X.length;r++){var n=X.get(r);n&&v.set(n,r)}}if(v.has(t))t=v.get(t);else{if(k.length)r=k.pop();else{try{X.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}r=X.length-1}try{X.set(r,t)}catch(s){if(!(s instanceof TypeError))throw s;if("function"==typeof WebAssembly.Function){var o={i:"i32",j:"i64",f:"f32",d:"f64"},i={parameters:[],results:"v"==e[0]?[]:[o[e[0]]]};for(n=1;n<e.length;++n)i.parameters.push(o[e[n]]);e=new WebAssembly.Function(i,t)}else{o=[1,0,1,96],i=e.slice(0,1),e=e.slice(1);var a={i:127,j:126,f:125,d:124};for(o.push(e.length),n=0;n<e.length;++n)o.push(a[e[n]]);"v"==i?o.push(0):o=o.concat([1,a[i]]),o[1]=o.length-2,e=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),e=new WebAssembly.Module(e),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}X.set(r,e)}v.set(t,r),t=r}return t}function S(t){var e="i32";switch("*"===e.charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":O[t>>0]=0;break;case"i16":U[t>>1]=0;break;case"i32":B[t>>2]=0;break;case"i64":et=[0,(tt=0,1<=+Math.abs(tt)?0<tt?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],B[t>>2]=et[0],B[t+4>>2]=et[1];break;case"float":W[t>>2]=0;break;case"double":j[t>>3]=0;break;default:ut("invalid type for setValue: "+e)}}function D(t,e){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return O[t>>0];case"i16":return U[t>>1];case"i32":case"i64":return B[t>>2];case"float":return W[t>>2];case"double":return j[t>>3];default:ut("invalid type for getValue: "+e)}return null}i.wasmBinary&&(E=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&ut("no native wasm support detected");var F,z=!1;function M(t,e){t||ut("Assertion failed: "+e)}function N(t){var e=i["_"+t];return M(e,"Cannot call unknown function "+t+", make sure it is exported"),e}function P(t,e,r,n){var o,i={string:function(t){var e=0;if(null!=t&&0!==t){var r=1+(t.length<<2);e=Yt(r),V(t,T,e,r)}return e},array:function(t){var e=Yt(t.length);return O.set(t,e),e}},a=N(t),s=[];if(t=0,n)for(var u=0;u<n.length;u++){var l=i[r[u]];l?(0===t&&(t=$t()),s[u]=l(n[u])):s[u]=n[u]}return o=r=a.apply(null,s),r="string"===e?C(o):"boolean"===e?!!o:o,0!==t&&Xt(t),r}function R(t){var e=Lt(t.length);return t.subarray||t.slice?T.set(t,e):T.set(new Uint8Array(t),e),e}var x,O,T,U,B,W,j,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.subarray&&L)return L.decode(t.subarray(e,r));for(n="";e<r;){var o=t[e++];if(128&o){var i=63&t[e++];if(192==(224&o))n+=String.fromCharCode((31&o)<<6|i);else{var a=63&t[e++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&t[e++])?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else n+=String.fromCharCode(o)}return n}function C(t,e){return t?I(T,t,e):""}function V(t,e,r,n){if(!(0<n))return 0;var o=r;n=r+n-1;for(var i=0;i<t.length;++i){var a=t.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),127>=a){if(r>=n)break;e[r++]=a}else{if(2047>=a){if(r+1>=n)break;e[r++]=192|a>>6}else{if(65535>=a){if(r+2>=n)break;e[r++]=224|a>>12}else{if(r+3>=n)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63}e[r++]=128|a>>6&63}e[r++]=128|63&a}}return e[r]=0,r-o}function H(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++r)),127>=n?++e:e=2047>=n?e+2:65535>=n?e+3:e+4}return e}function Q(t){var e=H(t)+1,r=Lt(e);return r&&V(t,O,r,e),r}function $(){var t=F.buffer;x=t,i.HEAP8=O=new Int8Array(t),i.HEAP16=U=new Int16Array(t),i.HEAP32=B=new Int32Array(t),i.HEAPU8=T=new Uint8Array(t),i.HEAPU16=new Uint16Array(t),i.HEAPU32=new Uint32Array(t),i.HEAPF32=W=new Float32Array(t),i.HEAPF64=j=new Float64Array(t)}var X,Y=[],Z=[],G=[];function K(){var t=i.preRun.shift();Y.unshift(t)}var J,tt,et,rt,nt=0,ot=null,it=null;function at(){nt++,i.monitorRunDependencies&&i.monitorRunDependencies(nt)}function st(){if(nt--,i.monitorRunDependencies&&i.monitorRunDependencies(nt),0==nt&&(null!==ot&&(clearInterval(ot),ot=null),it)){var t=it;it=null,t()}}function ut(t){throw i.onAbort&&i.onAbort(t),g(t),z=!0,new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}function lt(){return J.startsWith("data:application/octet-stream;base64,")}if(i.preloadedImages={},i.preloadedAudios={},J="sql-wasm.wasm",!lt()){var ct=J;J=i.locateFile?i.locateFile(ct,_):_+ct}function ft(){var t=J;try{if(t==J&&E)return new Uint8Array(E);if(f)return f(t);throw"both async and sync fetching of the wasm failed"}catch(t){ut(t)}}function ht(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e(i);else{var r=e.pd;"number"==typeof r?void 0===e.yb?X.get(r)():X.get(r)(e.yb):r(void 0===e.yb?null:e.yb)}}}function dt(t,e){for(var r=0,n=t.length-1;0<=n;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t}function pt(t){var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=dt(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function mt(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],t||e?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function bt(t){if("/"===t)return"/";var e=(t=(t=pt(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)}function wt(t,e){return pt(t+"/"+e)}function _t(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if("string"!=typeof(e=0<=r?arguments[r]:Dt.cwd()))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return(e?"/":"")+(t=dt(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."}function yt(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=_t(t).substr(1),e=_t(e).substr(1),t=r(t.split("/")),e=r(e.split("/"));for(var n=Math.min(t.length,e.length),o=n,i=0;i<n;i++)if(t[i]!==e[i]){o=i;break}for(n=[],i=o;i<t.length;i++)n.push("..");return(n=n.concat(e.slice(o))).join("/")}var gt=[];function vt(t,e){gt[t]={input:[],output:[],gb:e},Dt.Qb(t,Et)}var Et={open:function(t){var e=gt[t.node.rdev];if(!e)throw new Dt.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.gb.flush(t.tty)},flush:function(t){t.tty.gb.flush(t.tty)},read:function(t,e,r,n){if(!t.tty||!t.tty.gb.cc)throw new Dt.ErrnoError(60);for(var o=0,i=0;i<n;i++){try{var a=t.tty.gb.cc(t.tty)}catch(t){throw new Dt.ErrnoError(29)}if(void 0===a&&0===o)throw new Dt.ErrnoError(6);if(null==a)break;o++,e[r+i]=a}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,r,n){if(!t.tty||!t.tty.gb.Nb)throw new Dt.ErrnoError(60);try{for(var o=0;o<n;o++)t.tty.gb.Nb(t.tty,e[r+o])}catch(t){throw new Dt.ErrnoError(29)}return n&&(t.node.timestamp=Date.now()),o}},kt={cc:function(t){if(!t.input.length){var e=null;if(w){var r=Buffer.alloc(256),n=0;try{n=h.readSync(process.stdin.fd,r,0,256,null)}catch(t){if(!t.toString().includes("EOF"))throw t;n=0}e=0<n?r.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n");if(!e)return null;t.input=Bt(e,!0)}return t.input.shift()},Nb:function(t,e){null===e||10===e?(y(I(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&0<t.output.length&&(y(I(t.output,0)),t.output=[])}},At={Nb:function(t,e){null===e||10===e?(g(I(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&0<t.output.length&&(g(I(t.output,0)),t.output=[])}};function qt(t){t=65536*Math.ceil(t/65536);var e=Zt(65536,t);return e?(T.fill(0,e,e+t),e):0}var St={Va:null,mount:function(){return St.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(Dt.Rc(r)||Dt.isFIFO(r))throw new Dt.ErrnoError(63);return St.Va||(St.Va={dir:{node:{getattr:St.node_ops.getattr,setattr:St.node_ops.setattr,lookup:St.node_ops.lookup,mknod:St.node_ops.mknod,rename:St.node_ops.rename,unlink:St.node_ops.unlink,rmdir:St.node_ops.rmdir,readdir:St.node_ops.readdir,symlink:St.node_ops.symlink},stream:{llseek:St.stream_ops.llseek}},file:{node:{getattr:St.node_ops.getattr,setattr:St.node_ops.setattr},stream:{llseek:St.stream_ops.llseek,read:St.stream_ops.read,write:St.stream_ops.write,allocate:St.stream_ops.allocate,mmap:St.stream_ops.mmap,msync:St.stream_ops.msync}},link:{node:{getattr:St.node_ops.getattr,setattr:St.node_ops.setattr,readlink:St.node_ops.readlink},stream:{}},Vb:{node:{getattr:St.node_ops.getattr,setattr:St.node_ops.setattr},stream:Dt.Cc}}),r=Dt.createNode(t,e,r,n),Dt.isDir(r.mode)?(r.node_ops=St.Va.dir.node,r.stream_ops=St.Va.dir.stream,r.Na={}):Dt.isFile(r.mode)?(r.node_ops=St.Va.file.node,r.stream_ops=St.Va.file.stream,r.Ra=0,r.Na=null):Dt.fb(r.mode)?(r.node_ops=St.Va.link.node,r.stream_ops=St.Va.link.stream):Dt.pb(r.mode)&&(r.node_ops=St.Va.Vb.node,r.stream_ops=St.Va.Vb.stream),r.timestamp=Date.now(),t&&(t.Na[e]=r,t.timestamp=r.timestamp),r},qd:function(t){return t.Na?t.Na.subarray?t.Na.subarray(0,t.Ra):new Uint8Array(t.Na):new Uint8Array(0)},Zb:function(t,e){var r=t.Na?t.Na.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)>>>0),0!=r&&(e=Math.max(e,256)),r=t.Na,t.Na=new Uint8Array(e),0<t.Ra&&t.Na.set(r.subarray(0,t.Ra),0))},gd:function(t,e){if(t.Ra!=e)if(0==e)t.Na=null,t.Ra=0;else{var r=t.Na;t.Na=new Uint8Array(e),r&&t.Na.set(r.subarray(0,Math.min(e,t.Ra))),t.Ra=e}},node_ops:{getattr:function(t){var e={};return e.dev=Dt.pb(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,Dt.isDir(t.mode)?e.size=4096:Dt.isFile(t.mode)?e.size=t.Ra:Dt.fb(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.Ac=4096,e.blocks=Math.ceil(e.size/e.Ac),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&St.gd(t,e.size)},lookup:function(){throw Dt.Db[44]},mknod:function(t,e,r,n){return St.createNode(t,e,r,n)},rename:function(t,e,r){if(Dt.isDir(t.mode)){try{var n=Dt.lookupNode(e,r)}catch(t){}if(n)for(var o in n.Na)throw new Dt.ErrnoError(55)}delete t.parent.Na[t.name],t.parent.timestamp=Date.now(),t.name=r,e.Na[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink:function(t,e){delete t.Na[e],t.timestamp=Date.now()},rmdir:function(t,e){var r,n=Dt.lookupNode(t,e);for(r in n.Na)throw new Dt.ErrnoError(55);delete t.Na[e],t.timestamp=Date.now()},readdir:function(t){var e,r=[".",".."];for(e in t.Na)t.Na.hasOwnProperty(e)&&r.push(e);return r},symlink:function(t,e,r){return(t=St.createNode(t,e,41471,0)).link=r,t},readlink:function(t){if(!Dt.fb(t.mode))throw new Dt.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,r,n,o){var i=t.node.Na;if(o>=t.node.Ra)return 0;if(8<(t=Math.min(t.node.Ra-o,n))&&i.subarray)e.set(i.subarray(o,o+t),r);else for(n=0;n<t;n++)e[r+n]=i[o+n];return t},write:function(t,e,r,n,o,i){if(e.buffer===O.buffer&&(i=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Na||t.Na.subarray)){if(i)return t.Na=e.subarray(r,r+n),t.Ra=n;if(0===t.Ra&&0===o)return t.Na=e.slice(r,r+n),t.Ra=n;if(o+n<=t.Ra)return t.Na.set(e.subarray(r,r+n),o),n}if(St.Zb(t,o+n),t.Na.subarray&&e.subarray)t.Na.set(e.subarray(r,r+n),o);else for(i=0;i<n;i++)t.Na[o+i]=e[r+i];return t.Ra=Math.max(t.Ra,o+n),n},llseek:function(t,e,r){if(1===r?e+=t.position:2===r&&Dt.isFile(t.node.mode)&&(e+=t.node.Ra),0>e)throw new Dt.ErrnoError(28);return e},allocate:function(t,e,r){St.Zb(t.node,e+r),t.node.Ra=Math.max(t.node.Ra,e+r)},mmap:function(t,e,r,n,o,i){if(0!==e)throw new Dt.ErrnoError(28);if(!Dt.isFile(t.node.mode))throw new Dt.ErrnoError(43);if(t=t.node.Na,2&i||t.buffer!==x){if((0<n||n+r<t.length)&&(t=t.subarray?t.subarray(n,n+r):Array.prototype.slice.call(t,n,n+r)),n=!0,!(r=qt(r)))throw new Dt.ErrnoError(48);O.set(t,r)}else n=!1,r=t.byteOffset;return{ed:r,vb:n}},msync:function(t,e,r,n,o){if(!Dt.isFile(t.node.mode))throw new Dt.ErrnoError(43);return 2&o||St.stream_ops.write(t,e,0,n,r,!1),0}}},Dt={root:null,mb:[],Xb:{},streams:[],Zc:1,Ua:null,Wb:"/",Hb:!1,hc:!0,Sa:{},nc:{kc:{qc:1,rc:2}},ErrnoError:null,Db:{},Lc:null,tb:0,lookupPath:function(t,e){if(e=e||{},!(t=_t(Dt.cwd(),t)))return{path:"",node:null};var r,n={Cb:!0,Pb:0};for(r in n)void 0===e[r]&&(e[r]=n[r]);if(8<e.Pb)throw new Dt.ErrnoError(32);t=dt(t.split("/").filter((function(t){return!!t})),!1);var o=Dt.root;for(n="/",r=0;r<t.length;r++){var i=r===t.length-1;if(i&&e.parent)break;if(o=Dt.lookupNode(o,t[r]),n=wt(n,t[r]),Dt.ab(o)&&(!i||i&&e.Cb)&&(o=o.lb.root),!i||e.Ta)for(i=0;Dt.fb(o.mode);)if(o=Dt.readlink(n),n=_t(mt(n),o),o=Dt.lookupPath(n,{Pb:e.Pb}).node,40<i++)throw new Dt.ErrnoError(32)}return{path:n,node:o}},Ya:function(t){for(var e;;){if(Dt.isRoot(t))return t=t.mount.jc,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}},Gb:function(t,e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%Dt.Ua.length},ec:function(t){var e=Dt.Gb(t.parent.id,t.name);t.cb=Dt.Ua[e],Dt.Ua[e]=t},fc:function(t){var e=Dt.Gb(t.parent.id,t.name);if(Dt.Ua[e]===t)Dt.Ua[e]=t.cb;else for(e=Dt.Ua[e];e;){if(e.cb===t){e.cb=t.cb;break}e=e.cb}},lookupNode:function(t,e){var r=Dt.Vc(t);if(r)throw new Dt.ErrnoError(r,t);for(r=Dt.Ua[Dt.Gb(t.id,e)];r;r=r.cb){var n=r.name;if(r.parent.id===t.id&&n===e)return r}return Dt.lookup(t,e)},createNode:function(t,e,r,n){return t=new Dt.FSNode(t,e,r,n),Dt.ec(t),t},Ab:function(t){Dt.fc(t)},isRoot:function(t){return t===t.parent},ab:function(t){return!!t.lb},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},fb:function(t){return 40960==(61440&t)},pb:function(t){return 8192==(61440&t)},Rc:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return 49152==(49152&t)},Mc:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Yc:function(t){var e=Dt.Mc[t];if(void 0===e)throw Error("Unknown file open mode: "+t);return e},$b:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},Za:function(t,e){return Dt.hc?0:!e.includes("r")||292&t.mode?e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0:2},Vc:function(t){return Dt.Za(t,"x")||(t.node_ops.lookup?0:2)},Lb:function(t,e){try{return Dt.lookupNode(t,e),20}catch(t){}return Dt.Za(t,"wx")},qb:function(t,e,r){try{var n=Dt.lookupNode(t,e)}catch(t){return t.Oa}if(t=Dt.Za(t,"wx"))return t;if(r){if(!Dt.isDir(n.mode))return 54;if(Dt.isRoot(n)||Dt.Ya(n)===Dt.cwd())return 10}else if(Dt.isDir(n.mode))return 31;return 0},Wc:function(t,e){return t?Dt.fb(t.mode)?32:Dt.isDir(t.mode)&&("r"!==Dt.$b(e)||512&e)?31:Dt.Za(t,Dt.$b(e)):44},oc:4096,$c:function(t,e){for(e=e||Dt.oc,t=t||0;t<=e;t++)if(!Dt.streams[t])return t;throw new Dt.ErrnoError(33)},$a:function(t){return Dt.streams[t]},Jc:function(t,e,r){Dt.ub||(Dt.ub=function(){},Dt.ub.prototype={object:{get:function(){return this.node},set:function(t){this.node=t}}});var n,o=new Dt.ub;for(n in t)o[n]=t[n];return t=o,e=Dt.$c(e,r),t.fd=e,Dt.streams[e]=t},Dc:function(t){Dt.streams[t]=null},Cc:{open:function(t){t.stream_ops=Dt.Oc(t.node.rdev).stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new Dt.ErrnoError(70)}},Kb:function(t){return t>>8},sd:function(t){return 255&t},bb:function(t,e){return t<<8|e},Qb:function(t,e){Dt.Xb[t]={stream_ops:e}},Oc:function(t){return Dt.Xb[t]},bc:function(t){var e=[];for(t=[t];t.length;){var r=t.pop();e.push(r),t.push.apply(t,r.mb)}return e},mc:function(t,e){function r(t){return Dt.tb--,e(t)}function n(t){if(t){if(!n.Kc)return n.Kc=!0,r(t)}else++i>=o.length&&r(null)}"function"==typeof t&&(e=t,t=!1),Dt.tb++,1<Dt.tb&&g("warning: "+Dt.tb+" FS.syncfs operations in flight at once, probably just doing extra work");var o=Dt.bc(Dt.root.mount),i=0;o.forEach((function(e){if(!e.type.mc)return n(null);e.type.mc(e,t,n)}))},mount:function(t,e,r){var n="/"===r,o=!r;if(n&&Dt.root)throw new Dt.ErrnoError(10);if(!n&&!o){var i=Dt.lookupPath(r,{Cb:!1});if(r=i.path,i=i.node,Dt.ab(i))throw new Dt.ErrnoError(10);if(!Dt.isDir(i.mode))throw new Dt.ErrnoError(54)}return e={type:t,vd:e,jc:r,mb:[]},(t=t.mount(e)).mount=e,e.root=t,n?Dt.root=t:i&&(i.lb=e,i.mount&&i.mount.mb.push(e)),t},yd:function(t){if(t=Dt.lookupPath(t,{Cb:!1}),!Dt.ab(t.node))throw new Dt.ErrnoError(28);var e=(t=t.node).lb,r=Dt.bc(e);Object.keys(Dt.Ua).forEach((function(t){for(t=Dt.Ua[t];t;){var e=t.cb;r.includes(t.mount)&&Dt.Ab(t),t=e}})),t.lb=null,t.mount.mb.splice(t.mount.mb.indexOf(e),1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,r){var n=Dt.lookupPath(t,{parent:!0}).node;if(!(t=bt(t))||"."===t||".."===t)throw new Dt.ErrnoError(28);var o=Dt.Lb(n,t);if(o)throw new Dt.ErrnoError(o);if(!n.node_ops.mknod)throw new Dt.ErrnoError(63);return n.node_ops.mknod(n,t,e,r)},create:function(t,e){return Dt.mknod(t,4095&(void 0!==e?e:438)|32768,0)},mkdir:function(t,e){return Dt.mknod(t,1023&(void 0!==e?e:511)|16384,0)},td:function(t,e){t=t.split("/");for(var r="",n=0;n<t.length;++n)if(t[n]){r+="/"+t[n];try{Dt.mkdir(r,e)}catch(t){if(20!=t.Oa)throw t}}},rb:function(t,e,r){return void 0===r&&(r=e,e=438),Dt.mknod(t,8192|e,r)},symlink:function(t,e){if(!_t(t))throw new Dt.ErrnoError(44);var r=Dt.lookupPath(e,{parent:!0}).node;if(!r)throw new Dt.ErrnoError(44);e=bt(e);var n=Dt.Lb(r,e);if(n)throw new Dt.ErrnoError(n);if(!r.node_ops.symlink)throw new Dt.ErrnoError(63);return r.node_ops.symlink(r,e,t)},rename:function(t,e){var r=mt(t),n=mt(e),o=bt(t),i=bt(e),a=Dt.lookupPath(t,{parent:!0}),s=a.node;if(a=(a=Dt.lookupPath(e,{parent:!0})).node,!s||!a)throw new Dt.ErrnoError(44);if(s.mount!==a.mount)throw new Dt.ErrnoError(75);var u=Dt.lookupNode(s,o);if("."!==(n=yt(t,n)).charAt(0))throw new Dt.ErrnoError(28);if("."!==(n=yt(e,r)).charAt(0))throw new Dt.ErrnoError(55);try{var l=Dt.lookupNode(a,i)}catch(t){}if(u!==l){if(r=Dt.isDir(u.mode),o=Dt.qb(s,o,r))throw new Dt.ErrnoError(o);if(o=l?Dt.qb(a,i,r):Dt.Lb(a,i))throw new Dt.ErrnoError(o);if(!s.node_ops.rename)throw new Dt.ErrnoError(63);if(Dt.ab(u)||l&&Dt.ab(l))throw new Dt.ErrnoError(10);if(a!==s&&(o=Dt.Za(s,"w")))throw new Dt.ErrnoError(o);try{Dt.Sa.willMovePath&&Dt.Sa.willMovePath(t,e)}catch(r){g("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+r.message)}Dt.fc(u);try{s.node_ops.rename(u,a,i)}catch(t){throw t}finally{Dt.ec(u)}try{Dt.Sa.onMovePath&&Dt.Sa.onMovePath(t,e)}catch(r){g("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+r.message)}}},rmdir:function(t){var e=Dt.lookupPath(t,{parent:!0}).node,r=bt(t),n=Dt.lookupNode(e,r),o=Dt.qb(e,r,!0);if(o)throw new Dt.ErrnoError(o);if(!e.node_ops.rmdir)throw new Dt.ErrnoError(63);if(Dt.ab(n))throw new Dt.ErrnoError(10);try{Dt.Sa.willDeletePath&&Dt.Sa.willDeletePath(t)}catch(e){g("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,r),Dt.Ab(n);try{Dt.Sa.onDeletePath&&Dt.Sa.onDeletePath(t)}catch(e){g("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readdir:function(t){if(!(t=Dt.lookupPath(t,{Ta:!0}).node).node_ops.readdir)throw new Dt.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(t){var e=Dt.lookupPath(t,{parent:!0}).node,r=bt(t),n=Dt.lookupNode(e,r),o=Dt.qb(e,r,!1);if(o)throw new Dt.ErrnoError(o);if(!e.node_ops.unlink)throw new Dt.ErrnoError(63);if(Dt.ab(n))throw new Dt.ErrnoError(10);try{Dt.Sa.willDeletePath&&Dt.Sa.willDeletePath(t)}catch(e){g("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.unlink(e,r),Dt.Ab(n);try{Dt.Sa.onDeletePath&&Dt.Sa.onDeletePath(t)}catch(e){g("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readlink:function(t){if(!(t=Dt.lookupPath(t).node))throw new Dt.ErrnoError(44);if(!t.node_ops.readlink)throw new Dt.ErrnoError(28);return _t(Dt.Ya(t.parent),t.node_ops.readlink(t))},stat:function(t,e){if(!(t=Dt.lookupPath(t,{Ta:!e}).node))throw new Dt.ErrnoError(44);if(!t.node_ops.getattr)throw new Dt.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(t){return Dt.stat(t,!0)},chmod:function(t,e,r){if(!(t="string"==typeof t?Dt.lookupPath(t,{Ta:!r}).node:t).node_ops.setattr)throw new Dt.ErrnoError(63);t.node_ops.setattr(t,{mode:4095&e|-4096&t.mode,timestamp:Date.now()})},lchmod:function(t,e){Dt.chmod(t,e,!0)},fchmod:function(t,e){if(!(t=Dt.$a(t)))throw new Dt.ErrnoError(8);Dt.chmod(t.node,e)},chown:function(t,e,r,n){if(!(t="string"==typeof t?Dt.lookupPath(t,{Ta:!n}).node:t).node_ops.setattr)throw new Dt.ErrnoError(63);t.node_ops.setattr(t,{timestamp:Date.now()})},lchown:function(t,e,r){Dt.chown(t,e,r,!0)},fchown:function(t,e,r){if(!(t=Dt.$a(t)))throw new Dt.ErrnoError(8);Dt.chown(t.node,e,r)},truncate:function(t,e){if(0>e)throw new Dt.ErrnoError(28);if(!(t="string"==typeof t?Dt.lookupPath(t,{Ta:!0}).node:t).node_ops.setattr)throw new Dt.ErrnoError(63);if(Dt.isDir(t.mode))throw new Dt.ErrnoError(31);if(!Dt.isFile(t.mode))throw new Dt.ErrnoError(28);var r=Dt.Za(t,"w");if(r)throw new Dt.ErrnoError(r);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},Nc:function(t,e){if(!(t=Dt.$a(t)))throw new Dt.ErrnoError(8);if(0==(2097155&t.flags))throw new Dt.ErrnoError(28);Dt.truncate(t.node,e)},kd:function(t,e,r){(t=Dt.lookupPath(t,{Ta:!0}).node).node_ops.setattr(t,{timestamp:Math.max(e,r)})},open:function(t,e,r,n,o){if(""===t)throw new Dt.ErrnoError(44);if(r=64&(e="string"==typeof e?Dt.Yc(e):e)?4095&(void 0===r?438:r)|32768:0,"object"==typeof t)var a=t;else{t=pt(t);try{a=Dt.lookupPath(t,{Ta:!(131072&e)}).node}catch(t){}}var s=!1;if(64&e)if(a){if(128&e)throw new Dt.ErrnoError(20)}else a=Dt.mknod(t,r,0),s=!0;if(!a)throw new Dt.ErrnoError(44);if(Dt.pb(a.mode)&&(e&=-513),65536&e&&!Dt.isDir(a.mode))throw new Dt.ErrnoError(54);if(!s&&(r=Dt.Wc(a,e)))throw new Dt.ErrnoError(r);512&e&&Dt.truncate(a,0),e&=-131713,(n=Dt.Jc({node:a,path:Dt.Ya(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,jd:[],error:!1},n,o)).stream_ops.open&&n.stream_ops.open(n),!i.logReadFiles||1&e||(Dt.Ob||(Dt.Ob={}),t in Dt.Ob||(Dt.Ob[t]=1,g("FS.trackingDelegate error on read file: "+t)));try{Dt.Sa.onOpenFile&&(o=0,1!=(2097155&e)&&(o|=Dt.nc.kc.qc),0!=(2097155&e)&&(o|=Dt.nc.kc.rc),Dt.Sa.onOpenFile(t,o))}catch(e){g("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return n},close:function(t){if(Dt.kb(t))throw new Dt.ErrnoError(8);t.Fb&&(t.Fb=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{Dt.Dc(t.fd)}t.fd=null},kb:function(t){return null===t.fd},llseek:function(t,e,r){if(Dt.kb(t))throw new Dt.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new Dt.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Dt.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,r),t.jd=[],t.position},read:function(t,e,r,n,o){if(0>n||0>o)throw new Dt.ErrnoError(28);if(Dt.kb(t))throw new Dt.ErrnoError(8);if(1==(2097155&t.flags))throw new Dt.ErrnoError(8);if(Dt.isDir(t.node.mode))throw new Dt.ErrnoError(31);if(!t.stream_ops.read)throw new Dt.ErrnoError(28);var i=void 0!==o;if(i){if(!t.seekable)throw new Dt.ErrnoError(70)}else o=t.position;return e=t.stream_ops.read(t,e,r,n,o),i||(t.position+=e),e},write:function(t,e,r,n,o,i){if(0>n||0>o)throw new Dt.ErrnoError(28);if(Dt.kb(t))throw new Dt.ErrnoError(8);if(0==(2097155&t.flags))throw new Dt.ErrnoError(8);if(Dt.isDir(t.node.mode))throw new Dt.ErrnoError(31);if(!t.stream_ops.write)throw new Dt.ErrnoError(28);t.seekable&&1024&t.flags&&Dt.llseek(t,0,2);var a=void 0!==o;if(a){if(!t.seekable)throw new Dt.ErrnoError(70)}else o=t.position;e=t.stream_ops.write(t,e,r,n,o,i),a||(t.position+=e);try{t.path&&Dt.Sa.onWriteToFile&&Dt.Sa.onWriteToFile(t.path)}catch(e){g("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+e.message)}return e},allocate:function(t,e,r){if(Dt.kb(t))throw new Dt.ErrnoError(8);if(0>e||0>=r)throw new Dt.ErrnoError(28);if(0==(2097155&t.flags))throw new Dt.ErrnoError(8);if(!Dt.isFile(t.node.mode)&&!Dt.isDir(t.node.mode))throw new Dt.ErrnoError(43);if(!t.stream_ops.allocate)throw new Dt.ErrnoError(138);t.stream_ops.allocate(t,e,r)},mmap:function(t,e,r,n,o,i){if(0!=(2&o)&&0==(2&i)&&2!=(2097155&t.flags))throw new Dt.ErrnoError(2);if(1==(2097155&t.flags))throw new Dt.ErrnoError(2);if(!t.stream_ops.mmap)throw new Dt.ErrnoError(43);return t.stream_ops.mmap(t,e,r,n,o,i)},msync:function(t,e,r,n,o){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,r,n,o):0},ud:function(){return 0},ic:function(t,e,r){if(!t.stream_ops.ic)throw new Dt.ErrnoError(59);return t.stream_ops.ic(t,e,r)},readFile:function(t,e){if((e=e||{}).flags=e.flags||0,e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw Error('Invalid encoding type "'+e.encoding+'"');var r,n=Dt.open(t,e.flags);t=Dt.stat(t).size;var o=new Uint8Array(t);return Dt.read(n,o,0,t,0),"utf8"===e.encoding?r=I(o,0):"binary"===e.encoding&&(r=o),Dt.close(n),r},writeFile:function(t,e,r){if((r=r||{}).flags=r.flags||577,t=Dt.open(t,r.flags,r.mode),"string"==typeof e){var n=new Uint8Array(H(e)+1);e=V(e,n,0,n.length),Dt.write(t,n,0,e,void 0,r.Bc)}else{if(!ArrayBuffer.isView(e))throw Error("Unsupported data type");Dt.write(t,e,0,e.byteLength,void 0,r.Bc)}Dt.close(t)},cwd:function(){return Dt.Wb},chdir:function(t){if(null===(t=Dt.lookupPath(t,{Ta:!0})).node)throw new Dt.ErrnoError(44);if(!Dt.isDir(t.node.mode))throw new Dt.ErrnoError(54);var e=Dt.Za(t.node,"x");if(e)throw new Dt.ErrnoError(e);Dt.Wb=t.path},Fc:function(){Dt.mkdir("/tmp"),Dt.mkdir("/home"),Dt.mkdir("/home/web_user")},Ec:function(){Dt.mkdir("/dev"),Dt.Qb(Dt.bb(1,3),{read:function(){return 0},write:function(t,e,r,n){return n}}),Dt.rb("/dev/null",Dt.bb(1,3)),vt(Dt.bb(5,0),kt),vt(Dt.bb(6,0),At),Dt.rb("/dev/tty",Dt.bb(5,0)),Dt.rb("/dev/tty1",Dt.bb(6,0));var t=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return function(){return crypto.getRandomValues(t),t[0]}}if(w)try{var e=r(9587);return function(){return e.randomBytes(1)[0]}}catch(t){}return function(){ut("randomDevice")}}();Dt.Wa("/dev","random",t),Dt.Wa("/dev","urandom",t),Dt.mkdir("/dev/shm"),Dt.mkdir("/dev/shm/tmp")},Hc:function(){Dt.mkdir("/proc");var t=Dt.mkdir("/proc/self");Dt.mkdir("/proc/self/fd"),Dt.mount({mount:function(){var e=Dt.createNode(t,"fd",16895,73);return e.node_ops={lookup:function(t,e){var r=Dt.$a(+e);if(!r)throw new Dt.ErrnoError(8);return(t={parent:null,mount:{jc:"fake"},node_ops:{readlink:function(){return r.path}}}).parent=t}},e}},{},"/proc/self/fd")},Ic:function(){i.stdin?Dt.Wa("/dev","stdin",i.stdin):Dt.symlink("/dev/tty","/dev/stdin"),i.stdout?Dt.Wa("/dev","stdout",null,i.stdout):Dt.symlink("/dev/tty","/dev/stdout"),i.stderr?Dt.Wa("/dev","stderr",null,i.stderr):Dt.symlink("/dev/tty1","/dev/stderr"),Dt.open("/dev/stdin",0),Dt.open("/dev/stdout",1),Dt.open("/dev/stderr",1)},Yb:function(){Dt.ErrnoError||(Dt.ErrnoError=function(t,e){this.node=e,this.hd=function(t){this.Oa=t},this.hd(t),this.message="FS error"},Dt.ErrnoError.prototype=Error(),Dt.ErrnoError.prototype.constructor=Dt.ErrnoError,[44].forEach((function(t){Dt.Db[t]=new Dt.ErrnoError(t),Dt.Db[t].stack="<generic error, no stack>"})))},lc:function(){Dt.Yb(),Dt.Ua=Array(4096),Dt.mount(St,{},"/"),Dt.Fc(),Dt.Ec(),Dt.Hc(),Dt.Lc={MEMFS:St}},jb:function(t,e,r){Dt.jb.Hb=!0,Dt.Yb(),i.stdin=t||i.stdin,i.stdout=e||i.stdout,i.stderr=r||i.stderr,Dt.Ic()},wd:function(){Dt.jb.Hb=!1;var t=i._fflush;for(t&&t(0),t=0;t<Dt.streams.length;t++){var e=Dt.streams[t];e&&Dt.close(e)}},Eb:function(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r},od:function(t,e){return(t=Dt.xb(t,e)).exists?t.object:null},xb:function(t,e){try{var r=Dt.lookupPath(t,{Ta:!e});t=r.path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,ad:!1,cd:null,bd:null};try{r=Dt.lookupPath(t,{parent:!0}),n.ad=!0,n.cd=r.path,n.bd=r.node,n.name=bt(t),r=Dt.lookupPath(t,{Ta:!e}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(t){n.error=t.Oa}return n},md:function(t,e){for(t="string"==typeof t?t:Dt.Ya(t),e=e.split("/").reverse();e.length;){var r=e.pop();if(r){var n=wt(t,r);try{Dt.mkdir(n)}catch(t){}t=n}}return n},Gc:function(t,e,r,n,o){return t=wt("string"==typeof t?t:Dt.Ya(t),e),Dt.create(t,Dt.Eb(n,o))},zb:function(t,e,r,n,o,i){if(t=e?wt("string"==typeof t?t:Dt.Ya(t),e):t,n=Dt.Eb(n,o),o=Dt.create(t,n),r){if("string"==typeof r){t=Array(r.length),e=0;for(var a=r.length;e<a;++e)t[e]=r.charCodeAt(e);r=t}Dt.chmod(o,146|n),t=Dt.open(o,577),Dt.write(t,r,0,r.length,0,i),Dt.close(t),Dt.chmod(o,n)}return o},Wa:function(t,e,r,n){t=wt("string"==typeof t?t:Dt.Ya(t),e),e=Dt.Eb(!!r,!!n),Dt.Wa.Kb||(Dt.Wa.Kb=64);var o=Dt.bb(Dt.Wa.Kb++,0);return Dt.Qb(o,{open:function(t){t.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(t,e,n,o){for(var i=0,a=0;a<o;a++){try{var s=r()}catch(t){throw new Dt.ErrnoError(29)}if(void 0===s&&0===i)throw new Dt.ErrnoError(6);if(null==s)break;i++,e[n+a]=s}return i&&(t.node.timestamp=Date.now()),i},write:function(t,e,r,o){for(var i=0;i<o;i++)try{n(e[r+i])}catch(t){throw new Dt.ErrnoError(29)}return o&&(t.node.timestamp=Date.now()),i}}),Dt.rb(t,e,o)},ac:function(t){if(t.Ib||t.Sc||t.link||t.Na)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!l)throw Error("Cannot load without read() or XMLHttpRequest.");try{t.Na=Bt(l(t.url),!0),t.Ra=t.Na.length}catch(t){throw new Dt.ErrnoError(29)}},ld:function(t,e,r,n,o){function i(){this.Jb=!1,this.ob=[]}if(i.prototype.get=function(t){if(!(t>this.length-1||0>t)){var e=t%this.chunkSize;return this.dc(t/this.chunkSize|0)[e]}},i.prototype.pc=function(t){this.dc=t},i.prototype.Ub=function(){var t=new XMLHttpRequest;if(t.open("HEAD",r,!1),t.send(null),!(200<=t.status&&300>t.status||304===t.status))throw Error("Couldn't load "+r+". Status: "+t.status);var e,n=Number(t.getResponseHeader("Content-length")),o=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e;t=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e;var i=1048576;o||(i=n);var a=this;a.pc((function(t){var e=t*i,o=(t+1)*i-1;if(o=Math.min(o,n-1),void 0===a.ob[t]){var s=a.ob;if(e>o)throw Error("invalid range ("+e+", "+o+") or no bytes requested!");if(o>n-1)throw Error("only "+n+" bytes available! programmer error!");var u=new XMLHttpRequest;if(u.open("GET",r,!1),n!==i&&u.setRequestHeader("Range","bytes="+e+"-"+o),"undefined"!=typeof Uint8Array&&(u.responseType="arraybuffer"),u.overrideMimeType&&u.overrideMimeType("text/plain; charset=x-user-defined"),u.send(null),!(200<=u.status&&300>u.status||304===u.status))throw Error("Couldn't load "+r+". Status: "+u.status);e=void 0!==u.response?new Uint8Array(u.response||[]):Bt(u.responseText||"",!0),s[t]=e}if(void 0===a.ob[t])throw Error("doXHR failed!");return a.ob[t]})),!t&&n||(i=n=1,i=n=this.dc(0).length,y("LazyFiles on gzip forces download of the whole file when length is accessed")),this.tc=n,this.sc=i,this.Jb=!0},"undefined"!=typeof XMLHttpRequest){if(!b)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.Jb||this.Ub(),this.tc}},chunkSize:{get:function(){return this.Jb||this.Ub(),this.sc}}}),a={Ib:!1,Na:a}}else a={Ib:!1,url:r};var s=Dt.Gc(t,e,a,n,o);a.Na?s.Na=a.Na:a.url&&(s.Na=null,s.url=a.url),Object.defineProperties(s,{Ra:{get:function(){return this.Na.length}}});var u={};return Object.keys(s.stream_ops).forEach((function(t){var e=s.stream_ops[t];u[t]=function(){return Dt.ac(s),e.apply(null,arguments)}})),u.read=function(t,e,r,n,o){if(Dt.ac(s),o>=(t=t.node.Na).length)return 0;if(n=Math.min(t.length-o,n),t.slice)for(var i=0;i<n;i++)e[r+i]=t[o+i];else for(i=0;i<n;i++)e[r+i]=t.get(o+i);return n},s.stream_ops=u,s},nd:function(t,e,r,n,o,a,s,u,l,f){function h(r){function c(r){f&&f(),u||Dt.zb(t,e,r,n,o,l),a&&a(),st()}var h=!1;i.preloadPlugins.forEach((function(t){!h&&t.canHandle(d)&&(t.handle(r,d,c,(function(){s&&s(),st()})),h=!0)})),h||c(r)}(void 0).jb();var d=e?_t(wt(t,e)):t;at(),"string"==typeof r?function(t,e,r){var n="al "+t;c(t,(function(e){M(e,'Loading data file "'+t+'" failed (no arrayBuffer).'),h(new Uint8Array(e)),n&&st()}),(function(){if(!r)throw'Loading data file "'+t+'" failed.';r()})),n&&at()}(r,0,s):h(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Rb:function(){return"EM_FS_"+window.location.pathname},Sb:20,ib:"FILE_DATA",xd:function(t,e,r){e=e||function(){},r=r||function(){};var n=Dt.indexedDB();try{var o=n.open(Dt.Rb(),Dt.Sb)}catch(t){return r(t)}o.onupgradeneeded=function(){y("creating db"),o.result.createObjectStore(Dt.ib)},o.onsuccess=function(){var n=o.result.transaction([Dt.ib],"readwrite"),i=n.objectStore(Dt.ib),a=0,s=0,u=t.length;t.forEach((function(t){(t=i.put(Dt.xb(t).object.Na,t)).onsuccess=function(){++a+s==u&&(0==s?e():r())},t.onerror=function(){s++,a+s==u&&(0==s?e():r())}})),n.onerror=r},o.onerror=r},rd:function(t,e,r){e=e||function(){},r=r||function(){};var n=Dt.indexedDB();try{var o=n.open(Dt.Rb(),Dt.Sb)}catch(t){return r(t)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var i=n.transaction([Dt.ib],"readonly")}catch(t){return void r(t)}var a=i.objectStore(Dt.ib),s=0,u=0,l=t.length;t.forEach((function(t){var n=a.get(t);n.onsuccess=function(){Dt.xb(t).exists&&Dt.unlink(t),Dt.zb(mt(t),bt(t),n.result,!0,!0,!0),++s+u==l&&(0==u?e():r())},n.onerror=function(){u++,s+u==l&&(0==u?e():r())}})),i.onerror=r},o.onerror=r}},Ft={};function zt(t,e,r){try{var n=t(e)}catch(t){if(t&&t.node&&pt(e)!==pt(Dt.Ya(t.node)))return-54;throw t}return B[r>>2]=n.dev,B[r+4>>2]=0,B[r+8>>2]=n.ino,B[r+12>>2]=n.mode,B[r+16>>2]=n.nlink,B[r+20>>2]=n.uid,B[r+24>>2]=n.gid,B[r+28>>2]=n.rdev,B[r+32>>2]=0,et=[n.size>>>0,(tt=n.size,1<=+Math.abs(tt)?0<tt?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],B[r+40>>2]=et[0],B[r+44>>2]=et[1],B[r+48>>2]=4096,B[r+52>>2]=n.blocks,B[r+56>>2]=n.atime.getTime()/1e3|0,B[r+60>>2]=0,B[r+64>>2]=n.mtime.getTime()/1e3|0,B[r+68>>2]=0,B[r+72>>2]=n.ctime.getTime()/1e3|0,B[r+76>>2]=0,et=[n.ino>>>0,(tt=n.ino,1<=+Math.abs(tt)?0<tt?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],B[r+80>>2]=et[0],B[r+84>>2]=et[1],0}var Mt,Nt=void 0;function Pt(){return B[(Nt+=4)-4>>2]}function Rt(t){if(!(t=Dt.$a(t)))throw new Dt.ErrnoError(8);return t}Mt=w?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:function(){return performance.now()};var xt,Ot={};function Tt(){if(!xt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in Ot)void 0===Ot[t]?delete e[t]:e[t]=Ot[t];var r=[];for(t in e)r.push(t+"="+e[t]);xt=r}return xt}function Ut(t,e,r,n){t||(t=this),this.parent=t,this.mount=t.mount,this.lb=null,this.id=Dt.Zc++,this.name=e,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n}function Bt(t,e){var r=Array(H(t)+1);return t=V(t,r,0,r.length),e&&(r.length=t),r}Object.defineProperties(Ut.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},Sc:{get:function(){return Dt.isDir(this.mode)}},Ib:{get:function(){return Dt.pb(this.mode)}}}),Dt.FSNode=Ut,Dt.lc();var Wt={a:function(t,e,r,n){ut("Assertion failed: "+C(t)+", at: "+[e?C(e):"unknown filename",r,n?C(n):"unknown function"])},u:function(t,e){!function(){function t(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}if(!rt){rt=!0;var e=(new Date).getFullYear(),r=new Date(e,0,1),n=new Date(e,6,1);e=r.getTimezoneOffset();var o=n.getTimezoneOffset(),i=Math.max(e,o);B[Qt()>>2]=60*i,B[Ht()>>2]=Number(e!=o),r=t(r),n=t(n),r=Q(r),n=Q(n),o<e?(B[Vt()>>2]=r,B[Vt()+4>>2]=n):(B[Vt()>>2]=n,B[Vt()+4>>2]=r)}}(),t=new Date(1e3*B[t>>2]),B[e>>2]=t.getSeconds(),B[e+4>>2]=t.getMinutes(),B[e+8>>2]=t.getHours(),B[e+12>>2]=t.getDate(),B[e+16>>2]=t.getMonth(),B[e+20>>2]=t.getFullYear()-1900,B[e+24>>2]=t.getDay();var r=new Date(t.getFullYear(),0,1);B[e+28>>2]=(t.getTime()-r.getTime())/864e5|0,B[e+36>>2]=-60*t.getTimezoneOffset();var n=new Date(t.getFullYear(),6,1).getTimezoneOffset();return t=0|(n!=(r=r.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(r,n)),B[e+32>>2]=t,t=B[Vt()+(t?4:0)>>2],B[e+40>>2]=t,e},m:function(t,e){try{var r;if(t=C(t),-8&e)var n=-28;else(r=Dt.lookupPath(t,{Ta:!0}).node)?(t="",4&e&&(t+="r"),2&e&&(t+="w"),1&e&&(t+="x"),n=t&&Dt.Za(r,t)?-2:0):n=-44;return n}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},A:function(t,e){try{return t=C(t),Dt.chmod(t,e),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},H:function(t,e,r){try{return t=C(t),Dt.chown(t,e,r),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},B:function(t,e){try{return Dt.fchmod(t,e),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},I:function(t,e,r){try{return Dt.fchown(t,e,r),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},b:function(t,e,r){Nt=r;try{var n=Rt(t);switch(e){case 0:var o=Pt();return 0>o?-28:Dt.open(n.path,n.flags,0,o).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:return o=Pt(),n.flags|=o,0;case 12:return o=Pt(),U[o+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return B[jt()>>2]=28,-1}}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},E:function(t,e){try{var r=Rt(t);return zt(Dt.stat,r.path,e)}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},n:function(t,e,r){try{return Dt.Nc(t,r),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},l:function(t,e){try{if(0===e)return-28;var r=Dt.cwd();return e<H(r)+1?-68:(V(r,T,t,e),t)}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},G:function(){return 0},d:function(){return 42},z:function(t,e){try{return t=C(t),zt(Dt.lstat,t,e)}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},C:function(t,e){try{return"/"===(t=pt(t=C(t)))[t.length-1]&&(t=t.substr(0,t.length-1)),Dt.mkdir(t,e,0),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},y:function(t,e,r,n,o,i){try{t:{i<<=12;var a=!1;if(0!=(16&n)&&0!=t%65536)var s=-28;else{if(0!=(32&n)){var u=qt(e);if(!u){s=-48;break t}a=!0}else{var l=Dt.$a(o);if(!l){s=-8;break t}var c=Dt.mmap(l,t,e,i,r,n);u=c.ed,a=c.vb}Ft[u]={Uc:u,Tc:e,vb:a,fd:o,dd:r,flags:n,offset:i},s=u}}return s}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},x:function(t,e){try{var r=Ft[t];if(0!==e&&r){if(e===r.Tc){var n=Dt.$a(r.fd);if(n&&2&r.dd){var o=r.flags,i=r.offset,a=T.slice(t,t+e);Dt.msync(n,a,i,e,o)}Ft[t]=null,r.vb&&It(r.Uc)}var s=0}else s=-28;return s}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},w:function(t,e,r){Nt=r;try{var n=C(t),o=r?Pt():0;return Dt.open(n,e,o).fd}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},J:function(t,e,r){try{if(t=C(t),0>=r)var n=-28;else{var o=Dt.readlink(t),i=Math.min(r,H(o)),a=O[e+i];V(o,T,e,r+1),O[e+i]=a,n=i}return n}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},F:function(t){try{return t=C(t),Dt.rmdir(t),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},e:function(t,e){try{return t=C(t),zt(Dt.stat,t,e)}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},i:function(t){try{return t=C(t),Dt.unlink(t),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),-t.Oa}},v:function(){return 2147483648},p:function(t,e,r){T.copyWithin(t,e,e+r)},c:function(t){var e=T.length;if(2147483648<(t>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=e*(1+.2/r);n=Math.min(n,t+100663296),0<(n=Math.max(t,n))%65536&&(n+=65536-n%65536);t:{try{F.grow(Math.min(2147483648,n)-x.byteLength+65535>>>16),$();var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},t:function(t){for(var e=Mt();Mt()-e<t;);},r:function(t,e){try{var r=0;return Tt().forEach((function(n,o){var i=e+r;for(o=B[t+4*o>>2]=i,i=0;i<n.length;++i)O[o++>>0]=n.charCodeAt(i);O[o>>0]=0,r+=n.length+1})),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},s:function(t,e){try{var r=Tt();B[t>>2]=r.length;var n=0;return r.forEach((function(t){n+=t.length+1})),B[e>>2]=n,0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},f:function(t){try{var e=Rt(t);return Dt.close(e),0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},q:function(t,e){try{var r=Rt(t),n=r.tty?2:Dt.isDir(r.mode)?3:Dt.fb(r.mode)?7:4;return O[e>>0]=n,0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},j:function(t,e,r,n){try{t:{for(var o=Rt(t),i=t=0;i<r;i++){var a=B[e+(8*i+4)>>2],s=Dt.read(o,O,B[e+8*i>>2],a,void 0);if(0>s){var u=-1;break t}if(t+=s,s<a)break}u=t}return B[n>>2]=u,0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},o:function(t,e,r,n,o){try{var i=Rt(t);return-9007199254740992>=(t=4294967296*r+(e>>>0))||9007199254740992<=t?-61:(Dt.llseek(i,t,n),et=[i.position>>>0,(tt=i.position,1<=+Math.abs(tt)?0<tt?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],B[o>>2]=et[0],B[o+4>>2]=et[1],i.Fb&&0===t&&0===n&&(i.Fb=null),0)}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},k:function(t){try{var e=Rt(t);return e.stream_ops&&e.stream_ops.fsync?-e.stream_ops.fsync(e):0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},g:function(t,e,r,n){try{t:{for(var o=Rt(t),i=t=0;i<r;i++){var a=Dt.write(o,O,B[e+8*i>>2],B[e+(8*i+4)>>2],void 0);if(0>a){var s=-1;break t}t+=a}s=t}return B[n>>2]=s,0}catch(t){return void 0!==Dt&&t instanceof Dt.ErrnoError||ut(t),t.Oa}},h:function(t){var e=Date.now();return B[t>>2]=e/1e3|0,B[t+4>>2]=e%1e3*1e3|0,0},K:function(t){var e=Date.now()/1e3|0;return t&&(B[t>>2]=e),e},D:function(t,e){if(e){var r=e+8;e=1e3*B[r>>2],e+=B[r+4>>2]/1e3}else e=Date.now();t=C(t);try{Dt.kd(t,e,e);var n=0}catch(t){if(!(t instanceof Dt.ErrnoError)){t:{if(!(n=Error()).stack){try{throw Error()}catch(t){n=t}if(!n.stack){n="(no stack trace available)";break t}}n=n.stack.toString()}throw i.extraStackTrace&&(n+="\n"+i.extraStackTrace()),n=function(t){return t.replace(/\b_Z[\w\d_]+/g,(function(t){return t==t?t:t+" ["+t+"]"}))}(n),t+" : "+n}n=t.Oa,B[jt()>>2]=n,n=-1}return n}};!function(){function t(t){i.asm=t.exports,F=i.asm.L,$(),X=i.asm.Da,Z.unshift(i.asm.M),st()}function e(e){t(e.instance)}function r(t){return function(){if(!E&&(m||b)){if("function"==typeof fetch&&!J.startsWith("file://"))return fetch(J,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+J+"'";return t.arrayBuffer()})).catch((function(){return ft()}));if(c)return new Promise((function(t,e){c(J,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ft()}))}().then((function(t){return WebAssembly.instantiate(t,n)})).then(t,(function(t){g("failed to asynchronously prepare wasm: "+t),ut(t)}))}var n={a:Wt};if(at(),i.instantiateWasm)try{return i.instantiateWasm(n,t)}catch(t){return g("Module.instantiateWasm callback failed with error: "+t),!1}E||"function"!=typeof WebAssembly.instantiateStreaming||lt()||J.startsWith("file://")||"function"!=typeof fetch?r(e):fetch(J,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,n).then(e,(function(t){return g("wasm streaming compile failed: "+t),g("falling back to ArrayBuffer instantiation"),r(e)}))}))}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.M).apply(null,arguments)},i._sqlite3_vfs_find=function(){return(i._sqlite3_vfs_find=i.asm.N).apply(null,arguments)},i._sqlite3_free=function(){return(i._sqlite3_free=i.asm.O).apply(null,arguments)};var jt=i.___errno_location=function(){return(jt=i.___errno_location=i.asm.P).apply(null,arguments)};i._sqlite3_finalize=function(){return(i._sqlite3_finalize=i.asm.Q).apply(null,arguments)},i._sqlite3_reset=function(){return(i._sqlite3_reset=i.asm.R).apply(null,arguments)},i._sqlite3_clear_bindings=function(){return(i._sqlite3_clear_bindings=i.asm.S).apply(null,arguments)},i._sqlite3_value_blob=function(){return(i._sqlite3_value_blob=i.asm.T).apply(null,arguments)},i._sqlite3_value_text=function(){return(i._sqlite3_value_text=i.asm.U).apply(null,arguments)},i._sqlite3_value_bytes=function(){return(i._sqlite3_value_bytes=i.asm.V).apply(null,arguments)},i._sqlite3_value_double=function(){return(i._sqlite3_value_double=i.asm.W).apply(null,arguments)},i._sqlite3_value_int=function(){return(i._sqlite3_value_int=i.asm.X).apply(null,arguments)},i._sqlite3_value_type=function(){return(i._sqlite3_value_type=i.asm.Y).apply(null,arguments)},i._sqlite3_result_blob=function(){return(i._sqlite3_result_blob=i.asm.Z).apply(null,arguments)},i._sqlite3_result_double=function(){return(i._sqlite3_result_double=i.asm._).apply(null,arguments)},i._sqlite3_result_error=function(){return(i._sqlite3_result_error=i.asm.$).apply(null,arguments)},i._sqlite3_result_int=function(){return(i._sqlite3_result_int=i.asm.aa).apply(null,arguments)},i._sqlite3_result_int64=function(){return(i._sqlite3_result_int64=i.asm.ba).apply(null,arguments)},i._sqlite3_result_null=function(){return(i._sqlite3_result_null=i.asm.ca).apply(null,arguments)},i._sqlite3_result_text=function(){return(i._sqlite3_result_text=i.asm.da).apply(null,arguments)},i._sqlite3_step=function(){return(i._sqlite3_step=i.asm.ea).apply(null,arguments)},i._sqlite3_column_count=function(){return(i._sqlite3_column_count=i.asm.fa).apply(null,arguments)},i._sqlite3_data_count=function(){return(i._sqlite3_data_count=i.asm.ga).apply(null,arguments)},i._sqlite3_column_blob=function(){return(i._sqlite3_column_blob=i.asm.ha).apply(null,arguments)},i._sqlite3_column_bytes=function(){return(i._sqlite3_column_bytes=i.asm.ia).apply(null,arguments)},i._sqlite3_column_double=function(){return(i._sqlite3_column_double=i.asm.ja).apply(null,arguments)},i._sqlite3_column_text=function(){return(i._sqlite3_column_text=i.asm.ka).apply(null,arguments)},i._sqlite3_column_type=function(){return(i._sqlite3_column_type=i.asm.la).apply(null,arguments)},i._sqlite3_column_name=function(){return(i._sqlite3_column_name=i.asm.ma).apply(null,arguments)},i._sqlite3_bind_blob=function(){return(i._sqlite3_bind_blob=i.asm.na).apply(null,arguments)},i._sqlite3_bind_double=function(){return(i._sqlite3_bind_double=i.asm.oa).apply(null,arguments)},i._sqlite3_bind_int=function(){return(i._sqlite3_bind_int=i.asm.pa).apply(null,arguments)},i._sqlite3_bind_text=function(){return(i._sqlite3_bind_text=i.asm.qa).apply(null,arguments)},i._sqlite3_bind_parameter_index=function(){return(i._sqlite3_bind_parameter_index=i.asm.ra).apply(null,arguments)},i._sqlite3_sql=function(){return(i._sqlite3_sql=i.asm.sa).apply(null,arguments)},i._sqlite3_normalized_sql=function(){return(i._sqlite3_normalized_sql=i.asm.ta).apply(null,arguments)},i._sqlite3_errmsg=function(){return(i._sqlite3_errmsg=i.asm.ua).apply(null,arguments)},i._sqlite3_exec=function(){return(i._sqlite3_exec=i.asm.va).apply(null,arguments)},i._sqlite3_prepare_v2=function(){return(i._sqlite3_prepare_v2=i.asm.wa).apply(null,arguments)},i._sqlite3_changes=function(){return(i._sqlite3_changes=i.asm.xa).apply(null,arguments)},i._sqlite3_close_v2=function(){return(i._sqlite3_close_v2=i.asm.ya).apply(null,arguments)},i._sqlite3_create_function_v2=function(){return(i._sqlite3_create_function_v2=i.asm.za).apply(null,arguments)},i._sqlite3_open=function(){return(i._sqlite3_open=i.asm.Aa).apply(null,arguments)};var Lt=i._malloc=function(){return(Lt=i._malloc=i.asm.Ba).apply(null,arguments)},It=i._free=function(){return(It=i._free=i.asm.Ca).apply(null,arguments)};i._RegisterExtensionFunctions=function(){return(i._RegisterExtensionFunctions=i.asm.Ea).apply(null,arguments)},i._register_for_idb=function(){return(i._register_for_idb=i.asm.Fa).apply(null,arguments)};var Ct,Vt=i.__get_tzname=function(){return(Vt=i.__get_tzname=i.asm.Ga).apply(null,arguments)},Ht=i.__get_daylight=function(){return(Ht=i.__get_daylight=i.asm.Ha).apply(null,arguments)},Qt=i.__get_timezone=function(){return(Qt=i.__get_timezone=i.asm.Ia).apply(null,arguments)},$t=i.stackSave=function(){return($t=i.stackSave=i.asm.Ja).apply(null,arguments)},Xt=i.stackRestore=function(){return(Xt=i.stackRestore=i.asm.Ka).apply(null,arguments)},Yt=i.stackAlloc=function(){return(Yt=i.stackAlloc=i.asm.La).apply(null,arguments)},Zt=i._memalign=function(){return(Zt=i._memalign=i.asm.Ma).apply(null,arguments)};function Gt(){function t(){if(!Ct&&(Ct=!0,i.calledRun=!0,!z)){if(i.noFSInit||Dt.jb.Hb||Dt.jb(),Dt.hc=!1,ht(Z),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var t=i.postRun.shift();G.unshift(t)}ht(G)}}if(!(0<nt)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)K();ht(Y),0<nt||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t())}}if(i.cwrap=function(t,e,r,n){var o=(r=r||[]).every((function(t){return"number"===t}));return"string"!==e&&o&&!n?N(t):function(){return P(t,e,r,arguments)}},i.UTF8ToString=C,i.FS=Dt,i.stackSave=$t,i.stackRestore=Xt,i.stackAlloc=Yt,it=function t(){Ct||Gt(),Ct||(it=t)},i.run=Gt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return Gt(),i})),n)};t.exports=o,t.exports.default=o},7388:(t,e,r)=>{"use strict";r.d(e,{v:()=>n});const n=class{constructor(t,e){this.FS=t,this.backend=e,this.node_ops={getattr:e=>{let r=t.isFile(e.mode)?e.contents.getattr():null,n={dev:1};return n.ino=e.id,n.mode=r?r.mode:e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,n.size=r?r.size:t.isDir(e.mode)?4096:0,n.atime=new Date(0),n.mtime=new Date(0),n.ctime=new Date(0),n.blksize=r?r.blockSize:4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:(t,e)=>{this.FS.isFile(t.mode)?t.contents.setattr(e):(null!=e.mode&&(t.mode=e.mode),null!=e.size&&(t.size=e.size))},lookup:(t,e)=>{throw new this.FS.ErrnoError(44)},mknod:(t,e,r,n)=>{if(e.endsWith(".lock"))throw new Error("Locking via lockfiles is not supported");return this.createNode(t,e,r,n)},rename:(t,e,r)=>{throw new Error("rename not implemented")},unlink:(t,e)=>{this.FS.lookupNode(t,e).contents.delete(e)},readdir:t=>{throw new Error("readdir not implemented")},symlink:(t,e,r)=>{throw new Error("symlink not implemented")},readlink:t=>{throw new Error("symlink not implemented")}},this.stream_ops={open:t=>{this.FS.isFile(t.node.mode)&&t.node.contents.open()},close:t=>{this.FS.isFile(t.node.mode)&&t.node.contents.close()},read:(t,e,r,n,o)=>t.node.contents.read(e,r,n,o),write:(t,e,r,n,o)=>t.node.contents.write(e,r,n,o),llseek:(e,r,n)=>{var o=r;if(1===n?o+=e.position:2===n&&t.isFile(e.node.mode)&&(o+=e.node.contents.getattr().size),o<0)throw new this.FS.ErrnoError(28);return o},allocate:(t,e,r)=>{t.node.contents.setattr({size:e+r})},mmap:(t,e,r,n,o,i)=>{throw new Error("mmap not implemented")},msync:(t,e,r,n,o)=>{throw new Error("msync not implemented")},fsync:(t,e,r,n,o)=>{t.node.contents.fsync()}}}mount(){return this.createNode(null,"/",16895,0)}lock(t,e){let{node:r}=this.FS.lookupPath(t);return r.contents.lock(e)}unlock(t,e){let{node:r}=this.FS.lookupPath(t);return r.contents.unlock(e)}createNode(t,e,r,n){if(!this.FS.isDir(r)&&!this.FS.isFile(r))throw new this.FS.ErrnoError(63);var o=this.FS.createNode(t,e,r,n);return this.FS.isDir(o.mode)?(o.node_ops={mknod:this.node_ops.mknod,lookup:this.node_ops.lookup,unlink:this.node_ops.unlink,setattr:this.node_ops.setattr},o.stream_ops={},o.contents={}):this.FS.isFile(o.mode)&&(o.node_ops=this.node_ops,o.stream_ops=this.stream_ops,o.contents=this.backend.createFile(e)),t&&(t.contents[e]=o,t.timestamp=o.timestamp),o}}},4749:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});function n(t){return(t[16]<<8)+t[17]}function o(t,e,r){return function(t,e,r){let n=[];for(let o=t;o<=e;o+=r)n.push(o);return n}(e-e%t,r-1-(r-1)%t,t)}function i(t,e,r,n){let i=o(e,r,n),a=0;return i.map((o=>{let i=0,s=e;r>o&&r<o+e&&(i=r-o),n>o&&n<o+e&&(s=n-o);let u=s-i,l=new ArrayBuffer(e);if(r>o+e||n<=o)return null;let c=t.byteOffset+a,f=t.buffer.byteLength-c;if(f<=0)return null;let h=Math.min(u,f);return new Uint8Array(l).set(new Uint8Array(t.buffer,c,h),i),a+=h,{pos:o,data:l,offset:i,length:h}})).filter(Boolean)}class a{constructor(t,e,r=null){this.filename=t,this.buffer=new Map,this.ops=e,this.meta=r,this._metaDirty=!1,this.writeLock=!1,this.openHandles=0}bufferChunks(t){for(let e=0;e<t.length;e++){let r=t[e];this.buffer.set(r.pos,r)}}open(){if(this.openHandles++,1===this.openHandles){this.ops.open();let t=this.ops.readMeta();null==this.meta&&(null==t&&(t={size:0}),this.meta=t)}return this.meta}close(){this.fsync(),this.openHandles=Math.max(this.openHandles-1,0),0===this.openHandles&&this.ops.close()}delete(){this.ops.delete()}load(t){let e=t.reduce(((t,e)=>{let r=this.buffer.get(e);return r?t.chunks.push(r):t.missing.push(e),t}),{chunks:[],missing:[]}),r=[];return e.missing.length>0&&(r=this.ops.readBlocks(e.missing,this.meta.blockSize)),e.chunks.concat(r)}read(t,e,r,n){let i=t.buffer;if(r<=0)return 0;if(n<0)return 0;if(n>=this.meta.size){let t=new Uint8Array(i,e);for(let e=0;e<r;e++)t[e]=0;return r}n=Math.max(n,0);let a=Math.min(r,this.meta.size-n),s=n,u=n+a,l=o(this.meta.blockSize,s,u),c=function(t,e,r){let n=new ArrayBuffer(r-e),o=new Uint8Array(n);for(let n=0;n<t.length;n++){let i=t[n];if("ArrayBuffer"!==i.data.constructor.name)throw new Error("Chunk data is not an ArrayBuffer");let a=0,s=i.data.byteLength;if(e>i.pos&&(a=e-i.pos),r<i.pos+i.data.byteLength&&(s=r-i.pos),a>i.data.byteLength||s<0)continue;let u=s-a;o.set(new Uint8Array(i.data,a,u),i.pos-e+a)}return n}(this.load(l),s,u);if(i.byteLength-e<c.byteLength)throw new Error("Buffer given to `read` is too small");let f=new Uint8Array(i);f.set(new Uint8Array(c),e);for(let t=a;t<r;t++)f[e+t]=0;return r}write(t,e,r,o){if(null==this.meta.blockSize){let r=n(new Uint8Array(t.buffer,t.byteOffset+e));if(![512,1024,2048,4096,8192,16384,32768,65536].includes(r))throw new Error("File has invalid page size. (the first block of a new file must be written first)");this.setattr({blockSize:r})}let a=t.buffer;if(r<=0)return 0;if(o<0)return 0;if(0===a.byteLength)return 0;r=Math.min(r,a.byteLength-e);let s=i(new Uint8Array(a,e,r),this.meta.blockSize,o,o+r),{partialWrites:u,fullWrites:l}=s.reduce(((t,e)=>(e.length!==this.meta.blockSize?t.partialWrites.push(e):t.fullWrites.push({pos:e.pos,data:e.data}),t)),{fullWrites:[],partialWrites:[]}),c=[];u.length>0&&(c=this.load(u.map((t=>t.pos))));let f=l.concat(c.map((t=>{let e=u.find((e=>e.pos===t.pos));return new Uint8Array(t.data).set(new Uint8Array(e.data,e.offset,e.length),e.offset,e.length),t})));return this.bufferChunks(f),o+r>this.meta.size&&this.setattr({size:o+r}),r}async readIfFallback(){if(this.ops.readIfFallback){let t=await this.ops.readIfFallback();this.meta=t||{size:0}}}lock(t){return this._recordingLock||(this._recordingLock=!0),!!this.ops.lock(t)&&(t>=2&&(this.writeLock=!0),!0)}unlock(t){return 0===t&&(this._recordingLock=!1),this.writeLock&&(this.fsync(),this.writeLock=!1),this.ops.unlock(t)}fsync(){if(this.buffer.size>0){let t=this.buffer.get(0);if(t){let e=n(new Uint8Array(t.data));if(e!==this.meta.blockSize){let t=this.buffer;this.buffer=new Map;let r=[...t.values()],n=r.length*this.meta.blockSize,o=new ArrayBuffer(n),a=new Uint8Array(o);for(let t of r)a.set(new Uint8Array(t.data),t.pos);this.bufferChunks(i(a,e,0,n)),this.setattr({blockSize:e})}}this.ops.writeBlocks([...this.buffer.values()],this.meta.blockSize)}this._metaDirty&&(this.ops.writeMeta({size:this.meta.size}),this._metaDirty=!1),this.buffer=new Map}setattr(t){null==this.meta&&(this.meta={}),void 0!==t.mode&&(this.meta.mode=t.mode),void 0!==t.blockSize&&(this.meta.blockSize=t.blockSize),void 0!==t.size&&(this.meta.size=t.size,this._metaDirty=!0)}getattr(){return this.meta}}let s=3735928559;class u{constructor(t,{initialOffset:e=4,useAtomics:r=!0,stream:n=!0,debug:o,name:i}={}){this.buffer=t,this.atomicView=new Int32Array(t),this.offset=e,this.useAtomics=r,this.stream=n,this.debug=o,this.name=i}log(...t){this.debug&&console.log(`[reader: ${this.name}]`,...t)}waitWrite(t,e=null){if(this.useAtomics){for(this.log(`waiting for ${t}`);0===Atomics.load(this.atomicView,0);){if(null!=e&&"timed-out"===Atomics.wait(this.atomicView,0,0,e))throw new Error("timeout");Atomics.wait(this.atomicView,0,0,500)}this.log(`resumed for ${t}`)}else if(1!==this.atomicView[0])throw new Error("`waitWrite` expected array to be readable")}flip(){if(this.log("flip"),this.useAtomics){if(1!==Atomics.compareExchange(this.atomicView,0,1,0))throw new Error("Read data out of sync! This is disastrous");Atomics.notify(this.atomicView,0)}else this.atomicView[0]=0;this.offset=4}done(){this.waitWrite("done");let t=new DataView(this.buffer,this.offset).getUint32(0)===s;return t&&(this.log("done"),this.flip()),t}peek(t){this.peekOffset=this.offset;let e=t();return this.offset=this.peekOffset,this.peekOffset=null,e}string(t){this.waitWrite("string",t);let e=this._int32(),r=e/2,n=new DataView(this.buffer,this.offset,e),o=[];for(let t=0;t<r;t++)o.push(n.getUint16(2*t));let i=String.fromCharCode.apply(null,o);return this.log("string",i),this.offset+=e,null==this.peekOffset&&this.flip(),i}_int32(){let t=new DataView(this.buffer,this.offset).getInt32();return this.log("_int32",t),this.offset+=4,t}int32(){this.waitWrite("int32");let t=this._int32();return this.log("int32",t),null==this.peekOffset&&this.flip(),t}bytes(){this.waitWrite("bytes");let t=this._int32(),e=new ArrayBuffer(t);return new Uint8Array(e).set(new Uint8Array(this.buffer,this.offset,t)),this.log("bytes",e),this.offset+=t,null==this.peekOffset&&this.flip(),e}}class l{constructor(t,{initialOffset:e=4,useAtomics:r=!0,stream:n=!0,debug:o,name:i}={}){this.buffer=t,this.atomicView=new Int32Array(t),this.offset=e,this.useAtomics=r,this.stream=n,this.debug=o,this.name=i,this.useAtomics?Atomics.store(this.atomicView,0,0):this.atomicView[0]=0}log(...t){this.debug&&console.log(`[writer: ${this.name}]`,...t)}waitRead(t){if(this.useAtomics){if(this.log(`waiting for ${t}`),0!==Atomics.compareExchange(this.atomicView,0,0,1))throw new Error("Wrote something into unwritable buffer! This is disastrous");for(Atomics.notify(this.atomicView,0);1===Atomics.load(this.atomicView,0);)Atomics.wait(this.atomicView,0,1,500);this.log(`resumed for ${t}`)}else this.atomicView[0]=1;this.offset=4}finalize(){this.log("finalizing"),new DataView(this.buffer,this.offset).setUint32(0,s),this.waitRead("finalize")}string(t){this.log("string",t);let e=2*t.length;this._int32(e);let r=new DataView(this.buffer,this.offset,e);for(let e=0;e<t.length;e++)r.setUint16(2*e,t.charCodeAt(e));this.offset+=e,this.waitRead("string")}_int32(t){new DataView(this.buffer,this.offset).setInt32(0,t),this.offset+=4}int32(t){this.log("int32",t),this._int32(t),this.waitRead("int32")}bytes(t){this.log("bytes",t);let e=t.byteLength;this._int32(e),new Uint8Array(this.buffer,this.offset).set(new Uint8Array(t)),this.offset+=e,this.waitRead("bytes")}}function c(t,e){return Math.round(t/e)}class f{constructor(t){this.filename=t}getStoreName(){return this.filename.replace(/\//g,"-")}invokeWorker(t,e){if(null==this.reader||null==this.writer)throw new Error(`Attempted ${t} on ${this.filename} but file not open`);let r=this.reader,n=this.writer;switch(t){case"readBlocks":{let{name:t,positions:o,blockSize:i}=e,a=[];for(let e of o){n.string("readBlock"),n.string(t),n.int32(c(e,i)),n.finalize();let o=r.bytes();r.done(),a.push({pos:e,data:0===o.byteLength?new ArrayBuffer(i):o})}return a}case"writeBlocks":{let{name:t,writes:o,blockSize:i}=e;n.string("writeBlocks"),n.string(t);for(let t of o)n.int32(c(t.pos,i)),n.bytes(t.data);n.finalize();let a=r.int32();return r.done(),a}case"readMeta":{n.string("readMeta"),n.string(e.name),n.finalize();let t=r.int32(),o=r.int32();return r.done(),-1===t?null:{size:t,blockSize:o}}case"writeMeta":{let{name:t,meta:o}=e;n.string("writeMeta"),n.string(t),n.int32(o.size),n.finalize();let i=r.int32();return r.done(),i}case"closeFile":{n.string("closeFile"),n.string(e.name),n.finalize();let t=r.int32();return r.done(),t}case"lockFile":{n.string("lockFile"),n.string(e.name),n.int32(e.lockType),n.finalize();let t=r.int32();return r.done(),0===t}case"unlockFile":{n.string("unlockFile"),n.string(e.name),n.int32(e.lockType),n.finalize();let t=r.int32();return r.done(),0===t}}}lock(t){return this.invokeWorker("lockFile",{name:this.getStoreName(),lockType:t})}unlock(t){return this.invokeWorker("unlockFile",{name:this.getStoreName(),lockType:t})}delete(){(this.reader||this.writer)&&this.close();let t=globalThis.indexedDB.deleteDatabase(this.getStoreName());t.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},t.onsuccess=()=>{}}open(){let t=new SharedArrayBuffer(36864);this.writer=new l(t,{name:"args (backend)",debug:!1});let e=new SharedArrayBuffer(36864);var r,n;this.reader=new u(e,{name:"results",debug:!1}),r=this.reader,n=this.writer,self.postMessage({type:"__absurd:spawn-idb-worker",argBuffer:n.buffer,resultBuffer:r.buffer}),self.addEventListener("message",(t=>{switch(t.data.type){case"__perf-deets:start-profile":n.string("profile-start"),n.finalize(),r.int32(),r.done();break;case"__perf-deets:stop-profile":n.string("profile-stop"),n.finalize(),r.int32(),r.done()}}))}close(){this.invokeWorker("closeFile",{name:this.getStoreName()}),this.reader=null,this.writer=null,this.worker=null}readMeta(){return this.invokeWorker("readMeta",{name:this.getStoreName()})}writeMeta(t){return this.invokeWorker("writeMeta",{name:this.getStoreName(),meta:t})}readBlocks(t,e){return this.stats&&(this.stats.read+=t.length),this.invokeWorker("readBlocks",{name:this.getStoreName(),positions:t,blockSize:e})}writeBlocks(t,e){return this.stats&&(this.stats.writes+=t.length),this.invokeWorker("writeBlocks",{name:this.getStoreName(),writes:t,blockSize:e})}}function h(t,e){return Math.round(t/e)}class d{constructor(t){this._openDb=null,this.hasAlertedFailure=!1,this.onFallbackFailure=t}async getDb(){return this._openDb||(this._openDb=await async function(t){return new Promise(((e,r)=>{let n=globalThis.indexedDB.open(t,2);n.onsuccess=t=>{let r=t.target.result;r.onversionchange=()=>{console.log("closing because version changed"),r.close()},r.onclose=()=>{},e(r)},n.onupgradeneeded=t=>{let e=t.target.result;e.objectStoreNames.contains("data")||e.createObjectStore("data")},n.onblocked=t=>console.log("blocked",t),n.onerror=n.onabort=t=>r(t.target.error)}))}(this.dbName)),this._openDb}closeDb(){this._openDb&&(this._openDb.close(),this._openDb=null)}async readAll(){let t=await this.getDb(this.dbName),e=new Map,r=t.transaction(["data"],"readonly").objectStore("data");return new Promise(((t,n)=>{let o=r.openCursor(IDBKeyRange.lowerBound(-1));o.onerror=n,o.onsuccess=r=>{let n=r.target.result;n?(e.set(n.key,n.value),n.continue()):t(e)}}))}async write(t,e,r){let n=(await this.getDb(this.dbName)).transaction(["data"],"readwrite"),o=n.objectStore("data");await new Promise(((i,a)=>{let s=o.get(0);s.onsuccess=u=>{if(r&&!function(t,e){if(null!=t&&null!=e){let r=new Uint8Array(t),n=new Uint8Array(e);for(let t=24;t<40;t++)if(r[t]!==n[t])return!1;return!0}return null==t&&null==e}(s.result,e))return this.onFallbackFailure&&!this.hasAlertedFailure&&(this.hasAlertedFailure=!0,this.onFallbackFailure()),void a(new Error("Fallback mode unable to write file changes"));for(let e of t)o.put(e.value,e.key);n.onsuccess=()=>i(),n.onerror=()=>a()},s.onerror=a}))}}class p{constructor(t,e){this.filename=t,this.dbName=this.filename.replace(/\//g,"-"),this.cachedFirstBlock=null,this.writeQueue=null,this.blocks=new Map,this.lockType=0,this.transferBlockOwnership=!1,this.persistance=new d(e)}async readIfFallback(){return this.transferBlockOwnership=!0,this.blocks=await this.persistance.readAll(),this.readMeta()}lock(t){return this.cachedFirstBlock=this.blocks.get(0),this.lockType=t,!0}unlock(t){return this.lockType>1&&1===t&&this.flush(),this.lockType=t,!0}delete(){let t=globalThis.indexedDB.deleteDatabase(this.dbName);t.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},t.onsuccess=()=>{}}open(){this.writeQueue=[],this.lockType=0}close(){this.flush(),this.transferBlockOwnership?this.transferBlockOwnership=!1:this.blocks=new Map,this.persistance.closeDb()}readMeta(){let t=this.blocks.get(-1);if(t){let e=this.blocks.get(0);return{size:t.size,blockSize:n(new Uint8Array(e))}}return null}writeMeta(t){this.blocks.set(-1,t),this.queueWrite(-1,t)}readBlocks(t,e){let r=[];for(let n of t)r.push({pos:n,data:this.blocks.get(h(n,e))});return r}writeBlocks(t,e){for(let r of t){let t=h(r.pos,e);this.blocks.set(t,r.data),this.queueWrite(t,r.data)}this.lockType<=1&&this.flush()}queueWrite(t,e){this.writeQueue.push({key:t,value:e})}flush(){this.writeQueue.length>0&&(this.persistance.write(this.writeQueue,this.cachedFirstBlock,this.lockType>1),this.writeQueue=[]),this.cachedFirstBlock=null}}const m=class{constructor(t){this.onFallbackFailure=t}createFile(t){let e;e="undefined"!=typeof SharedArrayBuffer?new f(t):new p(t,this.onFallbackFailure);let r=new a(t,e);return process.env.PERF_BUILD&&(null==this._files&&(this._files=new Set),this._files.add(r)),r}startProfile(){for(let t of this._files)if(t.ops.writer){let e=t.ops.writer,r=t.ops.reader;e.string("profile-start"),e.finalize(),r.int32(),r.done()}}stopProfile(){for(let t of this._files)if(t.ops.writer){let e=t.ops.writer,r=t.ops.reader;e.string("profile-stop"),e.finalize(),r.int32(),r.done()}}}}}]);
//# sourceMappingURL=31.js.map